!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=re.type(e);return"function"!==n&&!re.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(re.isFunction(t))return re.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return re.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(de.test(t))return re.filter(t,e,n);t=re.filter(t,e)}return re.grep(e,function(e){return re.inArray(e,t)>=0!==n})}function i(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t=ye[e]={};return re.each(e.match(ve)||[],function(e,n){t[n]=!0}),t}function a(){pe.addEventListener?(pe.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(pe.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(pe.addEventListener||"load"===event.type||"complete"===pe.readyState)&&(a(),re.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Te.test(n)?re.parseJSON(n):n)}catch(e){}re.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!re.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(re.acceptData(e)){var i,o,a=re.expando,s=e.nodeType,u=s?re.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=V.pop()||re.guid++:a),u[l]||(u[l]=s?{}:{toJSON:re.noop}),"object"!=typeof t&&"function"!=typeof t||(r?u[l]=re.extend(u[l],t):u[l].data=re.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[re.camelCase(t)]=n),"string"==typeof t?null==(i=o[t])&&(i=o[re.camelCase(t)]):i=o,i}}function d(e,t,n){if(re.acceptData(e)){var r,i,o=e.nodeType,a=o?re.cache:e,s=o?e[re.expando]:re.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){re.isArray(t)?t=t.concat(re.map(t,re.camelCase)):t in r?t=[t]:(t=re.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!re.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?re.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return pe.activeElement}catch(e){}}function m(e){var t=Oe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==we?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==we?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||re.nodeName(r,t)?o.push(r):re.merge(o,g(r,t));return void 0===t||t&&re.nodeName(e,t)?re.merge([e],o):o}function v(e){qe.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return re.nodeName(e,"table")&&re.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==re.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ue.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)re._data(n,"globalEval",!t||re._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&re.hasData(e)){var n,r,i,o=re._data(e),a=re._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)re.event.add(t,n,s[n][r])}a.data&&(a.data=re.extend({},a.data))}}function E(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[re.expando]){i=re._data(t);for(r in i.events)re.removeEvent(t,r,i.handle);t.removeAttribute(re.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!re.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&qe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function k(t,n){var r,i=re(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:re.css(i[0],"display");return i.detach(),o}function C(e){var t=pe,n=Ye[e];return n||(n=k(e,t),"none"!==n&&n||(Je=(Je||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Je[0].contentWindow||Je[0].contentDocument).document,t.write(),t.close(),n=k(e,t),Je.detach()),Ye[e]=n),n}function N(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ct.length;i--;)if((t=ct[i]+n)in e)return t;return r}function q(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=re._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ne(r)&&(o[a]=re._data(r,"olddisplay",C(r.nodeName)))):(i=Ne(r),(n&&"none"!==n||!i)&&re._data(r,"olddisplay",i?n:re.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function j(e,t,n){var r=at.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function A(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=re.css(e,n+Ce[o],!0,i)),r?("content"===n&&(a-=re.css(e,"padding"+Ce[o],!0,i)),"margin"!==n&&(a-=re.css(e,"border"+Ce[o]+"Width",!0,i))):(a+=re.css(e,"padding"+Ce[o],!0,i),"padding"!==n&&(a+=re.css(e,"border"+Ce[o]+"Width",!0,i)));return a}function D(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ke(e),a=ne.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=Ze(e,t,o),(i<0||null==i)&&(i=e.style[t]),tt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+A(e,t,n||(a?"border":"content"),r,o)+"px"}function L(e,t,n,r,i){return new L.prototype.init(e,t,n,r,i)}function M(){return setTimeout(function(){dt=void 0}),dt=re.now()}function O(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n=Ce[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function H(e,t,n){for(var r,i=(vt[t]||[]).concat(vt["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function R(e,t,n){var r,i,o,a,s,u,l,c=this,d={},f=e.style,p=e.nodeType&&Ne(e),h=re._data(e,"fxshow");n.queue||(s=re._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,re.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=re.css(e,"display"),"inline"===("none"===l?re._data(e,"olddisplay")||C(e.nodeName):l)&&"none"===re.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==C(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ne.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],pt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;p=!0}d[r]=h&&h[r]||re.style(e,r)}else l=void 0;if(re.isEmptyObject(d))"inline"===("none"===l?C(e.nodeName):l)&&(f.display=l);else{h?"hidden"in h&&(p=h.hidden):h=re._data(e,"fxshow",{}),o&&(h.hidden=!p),p?re(e).show():c.done(function(){re(e).hide()}),c.done(function(){var t;re._removeData(e,"fxshow");for(t in d)re.style(e,t,d[t])});for(r in d)a=H(p?h[r]:0,r,c),r in h||(h[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function _(e,t){var n,r,i,o,a;for(n in e)if(r=re.camelCase(n),i=t[r],o=e[n],re.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=re.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function P(e,t,n){var r,i,o=0,a=gt.length,s=re.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=dt||M(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:re.extend({},t),opts:re.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:dt||M(),duration:n.duration,tweens:[],createTween:function(t,n){var r=re.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(_(c,l.opts.specialEasing);o<a;o++)if(r=gt[o].call(l,e,c,l.opts))return r;return re.map(c,H,l),re.isFunction(l.opts.start)&&l.opts.start.call(e,l),re.fx.timer(re.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ve)||[];if(re.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function B(e,t,n,r){function i(s){var u;return o[s]=!0,re.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Wt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=re.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&re.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(re.isArray(t))re.each(t,function(t,i){n||It.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==re.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function U(){try{return new e.XMLHttpRequest}catch(e){}}function X(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function Q(e){return re.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var V=[],G=V.slice,J=V.concat,Y=V.push,K=V.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re=function(e,t){return new re.fn.init(e,t)},ie=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oe=/^-ms-/,ae=/-([\da-z])/gi,se=function(e,t){return t.toUpperCase()};re.fn=re.prototype={jquery:"1.11.2",constructor:re,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=re.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return re.each(this,e,t)},map:function(e){return this.pushStack(re.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:V.sort,splice:V.splice},re.extend=re.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||re.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(re.isPlainObject(n)||(t=re.isArray(n)))?(t?(t=!1,o=e&&re.isArray(e)?e:[]):o=e&&re.isPlainObject(e)?e:{},a[r]=re.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},re.extend({expando:"jQuery"+("1.11.2"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===re.type(e)},isArray:Array.isArray||function(e){return"array"===re.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!re.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==re.type(e)||e.nodeType||re.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&re.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(oe,"ms-").replace(ae,se)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i=0,o=e.length,a=n(e);if(r){if(a)for(;i<o&&!1!==t.apply(e[i],r);i++);else for(i in e)if(!1===t.apply(e[i],r))break}else if(a)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ie,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?re.merge(r,"string"==typeof e?[e]:e):Y.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;o<a;o++)null!=(i=t(e[o],o,r))&&u.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&u.push(i);return J.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),re.isFunction(e))return n=G.call(arguments,2),r=function(){return e.apply(t||this,n.concat(G.call(arguments)))},r.guid=e.guid=e.guid||re.guid++,r},now:function(){return+new Date},support:ne}),re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,r){var i,o,a,s,l,d,f,p,h,m;if((t?t.ownerDocument||t:P)!==A&&j(t),t=t||A,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&L){if(11!==s&&(i=ge.exec(e)))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&R(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&b.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(b.qsa&&(!M||!M.test(e))){if(p=f=_,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=E(e),(f=t.getAttribute("id"))?p=f.replace(ye,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=d.length;l--;)d[l]=p+c(d[l]);h=ve.test(e)&&u(t.parentNode)||t,m=d.join(",")}if(m)try{return J.apply(n,h.querySelectorAll(m)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return C(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[_]=!0,e}function i(e){var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function c(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[F,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[_]||(t[_]={}),(s=u[r])&&s[0]===F&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function p(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function h(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function m(e,t,n,i,o,a){return i&&!i[_]&&(i=m(i)),o&&!o[_]&&(o=m(o,a)),r(function(r,a,s,u){var l,c,d,f=[],m=[],g=a.length,v=r||p(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:h(v,f,e,s,u),b=n?o||(r?e:g||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=h(b,m),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[m[c]]=!(y[m[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?K(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=h(b===a?b.splice(g,b.length):b),o?o(null,a,b,u):J.apply(a,b)})}function g(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,u=d(function(e){return e===t},a,!0),l=d(function(e){return K(t,e)>-1},a,!0),p=[function(e,n,r){var i=!o&&(r||n!==N)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=x.relative[e[s].type])p=[d(f(p),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[_]){for(r=++s;r<i&&!x.relative[e[r].type];r++);return m(s>1&&f(p),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),n,s<r&&g(e.slice(s,r)),r<i&&g(e=e.slice(r)),r<i&&c(e))}p.push(n)}return f(p)}function v(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,m="0",g=r&&[],v=[],y=N,b=r||o&&x.find.TAG("*",l),w=F+=null==y?1:Math.random()||.1,T=b.length;for(l&&(N=a!==A&&a);m!==T&&null!=(c=b[m]);m++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(F=w)}i&&((c=!f&&c)&&p--,r&&g.push(c))}if(p+=m,i&&m!==p){for(d=0;f=n[d++];)f(g,v,a,s);if(r){if(p>0)for(;m--;)g[m]||v[m]||(v[m]=V.call(u));v=h(v)}J.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(F=w,N=y),g};return i?r(a):a}var y,b,x,w,T,E,k,C,N,S,q,j,A,D,L,M,O,H,R,_="sizzle"+1*new Date,P=e.document,F=0,B=0,W=n(),$=n(),z=n(),I=function(e,t){return e===t&&(q=!0),0},U=1<<31,X={}.hasOwnProperty,Q=[],V=Q.pop,G=Q.push,J=Q.push,Y=Q.slice,K=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=te.replace("w","w#"),re="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ee+"+","g"),ae=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),ue=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(ie),de=new RegExp("^"+ne+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),xe=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=function(){j()};try{J.apply(Q=Y.call(P.childNodes),P.childNodes),Q[P.childNodes.length].nodeType}catch(e){J={apply:Q.length?function(e,t){G.apply(e,Y.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},j=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:P;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,D=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),L=!T(r),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=me.test(r.getElementsByClassName),b.getById=i(function(e){return D.appendChild(e).id=_,!r.getElementsByName||!r.getElementsByName(_).length}),b.getById?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(be,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(be,xe);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=b.getElementsByClassName&&function(e,t){if(L)return t.getElementsByClassName(e)},O=[],M=[],(b.qsa=me.test(r.querySelectorAll))&&(i(function(e){D.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+_+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(b.matchesSelector=me.test(H=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){b.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),O.push("!=",ie)}),M=M.length&&new RegExp(M.join("|")),O=O.length&&new RegExp(O.join("|")),t=me.test(D.compareDocumentPosition),R=t||me.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return q=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===P&&R(P,e)?-1:t===r||t.ownerDocument===P&&R(P,t)?1:S?K(S,e)-K(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return q=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:S?K(S,e)-K(S,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===P?-1:l[i]===P?1:0},r):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&j(e),n=n.replace(le,"='$1']"),b.matchesSelector&&L&&(!O||!O.test(n))&&(!M||!M.test(n)))try{var r=H.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&j(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&j(e);var n=x.attrHandle[t.toLowerCase()],r=n&&X.call(x.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==r?r:b.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(q=!b.detectDuplicates,S=!b.sortStable&&e.slice(0),e.sort(I),q){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return S=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(be,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(oe," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[_]||(g[_]={}),l=c[e]||[],p=l[0]===F&&l[1],f=l[0]===F&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[F,p,f];break}}else if(y&&(l=(t[_]||(t[_]={}))[e])&&l[0]===F)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[_]||(d[_]={}))[e]=[F,f]),d!==t)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[_]?o(n):o.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=K(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ae,"$1"));return i[_]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,xe),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,xe).toLowerCase(),function(t){var n;do{if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return l.prototype=x.filters=x.pseudos,x.setFilters=new l,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=$[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=x.preFilter;s;){r&&!(i=se.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ue.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ae," ")}),s=s.slice(r.length));for(a in x.filter)!(i=fe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):$(e,u).slice(0)},
k=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=g(t[n]),o[_]?r.push(o):i.push(o);o=z(e,v(i,r)),o.selector=e}return o},C=t.select=function(e,t,n,r){var i,o,a,s,l,d="function"==typeof e&&e,f=!r&&E(e=d.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&L&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(be,xe),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((l=x.find[s])&&(r=l(a.matches[0].replace(be,xe),ve.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&c(o)))return J.apply(n,r),n;break}}return(d||k(e,f))(r,t,!L,n,ve.test(e)&&u(t.parentNode)||t),n},b.sortStable=_.split("").sort(I).join("")===_,b.detectDuplicates=!!q,j(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);re.find=ue,re.expr=ue.selectors,re.expr[":"]=re.expr.pseudos,re.unique=ue.uniqueSort,re.text=ue.getText,re.isXMLDoc=ue.isXML,re.contains=ue.contains;var le=re.expr.match.needsContext,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;re.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?re.find.matchesSelector(r,e)?[r]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},re.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;t<i;t++)if(re.contains(r[t],this))return!0}));for(t=0;t<i;t++)re.find(e,r[t],n);return n=this.pushStack(i>1?re.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&le.test(e)?re(e):e||[],!1).length}});var fe,pe=e.document,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(re.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:he.exec(e))||!n[1]&&t)return!t||t.jquery?(t||fe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:pe,!0)),ce.test(n[1])&&re.isPlainObject(t))for(n in t)re.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=pe.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return fe.find(e);this.length=1,this[0]=r}return this.context=pe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?void 0!==fe.ready?fe.ready(e):e(re):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this))}).prototype=re.fn,fe=re(pe);var me=/^(?:parents|prev(?:Until|All))/,ge={children:!0,contents:!0,next:!0,prev:!0};re.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!re(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),re.fn.extend({has:function(e){var t,n=re(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(re.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=le.test(e)||"string"!=typeof e?re(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&re.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?re.unique(o):o)},index:function(e){return e?"string"==typeof e?re.inArray(this[0],re(e)):re.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.unique(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return re.dir(e,"parentNode")},parentsUntil:function(e,t,n){return re.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return re.dir(e,"nextSibling")},prevAll:function(e){return re.dir(e,"previousSibling")},nextUntil:function(e,t,n){return re.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return re.dir(e,"previousSibling",n)},siblings:function(e){return re.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return re.sibling(e.firstChild)},contents:function(e){return re.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:re.merge([],e.childNodes)}},function(e,t){re.fn[e]=function(n,r){var i=re.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=re.filter(r,i)),this.length>1&&(ge[e]||(i=re.unique(i)),me.test(e)&&(i=i.reverse())),this.pushStack(i)}});var ve=/\S+/g,ye={};re.Callbacks=function(e){e="string"==typeof e?ye[e]||o(e):re.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&a<i;a++)if(!1===u[a].apply(o[0],o[1])&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function t(n){re.each(n,function(n,r){var i=re.type(r);"function"===i?e.unique&&d.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&re.each(arguments,function(e,n){for(var r;(r=re.inArray(n,u,r))>-1;)u.splice(r,1),t&&(r<=i&&i--,r<=a&&a--)}),this},has:function(e){return e?re.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},re.extend({Deferred:function(e){var t=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return re.Deferred(function(n){re.each(t,function(t,o){var a=re.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?re.extend(e,r):r}},i={};return r.pipe=r.then,re.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=G.call(arguments),a=o.length,s=1!==a||e&&re.isFunction(e.promise)?a:0,u=1===s?e:re.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?G.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&re.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var be;re.fn.ready=function(e){return re.ready.promise().done(e),this},re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){if(!0===e?!--re.readyWait:!re.isReady){if(!pe.body)return setTimeout(re.ready);re.isReady=!0,!0!==e&&--re.readyWait>0||(be.resolveWith(pe,[re]),re.fn.triggerHandler&&(re(pe).triggerHandler("ready"),re(pe).off("ready")))}}}),re.ready.promise=function(t){if(!be)if(be=re.Deferred(),"complete"===pe.readyState)setTimeout(re.ready);else if(pe.addEventListener)pe.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{pe.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&pe.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!re.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}a(),re.ready()}}()}return be.promise(t)};var xe,we="undefined";for(xe in re(ne))break;ne.ownLast="0"!==xe,ne.inlineBlockNeedsLayout=!1,re(function(){var e,t,n,r;(n=pe.getElementsByTagName("body")[0])&&n.style&&(t=pe.createElement("div"),r=pe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==we&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=pe.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(e){ne.deleteExpando=!1}}e=null}(),re.acceptData=function(e){var t=re.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;re.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?re.cache[e[re.expando]]:e[re.expando])&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),re.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=re.data(o),1===o.nodeType&&!re._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=re.camelCase(r.slice(5)),u(o,r,i[r])));re._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){re.data(this,e)}):arguments.length>1?this.each(function(){re.data(this,e,t)}):o?u(o,e,re.data(o,e)):void 0},removeData:function(e){return this.each(function(){re.removeData(this,e)})}}),re.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=re._data(e,t),n&&(!r||re.isArray(n)?r=re._data(e,t,re.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=re.queue(e,t),r=n.length,i=n.shift(),o=re._queueHooks(e,t),a=function(){re.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return re._data(e,n)||re._data(e,n,{empty:re.Callbacks("once memory").add(function(){re._removeData(e,t+"queue"),re._removeData(e,n)})})}}),re.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?re.queue(this[0],e):void 0===t?this:this.each(function(){var n=re.queue(this,e,t);re._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=re.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=re._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=["Top","Right","Bottom","Left"],Ne=function(e,t){return e=t||e,"none"===re.css(e,"display")||!re.contains(e.ownerDocument,e)},Se=re.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===re.type(n)){i=!0;for(s in n)re.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,re.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(re(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},qe=/^(?:checkbox|radio)$/i;!function(){var e=pe.createElement("input"),t=pe.createElement("div"),n=pe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==pe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(e){ne.deleteExpando=!1}}}(),function(){var t,n,r=pe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=!1===r.attributes[n].expando);r=null}();var je=/^(?:input|select|textarea)$/i,Ae=/^key/,De=/^(?:mouse|pointer|contextmenu)|click/,Le=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=re._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=re.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof re===we||e&&re.event.triggered===e.type?void 0:re.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(ve)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=re.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=re.event.special[p]||{},d=re.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&re.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&!1!==l.setup.call(e,r,h,c)||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),re.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=re.hasData(e)&&re._data(e);if(g&&(c=g.events)){for(t=(t||"").match(ve)||[""],l=t.length;l--;)if(s=Me.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=re.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||re.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)re.event.remove(e,p+t[l],n,r,!0);re.isEmptyObject(c)&&(delete g.handle,re._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||pe],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||pe,3!==r.nodeType&&8!==r.nodeType&&!Le.test(p+re.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[re.expando]?t:new re.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:re.makeArray(n,[t]),l=re.event.special[p]||{},i||!l.trigger||!1!==l.trigger.apply(r,n))){if(!i&&!l.noBubble&&!re.isWindow(r)){for(u=l.delegateType||p,Le.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||pe)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(re._data(s,"events")||{})[t.type]&&re._data(s,"handle"),o&&o.apply(s,n),(o=a&&s[a])&&o.apply&&re.acceptData(s)&&(t.result=o.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(f.pop(),n))&&re.acceptData(r)&&a&&r[p]&&!re.isWindow(r)){c=r[a],c&&(r[a]=null),re.event.triggered=p;try{r[p]()}catch(e){}re.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=re.event.fix(e);var t,n,r,i,o,a=[],s=G.call(arguments),u=(re._data(this,"events")||{})[e.type]||[],l=re.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(a=re.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((re.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(i=[],o=0;o<s;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?re(n,this).index(u)>=0:re.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[re.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=De.test(i)?this.mouseHooks:Ae.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new re.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||pe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||pe,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(re.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=re.extend(new re.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?re.event.trigger(i,null,t):re.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},re.removeEvent=pe.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===we&&(e[r]=null),e.detachEvent(r,n))},re.Event=function(e,t){if(!(this instanceof re.Event))return new re.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?f:p):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),this[re.expando]=!0},re.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){re.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||re.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(re.event.special.submit={setup:function(){if(re.nodeName(this,"form"))return!1;re.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=re.nodeName(t,"input")||re.nodeName(t,"button")?t.form:void 0;n&&!re._data(n,"submitBubbles")&&(re.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),re._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&re.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(re.nodeName(this,"form"))return!1;re.event.remove(this,"._submit")}}),ne.changeBubbles||(re.event.special.change={setup:function(){if(je.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(re.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),re.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),re.event.simulate("change",this,e,!0)})),!1;re.event.add(this,"beforeactivate._change",function(e){var t=e.target;je.test(t.nodeName)&&!re._data(t,"changeBubbles")&&(re.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||re.event.simulate("change",this.parentNode,e,!0)}),re._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return re.event.remove(this,"._change"),!je.test(this.nodeName)}}),ne.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){re.event.simulate(t,e.target,re.event.fix(e),!0)};re.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=re._data(r,t);i||r.addEventListener(e,n,!0),re._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=re._data(r,t)-1;i?re._data(r,t,i):(r.removeEventListener(e,n,!0),re._removeData(r,t))}}}),re.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return re().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=re.guid++)),this.each(function(){re.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,re(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=p),this.each(function(){re.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return re.event.trigger(e,t,n,!0)}});var Oe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",He=/ jQuery\d+="(?:null|\d+)"/g,Re=new RegExp("<(?:"+Oe+")[\\s/>]","i"),_e=/^\s+/,Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fe=/<([\w:]+)/,Be=/<tbody/i,We=/<|&#?\w+;/,$e=/<(?:script|style|link)/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,Ue=/^true\/(.*)/,Xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ve=m(pe),Ge=Ve.appendChild(pe.createElement("div"));Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td,re.extend({clone:function(e,t,n){var r,i,o,a,s,u=re.contains(e.ownerDocument,e);if(ne.html5Clone||re.isXMLDoc(e)||!Re.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&E(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;h<d;h++)if((o=e[h])||0===o)if("object"===re.type(o))re.merge(p,o.nodeType?[o]:o);else if(We.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(Fe.exec(o)||["",""])[1].toLowerCase(),c=Qe[u]||Qe._default,s.innerHTML=c[1]+o.replace(Pe,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&_e.test(o)&&p.push(t.createTextNode(_e.exec(o)[0])),!ne.tbody)for(o="table"!==u||Be.test(o)?"<table>"!==c[1]||Be.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)re.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(re.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),ne.appendChecked||re.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===re.inArray(o,r))&&(a=re.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ie.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=re.expando,u=re.cache,l=ne.deleteExpando,c=re.event.special;null!=(n=e[a]);a++)if((t||re.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?re.event.remove(n,r):re.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==we?n.removeAttribute(s):n[s]=null,V.push(i))}}}),re.fn.extend({text:function(e){return Se(this,function(e){return void 0===e?re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){y(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?re.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||re.cleanData(g(n)),n.parentNode&&(t&&re.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&re.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&re.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return Se(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(He,""):void 0;if("string"==typeof e&&!$e.test(e)&&(ne.htmlSerialize||!Re.test(e))&&(ne.leadingWhitespace||!_e.test(e))&&!Qe[(Fe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Pe,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(re.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,re.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=J.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=re.isFunction(f);if(p||l>1&&"string"==typeof f&&!ne.checkClone&&ze.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=re.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=re.map(g(s,"script"),b),i=o.length;u<l;u++)r=s,u!==d&&(r=re.clone(r,!0,!0),i&&re.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,re.map(o,x),u=0;u<i;u++)r=o[u],Ie.test(r.type||"")&&!re._data(r,"globalEval")&&re.contains(a,r)&&(r.src?re._evalUrl&&re._evalUrl(r.src):re.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Xe,"")));s=n=null}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){re.fn[e]=function(e){for(var n,r=0,i=[],o=re(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),re(o[r])[t](n),Y.apply(i,n.get());return this.pushStack(i)}});var Je,Ye={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return(n=pe.getElementsByTagName("body")[0])&&n.style?(t=pe.createElement("div"),r=pe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==we&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var Ke,Ze,et=/^margin/,tt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),nt=/^(top|right|bottom|left)$/;e.getComputedStyle?(Ke=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},Ze=function(e,t,n){var r,i,o,a,s=e.style;return n=n||Ke(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||re.contains(e.ownerDocument,e)||(a=re.style(e,t)),tt.test(a)&&et.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):pe.documentElement.currentStyle&&(Ke=function(e){return e.currentStyle},
Ze=function(e,t,n){var r,i,o,a,s=e.style;return n=n||Ke(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!nt.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;(n=pe.getElementsByTagName("body")[0])&&n.style&&(t=pe.createElement("div"),r=pe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(pe.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=pe.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],(r=i&&i.style)&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,re.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),re.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var rt=/alpha\([^)]*\)/i,it=/opacity\s*=\s*([^)]*)/,ot=/^(none|table(?!-c[ea]).+)/,at=new RegExp("^("+ke+")(.*)$","i"),st=new RegExp("^([+-])=("+ke+")","i"),ut={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ct=["Webkit","O","Moz","ms"];re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=re.camelCase(t),u=e.style;if(t=re.cssProps[s]||(re.cssProps[s]=S(u,s)),a=re.cssHooks[t]||re.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=st.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(re.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||re.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=re.camelCase(t);return t=re.cssProps[s]||(re.cssProps[s]=S(e.style,s)),a=re.cssHooks[t]||re.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Ze(e,t,r)),"normal"===o&&t in lt&&(o=lt[t]),""===n||n?(i=parseFloat(o),!0===n||re.isNumeric(i)?i||0:o):o}}),re.each(["height","width"],function(e,t){re.cssHooks[t]={get:function(e,n,r){if(n)return ot.test(re.css(e,"display"))&&0===e.offsetWidth?re.swap(e,ut,function(){return D(e,t,r)}):D(e,t,r)},set:function(e,n,r){var i=r&&Ke(e);return j(e,n,r?A(e,t,r,ne.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(re.cssHooks.opacity={get:function(e,t){return it.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=re.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===re.trim(o.replace(rt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=rt.test(o)?o.replace(rt,i):o+" "+i)}}),re.cssHooks.marginRight=N(ne.reliableMarginRight,function(e,t){if(t)return re.swap(e,{display:"inline-block"},Ze,[e,"marginRight"])}),re.each({margin:"",padding:"",border:"Width"},function(e,t){re.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ce[r]+t]=o[r]||o[r-2]||o[0];return i}},et.test(e)||(re.cssHooks[e+t].set=j)}),re.fn.extend({css:function(e,t){return Se(this,function(e,t,n){var r,i,o={},a=0;if(re.isArray(t)){for(r=Ke(e),i=t.length;a<i;a++)o[t[a]]=re.css(e,t[a],!1,r);return o}return void 0!==n?re.style(e,t,n):re.css(e,t)},e,t,arguments.length>1)},show:function(){return q(this,!0)},hide:function(){return q(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ne(this)?re(this).show():re(this).hide()})}}),re.Tween=L,L.prototype={constructor:L,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(re.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.options.duration?this.pos=t=re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=re.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[re.cssProps[e.prop]]||re.cssHooks[e.prop])?re.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},re.fx=L.prototype.init,re.fx.step={};var dt,ft,pt=/^(?:toggle|show|hide)$/,ht=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),mt=/queueHooks$/,gt=[R],vt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=ht.exec(t),o=i&&i[3]||(re.cssNumber[e]?"":"px"),a=(re.cssNumber[e]||"px"!==o&&+r)&&ht.exec(re.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{s=s||".5",a/=s,re.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};re.Animation=re.extend(P,{tweener:function(e,t){re.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],vt[n]=vt[n]||[],vt[n].unshift(t)},prefilter:function(e,t){t?gt.unshift(e):gt.push(e)}}),re.speed=function(e,t,n){var r=e&&"object"==typeof e?re.extend({},e):{complete:n||!n&&t||re.isFunction(e)&&e,duration:e,easing:n&&t||t&&!re.isFunction(t)&&t};return r.duration=re.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in re.fx.speeds?re.fx.speeds[r.duration]:re.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){re.isFunction(r.old)&&r.old.call(this),r.queue&&re.dequeue(this,r.queue)},r},re.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ne).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=re.isEmptyObject(e),o=re.speed(t,n,r),a=function(){var t=P(this,re.extend({},e),o);(i||re._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=re.timers,a=re._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&mt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||re.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=re._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=re.timers,a=r?r.length:0;for(n.finish=!0,re.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),re.each(["toggle","show","hide"],function(e,t){var n=re.fn[t];re.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,r,i)}}),re.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){re.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),re.timers=[],re.fx.tick=function(){var e,t=re.timers,n=0;for(dt=re.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||re.fx.stop(),dt=void 0},re.fx.timer=function(e){re.timers.push(e),e()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){ft||(ft=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(ft),ft=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(e,t){return e=re.fx?re.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=pe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=pe.createElement("select"),i=n.appendChild(pe.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!pe.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=pe.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var yt=/\r/g;re.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=re.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,re(this).val()):e,null==i?i="":"number"==typeof i?i+="":re.isArray(i)&&(i=re.map(i,function(e){return null==e?"":e+""})),(t=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=re.valHooks[i.type]||re.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(yt,""):null==n?"":n)}}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,"value");return null!=t?t:re.trim(re.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(n=r[u],(n.selected||u===i)&&(ne.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!re.nodeName(n.parentNode,"optgroup"))){if(t=re(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=re.makeArray(t),a=i.length;a--;)if(r=i[a],re.inArray(re.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){if(re.isArray(t))return e.checked=re.inArray(re(e).val(),t)>=0}},ne.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt,xt,wt=re.expr.attrHandle,Tt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;re.fn.extend({attr:function(e,t){return Se(this,re.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===we?re.prop(e,t,n):(1===o&&re.isXMLDoc(e)||(t=t.toLowerCase(),r=re.attrHooks[t]||(re.expr.match.bool.test(t)?xt:bt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=re.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void re.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ve);if(o&&1===e.nodeType)for(;n=o[i++];)r=re.propFix[n]||n,re.expr.match.bool.test(n)?kt&&Et||!Tt.test(n)?e[r]=!1:e[re.camelCase("default-"+n)]=e[r]=!1:re.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&re.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),xt={set:function(e,t,n){return!1===t?re.removeAttr(e,n):kt&&Et||!Tt.test(n)?e.setAttribute(!Et&&re.propFix[n]||n,n):e[re.camelCase("default-"+n)]=e[n]=!0,n}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var n=wt[t]||re.find.attr;wt[t]=kt&&Et||!Tt.test(t)?function(e,t,r){var i,o;return r||(o=wt[t],wt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,wt[t]=o),i}:function(e,t,n){if(!n)return e[re.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(re.attrHooks.value={set:function(e,t,n){if(!re.nodeName(e,"input"))return bt&&bt.set(e,t,n);e.defaultValue=t}}),Et||(bt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},wt.id=wt.name=wt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},re.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:bt.set},re.attrHooks.contenteditable={set:function(e,t,n){bt.set(e,""!==t&&t,n)}},re.each(["width","height"],function(e,t){re.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ne.style||(re.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ct=/^(?:input|select|textarea|button|object)$/i,Nt=/^(?:a|area)$/i;re.fn.extend({prop:function(e,t){return Se(this,re.prop,e,t,arguments.length>1)},removeProp:function(e){return e=re.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),re.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!re.isXMLDoc(e),o&&(t=re.propFix[t]||t,i=re.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=re.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||Nt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||re.each(["href","src"],function(e,t){re.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(re.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this}),ne.enctype||(re.propFix.enctype="encoding");var St=/[\t\r\n\f]/g;re.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ve)||[];s<u;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=re.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ve)||[];s<u;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?re.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):re.isFunction(e)?this.each(function(n){re(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=re(this),o=e.match(ve)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==we&&"boolean"!==n||(this.className&&re._data(this,"__className__",this.className),this.className=this.className||!1===e?"":re._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(St," ").indexOf(t)>=0)return!0;return!1}}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){re.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var qt=re.now(),jt=/\?/,At=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;re.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=re.trim(t+"");return i&&!re.trim(i.replace(At,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():re.error("Invalid JSON: "+t)},re.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+t),n};var Dt,Lt,Mt=/#.*$/,Ot=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_t=/^(?:GET|HEAD)$/,Pt=/^\/\//,Ft=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bt={},Wt={},$t="*/".concat("*");try{Lt=location.href}catch(e){Lt=pe.createElement("a"),Lt.href="",Lt=Lt.href}Dt=Ft.exec(Lt.toLowerCase())||[],re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Lt,type:"GET",isLocal:Rt.test(Dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,re.ajaxSettings),t):W(re.ajaxSettings,e)},ajaxPrefilter:F(Bt),ajaxTransport:F(Wt),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&e<300||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(re.lastModified[o]=x),(x=w.getResponseHeader("etag"))&&(re.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,!e&&T||(T="error",e<0&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=re.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?re(f):re.event,h=re.Deferred(),m=re.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ht.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Lt)+"").replace(Mt,"").replace(Pt,Dt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=re.trim(d.dataType||"*").toLowerCase().match(ve)||[""],null==d.crossDomain&&(r=Ft.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Dt[1]&&r[2]===Dt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Dt[3]||("http:"===Dt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=re.param(d.data,d.traditional)),B(Bt,d,t,w),2===b)return w;u=re.event&&d.global,u&&0==re.active++&&re.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!_t.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(jt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Ot.test(o)?o.replace(Ot,"$1_="+qt++):o+(jt.test(o)?"&":"?")+"_="+qt++)),d.ifModified&&(re.lastModified[o]&&w.setRequestHeader("If-Modified-Since",re.lastModified[o]),re.etag[o]&&w.setRequestHeader("If-None-Match",re.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+$t+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(!1===d.beforeSend.call(f,w,d)||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=B(Wt,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return re.get(e,t,n,"json")},getScript:function(e,t){return re.get(e,void 0,t,"script")}}),re.each(["get","post"],function(e,t){re[t]=function(e,n,r,i){return re.isFunction(n)&&(i=i||r,r=n,n=void 0),re.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),re._evalUrl=function(e){return re.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},re.fn.extend({wrapAll:function(e){if(re.isFunction(e))return this.each(function(t){re(this).wrapAll(e.call(this,t))});if(this[0]){var t=re(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return re.isFunction(e)?this.each(function(t){re(this).wrapInner(e.call(this,t))}):this.each(function(){var t=re(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=re.isFunction(e);return this.each(function(n){re(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||re.css(e,"display"))},re.expr.filters.visible=function(e){return!re.expr.filters.hidden(e)};var zt=/%20/g,It=/\[\]$/,Ut=/\r?\n/g,Xt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;re.param=function(e,t){var n,r=[],i=function(e,t){t=re.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(zt,"+")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&Qt.test(this.nodeName)&&!Xt.test(e)&&(this.checked||!qe.test(e))}).map(function(e,t){var n=re(this).val();return null==n?null:re.isArray(n)?re.map(n,function(e){return{name:t.name,value:e.replace(Ut,"\r\n")}}):{name:t.name,value:n.replace(Ut,"\r\n")}}).get()}}),re.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||X()}:U;var Vt=0,Gt={},Jt=re.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Gt)Gt[e](void 0,!0)}),ne.cors=!!Jt&&"withCredentials"in Jt,Jt=ne.ajax=!!Jt,Jt&&re.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Vt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Gt[a],t=void 0,o.onreadystatechange=re.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(e){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Gt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),re.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=pe.head||re("head")[0]||pe.documentElement;return{send:function(r,i){t=pe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Yt=[],Kt=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||re.expando+"_"+qt++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Kt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=re.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Kt,"$1"+i):!1!==t.jsonp&&(t.url+=(jt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||re.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&re.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),re.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||pe;var r=ce.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=re.buildFragment([e],t,i),i&&i.length&&re(i).remove(),re.merge([],r.childNodes))};var Zt=re.fn.load;re.fn.load=function(e,t,n){if("string"!=typeof e&&Zt)return Zt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=re.trim(e.slice(s,e.length)),e=e.slice(0,s)),re.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&re.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?re("<div>").append(re.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.filters.animated=function(e){return re.grep(re.timers,function(t){return e===t.elem}).length};var en=e.document.documentElement;re.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=re.css(e,"position"),d=re(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=re.css(e,"top"),u=re.css(e,"left"),l=("absolute"===c||"fixed"===c)&&re.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),re.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},re.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){re.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,re.contains(t,i)?(typeof i.getBoundingClientRect!==we&&(r=i.getBoundingClientRect()),n=Q(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===re.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),re.nodeName(e[0],"html")||(n=e.offset()),n.top+=re.css(e[0],"borderTopWidth",!0),n.left+=re.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-re.css(r,"marginTop",!0),left:t.left-n.left-re.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||en;e&&!re.nodeName(e,"html")&&"static"===re.css(e,"position");)e=e.offsetParent;return e||en})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);re.fn[e]=function(r){return Se(this,function(e,r,i){var o=Q(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?re(o).scrollLeft():i,n?i:re(o).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),re.each(["top","left"],function(e,t){re.cssHooks[t]=N(ne.pixelPosition,function(e,n){if(n)return n=Ze(e,t),tt.test(n)?re(e).position()[t]+"px":n})}),re.each({Height:"height",Width:"width"},function(e,t){re.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){re.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return Se(this,function(t,n,r){var i;return re.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,
Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?re.css(t,n,a):re.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return re});var tn=e.jQuery,nn=e.$;return re.noConflict=function(t){return e.$===re&&(e.$=nn),t&&e.jQuery===re&&(e.jQuery=tn),re},typeof t===we&&(e.jQuery=e.$=re),re});var requirejs,require,define;!function(global){function commentReplace(e,t,n,r){return r||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){!n&&hasProp(e,i)||(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var i,o,a,s,u,l,c,d,f,p,h,m=n&&n.split("/"),g=E.map,v=g&&g["*"];if(e&&(e=e.split("/"),l=e.length-1,E.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&m&&(h=m.slice(0,m.length-1),e=h.concat(e)),t(e),e=e.join("/")),r&&g&&(m||v)){o=e.split("/");e:for(a=o.length;a>0;a-=1){if(u=o.slice(0,a).join("/"),m)for(s=m.length;s>0;s-=1)if((i=getOwn(g,m.slice(0,s).join("/")))&&(i=getOwn(i,u))){c=i,d=a;break e}!f&&v&&getOwn(v,u)&&(f=getOwn(v,u),p=a)}!c&&f&&(c=f,d=p),c&&(o.splice(0,d,c),e=o.join("/"))}return getOwn(E.pkgs,e)||e}function r(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===x.contextName)return t.parentNode.removeChild(t),!0})}function i(e){var t=getOwn(E.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),x.require.undef(e),x.makeRequire(null,{skipMap:!0})([e]),!0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,r,i){var a,s,u,l,c=null,d=t?t.name:null,f=e,p=!0,h="";return e||(p=!1,e="_@r"+(D+=1)),l=o(e),c=l[0],e=l[1],c&&(c=n(c,d,i),s=getOwn(q,c)),e&&(c?h=s&&s.normalize?s.normalize(e,function(e){return n(e,d,i)}):-1===e.indexOf("!")?n(e,d,i):e:(h=n(e,d,i),l=o(h),c=l[0],h=l[1],r=!0,a=x.nameToUrl(h))),u=!c||s||r?"":"_unnormalized"+(L+=1),{prefix:c,name:h,parentMap:t,unnormalized:!!u,url:a,originalName:f,isDefine:p,id:(c?c+"!"+h:h)+u}}function s(e){var t=e.id,n=getOwn(k,t);return n||(n=k[t]=new x.Module(e)),n}function u(e,t,n){var r=e.id,i=getOwn(k,r);!hasProp(q,r)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===t?n(i.error):i.on(t,n)):"defined"===t&&n(q[r])}function l(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(k,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function c(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(x.defQueueMap[t]=!0),S.push(e)}),globalDefQueue=[])}function d(e){delete k[e],delete C[e]}function f(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var o=r.id,a=getOwn(k,o);!a||e.depMatched[i]||n[o]||(getOwn(t,o)?(e.defineDep(i,q[o]),e.check()):f(a,t,n))}),n[r]=!0)}function p(){var e,t,n=1e3*E.waitSeconds,o=n&&x.startTime+n<(new Date).getTime(),a=[],s=[],u=!1,c=!0;if(!y){if(y=!0,eachProp(C,function(e){var n=e.map,l=n.id;if(e.enabled&&(n.isDefine||s.push(e),!e.error))if(!e.inited&&o)i(l)?(t=!0,u=!0):(a.push(l),r(l));else if(!e.inited&&e.fetched&&n.isDefine&&(u=!0,!n.prefix))return c=!1}),o&&a.length)return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=x.contextName,l(e);c&&each(s,function(e){f(e,{},{})}),o&&!t||!u||!isBrowser&&!isWebWorker||T||(T=setTimeout(function(){T=0,p()},50)),y=!1}}function h(e){hasProp(q,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,x.onScriptLoad,"load","onreadystatechange"),m(t,x.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(c();S.length;){if(e=S.shift(),null===e[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}x.defQueueMap={}}var y,b,x,w,T,E={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},k={},C={},N={},S=[],q={},j={},A={},D=1,L=1;return w={require:function(e){return e.require?e.require:e.require=x.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?q[e.map.id]=e.exports:e.exports=q[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(E.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},b=function(e){this.events=getOwn(N,e.id)||{},this.map=e,this.shim=getOwn(E.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,x.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;j[e]||(j[e]=!0,x.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=x.execCb(n,o,r,i)}catch(t){e=t}else i=x.execCb(n,o,r,i);if(this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else i=o;if(this.exports=i,this.map.isDefine&&!this.ignore&&(q[n]=i,req.onResourceLoad)){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(x,this.map,a)}d(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(x.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=a(e.prefix);this.depMaps.push(r),u(r,"defined",bind(this,function(r){var i,o,c,f=getOwn(A,this.map.id),p=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,m=x.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(p=r.normalize(p,function(e){return n(e,h,!0)})||""),o=a(e.prefix+"!"+p,this.map.parentMap),u(o,"defined",bind(this,function(e){this.map.normalizedMap=o,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((c=getOwn(k,o.id))&&(this.depMaps.push(o),this.events.error&&c.on("error",bind(this,function(e){this.emit("error",e)})),c.enable()))):f?(this.map.url=x.nameToUrl(f),void this.load()):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(k,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),l(e)}),i.fromText=bind(this,function(n,r){var o=e.name,u=a(o),c=useInteractive;r&&(n=r),c&&(useInteractive=!1),s(u),hasProp(E.config,t)&&(E.config[o]=E.config[t]);try{req.exec(n)}catch(e){return l(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}c&&(useInteractive=!0),this.depMaps.push(u),x.completeLoad(o),m([o],i)}),void r.load(e.name,m,i,E))})),x.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){C[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(w,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,u(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?u(e,"error",bind(this,this.errback)):this.events.error&&u(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=k[n],hasProp(w,n)||!r||r.enabled||x.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(k,e.id);t&&!t.enabled&&x.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},x={config:E,contextName:e,registry:k,defined:q,urlFetched:j,defQueue:S,defQueueMap:{},Module:b,makeModuleMap:a,nextTick:req.nextTick,onError:l,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t}}var n=E.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(E[t]||(E[t]={}),mixin(E[t],e,!0,!0)):E[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(A[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=x.makeShimExports(e)),n[t]=e}),E.shim=n),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(E.paths[n]=e.location),E.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(k,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t,null,!0))}),(e.deps||e.callback)&&x.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function o(n,r,u){var c,d,f;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?l(makeError("requireargs","Invalid require call"),u):t&&hasProp(w,n)?w[n](k[t.id]):req.get?req.get(x,n,t,o):(d=a(n,t,!1,!0),c=d.id,hasProp(q,c)?q[c]:l(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),x.nextTick(function(){v(),f=s(a(null,t)),f.skipMap=i.skipMap,f.init(n,r,u,{enabled:!0}),p()}),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),o=e.split("/")[0],a="."===o||".."===o;return-1!==i&&(!a||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),x.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(q,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(q,e)||hasProp(k,e)}}),t||(o.undef=function(e){c();var n=a(e,t,!0),i=getOwn(k,e);i.undefed=!0,r(e),delete q[e],delete j[n.url],delete N[e],eachReverse(S,function(t,n){t[0]===e&&S.splice(n,1)}),delete x.defQueueMap[e],i&&(i.events.defined&&(N[e]=i.events),d(e))}),o},enable:function(e){getOwn(k,e.id)&&s(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(E.shim,e)||{},a=o.exports;for(c();S.length;){if(n=S.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);h(n)}if(x.defQueueMap={},r=getOwn(k,e),!t&&!hasProp(q,e)&&r&&!r.inited){if(!(!E.enforceDefine||a&&getGlobal(a)))return i(e)?void 0:l(makeError("nodefine","No define call for "+e,null,[e]));h([e,o.deps||[],o.exportsFn])}p()},nameToUrl:function(e,t,n){var r,i,o,a,s,u,l,c=getOwn(E.pkgs,e);if(c&&(e=c),l=getOwn(A,e))return x.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(r=E.paths,i=e.split("/"),o=i.length;o>0;o-=1)if(a=i.slice(0,o).join("/"),u=getOwn(r,a)){isArray(u)&&(u=u[0]),i.splice(0,o,u);break}s=i.join("/"),s+=t||(/^data\:|^blob\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":E.baseUrl)+s}return E.urlArgs&&!/^blob\:/.test(s)?s+E.urlArgs(e,s):s},load:function(e,t){req.load(x,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);x.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!i(t.id)){var n=[];return eachProp(k,function(e,r){0!==r.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return n.push(r),!0})}),l(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},x.require=x.makeRequire(),x}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.2.0",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(a=o.context),i=getOwn(contexts,a),i||(i=contexts[a]=req.s.newContext(a)),o&&i.configure(o),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,i.onNodeCreated&&i.onNodeCreated(r,i,t,n),currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,r,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")]),i?(i.defQueue.push([e,t,n]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("jquery",[],function(){"use strict";return window.$}),require.config({waitSeconds:7,baseUrl:"https://as.ftcdn.net/v1/js",paths:{store:["app/store/store.prod"]}}),require.config({paths:{text:"vendor/requirejs/text",hbs:"vendor/handlebars/hbs",i18n:"vendor/jed/jed",redux:"vendor/redux/redux.min","i18n-config":"i18n-config",lodash:"vendor/lodash/lodash",quickerCheckoutRepo:"vendor/quickerCheckout/app","quickerCheckoutRepo/backbone-events-standalone":"vendor/quickerCheckout/vendor/backbone-events/backbone-events-standalone","quickerCheckoutRepo/vendor":"vendor/quickerCheckout/vendor","quickerCheckoutRepo/templates":"vendor/quickerCheckout/app/templates",anyware:"vendor/misc/anyware.min",daterangepicker:"vendor/bootstrap-daterangepicker/daterangepicker",coreComponents:"vendor/core-components-js",stockWebIngest:"vendor/stock-web-ingest/dist/stock.ingest",croppie:"vendor/croppie/croppie",noUiSlider:"vendor/nouislider/distribute/nouislider.min",intersectionObserver:"vendor/intersection-observer/intersection-observer"},hbars:{extension:".hbs"}}),define("momentLocale",["moment"],function(){}),define("/tmp/php3CCZUv",function(){});define("page_config",["jquery"],function(e){"use strict";return JSON.parse(e("#js-page-config").text())}),function(){function e(e,t){for(var n=-1,a=null==e?0:e.length,i=0,s=[];++n<a;){var r=e[n];t(r,n,e)&&(s[i++]=r)}return s}function t(e,t){for(var n=-1,a=null==e?0:e.length,i=Array(a);++n<a;)i[n]=t(e[n],n,e);return i}function n(e,t){for(var n=-1,a=t.length,i=e.length;++n<a;)e[i+n]=t[n];return e}function a(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function i(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}function s(e,t){return e.has(t)}function r(e,t){return null==e?ke:e[t]}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n}function o(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function c(){}function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function d(){this.__data__=Xt?Xt(null):{},this.size=0}function p(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function h(e){var t=this.__data__;if(Xt){var n=t[e];return n===xe?ke:n}return xt.call(t,e)?t[e]:ke}function m(e){var t=this.__data__;return Xt?t[e]!==ke:xt.call(t,e)}function f(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xt&&t===ke?xe:t,this}function _(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function g(){this.__data__=[],this.size=0}function E(e){var t=this.__data__,n=F(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ft.call(t,n,1),--this.size,!0)}function v(e){var t=this.__data__,n=F(t,e);return n<0?ke:t[n][1]}function b(e){return F(this.__data__,e)>-1}function T(e,t){var n=this.__data__,a=F(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}function y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function C(){this.size=0,this.__data__={hash:new u,map:new(Kt||_),string:new u}}function S(e){var t=ee(this,e).delete(e);return this.size-=t?1:0,t}function I(e){return ee(this,e).get(e)}function O(e){return ee(this,e).has(e)}function k(e,t){var n=ee(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}function A(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new y;++t<n;)this.add(e[t])}function R(e){return this.__data__.set(e,xe),this}function x(e){return this.__data__.has(e)}function P(e){var t=this.__data__=new _(e);this.size=t.size}function L(){this.__data__=new _,this.size=0}function D(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function N(e){return this.__data__.get(e)}function w(e){return this.__data__.has(e)}function M(e,t){var n=this.__data__;if(n instanceof _){var a=n.__data__;if(!Kt||a.length<Ae-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new y(a)}return n.set(e,t),this.size=n.size,this}function U(e,t){var n=dn(e),a=!n&&un(e),s=!n&&!a&&pn(e),r=!n&&!a&&!s&&hn(e),l=n||a||s||r,o=l?i(e.length,String):[],c=o.length;for(var u in e)!t&&!xt.call(e,u)||l&&("length"==u||s&&("offset"==u||"parent"==u)||r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ae(u,c))||o.push(u);return o}function F(e,t){for(var n=e.length;n--;)if(he(e[n][0],t))return n;return-1}function j(e,t){t=Q(t,e);for(var n=0,a=t.length;null!=e&&n<a;)e=e[ce(t[n++])];return n&&n==a?e:ke}function H(e,t,a){var i=t(e);return dn(e)?i:n(i,a(e))}function V(e){return null==e?e===ke?et:We:jt&&jt in Object(e)?ne(e):oe(e)}function q(e){return ve(e)&&V(e)==Ue}function Y(e,t,n,a,i){return e===t||(null==e||null==t||!ve(e)&&!ve(t)?e!==e&&t!==t:G(e,t,n,a,Y,i))}function G(e,t,n,a,i,s){var r=dn(e),l=dn(t),o=r?Fe:ln(e),c=l?Fe:ln(t);o=o==Ue?ze:o,c=c==Ue?ze:c;var u=o==ze,d=c==ze,p=o==c;if(p&&pn(e)){if(!pn(t))return!1;r=!0,u=!1}if(p&&!u)return s||(s=new P),r||hn(e)?X(e,t,n,a,i,s):Z(e,t,o,n,a,i,s);if(!(n&Le)){var h=u&&xt.call(e,"__wrapped__"),m=d&&xt.call(t,"__wrapped__");if(h||m){var f=h?e.value():e,_=m?t.value():t;return s||(s=new P),i(f,_,n,a,s)}}return!!p&&(s||(s=new P),J(e,t,n,a,i,s))}function B(e){return!(!Ee(e)||re(e))&&(_e(e)?Dt:dt).test(ue(e))}function K(e){return ve(e)&&ge(e.length)&&!!mt[V(e)]}function W(e){if(!le(e))return qt(e);var t=[];for(var n in Object(e))xt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function z(e){if("string"==typeof e)return e;if(dn(e))return t(e,z)+"";if(be(e))return sn?sn.call(e):"";var n=e+"";return"0"==n&&1/e==-Ne?"-0":n}function Q(e,t){return dn(e)?e:ie(e,t)?[e]:on(ye(e))}function X(e,t,n,i,r,l){var o=n&Le,c=e.length,u=t.length;if(c!=u&&!(o&&u>c))return!1;var d=l.get(e);if(d&&l.get(t))return d==t;var p=-1,h=!0,m=n&De?new A:ke;for(l.set(e,t),l.set(t,e);++p<c;){var f=e[p],_=t[p];if(i)var g=o?i(_,f,p,t,e,l):i(f,_,p,e,t,l);if(g!==ke){if(g)continue;h=!1;break}if(m){if(!a(t,function(e,t){if(!s(m,t)&&(f===e||r(f,e,n,i,l)))return m.push(t)})){h=!1;break}}else if(f!==_&&!r(f,_,n,i,l)){h=!1;break}}return l.delete(e),l.delete(t),h}function Z(e,t,n,a,i,s,r){switch(n){case nt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tt:return!(e.byteLength!=t.byteLength||!s(new Mt(e),new Mt(t)));case He:case Ve:case Ke:return he(+e,+t);case qe:return e.name==t.name&&e.message==t.message;case Xe:case Je:return e==t+"";case Be:var c=l;case Ze:var u=a&Le;if(c||(c=o),e.size!=t.size&&!u)return!1;var d=r.get(e);if(d)return d==t;a|=De,r.set(e,t);var p=X(c(e),c(t),a,i,s,r);return r.delete(e),p;case $e:if(an)return an.call(e)==an.call(t)}return!1}function J(e,t,n,a,i,s){var r=n&Le,l=$(e),o=l.length;if(o!=$(t).length&&!r)return!1;for(var c=o;c--;){var u=l[c];if(!(r?u in t:xt.call(t,u)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var p=!0;s.set(e,t),s.set(t,e);for(var h=r;++c<o;){u=l[c];var m=e[u],f=t[u];if(a)var _=r?a(f,m,u,t,e,s):a(m,f,u,e,t,s);if(!(_===ke?m===f||i(m,f,n,a,s):_)){p=!1;break}h||(h="constructor"==u)}if(p&&!h){var g=e.constructor,E=t.constructor;g!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof E&&E instanceof E)&&(p=!1)}return s.delete(e),s.delete(t),p}function $(e){return H(e,Se,rn)}function ee(e,t){var n=e.__data__;return se(t)?n["string"==typeof t?"string":"hash"]:n.map}function te(e,t){var n=r(e,t);return B(n)?n:ke}function ne(e){var t=xt.call(e,jt),n=e[jt];try{e[jt]=ke;var a=!0}catch(e){}var i=Lt.call(e);return a&&(t?e[jt]=n:delete e[jt]),i}function ae(e,t){var n=typeof e;return!!(t=null==t?we:t)&&("number"==n||"symbol"!=n&&ht.test(e))&&e>-1&&e%1==0&&e<t}function ie(e,t){if(dn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!be(e))||(it.test(e)||!at.test(e)||null!=t&&e in Object(t))}function se(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function re(e){return!!Pt&&Pt in e}function le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||kt)}function oe(e){return Lt.call(e)}function ce(e){if("string"==typeof e||be(e))return e;var t=e+"";return"0"==t&&1/e==-Ne?"-0":t}function ue(e){if(null!=e){try{return Rt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function de(e,t,n){function a(t){var n=p,a=h;return p=h=ke,E=t,f=e.apply(a,n)}function i(e){return E=e,_=setTimeout(l,t),v?a(e):f}function s(e){var n=e-g,a=e-E,i=t-n;return b?Gt(i,m-a):i}function r(e){var n=e-g,a=e-E;return g===ke||n>=t||n<0||b&&a>=m}function l(){var e=cn();if(r(e))return o(e);_=setTimeout(l,s(e))}function o(e){return _=ke,T&&p?a(e):(p=h=ke,f)}function c(){_!==ke&&clearTimeout(_),E=0,p=g=h=_=ke}function u(){return _===ke?f:o(cn())}function d(){var e=cn(),n=r(e);if(p=arguments,h=this,g=e,n){if(_===ke)return i(g);if(b)return _=setTimeout(l,t),a(g)}return _===ke&&(_=setTimeout(l,t)),f}var p,h,m,f,_,g,E=0,v=!1,b=!1,T=!0;if("function"!=typeof e)throw new TypeError(Re);return t=Te(t)||0,Ee(n)&&(v=!!n.leading,b="maxWait"in n,m=b?Yt(Te(n.maxWait)||0,t):m,T="trailing"in n?!!n.trailing:T),d.cancel=c,d.flush=u,d}function pe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Re);var n=function(){var a=arguments,i=t?t.apply(this,a):a[0],s=n.cache;if(s.has(i))return s.get(i);var r=e.apply(this,a);return n.cache=s.set(i,r)||s,r};return n.cache=new(pe.Cache||y),n}function he(e,t){return e===t||e!==e&&t!==t}function me(e){return null!=e&&ge(e.length)&&!_e(e)}function fe(e,t){return Y(e,t)}function _e(e){if(!Ee(e))return!1;var t=V(e);return t==Ye||t==Ge||t==je||t==Qe}function ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=we}function Ee(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ve(e){return null!=e&&"object"==typeof e}function be(e){return"symbol"==typeof e||ve(e)&&V(e)==$e}function Te(e){if("number"==typeof e)return e;if(be(e))return Me;if(Ee(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ee(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(lt,"");var n=ut.test(e);return n||pt.test(e)?ft(e.slice(2),n?2:8):ct.test(e)?Me:+e}function ye(e){return null==e?"":z(e)}function Ce(e,t,n){var a=null==e?ke:j(e,t);return a===ke?n:a}function Se(e){return me(e)?U(e):W(e)}function Ie(){return[]}function Oe(){return!1}var ke,Ae=200,Re="Expected a function",xe="__lodash_hash_undefined__",Pe=500,Le=1,De=2,Ne=1/0,we=9007199254740991,Me=NaN,Ue="[object Arguments]",Fe="[object Array]",je="[object AsyncFunction]",He="[object Boolean]",Ve="[object Date]",qe="[object Error]",Ye="[object Function]",Ge="[object GeneratorFunction]",Be="[object Map]",Ke="[object Number]",We="[object Null]",ze="[object Object]",Qe="[object Proxy]",Xe="[object RegExp]",Ze="[object Set]",Je="[object String]",$e="[object Symbol]",et="[object Undefined]",tt="[object ArrayBuffer]",nt="[object DataView]",at=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,it=/^\w*$/,st=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,lt=/^\s+|\s+$/g,ot=/\\(\\)?/g,ct=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,dt=/^\[object .+?Constructor\]$/,pt=/^0o[0-7]+$/i,ht=/^(?:0|[1-9]\d*)$/,mt={};mt["[object Float32Array]"]=mt["[object Float64Array]"]=mt["[object Int8Array]"]=mt["[object Int16Array]"]=mt["[object Int32Array]"]=mt["[object Uint8Array]"]=mt["[object Uint8ClampedArray]"]=mt["[object Uint16Array]"]=mt["[object Uint32Array]"]=!0,mt[Ue]=mt[Fe]=mt[tt]=mt[He]=mt[nt]=mt[Ve]=mt[qe]=mt[Ye]=mt[Be]=mt[Ke]=mt[ze]=mt[Xe]=mt[Ze]=mt[Je]=mt["[object WeakMap]"]=!1;var ft=parseInt,_t="object"==typeof global&&global&&global.Object===Object&&global,gt="object"==typeof self&&self&&self.Object===Object&&self,Et=_t||gt||Function("return this")(),vt="object"==typeof exports&&exports&&!exports.nodeType&&exports,bt=vt&&"object"==typeof module&&module&&!module.nodeType&&module,Tt=bt&&bt.exports===vt,yt=Tt&&_t.process,Ct=function(){try{return yt&&yt.binding&&yt.binding("util")}catch(e){}}(),St=Ct&&Ct.isTypedArray,It=Array.prototype,Ot=Function.prototype,kt=Object.prototype,At=Et["__core-js_shared__"],Rt=Ot.toString,xt=kt.hasOwnProperty,Pt=function(){var e=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Lt=kt.toString,Dt=RegExp("^"+Rt.call(xt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Tt?Et.Buffer:ke,wt=Et.Symbol,Mt=Et.Uint8Array,Ut=kt.propertyIsEnumerable,Ft=It.splice,jt=wt?wt.toStringTag:ke,Ht=Object.getOwnPropertySymbols,Vt=Nt?Nt.isBuffer:ke,qt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Yt=Math.max,Gt=Math.min,Bt=te(Et,"DataView"),Kt=te(Et,"Map"),Wt=te(Et,"Promise"),zt=te(Et,"Set"),Qt=te(Et,"WeakMap"),Xt=te(Object,"create"),Zt=ue(Bt),Jt=ue(Kt),$t=ue(Wt),en=ue(zt),tn=ue(Qt),nn=wt?wt.prototype:ke,an=nn?nn.valueOf:ke,sn=nn?nn.toString:ke;u.prototype.clear=d,u.prototype.delete=p,u.prototype.get=h,u.prototype.has=m,u.prototype.set=f,_.prototype.clear=g,_.prototype.delete=E,_.prototype.get=v,_.prototype.has=b,_.prototype.set=T,y.prototype.clear=C,y.prototype.delete=S,y.prototype.get=I,y.prototype.has=O,y.prototype.set=k,A.prototype.add=A.prototype.push=R,A.prototype.has=x,P.prototype.clear=L,P.prototype.delete=D,P.prototype.get=N,P.prototype.has=w,P.prototype.set=M;var rn=Ht?function(t){return null==t?[]:(t=Object(t),e(Ht(t),function(e){return Ut.call(t,e)}))}:Ie,ln=V;(Bt&&ln(new Bt(new ArrayBuffer(1)))!=nt||Kt&&ln(new Kt)!=Be||Wt&&"[object Promise]"!=ln(Wt.resolve())||zt&&ln(new zt)!=Ze||Qt&&"[object WeakMap]"!=ln(new Qt))&&(ln=function(e){var t=V(e),n=t==ze?e.constructor:ke,a=n?ue(n):"";if(a)switch(a){case Zt:return nt;case Jt:return Be;case $t:return"[object Promise]";case en:return Ze;case tn:return"[object WeakMap]"}return t});var on=function(e){var t=pe(e,function(e){return n.size===Pe&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(st,function(e,n,a,i){t.push(a?i.replace(ot,"$1"):n||e)}),t}),cn=function(){return Et.Date.now()};pe.Cache=y;var un=q(function(){return arguments}())?q:function(e){return ve(e)&&xt.call(e,"callee")&&!Ut.call(e,"callee")},dn=Array.isArray,pn=Vt||Oe,hn=St?function(e){return function(t){return e(t)}}(St):K;c.debounce=de,c.keys=Se,c.memoize=pe,c.eq=he,c.get=Ce,c.isArguments=un,c.isArray=dn,c.isArrayLike=me,c.isBuffer=pn,c.isEqual=fe,c.isFunction=_e,c.isLength=ge,c.isObject=Ee,c.isObjectLike=ve,c.isSymbol=be,c.isTypedArray=hn,c.stubArray=Ie,c.stubFalse=Oe,c.now=cn,c.toNumber=Te,c.toString=ye,c.VERSION="4.17.5","function"==typeof define&&"object"==typeof define.amd&&define.amd&&define("lodash",[],function(){return c})}.call(this),define("lib/cookie",[],function(){"use strict";return function(e,t,n){if(void 0===t){var a=null;if(document.cookie&&""!==document.cookie)for(var i=document.cookie.split(";"),s=0;s<i.length;s++){var r=i[s].trim();if(r.substring(0,e.length+1)===e+"="){a=decodeURIComponent(r.substring(e.length+1));break}}return a}n=n||{},null===t&&(t="",n.expires=-1);var l="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var o;"number"==typeof n.expires?(o=new Date,o.setTime(o.getTime()+24*n.expires*60*60*1e3)):o=n.expires,l="; expires="+o.toUTCString()}var c=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),l,c,u,d].join("")}}),define("lib/deparam",[],function(){"use strict";return function(e,t){var n={},a={true:!0,false:!1,null:null};return e.replace(/\+/g," ").split("&").forEach(function(e){var i,s=e.split("="),r=decodeURIComponent(s[0]),l=n,o=0,c=r.split("]["),u=c.length-1;if(/\[/.test(c[0])&&/\]$/.test(c[u])?(c[u]=c[u].replace(/\]$/,""),c=c.shift().split("[").concat(c),u=c.length-1):u=0,2===s.length)if(i=decodeURIComponent(s[1]),t&&(i=i&&!isNaN(i)?+i:"undefined"===i?void 0:void 0!==a[i]?a[i]:i),u)for(o;o<=u;o++)r=""===c[o]?l.length:c[o],l=l[r]=o<u?l[r]||(c[o+1]&&isNaN(c[o+1])?{}:[]):i;else Array.isArray(n[r])?n[r].push(i):void 0!==n[r]?n[r]=[n[r],i]:n[r]=i;else r&&(n[r]=t?void 0:"")}),n}}),define("lib/window",["lib/deparam"],function(e){"use strict";return{setTimeout:function(e,t){window.setTimeout(e,t)},setInterval:function(e,t){return window.setInterval(e,t)},clearInterval:function(e){e&&window.clearInterval(e)},getLocation:function(e){return e?window.location[e]:window.location},setLocation:function(e){window.location.assign(e)},setLocationHash:function(e){window.location.hash=e},reloadLocation:function(){window.location.reload()},getPath:function(){var e=window.location;return e.pathname+e.search+e.hash},supportsReplaceState:function(){return window.history&&window.history.replaceState},replaceState:function(){this.supportsReplaceState()&&window.history.replaceState.apply(window.history,arguments)},supportsPushState:function(){return window.history&&window.history.pushState},pushState:function(){this.supportsPushState()&&window.history.pushState.apply(window.history,arguments)},getSearchObject:function(){var t=this.getLocation("search");return t?(t=t.substr(1),e(t)):{}},getOrigin:function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},getReferrer:function(){return document.referrer},getNumberFormat:function(e){return window.Intl?new window.Intl.NumberFormat(e):null},performance:function(){return window.performance?window.performance:null},open:function(e){return window.open(e)}}}),function(){var e,t=this,n=Array.prototype.forEach,a=Object.prototype.hasOwnProperty,i=Array.prototype.slice,s=0,r=function(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++s+"";return e?e+t:t},has:function(e,t){return a.call(e,t)},each:function(e,t,a){if(null!=e)if(n&&e.forEach===n)e.forEach(t,a);else if(e.length===+e.length)for(var i=0,s=e.length;i<s;i++)t.call(a,e[i],i,e);else for(var r in e)this.has(e,r)&&t.call(a,e[r],r,e)},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}();e={on:function(e,t,n){return o(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!o(this,"once",e,[t,n])||!t)return this;var a=this,i=r.once(function(){a.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var a,i,s,l,c,u,d,p;if(!this._events||!o(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(l=e?[e]:r.keys(this._events),c=0,u=l.length;c<u;c++)if(e=l[c],s=this._events[e]){if(this._events[e]=a=[],t||n)for(d=0,p=s.length;d<p;d++)i=s[d],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&a.push(i);a.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!o(this,"trigger",e,t))return this;var n=this._events[e],a=this._events.all;return n&&c(n,t),a&&c(a,arguments),this},stopListening:function(e,t,n){var a=this._listeners;if(!a)return this;var i=!t&&!n;"object"==typeof t&&(n=this),e&&((a={})[e._listenerId]=e);for(var s in a)a[s].off(t,n,this),i&&delete this._listeners[s];return this}};var l=/\s+/,o=function(e,t,n,a){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(a));return!1}if(l.test(n)){for(var s=n.split(l),r=0,o=s.length;r<o;r++)e[t].apply(e,[s[r]].concat(a));return!1}return!0},c=function(e,t){var n,a=-1,i=e.length,s=t[0],r=t[1],l=t[2];switch(t.length){case 0:for(;++a<i;)(n=e[a]).callback.call(n.ctx);return;case 1:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s);return;case 2:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s,r);return;case 3:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s,r,l);return;default:for(;++a<i;)(n=e[a]).callback.apply(n.ctx,t)}},u={listenTo:"on",listenToOnce:"once"};r.each(u,function(t,n){e[n]=function(e,n,a){return(this._listeners||(this._listeners={}))[e._listenerId||(e._listenerId=r.uniqueId("l"))]=e,"object"==typeof n&&(a=this),e[t](n,a,this),this}}),e.bind=e.on,e.unbind=e.off,e.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return r.each(t,function(t){e[t]=this[t]},this),e},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.BackboneEvents=e):"function"==typeof define?define("vendor/backbone-events-standalone",[],function(){return e}):t.BackboneEvents=e}(),define("lib/uiEvents",["vendor/backbone-events-standalone"],function(e){"use strict";return e.mixin({LIBRARIES_UPDATED:"librariesUpdated",DEFAULT_LIBRARY_UPDATED:"defaultLibraryUpdated",ENTITLEMENT_UPDATED:"entitlementUpdated",ASSET_LICENSED:"assetLicensed",ASSET_DELETED:"assetDeleted",ASSET_LICENSE_REQUEST_PENDING:"assetLicenseRequestPending",FILTER_VIDEO_ONLY:"videoOnly",NOTIFICATION_SHOW:"showHeaderNotification",DETAIL_BUTTON:{UPDATE_STATE:"licensed"},DETAILS_PANEL:{OPEN:"openDetailsPanel",CLOSE:"closeDetailsPanel"},MOSAIC_RELOADED:"reloaded.adobestock_mosaic",HOVER_MENU_ACTION_PANEL_EXPANDED:"hoverMenuActionPanel",WELCOME_BACK_MODEL_DISPLAYED:"welcomeBackModal",FOTOLIA_MIGRATION_IS_OVER:"fotoliaMigrationOver",SEARCH_RESULTS_UPDATED:"searchResultsUpdated",UPDATE_SEARCH_RESULTS_CACHE:"updateSearchResultsCache",DATE_RANGE_PICKER:{CANCEL:"dateRangePickerCancel",APPLY:"dateRangePickerApply"},BODY_CLICKED:"bodyClicked"})}),define("lib/licenseType",[],function(){"use strict";return{LICENSE_TYPE_ID_CREDITS_CORE:15,LICENSE_TYPE_ID_CREDITS_GENERIC:16,LICENSE_TYPE_ID_AGENCY_STANDARD_CREDITS:42,LICENSE_TYPE_ID_AGENCY_PREMIUM_CREDITS:44,LICENSE_TYPE_ID_AGENCY_UNIVERSAL_CREDITS:43,LICENSE_TYPE_ID_CCE_BUNDLE:53,isLicenseTypeCredit:function(e){var t=!1;switch(e){case 15:case 16:case 42:case 44:case 43:t=!0;break;default:t=!1}return t}}}),define("lib/member",["jquery","page_config","lib/cookie","lib/uiEvents","lib/licenseType","lodash"],function(e,t,n,a,i,s){"use strict";function r(e){return e>0&&(e-=1),e}function l(e,t){return e>=t&&(e-=t),e}return{_imsProfile:null,_stockProfile:null,CONTENT_TYPE_ID_PHOTO:1,CONTENT_TYPE_VIDEO:4,CONTENT_TYPE_ILLUSTRATION:2,CONTENT_TYPE_VECTOR:3,CONTENT_TYPE_INSTANT:5,CONTENT_TYPE_3D:6,CONTENT_TYPE_TEMPLATE:7,setImsProfile:function(e){this._imsProfile=e},getServiceAccounts:function(){return this._imsProfile?this._imsProfile.serviceAccounts:null},setStockProfile:function(e){this._stockProfile=e},getCountryCode:function(){return this._imsProfile?this._imsProfile.countryCode:t.default_country_code?t.default_country_code:"US"},getMigrationV2UpgradeCandidate:function(){return this._stockProfile.migration_v2_upgrade_candidate},isMigrationV2UpgradeCandidate:function(e,t){return t&&!this.hasQuota(e,t,e)&&2!=e&&this.getMigrationV2UpgradeCandidate()&&!t.is_premium&&!t.is_editorial&&!t.is_free&&!t.is_video},isLoggedIn:function(){var e=!!this._imsProfile;return e||(e=n(t.SUSI.COOKIE_STOCK_ONLY_LOGGED_IN)),e},isZombieUser:function(){return"interim"===n(t.SUSI.COOKIE_STOCK_ONLY_LOGGED_IN)},isGhostUser:function(){return"ghost"===n(t.SUSI.COOKIE_STOCK_ONLY_LOGGED_IN)},getDefaultEntitlement:function(){return this._stockProfile?this._stockProfile.default_entitlement:null},isEnterpriseDiscountEligible:function(){return!!this._stockProfile&&this._stockProfile.is_enterprise_discount_eligible},getEnterpriseOffer:function(){var e=this.getDefaultEntitlement(),t=null;return e&&e.organization&&(t=e.organization.enterprise_offer),t},hasEnterpriseCreditCardPurchaseEnabled:function(){return!!this._stockProfile&&!!this._stockProfile.has_enterprise_credit_card_purchase_enabled},hasEnoughQuotaForPossibleAssetLicenses:function(e,t){var n,a,i,s=e.possible_licenses||[],r=this.getDefaultEntitlement()&&this.getDefaultEntitlement().is_cce;return!(r&&!e.is_bundle_licensable)||!t.is_organization_out_of_quota&&s.some(function(s){return i=e.license_details[s].license_type_id,n=e.license_details[s].quota,(a=t.total_quota_available_by_license_type_id[i]||0)>=n})},getMemberId:function(){return this._stockProfile?this._stockProfile.member_id:null},getGuid:function(){return this._imsProfile?this._imsProfile.userId:null},getCleanGuid:function(e){var t,n=this.getGuid();return n&&(t=n.indexOf("@"),e?-1!==t&&(n=n.substr(0,t)):n=n.replace("@AdobeID","")),n},updateDefaultEntitlement:function(e){this._stockProfile.default_entitlement=e,a.trigger(a.ENTITLEMENT_UPDATED)},consumeDefaultEntitlementLicense:function(){this._stockProfile.default_entitlement&&a.trigger(a.ENTITLEMENT_UPDATED)},consumeDefaultEntitlementLicenseType:function(e,t){var n;if(this._stockProfile.default_entitlement&&(n=this._stockProfile.default_entitlement.quotas_labels_by_license_type_id||{}),n&&n[e]&&n[e].quota>=t)e=parseInt(e),this._stockProfile.default_entitlement.quotas_labels_by_license_type_id[e].quota=l(n[e].quota,t),a.trigger(a.ENTITLEMENT_UPDATED);else if(this._stockProfile.default_entitlement&&this._stockProfile.default_entitlement.total_quota_available_by_license_type_id[e]>=t){switch(e=parseInt(e)){case i.LICENSE_TYPE_ID_CREDITS_CORE:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Images=l(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Images,t);break;case i.LICENSE_TYPE_ID_CREDITS_GENERIC:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Generic=l(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Generic,t);break;case i.LICENSE_TYPE_ID_AGENCY_STANDARD_CREDITS:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Standard=l(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Standard,t);break;case i.LICENSE_TYPE_ID_AGENCY_PREMIUM_CREDITS:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Premium=l(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Premium,t);break;case i.LICENSE_TYPE_ID_AGENCY_UNIVERSAL_CREDITS:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Universal=l(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Universal,t)}a.trigger(a.ENTITLEMENT_UPDATED)}},consumeDefaultEntitlementQuotaLicense:function(e){e&&!e.no_quota_consumption&&(!i.isLicenseTypeCredit(e.license_type_id)||e.is_cce&&!e.is_license_again_workflow?this.consumeDefaultEntitlementLicense():this.consumeDefaultEntitlementLicenseType(e.license_type_id,e.required_quota))},updateCreditPackQuota:function(e){s.get(this._stockProfile,"default_entitlement.available_credit_pack_quota")&&(this._stockProfile.default_entitlement.available_credit_pack_quota=e,a.trigger(a.ENTITLEMENT_UPDATED))},getLicenseIdByContentTypeId:function(e){switch(e){case 1:case 2:case 3:case 5:case 7:case 6:return this.hasCCTPro()?10:1;case 4:return 3;default:return!1}},getUsername:function(){var e=null;return this._imsProfile&&(this.isTeam()?e=this._stockProfile.default_entitlement.label:(e="JP"==this._imsProfile.countryCode?this._imsProfile.last_name+"":this._imsProfile.first_name,this.isGhostUser()&&(e=this._imsProfile.email))),e},getProfileName:function(){var e=this.getUsername();return this._stockProfile&&this._stockProfile.profile_name&&(e=this._stockProfile.profile_name),e},isTeam:function(){return!!(this._stockProfile&&this._stockProfile.default_entitlement&&this._stockProfile.default_entitlement.guid)},isType2E:function(){return this._stockProfile&&this._stockProfile.is_type2e},isAdmin:function(){return this.isTeam()&&this._stockProfile.default_entitlement.is_admin},getDefaultCloudId:function(){var e=this.getResolvedStockProfile();return e?e.default_cloud_id:null},getDefaultLibraryId:function(){var e=this.getResolvedStockProfile();return e?e.default_library_id:null},getDefaultOpenInAppCode:function(){var e=this.getResolvedStockProfile();return e?e.default_openin_appcode:null},hasStorageQuota:function(){var e=this.getResolvedStockProfile();return!!e&&e.has_storage_quota},hasCCPublicStorageQuota:function(){var e=this.getResolvedStockProfile();return e?e.has_ccpublic_storage_quota:null},isCCEPrivateUser:function(){var e=this.getResolvedStockProfile();return!!e&&e.is_cce_private_user},isCCE:function(){var e=this.getResolvedStockProfile();return!!e&&e.is_cce},isCCActive:function(){var e=this.getServiceAccounts(),t=!1;if(e)for(var n=0,a=e.length;n<a;n++)"creative_cloud"==e[n].serviceCode&&"ACTIVE"==e[n].serviceStatus&&(t=!0);return t},isDefaultEntitlementCCE:function(){var e=this.getDefaultEntitlement();return e&&void 0!==e.is_cce?e.is_cce:this.isCCE()},getClouds:function(){var e=this.getResolvedStockProfile();return!!e&&e.clouds},getDefaultCloudVal:function(){var e=this.getDefaultCloudId(),t="Creative Cloud";if(e){var n=this.getClouds();if(n&&n.length>0)for(var a in n)n[a].id==e&&(t=n[a].name)}return t},getResolvedImsProfile:function(){return this._imsProfile?this._imsProfile:t.SUSI.profile?t.SUSI.profile:null},getResolvedStockProfile:function(){return this._stockProfile?this._stockProfile:t.member?t.member:null},hasCCEOldModel:function(){var e=!1;return!this.isDefaultEntitlementCCE()||this.hasCreditsModel()||this.hasAgencyModel()||this.hasStockBundle()||(e=!0),e},hasCreditsModel:function(){var e=this._stockProfile.default_entitlement;return e?e.is_cce&&e.has_credit_model:this.isCCE()},hasAgencyModel:function(){var t=this._stockProfile.default_entitlement;return e.isEmptyObject(t)?this.isCCE():t.is_cce&&t.has_agency_model},isEnterprise:function(){return this.hasCreditsModel()||this.hasAgencyModel()},hasVideoQuota:function(){return!!(this._stockProfile&&this._stockProfile.default_entitlement&&this._stockProfile.default_entitlement.displayable_quota_available_by_license_name)&&(this._stockProfile.default_entitlement.displayable_quota_available_by_license_name.Video_4K>0||this._stockProfile.default_entitlement.displayable_quota_available_by_license_name.Video_HD>0)},hasStandardQuota:function(){return!!(this._stockProfile&&this._stockProfile.default_entitlement&&this._stockProfile.default_entitlement.displayable_quota_available_by_license_name)&&this._stockProfile.default_entitlement.displayable_quota_available_by_license_name.Standard>0},hasExtendedImageQuota:function(){return!!(this._stockProfile&&this._stockProfile.default_entitlement&&this._stockProfile.default_entitlement.displayable_quota_available_by_license_name)&&this._stockProfile.default_entitlement.displayable_quota_available_by_license_name.Extended>0},hasLicensesForContent:function(e){return e.is_video?this.hasVideoQuota():this.hasStandardQuota()},hasSubscription:function(){return!!(this.isLoggedIn()&&this._stockProfile&&this._stockProfile.default_entitlement)&&this._stockProfile.default_entitlement.has_subscription},isCheckoutEligible:function(e){return!!this.hasEnterpriseCreditCardPurchaseEnabled()||(!(this.isLoggedIn()&&this.isTeam()&&!e)||!(!this.isType2E()||!t.is_team_plans))},isFMFEligible:function(){return!(this.isLoggedIn()&&this._stockProfile&&this._stockProfile.default_entitlement)||this._stockProfile.default_entitlement.is_fmf_eligible},hasAvailableCreditPackQuota:function(){var e=this.getDefaultEntitlement();return e&&e.available_credit_pack_quota>0},hasEverHadCreditPacks:function(){var e=this.getDefaultEntitlement();return e&&e.has_ever_had_credit_packs},hasQuota:function(e,t,n){var a=this.hasCCTPro();if((1===n||10===n)&&s.get(t,"can_license_with_cct_pro")&&a)return!0;var i=s.get(t,"is_premium"),r=s.get(t,"possible_data_premium."+e);return!i&&!r&&(s.get(this,'_stockProfile.default_entitlement.total_quota_available_by_license_id["'+e+'"]',0)>0||s.get(this,'_stockProfile.default_entitlement.displayable_quota_available_by_license_id["'+e+'"]',0)>0&&!this.hasAvailableCreditPackQuota())},updateQuotaFromLicenseName:function(e,t){var n=s.get(this,'_stockProfile.default_entitlement.total_quota_available_by_license_name["'+t+'"]'),a=s.get(this,"_stockProfile.default_entitlement.total_quota_available_by_license_name"),i=s.get(this,'_stockProfile.default_entitlement.total_quota_available_by_license_id["'+e+'"]'),l=s.get(this,"_stockProfile.default_entitlement.total_quota_available_by_license_id"),o=s.get(this,'_stockProfile.default_entitlement.displayable_quota_available_by_license_name["'+t+'"]'),c=s.get(this,"_stockProfile.default_entitlement.displayable_quota_available_by_license_name"),u=s.get(this,'_stockProfile.default_entitlement.displayable_quota_available_by_license_id["'+e+'"]'),d=s.get(this,"_stockProfile.default_entitlement.displayable_quota_available_by_license_id");e&&t&&a&&l&&c&&d&&(a[t]=r(n),l[e]=r(i),c[t]=r(o),d[e]=r(u))},getOmnitureTeamProfileType:function(){return this._stockProfile&&this._stockProfile.default_entitlement?this._stockProfile.default_entitlement.team_profile_type:null},getOmnitureMemberType:function(){return this._stockProfile?this._stockProfile.member_type:null},
hasBoughtSomething:function(){return!(!this._stockProfile||!this._stockProfile.default_entitlement)&&this._stockProfile.default_entitlement.has_bought_something},getOmnitureMemberStatus:function(){return this._stockProfile?this._stockProfile.member_status:null},mustLicenseRequest:function(){var e=this.getResolvedStockProfile();return!!e&&!!e.must_license_request},hasStockBundle:function(){var e=this.getResolvedStockProfile();return!!e&&!!e.has_stock_bundle},hasQuotesEnabled:function(){var e=this.getResolvedStockProfile();return!!e&&!!e.has_quotes_enabled},isTeamTrialFreeQuotaAvailable:function(){var e=this.getResolvedStockProfile();return!!e&&e.is_team_trial_free_quota_available},getQuotaDataByLicenseTypeId:function(e){var e=e||this.getDefaultEntitlement(),t=null;return e&&e.quotas_labels_by_license_type_id&&Object.keys(e.quotas_labels_by_license_type_id).length>0&&(t=e.quotas_labels_by_license_type_id),t},shouldDisplayLicenseCounter:function(t){var t=t||this.getDefaultEntitlement()||{};return!("number"!=typeof t.displayable_quota_available&&!this.hasCCTPro()&&!t.has_ever_had_credit_packs&&e.isEmptyObject(t.quotas_labels_by_license_type_id))},getPrivateCloudUrlForLibraries:function(){var e=this.getClouds(),t={};if(e&&e.length>0)for(var n=this.getDefaultCloudId(),a=0;a<e.length;a++){var i=e[a];if(i.id&&i.id==n||!n&&this.isCCEPrivateUser()&&!this.hasCCPublicStorageQuota()){t={isPrivateCloud:!0,libraryServiceURL:i.url,privateCloudId:i.id,storageHost:i.storage_url?i.storage_url.replace(/^https?:\/\//,""):""};break}}return t},fetchAccessToken:function(){return this.isGhostUser()?null:n(t.SUSI.COOKIE_IMS_ACCESS_TOKEN)},checkAccessToken:function(e,t){return this.isGhostUser()?(e.resolve([]),!1):!!t||(e.reject(),!1)},hasCCTPro:function(){return s.get(this,"_stockProfile.has_cct_pro",!1)},shouldDisplayTeamEntitlementErrorModal:function(){return s.get(this,"_stockProfile.show_team_entitlement_error",!1)}}}),function(e,t){function n(e){return d.PF.compile(e||"nplurals=2; plural=(n != 1);")}function a(e,t){this._key=e,this._i18n=t}var i=Array.prototype,s=Object.prototype,r=i.slice,l=s.hasOwnProperty,o=i.forEach,c={},u={forEach:function(e,t,n){var a,i,s;if(null!==e)if(o&&e.forEach===o)e.forEach(t,n);else if(e.length===+e.length){for(a=0,i=e.length;a<i;a++)if(a in e&&t.call(n,e[a],a,e)===c)return}else for(s in e)if(l.call(e,s)&&t.call(n,e[s],s,e)===c)return},extend:function(e){return this.forEach(r.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e}},d=function(e){if(this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals=2; plural=(n != 1);"}}},domain:"messages",debug:!1},this.options=u.extend({},this.defaults,e),this.textdomain(this.options.domain),e.domain&&!this.options.locale_data[this.options.domain])throw new Error("Text domain set to non-existent domain: `"+e.domain+"`")};d.context_delimiter=String.fromCharCode(4),u.extend(a.prototype,{onDomain:function(e){return this._domain=e,this},withContext:function(e){return this._context=e,this},ifPlural:function(e,t){return this._val=e,this._pkey=t,this},fetch:function(e){return"[object Array]"!={}.toString.call(e)&&(e=[].slice.call(arguments,0)),(e&&e.length?d.sprintf:function(e){return e})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),e)}}),u.extend(d.prototype,{translate:function(e){return new a(e,this)},textdomain:function(e){if(!e)return this._textdomain;this._textdomain=e},gettext:function(e){return this.dcnpgettext.call(this,void 0,void 0,e)},dgettext:function(e,t){return this.dcnpgettext.call(this,e,void 0,t)},dcgettext:function(e,t){return this.dcnpgettext.call(this,e,void 0,t)},ngettext:function(e,t,n){return this.dcnpgettext.call(this,void 0,void 0,e,t,n)},dngettext:function(e,t,n,a){return this.dcnpgettext.call(this,e,void 0,t,n,a)},dcngettext:function(e,t,n,a){return this.dcnpgettext.call(this,e,void 0,t,n,a)},pgettext:function(e,t){return this.dcnpgettext.call(this,void 0,e,t)},dpgettext:function(e,t,n){return this.dcnpgettext.call(this,e,t,n)},dcpgettext:function(e,t,n){return this.dcnpgettext.call(this,e,t,n)},npgettext:function(e,t,n,a){return this.dcnpgettext.call(this,void 0,e,t,n,a)},dnpgettext:function(e,t,n,a,i){return this.dcnpgettext.call(this,e,t,n,a,i)},dcnpgettext:function(e,t,a,i,s){i=i||a,e=e||this._textdomain;var r;if(!this.options)return r=new d,r.dcnpgettext.call(r,void 0,void 0,a,i,s);if(!this.options.locale_data)throw new Error("No locale data provided.");if(!this.options.locale_data[e])throw new Error("Domain `"+e+"` was not found.");if(!this.options.locale_data[e][""])throw new Error("No locale meta information provided.");if(!a)throw new Error("No translation key found.");var l,o,c,u=t?t+d.context_delimiter+a:a,p=this.options.locale_data,h=p[e],m=(p.messages||this.defaults.locale_data.messages)[""],f=h[""].plural_forms||h[""]["Plural-Forms"]||h[""]["plural-forms"]||m.plural_forms||m["Plural-Forms"]||m["plural-forms"];if(void 0===s)c=0;else{if("number"!=typeof s&&(s=parseInt(s,10),isNaN(s)))throw new Error("The number that was passed in is not a number.");c=n(f)(s)}if(!h)throw new Error("No domain named `"+e+"` could be found.");return!(l=h[u])||c>l.length?(this.options.missing_key_callback&&this.options.missing_key_callback(u,e),o=[a,i],this.options.debug,o[n()(s)]):(o=l[c])||(o=[a,i],o[n()(s)])}});var p=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,a){var i,s,r,l,o,c,u,d=1,h=n.length,m="",f=[];for(s=0;s<h;s++)if("string"===(m=e(n[s])))f.push(n[s]);else if("array"===m){if(l=n[s],l[2])for(i=a[d],r=0;r<l[2].length;r++){if(!i.hasOwnProperty(l[2][r]))throw p('[sprintf] property "%s" does not exist',l[2][r]);i=i[l[2][r]]}else i=l[1]?a[l[1]]:a[d++];if(/[^s]/.test(l[8])&&"number"!=e(i))throw p("[sprintf] expecting number but found %s",e(i));switch(void 0!==i&&null!==i||(i=""),l[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=l[7]?i.toExponential(l[7]):i.toExponential();break;case"f":i=l[7]?parseFloat(i).toFixed(l[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&l[7]?i.substring(0,l[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(l[8])&&l[3]&&i>=0?"+"+i:i,c=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",u=l[6]-String(i).length,o=l[6]?t(c,u):"",f.push(l[5]?i+o:o+i)}return f.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],a=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))a.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))a.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){i|=1;var s=[],r=n[2],l=[];if(null===(l=/^([a-z_][a-z_\d]*)/i.exec(r)))throw"[sprintf] huh?";for(s.push(l[1]);""!==(r=r.substring(l[0].length));)if(null!==(l=/^\.([a-z_][a-z_\d]*)/i.exec(r)))s.push(l[1]);else{if(null===(l=/^\[(\d+)\]/.exec(r)))throw"[sprintf] huh?";s.push(l[1])}n[2]=s}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";a.push(n)}t=t.substring(n[0].length)}return a},n}(),h=function(e,t){return t.unshift(e),p.apply(null,t)};d.parse_plural=function(e,t){return e=e.replace(/n/g,t),d.parse_expression(e)},d.sprintf=function(e,t){return"[object Array]"=={}.toString.call(t)?h(e,[].slice.call(t)):p.apply(this,[].slice.call(arguments))},d.prototype.sprintf=function(){return d.sprintf.apply(this,arguments)},d.PF={},d.PF.parse=function(e){var t=d.PF.extractPluralExpr(e);return d.PF.parser.parse.call(d.PF.parser,t)},d.PF.compile=function(e){function t(e){return!0===e?1:e||0}var n=d.PF.parse(e);return function(e){return t(d.PF.interpreter(n)(e))}},d.PF.interpreter=function(e){return function(t){switch(e.type){case"GROUP":return d.PF.interpreter(e.expr)(t);case"TERNARY":return d.PF.interpreter(e.expr)(t)?d.PF.interpreter(e.truthy)(t):d.PF.interpreter(e.falsey)(t);case"OR":return d.PF.interpreter(e.left)(t)||d.PF.interpreter(e.right)(t);case"AND":return d.PF.interpreter(e.left)(t)&&d.PF.interpreter(e.right)(t);case"LT":return d.PF.interpreter(e.left)(t)<d.PF.interpreter(e.right)(t);case"GT":return d.PF.interpreter(e.left)(t)>d.PF.interpreter(e.right)(t);case"LTE":return d.PF.interpreter(e.left)(t)<=d.PF.interpreter(e.right)(t);case"GTE":return d.PF.interpreter(e.left)(t)>=d.PF.interpreter(e.right)(t);case"EQ":return d.PF.interpreter(e.left)(t)==d.PF.interpreter(e.right)(t);case"NEQ":return d.PF.interpreter(e.left)(t)!=d.PF.interpreter(e.right)(t);case"MOD":return d.PF.interpreter(e.left)(t)%d.PF.interpreter(e.right)(t);case"VAR":return t;case"NUM":return e.val;default:throw new Error("Invalid Token found.")}}},d.PF.extractPluralExpr=function(e){e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),/;\s*$/.test(e)||(e=e.concat(";"));var t,n=/nplurals\=(\d+);/,a=/plural\=(.*);/,i=e.match(n),s={};if(!(i.length>1))throw new Error("nplurals not found in plural_forms string: "+e);if(s.nplurals=i[1],e=e.replace(n,""),!((t=e.match(a))&&t.length>1))throw new Error("`plural` expression not found: "+e);return t[1]},d.PF.parser=function(){var e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"&&":9,"<":10,"<=":11,">":12,">=":13,"!=":14,"==":15,"%":16,"(":17,")":18,n:19,NUMBER:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"&&",10:"<",11:"<=",12:">",13:">=",14:"!=",15:"==",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function(e,t,n,a,i,s,r){var l=s.length-1;switch(i){case 1:return{type:"GROUP",expr:s[l-1]};case 2:this.$={type:"TERNARY",expr:s[l-4],truthy:s[l-2],falsey:s[l]};break;case 3:this.$={type:"OR",left:s[l-2],right:s[l]};break;case 4:this.$={type:"AND",left:s[l-2],right:s[l]};break;case 5:this.$={type:"LT",left:s[l-2],right:s[l]};break;case 6:this.$={type:"LTE",left:s[l-2],right:s[l]};break;case 7:this.$={type:"GT",left:s[l-2],right:s[l]};break;case 8:this.$={type:"GTE",left:s[l-2],right:s[l]};break;case 9:this.$={type:"NEQ",left:s[l-2],right:s[l]};break;case 10:this.$={type:"EQ",left:s[l-2],right:s[l]};break;case 11:this.$={type:"MOD",left:s[l-2],right:s[l]};break;case 12:this.$={type:"GROUP",expr:s[l-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(e)}}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,a=[0],i=[null],s=[],r=this.table,l="",o=0,c=0,u=0,d=2;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;s.push(p),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,m,f,_,g,E,v,b,T,y={};;){if(f=a[a.length-1],this.defaultActions[f]?_=this.defaultActions[f]:(null==h&&(h=t()),_=r[f]&&r[f][h]),void 0===_||!_.length||!_[0]){if(!u){T=[];for(E in r[f])this.terminals_[E]&&E>2&&T.push("'"+this.terminals_[E]+"'");var C="";C=this.lexer.showPosition?"Parse error on line "+(o+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+T.join(", ")+", got '"+this.terminals_[h]+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(C,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:p,expected:T})}if(3==u){if(1==h)throw new Error(C||"Parsing halted.");c=this.lexer.yyleng,l=this.lexer.yytext,o=this.lexer.yylineno,p=this.lexer.yylloc,h=t()}for(;;){if(d.toString()in r[f])break;if(0==f)throw new Error(C||"Parsing halted.");!function(e){a.length=a.length-2*e,i.length=i.length-e,s.length=s.length-e}(1),f=a[a.length-1]}m=h,h=d,f=a[a.length-1],_=r[f]&&r[f][d],u=3}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+h);switch(_[0]){case 1:a.push(h),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),a.push(_[1]),h=null,m?(h=m,m=null):(c=this.lexer.yyleng,l=this.lexer.yytext,o=this.lexer.yylineno,p=this.lexer.yylloc,u>0&&u--);break;case 2:if(v=this.productions_[_[1]][1],y.$=i[i.length-v],y._$={first_line:s[s.length-(v||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(v||1)].first_column,last_column:s[s.length-1].last_column},void 0!==(g=this.performAction.call(y,l,c,o,this.yy,_[1],i,s)))return g;v&&(a=a.slice(0,-1*v*2),i=i.slice(0,-1*v),s=s.slice(0,-1*v)),a.push(this.productions_[_[1]][0]),i.push(y.$),s.push(y._$),b=r[a[a.length-2]][a[a.length-1]],a.push(b);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t;this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),a=0;a<n.length;a++)if(e=this._input.match(this.rules[n[a]]))return t=e[0].match(/\n.*/g),t&&(this.yylineno+=t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:t?t[t.length-1].length-1:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],this.performAction.call(this,this.yy,this,n[a],this.conditionStack[this.conditionStack.length-1])||void 0;if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.performAction=function(e,t,n,a){switch(n){case 0:break;case 1:return 20;case 2:return 19;case 3:return 8;case 4:return 9;case 5:return 6;case 6:return 7;case 7:return 11;case 8:return 13;case 9:return 10;case 10:return 12;case 11:return 14;case 12:return 15;case 13:return 16;case 14:return 17;case 15:return 18;case 16:return 5;case 17:return"INVALID"}},e.rules=[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./],e.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}},e}();return e.lexer=t,e}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=d),exports.Jed=d):("function"==typeof define&&define.amd&&define("i18n",[],function(){return d}),e.Jed=d)}(this),function(e,t){"function"==typeof define&&define.amd?define("Handlebars",[],t):"object"==typeof exports?module.exports=t():e.Handlebars=t()}(this,function(){var e=function(){"use strict";function e(e){return o[e]}function t(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function n(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1}function a(t){return t&&t.toHTML?t.toHTML():null==t?"":t?(t=""+t,u.test(t)?t.replace(c,e):t):t+""}function i(e){return!e&&0!==e||!(!h(e)||0!==e.length)}function s(e,t){return e.path=t,e}function r(e,t){return(e?e+".":"")+t}var l={},o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,u=/[&<>"'`]/;l.extend=t;var d=Object.prototype.toString;l.toString=d;var p=function(e){return"function"==typeof e};p(/x/)&&(p=function(e){return"function"==typeof e&&"[object Function]"===d.call(e)});var p;l.isFunction=p;var h=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===d.call(e)};return l.isArray=h,l.indexOf=n,l.escapeExpression=a,l.isEmpty=i,l.blockParams=s,l.appendContextPath=r,l}(),t=function(){"use strict";function e(e,n){var a,i,s=n&&n.loc;s&&(a=s.start.line,i=s.start.column,e+=" - "+a+":"+i);for(var r=Error.prototype.constructor.call(this,e),l=0;l<t.length;l++)this[t[l]]=r[t[l]];s&&(this.lineNumber=a,this.column=i)}var t=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,e}(),n=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},a(this)}function a(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var a=n.inverse,i=n.fn;if(!0===t)return i(this);if(!1===t||null==t)return a(this);if(o(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):a(this);if(n.data&&n.ids){var r=h(n.data);r.contextPath=s.appendContextPath(n.data.contextPath,n.name),n={data:r}}return i(t,n)}),e.registerHelper("each",function(e,t){function n(t,n,r){a&&(a.key=t,a.index=n,a.first=0===n,a.last=!!r,i&&(a.contextPath=i+t)),p+=l(e[t],{data:a,blockParams:s.blockParams([e[t],t],[i+t,null])})}if(!t)throw new r("Must pass iterator to #each");var a,i,l=t.fn,u=t.inverse,d=0,p="";if(t.data&&t.ids&&(i=s.appendContextPath(t.data.contextPath,t.ids[0])+"."),c(e)&&(e=e.call(this)),t.data&&(a=h(t.data)),e&&"object"==typeof e)if(o(e))for(var m=e.length;d<m;d++)n(d,d,d===e.length-1);else{var f;for(var _ in e)e.hasOwnProperty(_)&&(f&&n(f,d-1),f=_,d++);f&&n(f,d-1,!0)}return 0===d&&(p=u(this)),p}),e.registerHelper("if",function(e,t){return c(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||s.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){c(e)&&(e=e.call(this));var n=t.fn;if(s.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var a=h(t.data);a.contextPath=s.appendContextPath(t.data.contextPath,t.ids[0]),t={data:a}}return n(e,t)}),e.registerHelper("log",function(t,n){var a=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(a,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var i={},s=e,r=t;i.VERSION="3.0.0";i.COMPILER_REVISION=6;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};i.REVISION_CHANGES=l;var o=s.isArray,c=s.isFunction,u=s.toString;i.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:d,log:p,registerHelper:function(e,t){if("[object Object]"===u.call(e)){if(t)throw new r("Arg not supported with multiple helpers");s.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===u.call(e))s.extend(this.partials,e);else{if(void 0===t)throw new r("Attempting to register a partial as undefined");this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(e,t){if("undefined"!=typeof console&&d.level<=e){var n=d.methodMap[e];(console[n]||console.log).call(console,t)}}};i.logger=d;var p=d.log;i.log=p;var h=function(e){var t=s.extend({},e);return t._parent=e,t};return i.createFrame=h,i}(e,t),a=function(){"use strict";function e(e){this.string=e}return e.prototype.toString=e.prototype.toHTML=function(){return""+this.string},e}(),i=function(e,t,n){"use strict";function a(e){var t=e&&e[0]||1,n=h;if(t!==n){if(t<n){var a=m[n],i=m[t];throw new p("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+a+") or downgrade your runtime to an older version ("+i+").")}throw new p("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function i(e,t){if(!t)throw new p("No environment passed to template");if(!e||!e.main)throw new p("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,a,i){i.hash&&(a=d.extend({},a,i.hash)),n=t.VM.resolvePartial.call(this,n,a,i);var s=t.VM.invokePartial.call(this,n,a,i);if(null==s&&t.compile&&(i.partials[i.name]=t.compile(n,e.compilerOptions,t),s=i.partials[i.name](a,i)),null!=s){if(i.indent){for(var r=s.split("\n"),l=0,o=r.length;l<o&&(r[l]||l+1!==o);l++)r[l]=i.indent+r[l];s=r.join("\n")}return s}throw new p("The partial "+i.name+" could not be compiled when running in runtime-only mode")},a={strict:function(e,t){if(!(t in e))throw new p('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,a=0;a<n;a++)if(e[a]&&null!=e[a][t])return e[a][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:d.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n,a,i){var r=this.programs[e],l=this.fn(e);return t||i||a||n?r=s(this,e,l,t,n,a,i):r||(r=this.programs[e]=s(this,e,l)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=d.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},i=function(t,n){n=n||{};var s=n.data;i._setup(n),!n.partial&&e.useData&&(s=c(t,s));var r,l=e.useBlockParams?[]:void 0;return e.useDepths&&(r=n.depths?[t].concat(n.depths):[t]),e.main.call(a,t,a.helpers,a.partials,s,l,r)};return i.isTop=!0,i._setup=function(n){n.partial?(a.helpers=n.helpers,a.partials=n.partials):(a.helpers=a.merge(n.helpers,t.helpers),e.usePartial&&(a.partials=a.merge(n.partials,t.partials)))},i._child=function(t,n,i,r){if(e.useBlockParams&&!i)throw new p("must pass block params");if(e.useDepths&&!r)throw new p("must pass parent depths");return s(a,t,e[t],n,0,i,r)},i}function s(e,t,n,a,i,s,r){var l=function(t,i){return i=i||{},n.call(e,t,e.helpers,e.partials,i.data||a,s&&[i.blockParams].concat(s),r&&[t].concat(r))};return l.program=t,l.depth=r?r.length:0,l.blockParams=i||0,l}function r(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e=n.partials[n.name],e}function l(e,t,n){if(n.partial=!0,void 0===e)throw new p("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function o(){return""}function c(e,t){return t&&"root"in t||(t=t?f(t):{},t.root=e),t}var u={},d=e,p=t,h=n.COMPILER_REVISION,m=n.REVISION_CHANGES,f=n.createFrame;return u.checkRevision=a,u.template=i,u.program=s,u.resolvePartial=r,u.invokePartial=l,u.noop=o,u}(e,t,n);return function(e,t,n,a,i){"use strict";var s=e,r=t,l=n,o=a,c=i,u=function(){var e=new s.HandlebarsEnvironment;return o.extend(e,s),e.SafeString=r,e.Exception=l,e.Utils=o,e.escapeExpression=o.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e},d=u();d.create=u;var p="undefined"!=typeof global?global:window,h=p.Handlebars;return d.noConflict=function(){p.Handlebars===d&&(p.Handlebars=h)},d.default=d,d}(n,a,t,e,i)}),define("viewHelpers/numberFormatI18n",["jquery","lib/window","page_config"],function(e,t,n){"use strict";var a=!1,i={1:"USD",2:"EUR",3:"GBP",4:"AUD",5:"CAD",6:"JPY",7:"CHF",8:"DKK",9:"NOK",10:"SEK"};try{(0).toLocaleString("i")}catch(e){a="RangeError"===e.name}return{format:function(e){var a,i,s=t.getNumberFormat(n.locale_code.replace("_","-"));return s?a=s.format(e):(i=e.toString().split("."),i.length>2?a=e:(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,","),a=i.join("."))),a},formatCurrency:function(e,t){return a?e.toLocaleString(n.locale_code.replace("_","-"),{style:"currency",currency:i[t||1]}):null}}}),define("i18n-config",["jquery","i18n","page_config","Handlebars","viewHelpers/numberFormatI18n"],function(e,t,n,a,i){"use strict";function s(e){return e.replace(/^(?:[a-zA-Z0-9_]+::)+/,"")}var r,l=n.locale_code;r=new t(l&&window.i18ndata&&window.i18ndata[l]?{locale_data:window.i18ndata[l],domain:"adobestock"}:{domain:"adobestock",locale_data:{adobestock:{"":{domain:"adobestock","plural-forms":"nplurals=2; plural=n != 1;",lang:""}}}});var o=r.gettext,c=r.ngettext;return r.gettext=function(e){var t=o.call(r,e);return t===e&&(t=s(t)),t},r.ngettext=function(e,t,n){var a=c.call(r,e,t,n);return a!==e&&a!==t||(a=s(a)),a},a.registerHelper("_",r.gettext),a.registerHelper("ngettext",r.ngettext),a.registerHelper("sprintf",function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-1),n=e.shift();return t.sprintf(n,e)}),a.registerHelper("escape_sprintf",function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-1),n=a.escapeExpression(e.shift());return new a.SafeString(t.sprintf(n,e))}),a.registerHelper("number",i.format),a.registerHelper("mapToAdobeBaseUrl",function(e){var t=Array.prototype.slice.call(arguments,0,arguments.length-1);if(t.length>=2){if(-1!==Array.prototype.slice.call(t,1,t.length).indexOf(e))return""}return"/hk"===e?"/hk_zh":e}),a.registerHelper("data-t",function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-1),n=e.map(function(e){return a.escapeExpression(e).split(" ").join("-").toLowerCase()});return new a.SafeString(t.sprintf('data-t="%s"',n.join("-")))}),r}),define("lib/error",["jquery","i18n","i18n-config"],function(e,t,n){"use strict";var a=e(".js-alert-error-modal-canvas").first(),i=a.find(".js-error-modal-header"),s=a.find(".js-error-modal-body"),r=a.find(".js-dismiss-error-modal"),l=e(".js-error-modal-canvas").first(),o=l.find(".js-error-modal-header"),c=l.find(".js-error-modal-body"),u=l.find(".js-dismiss-error-modal"),d=u.text(),p=e(".js-short-error-modal-canvas").first(),h=p.find(".js-short-error-modal-body"),m=p.find(".js-short-dismiss-error-modal"),f=m.text(),_=null;return l.on("click",u,function(){_&&_(),l.hide()}),a.on("click",r,function(){_&&_(),a.hide()}),p.on("click",m,function(){_&&_(),p.hide()}),{displayErrorModal:function(e,t,n,i){o.text(e),c.html(t),u.text(n||d),_=i,l.show(),a.hide(),p.hide()},displayAlertErrorModal:function(e,t,n,o){i.text(e),s.html(t),r.text(n||d),_=o,a.show(),l.hide(),p.hide()},displayShortErrorModal:function(e,t,n){h.text(e),m.text(t||f),_=n,p.show(),a.hide(),l.hide()},displayErrorMsgModal:function(e,t,n,a,i){var s=this;e&&e.title&&e.msg?e.msg.length<50?s.displayShortErrorModal(e.msg,a,i):s.displayErrorModal(e.title,e.msg,a,i):s.displayShortErrorModal(n,a,i)},errorMsg:function(e,t){return{title:e,msg:t}},isModalVisible:function(){return l.is(":visible")||p.is(":visible")||a.is(":visible")},displayGenericError:function(){this.displayShortErrorModal(n.gettext("GENERIC::There was an error processing your request."))},displaySelectionLimitErrorMessager:function(e){var a=t.sprintf(n.ngettext("LIBRARY::ACTION::Sorry, this action is limited to %s item per request","LIBRARY::ACTION::Sorry, this action is limited to %s items per request",e),e);this.displayShortErrorModal(a)},displayAjaxErrorResponse:function(e){e&&e.err&&e.err.responseJSON&&e.err.responseJSON.error?this.displayShortErrorModal(e.err.responseJSON.error):this.displayGenericError()}}}),define("app/constants/localStorage",[],function(){"use strict";return{CURRENT_SESSION:"current_session",SESSION_STORAGE_DATA:"session_storage_data",VECTOR_DOWNLOAD_CHOICE_KEY:"vector_download_choice",MEMBER_ONBOARDING_STEP:"onboarding_step",LIBRARY_TOAST_AUTO_SAVE_KEY:"library-toast:auto-save-enabled-v1",LIBRARY_TOAST_AUTO_DOWNLOAD_KEY:"library-toast:auto-download-enabled-v1"}}),define("lib/localStorage",["app/constants/localStorage"],function(e){"use strict";function t(){var e,t=Date.now();try{return localStorage.setItem(t,t),e=localStorage.getItem(t)==t,localStorage.removeItem(t),e&&localStorage}catch(e){}}function n(e,n,a,i){var s;t()&&(s=i?sessionStorage:localStorage,e?s.setItem(e+n,JSON.stringify(a)):s.setItem(n,JSON.stringify(a)))}function a(e,n,a,i){var s,r,l;if(t()){r=i?sessionStorage:localStorage,l=e?e+n:n;try{if(s=JSON.parse(r.getItem(l)))return s}catch(e){window.newrelic&&window.newrelic.noticeError(e,{storage_type:r,storage_key:l})}}return a}function i(e,n,a){var i,s;t()&&(i=a?sessionStorage:localStorage,s=e?e+n:n,i.removeItem(s))}return function(){if(t()){var n=localStorage.getItem(e.CURRENT_SESSION);sessionStorage.length&&n||localStorage.setItem(e.CURRENT_SESSION,Date.now()),window.addEventListener("storage",function(t){
if(t.key===e.CURRENT_SESSION)localStorage.setItem(e.SESSION_STORAGE_DATA,JSON.stringify(sessionStorage)),localStorage.removeItem(e.SESSION_STORAGE_DATA);else if(t.key===e.SESSION_STORAGE_DATA&&!sessionStorage.length)try{var n=JSON.parse(t.newValue);for(var a in n)n.hasOwnProperty(a)&&sessionStorage.setItem(a,n[a])}catch(e){window.newrelic&&window.newrelic.noticeError(e,{data:t.newValue,event_key:t.key})}})}}(),{storage:t,storeData:n,retrieveData:a,removeData:i}}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("redux",[],t):"object"==typeof exports?exports.Redux=t():e.Redux=t()}(this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=n(2),s=a(i),r=n(7),l=a(r),o=n(6),c=a(o),u=n(5),d=a(u),p=n(1),h=a(p);a(n(3)),t.createStore=s.default,t.combineReducers=l.default,t.bindActionCreators=c.default,t.applyMiddleware=d.default,t.compose=h.default},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var a=t[t.length-1],i=t.slice(0,-1);return function(){return i.reduceRight(function(e,t){return t(e)},a.apply(void 0,arguments))}}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function a(){g===_&&(g=_.slice())}function s(){return f}function l(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return a(),g.push(e),function(){if(t){t=!1,a();var n=g.indexOf(e);g.splice(n,1)}}}function u(e){if(!(0,r.default)(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(E)throw Error("Reducers may not dispatch actions.");try{E=!0,f=m(f,e)}finally{E=!1}for(var t=_=g,n=0;t.length>n;n++)t[n]();return e}function d(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");m=e,u({type:c.INIT})}function p(){var e,t=l;return e={subscribe:function(e){function n(){e.next&&e.next(s())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[o.default]=function(){return this},e}var h;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var m=e,f=t,_=[],g=_,E=!1;return u({type:c.INIT}),h={dispatch:u,subscribe:l,getState:s,replaceReducer:d},h[o.default]=p,h}t.__esModule=!0,t.ActionTypes=void 0,t.default=i;var s=n(4),r=a(s),l=n(12),o=a(l),c=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&console.error;try{throw Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t,n){function a(e){if(!r(e)||h.call(e)!=l||s(e))return!1;var t=i(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==p}var i=n(8),s=n(9),r=n(11),l="[object Object]",o=Function.prototype,c=Object.prototype,u=o.toString,d=c.hasOwnProperty,p=u.call(Object),h=c.toString;e.exports=a},function(e,t,n){"use strict";function a(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,a,s){var l=e(n,a,s),o=l.dispatch,c=[],u={getState:l.getState,dispatch:function(e){return o(e)}};return c=t.map(function(e){return e(u)}),o=r.default.apply(void 0,c)(l.dispatch),i({},l,{dispatch:o})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=a;var s=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(s)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function a(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var a=Object.keys(e),i={},s=0;a.length>s;s++){var r=a[s],l=e[r];"function"==typeof l&&(i[r]=n(l,t))}return i}t.__esModule=!0,t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function s(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:l.ActionTypes.INIT}))throw Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+l.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}function r(e){for(var t=Object.keys(e),n={},a=0;t.length>a;a++){var r=t[a];"function"==typeof e[r]&&(n[r]=e[r])}var l,o=Object.keys(n);try{s(n)}catch(e){l=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var a=!1,s={},r=0;o.length>r;r++){var c=o[r],u=n[c],d=e[c],p=u(d,t);if(void 0===p){var h=i(c,t);throw Error(h)}s[c]=p,a=a||p!==d}return a?s:e}}t.__esModule=!0,t.default=r;var l=n(2);a((a(n(4)),n(3)))},function(e,t,n){var a=n(10),i=a(Object.getPrototypeOf,Object);e.exports=i},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){e.exports=n(13)},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=void 0;void 0!==e?s=e:"undefined"!=typeof window&&(s=window);var r=(0,i.default)(s);t.default=r}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}])}),define("app/utils/object",[],function(){"use strict";return{objectWithoutProperties:function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}}}),define("app/middleware/promiseMiddleware",["jquery","app/utils/object"],function(e,t){"use strict";return{promiseMiddleware:function(){return function(n){return function(a){var i=a.promise,s=a.type,r=t.objectWithoutProperties(a,["promise","type"]),l=s.begin,o=s.success,c=s.failure;return i&&e.isPlainObject(a)?(n(e.extend({},r,{type:l})),i.then(function(t){return n(e.extend({},r,{result:t,type:o}))},function(t){return n(e.extend({},r,{error:t,type:c}))})):n(a)}}}}}),define("app/middleware/thunkMiddleware",[],function(){"use strict";return{thunkMiddleware:function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){return"function"==typeof a?a(t,n):e(a)}}}}}),define("app/utils/actions",[],function(){"use strict";function e(e){return{begin:e+"_BEGIN",success:e+"_SUCCESS",failure:e+"_FAILURE"}}return{createAsyncAction:e}}),define("app/actions/actionTypes",["app/utils/actions"],function(e){"use strict";var t=e.createAsyncAction("GET_SEARCH_RESULTS"),n=e.createAsyncAction("GET_QUERY_SUGGESTIONS_RESULTS"),a=e.createAsyncAction("OPEN_FILTERS_PANEL"),i=e.createAsyncAction("FETCH_PREMIUM_IMAGES"),s=e.createAsyncAction("FETCH_ASSETS_ALL"),r=e.createAsyncAction("FETCH_ASSETS_EDITORIAL"),l=e.createAsyncAction("FETCH_ASSETS_IMAGES"),o=e.createAsyncAction("FETCH_ASSETS_PREMIUM"),c=e.createAsyncAction("FETCH_ASSETS_FREE"),u=e.createAsyncAction("FETCH_ASSETS_TEMPLATES"),d=e.createAsyncAction("FETCH_ASSETS_THREED"),p=e.createAsyncAction("FETCH_ASSETS_VIDEOS");return{ADD_ITEM_DETAILS:"ADD_ITEM_DETAILS",CLEAR_QUERY_SUGGESTIONS:"CLEAR_QUERY_SUGGESTIONS",CHECK_FILTER_TOGGLE:"CHECK_FILTER_TOGGLE",UPDATE_DETAIL_PANEL_LICENSE:"UPDATE_DETAIL_PANEL_LICENSE",CLEAR_ASSET_TYPE_BREADCRUMB:"CLEAR_ASSET_TYPE_BREADCRUMB",CLEAR_BREADCRUMB_FILTER:"CLEAR_BREADCRUMB_FILTER",CLEAR_PREMIUM_IMAGES:"CLEAR_PREMIUM_IMAGES",CLEAR_SEARCH_FILTERS:"CLEAR_SEARCH_FILTERS",CLOSE_FILTERS_PANEL:"CLOSE_FILTERS_PANEL",FETCH_PREMIUM_IMAGES:i,FETCH_ASSETS_ALL:s,FETCH_ASSETS_EDITORIAL:r,FETCH_ASSETS_IMAGES:l,FETCH_ASSETS_LONGTAIL:e.createAsyncAction("FETCH_ASSETS_LONGTAIL"),FETCH_ASSETS_PREMIUM:o,FETCH_ASSETS_TEMPLATES:u,FETCH_ASSETS_THREED:d,FETCH_ASSETS_VIDEOS:p,GET_SEARCH_RESULTS:t,HIDE_RECENT_SEARCHES:"HIDE_RECENT_SEARCHES",ITEM_SELECTED:"ITEM_SELECTED",MEMBER_LOGGED_IN:"MEMBER_LOGGED_IN",MEMBER_UPDATED_ENTITLEMENT:"MEMBER_UPDATED_ENTITLEMENT",MULTI_IMAGE_ADD:"MULTI_IMAGE_ADD",MULTI_IMAGE_REMOVE:"MULTI_IMAGE_REMOVE",MULTI_IMAGE_UPLOAD:"MULTI_IMAGE_UPLOAD",NAVIGATE_SEARCH_HISTORY:"NAVIGATE_SEARCH_HISTORY",OPEN_FILTERS_PANEL:a,SET_ASSET_TYPE_TO_PREMIUM:"SET_ASSET_TYPE_TO_PREMIUM",SHOW_RECENT_SEARCHES:"SHOW_RECENT_SEARCHES",UPDATE_ASSET_ID:"UPDATE_ASSET_ID",UPDATE_ASSET_TYPE_FILTER:"UPDATE_ASSET_TYPE_FILTER",UPDATE_COPY_SPACE_FILTER:"UPDATE_COPY_SPACE_FILTER",UPDATE_FIND_SIMILAR_BY:"UPDATE_FIND_SIMILAR_BY",UPDATE_IMAGE_SUBCATEGORY_FILTER:"UPDATE_IMAGE_SUBCATEGORY_FILTER",UPDATE_FRAME_RATE_FILTER:"UPDATE_FRAME_RATE_FILTER",UPDATE_ISOLATED_FILTER:"UPDATE_ISOLATED_FILTER",UPDATE_ILLUSTRATIVE_FILTER:"UPDATE_ILLUSTRATIVE_FILTER",UPDATE_UNDISCOVERED_FILTER:"UPDATE_UNDISCOVERED_FILTER",UPDATE_DURATION_FILTER:"UPDATE_DURATION_FILTER",UPDATE_LIBRARY_ITEMS:"UPDATE_LIBRARY_ITEMS",UPDATE_PAGE_DATA:"UPDATE_PAGE_DATA",UPDATE_SEARCH_FILTERS:"UPDATE_SEARCH_FILTERS",UPDATE_SIZE_FILTER:"UPDATE_SIZE_FILTER",UPDATE_ASSET_TYPE_STATE:"UPDATE_ASSET_TYPE_STATE",UPDATE_KEYWORD:"UPDATE_KEYWORD",TOGGLE_FILTER_IS_MINIMIZED:"TOGGLE_FILTER_IS_MINIMIZED",BUY_LICENSE:e.createAsyncAction("BUY_LICENSE"),DOWNLOAD_ASSET:e.createAsyncAction("DOWNLOAD_ASSET"),MOSAIC_RELOADED:"MOSAIC_RELOADED",QUICKER_CHECKOUT_OPEN:"QUICKER_CHECKOUT_OPEN",QUICKER_CHECKOUT_CLOSE:"QUICKER_CHECKOUT_CLOSE",QUICKER_CHECKOUT_DONE:"QUICKER_CHECKOUT_DONE",QUICKER_CHECKOUT_ERROR:"QUICKER_CHECKOUT_ERROR",SAVE_ASSET:e.createAsyncAction("SAVE_ASSET"),SAVE_ASSET_COMPLETE:"SAVE_ASSET_COMPLETE",WAIT_QUICKER_CHECKOUT_MODAL_OPEN:"WAIT_QUICKER_CHECKOUT_MODAL_OPEN",OPEN_HOVER_MENU_MORE_OPTIONS:"OPEN_HOVER_MENU_MORE_OPTIONS",CLOSE_HOVER_MENU_MORE_OPTIONS:"CLOSE_HOVER_MENU_MORE_OPTIONS",OPEN_VECTOR_DOWNLOAD_SETTINGS:"OPEN_VECTOR_DOWNLOAD_SETTINGS",SAVE_VECTOR_DOWNLOAD_PREFERENCE:"SAVE_VECTOR_DOWNLOAD_PREFERENCE",CLOSE_VECTOR_DOWNLOAD_SETTINGS:"CLOSE_VECTOR_DOWNLOAD_SETTINGS",SELECT_CONTENT_LICENSE:"SELECT_CONTENT_LICENSE",SHOW_HOVER_MENU:"SHOW_HOVER_MENU",HIDE_HOVER_MENU:"HIDE_HOVER_MENU",CONTENT_LICENSED:"CONTENT_LICENSED",GET_QUERY_SUGGESTIONS_RESULTS:n,ALERT_UNDO_ACTION:"ALERT_UNDO_ACTION",FETCH_ASSETS_FREE:c}}),define("app/reducers/details",["jquery","app/actions/actionTypes"],function(e,t){"use strict";var n=function(){return{selected:null}};return{details:function(a,i){var s={},r={},l=i.content_id;switch(r[l]=i.data,void 0===a&&(a=n()),i.type){case t.ADD_ITEM_DETAILS:s=e.extend(a,r);case t.ITEM_SELECTED:s=e.extend(s,a,{selected:l});break;case t.GET_SEARCH_RESULTS.begin:s=e.extend(s,a,{selected:null});break;default:s=a}return s}}}),define("lib/ajax",["jquery","lib/cookie"],function(e,t){"use strict";var n=["s_sess"],a={ajax:function(a,i){var s,r,l=[];e.each(n,function(e,n){l[n]=t(n),l[n]&&t(n,null)});try{r=e.ajax(a,i)}catch(e){}return s=window.location.host.split(".").slice(-2).join("."),e.each(n,function(e,n){l[n]&&t(n,l[n],{path:"/",domain:s})}),r}};return e.each(["get","post"],function(t,n){a[n]=function(t,i,s,r){return e.isFunction(i)&&(r=r||s,s=i,i=void 0),a.ajax({url:t,type:n,dataType:r,data:i,success:s})}}),a}),define("lib/assetsStore",["jquery","lib/ajax","page_config","lodash"],function(e,t,n,a){"use strict";var i=n.base_url+"/Ajax/MediaData/",s=n.base_url+"/Ajax/Similar/";return{_activeRequests:{},_cache:{},ASSET_DETAIL:{NONE:0,MIN:1,BASIC:2,WITH_KEYWORDS:3,FULL:4},THREE_D_TYPE:{MODELS:1,LIGHTS:2,MATERIALS:3},calculateAssetDetail:function(e){function t(t){return t.reduce(function(t,n){return t&&e.hasOwnProperty(n)},!0)}var n=this;return e=e||{},t(["content_id"])?t(["author","author_url","comp_file_path","content_height","content_thumb_large_url","content_thumb_url","content_width","format","title","content_type_id","content_type","content_url","content_original_width","content_original_height","is_video","extended_license_price"])?t(["keywords"])?t(["series"])?n.ASSET_DETAIL.FULL:n.ASSET_DETAIL.WITH_KEYWORDS:n.ASSET_DETAIL.BASIC:n.ASSET_DETAIL.MIN:n.ASSET_DETAIL.NONE},getAsset:function(n,a,s){var r=this,l=null,o="";return 0===n||n?(!r._cache.hasOwnProperty(n)||r._cache[n].is_premium&&!r._cache[n].is_video||void 0!==s?(r._activeRequests[n]||(void 0!==s&&(o="&license_id="+s),r._activeRequests[n]=t.get(i+n+"?full=1"+o).then(function(e){return r._cache[n]=e,r._activeRequests[n]=null,r._cache[n]},function(){r._activeRequests[n]=null})),l=r._activeRequests[n]):l=r.getAssetFromCacheAsPromise(n),l.then(function(e){if(!e)return null;var t=r.calculateAssetDetail(e);return void 0===a||t>=a?e:t<r.ASSET_DETAIL.WITH_KEYWORDS?r.getKeywords(n).then(function(e){return e}):r.getAssetFromCacheAsPromise(n)}).promise()):e.Deferred().resolve({}).promise()},getKeywords:function(n){var a=this,s=a._cache[n],r="",l=a.calculateAssetDetail(s);return s&&l>=a.ASSET_DETAIL.WITH_KEYWORDS?a.getAssetFromCacheAsPromise(n):(l<a.ASSET_DETAIL.BASIC&&(r="?full=1"),a._activeRequests[n]||(a._activeRequests[n]=t.get(i+n+r).then(function(t){return t&&(a._cache[n]=e.extend(a._cache[n],t)),a._activeRequests[n]=null,a._cache[n]},function(){a._activeRequests[n]=null}).promise()),a._activeRequests[n])},getSeries:function(n){var a=this,i=e.Deferred();return t.get(s+n).then(function(t){if(t&&e.isArray(t.result_similar_contents)){var s=t.result_similar_contents.reduce(function(e,t){return e[t.type]=t.results.map(function(e){return e.content_id=e.id,delete e.id,a._cache[e.content_id]=e,e}),e},{});a._cache[n]=e.extend(a._cache[n],{series:s}),i.resolve(a._cache[n])}else i.reject()},function(){i.reject()}),i.promise()},getAssetFromCacheOnly:function(e){var t=this;return t._cache.hasOwnProperty(e)?t._cache[e]:null},setAssetDownloadedInCache:function(e,t){var n,i=this,s=a.get(i,["_cache",e],!1);return!!s&&(n=a.get(s,["license_details",t],!1),a.isObject(n)&&(s.license_details[t].downloaded=!0),s.downloaded=!0,s.licensed=!0,!0)},getAssetFromCacheAsPromise:function(t){var n=this;return e.Deferred().resolve(n._cache[t]).promise()},addAsset:function(t,n){var a=this;if(a._cache.hasOwnProperty(t)){var i=a._cache[t];e.extend(i,n)}else a._cache[t]=n;return a._cache[t]}}}),define("app/constants/analytics",[],function(){"use strict";return{ADOBE_LOGO_EVENT:"adobe logo",BANNER_UPDATE_EVENT:"bannerUpdate",CAMPAIGN:"campaign",CAROUSEL_ELEMENT_NAME:"elementname",CAROUSEL_POSITION:"carousel_position",CAROUSEL_THUMBNAIL_SUFFIX:" thumbnail",CAROUSEL_VIEW_RESULTS_SUFFIX:" view results",CLICK_EVENT:"click",CTA_EVENT:"cta",DROPDOWN_EVENT:"dropdown",LINK_EVENT:"link",DETAIL_PANEL_EVENT:"detailPanel",DISPLAY_EVENT:"display",DOWNLOAD_FOR_FREE_EVENT:"download-for-free",DOWNLOAD_TO_DEVICE:"download-to-device",ELEMENT_SAVE:"Save",SAVE_TO_LIBRARY_EVENT:"save to library",DOWNLOAD_PREVIEW:"download-preview",RE_DOWNLOAD_FOR_FREE_EVENT:"re-download-for-free",LICENSE_FOR_FREE_EVENT:"license-for-free",ERROR_EVENT:"error",EVENT_INFO:"eventInfo",EVENT_VALUES:{CHECKOUT_ACCOUNT_CREATE:"event100",CHECKOUT_EMAIL_STEP:"event89",CHECKOUT_MODAL_CLOSE:"event97",CHECKOUT_STEP_FOUR:"event91",CHECKOUT_STEP_ONE:"event88",CHECKOUT_STEP_OVERAGE:"event287",CHECKOUT_STEP_REVIEW:"event96",CHECKOUT_STEP_SWITCH_PERSONAL:"event61,event62",CHECKOUT_STEP_TAX_ACCEPTED:"event97",CHECKOUT_STEP_TEAM_BUY_CHOICE:"event187",CHECKOUT_STEP_THREE:"event90",CREDIT_PACK_APPLIED:"event304",CREDIT_PACK_BUY_CHOICE_INSUFFICIENT_CREDITS:"event198",CREDIT_PACK_BUY_CHOICE_NO_CREDITS:"event197",CREDIT_PACK_BUY_CHOICE_ON_DEMAND_PURCHASE_CONTINUE:"event310",CREDIT_PACK_BUY_CHOICE_OPTIONS_RADIO_BUTTON:"event297",CREDIT_PACK_BUY_CHOICE_PURCHASE_CONTINUE:"event311",CREDIT_PACK_USAGE:"event302",CREDIT_PURCHASE_EVENT:"event300",CTA_TRACKER:"event97",DEFAULT_SUBSCRIPTION_SELECTED:"event92",ERROR:"event80",NEW_PAYMENT_ERROR:"event480",FIRST_USER_DOWNLOAD:"event270",FMF:"event94",NEW_BUYER:"event70",NUMBER_OF_PURCHASED_CREDITS:"event301",ORDER_CONFIRMATION:"event145",ORDER_CONFIRMATION_FOTOLIA_MIGRATION:"event186",OVERAGE_DONE:"event49",PERSISTENT_CHECKOUT:"event420",PERSISTENT_CHECKOUT_COMPLETE:"event421",PURCHASE:"purchase",REPEAT_BUYER:"event71",REPEAT_USER_DOWNLOAD:"event271",SAVE_IMAGE:"event95",SIGN_IN:"event412",SIGN_UP:"event418",STOCK_LOGIN_SUCCESS:"event73",SUBSCRIPTION:"event99",SWITCH_SUBSCRIPTION:"event98",TAX_START:"event77",TAX_STOP:"event78"},FILTERS_ACTION_UPDATE:"update",FILTERS_LOAD_TYPE:"filter",FINDING_METHOD:{HOMEPAGE:"homepage",SEARCH:"search",LIBRARIES:"libraries",LICENSE_HISTORY:"license history",PLANS:"plans",ADOBE_APPS:"Adobe apps",PREMIUM:"premium",ASSET:"asset",ARTIST:"artist",TEAMS:"teams",IMAGES:"images-landing-page",IMAGES_DETAIL:"images-asset-detail",VIDEO:"video-landing-page",VIDEO_DETAIL:"video-asset-detail",EDITORIAL:"editorial",TEMPLATES:"templates-landing-page",TEMPLATES_DETAIL:"templates-asset-detail",THREE_D:"3d-landing-page",THREE_D_DETAIL:"3d-asset-detail",CATEGORY:"category",PROMO:"promo",COLLECTIONS:"collections"},FIND_SIMILAR_EVENT:"findSimilar",FIND_SIMILAR_LOAD_TYPE:"find_similar",FIND_SIMILAR_THUMB:"Find Similar",FSC_OPTIONS:{FSC_OPTION_ALL:"all",FSC_OPTION_COLOR:"color",FSC_OPTION_CONTENT:"content",FSC_OPTION_COMPOSITION:"composition"},FIRST_DOWNLOAD:"new",FOTOLIA_TRANSFER_OVERAGE:"fotolia transfer overage",HEADER_EVENT:"header",INTERNAL_INFO:"internalInfo",LICENSE_ASSET_EVENT:"licenseAsset",BUY_LICENSE_AGAIN_EVENT:"buy license again",LICENSE_HISTORY_EVENT:"license history",LONGTAIL_SUGGESTED_KEYWORD:"long_tail_suggested_keyword",LONGTAIL:"long tail",MANAGE_ADOBE_ID_EVENT:"manage my Adobe ID",MEDIA_TYPE_LOAD_TYPE:"media type",MODAL_EVENT:"modal",NAVNAME_PROFILE:"profile",NA:"NA",NEW_BUYER:"new",NULL_RESULT:"null result",OPEN_IN_PANE:"open in",ORDER_PAGENAME:"orderConfirmationPage_OnLoadComplete",OVERAGE_OK_EVENT:"overageOk",OVERAGE_PAGENAME:"Overage:orderConfirmationPage_OnLoadComplete",PAGE_INFO:"pageInfo",PAGE_LOAD_EVENT:"pageload",PAGE_LOAD_TYPE:"page",ASSET_CLICK:"assetclick",INTERNAL_CAMP:"internalcamp",VIEW_RESULT:"view result",PREMIUM_BOTTOM_RAIL:{PREMIUM:"premium",PREMIUM_CAROUSEL:"premium-carousel"},FREE_BOTTOM_RAIL:{FREE_BR:"freebr",FREE_BR_CAROUSEL:"freebr-carousel"},FREE_TOP_RAIL:{FREE_TR:"freetr",FREE_TR_CAROUSEL:"freetr-carousel"},PREMIUM_EVENT:"premium",PREVIEW_ASSET_EVENT:"previewAsset",PREVIEW_PANE:"preview",PRICING_EVENT:"pricing",PRODUCT:"product",REMOVE_THUMBNAIL:"removethumbnail",REPEAT_BUYER:"repeat",REPEAT_DOWNLOAD:"repeat",SAVE_TO_LIBRARY:"save-to-library",SEARCH:"search",SEARCH_TYPE:"search_type",SEARCH_EVENT:"AdobeStockSearch",SEARCH_LOAD_TYPE:"search",SEARCH_START_EVENT:"search_start",SEARCH_RESULT:"searchresult",SEE_MORE_EVENTS:{SERIES:"More from this Series",MODEL:"More from this Model",IMAGES:"More from Similar Images"},SEE_MORE_LOAD_TYPE:"see more",SELECTION_DETAIL:"detail",SELECTION_DIRECT:"direct",SELECTION_HOVER:"hover",SELECTION_TILE:"tile",SELL_EVENT:"sell",SIGNIN_EVENT:"sign in",SIGNOUT_EVENT:"signout",SIMILAR_PANE:"similar",STOCK_LOGO_EVENT:"stock logo",STOCK_NEW_BUYER:"Stock New Buyer",STOCK_REPEAT_BUYER:"Stock Repeat Buyer",SWITCH_TEAM_EVENT:"switch team",TRACK_INTERACTION:"trackInteraction",TRANSACTION:"transaction",UPGRADE_PAGENAME:"Upgrade:orderConfirmationPage_OnLoadComplete",USER:"user",USER_TYPE_ACTIVE:"stockactivestatus",VIEW_PREVIEW_EVENT:"viewPreview",VISUAL_LOAD_TYPE:"visual",VISUAL_SEARCH_BROWSE:"browse",VISUAL_SEARCH_DRAG:"drag",PHOTO:"Photo",ILLUSTRATION:"Illustration",VECTOR:"Vector",NEW_LIBRARY:"new library",EXISTING_LIBRARY:"existing library",MORE_OPTIONS_EVENT:"more-options",OPEN_IN_APP_EVENT:"open-in-app",SUSI_EVENT:"susi",SUSI_LOGIN:"login",SUSI_CREATE_ACCOUNT:"create-account",BLUE_BANNER_START_NOW:"blue-banner-start-now"}}),define("lib/license",["lodash","jquery","app/constants/analytics","lib/member"],function(e,t,n,a){"use strict";var i={},s={};return{LICENSE_ID_HD:3,LICENSE_ID_4K:4,LICENSE_ID_EXTENDED:2,LICENSE_ID_STANDARD:1,LICENSE_ABBR_SHORT_4K:"4K",LICENSE_ABBR_SHORT_HD:"HD",LICENSE_ID_STANDARD_M:5,LICENSE_ID_VIDEO_HD_STANDARD:6,LICENSE_ID_ENHANCED:10,ACTION_SAVE:"Save",ACTION_LICENSE:"License",ACTION_RE_LICENSE:"Relicense",ACTION_SAVE_DEPRECATED:"SaveDeprecated",isLicenseAction:function(e){return"License"==e||"Relicense"==e},setLicenseId:function(e,t){i[e]=t},getLicenseId:function(e){return i[e]?i[e]:null},getLicenseAbbrByLicenseId:function(e){var t=null;switch(e){case 1:t="Standard";break;case 2:t="Extended";break;case 3:t="Video_HD";break;case 4:t="Video_4K"}return t},getLicenseIdByLicenseAbbr:function(e){var t=null;switch(e){case"Standard":t=1;break;case"Extended":t=2;break;case"Video_HD":t=3;break;case"Video_4K":t=4}return t},getLicenseIdVideoByResolution:function(){return{HD:3,"4K":4}},setDefaultLicenseId:function(e,n){var i=null,s=n.possible_licenses||[];if(!n.is_video&&t("#select-licenses option:selected").val())i=this.getLicenseIdByLicenseAbbr(t("#select-licenses option:selected").val());else if(n.license_id)i=n.license_id;else if(n.licensed)i=this.getLicenseIdByLicenseAbbr(n.licensed);else if(n.is_video){var r=this.getLicenseIdVideoByResolution();i=n.video_data&&r[n.video_data.resolution]?r[n.video_data.resolution]:n.resolution?r[n.resolution]:n.license?this.getLicenseIdByLicenseAbbr(n.license):a.getLicenseIdByContentTypeId(n.content_type_id)}else i=a.getLicenseIdByContentTypeId(n.content_type_id);s.length&&!s.includes(i)&&(i=s[0]),this.setLicenseId(e,i)},isAlreadyLicensed:function(e,t,n){var a=!1,n=n||this.getLicenseId(e);return(t.license_id&&t.license_id==n||t.licensed&&this.getLicenseIdByLicenseAbbr(t.licensed)==n||t.license&&this.getLicenseIdByLicenseAbbr(t.license)==n||t.license_details&&void 0!==t.license_details[n]&&t.license_details[n].downloaded)&&(a=!0),a},getLicenseIdIfLicensed:function(t){var n=!1,a=e.get(t,"license_details");return!!e.isObject(a)&&(Object.keys(a).forEach(function(i){e.get(a[i],"downloaded")&&(n=i,this.setLicenseId(t.content_id,i))},this),n)},getLicenseIdsIfLicensedForDifferrentSizes:function(t){var n,a=e.get(t,"license_details")||{},i=e.get(t,"possible_data_premium")||e.get(t,"possible_data_video");return e.isObject(i)?Object.keys(i).filter(function(t){return e.get(a[t],"downloaded")}):(n=this.getLicenseIdIfLicensed(t),n?[n]:[])},getLicenseIdFromContent:function(e){var t,n;return e&&e.licensed?t=this.getLicenseIdByLicenseAbbr(e.licensed):e.video_data&&e.video_data.resolution?(n=this.getLicenseIdVideoByResolution(),t=n[e.video_data.resolution]):t=this.getLicenseId(e.content_id),t},getLicenseIdByType:function(e){if(e.is_template||e.is_3D)return 1},getDeprecatedLicenseIdUsed:function(e){return s[e]||null},hasDeprecatedLicenseIdUsed:function(e,n){var a,i,r=null;if(!t.isArray(n))return r;i=e.license_details||{};for(a in i)if(i[a]&&i[a].downloaded){if(n.indexOf(parseInt(a))>-1){r=null,s={};break}s[e.content_id]=a,r=a}return r},getContentDefaultLicenseId:function(e,t){var n,a=e.possible_licenses||[],i=e.license_details||{},s=a[0]||null,t=t||[],r=e.default_license_id||null;return n=a.filter(function(e){return t.indexOf(e)>-1})[0]||null,Object.keys(i).map(function(e){return parseInt(e)}).filter(function(e){return a.indexOf(e)>-1&&i[e].downloaded})[0]||null||r||n||s}}}),define("lib/contentDetails",["jquery","lodash"],function(e,t){"use strict";function n(e){s=e||{}}function a(){var t=e("#image-detail-json"),n=t.attr("data-encoded"),a=t.text();n&&(a=decodeURIComponent(a)),s=a?JSON.parse(a):{}}function i(e){var t=e||s;return Object.keys(t).map(function(e){return t[e]}).sort(function(e,t){return e.order_key-t.order_key})}var s;return{init:a,getContentDataDic:function(){return e.isEmptyObject(s)&&a(),s},getContentData:function(e){var t=this.getContentDataDic();return t[e]?t[e]:{}},getSortedContentArray:i,getContentTypeId:function(e){var n=this.getContentData(e);return t.get(n,"content_type_id",null)},is3D:function(e){var n=this.getContentData(e);return t.get(n,"is_3D",!1)||t.get(n,"is3D",!1)},isTemplate:function(e){var n=this.getContentData(e);return t.get(n,"is_template",!1)||t.get(n,"isTemplate",!1)},isVideo:function(e){var n=this.getContentData(e);return t.get(n,"is_video",!1)||t.get(n,"isVideo",!1)},getLargestVideoSize:function(e){var t=this.getContentData(e),n=t.content_original_width,a=t.content_original_height,i=n*a,s=null;return i>=4147200?s=2160:i>=2073600&&(s=1080),s},isImage:function(e){return this.getContentData(e).is_image},isLicensed:function(e){var t=this.getContentData(e);return!(!t.is_licensed&&!t.downloaded)},isPremium:function(e){var n=this.getContentData(e);return t.get(n,"is_premium",!1)||t.get(n,"isPremium",!1)},isEditorial:function(e){var n=this.getContentData(e);return t.get(n,"is_editorial",!1)},isFree:function(e){var n=this.getContentData(e);return t.get(n,"is_free",!1)},isVector:function(e){var n=this.getContentData(e);return t.get(n,"is_vector",!1)},isIllustrative:function(e){var n=this.getContentData(e);return t.get(n,"is_illustrative",!1)},isPurchasable:function(e){var n=this.getContentData(e);return t.get(n,"is_purchasable",!1)},setDataDicFromStore:n,HIGHRES_SIZE_VIDEO_4K:2160,HIGHRES_SIZE_VIDEO_HD:1080}}),define("app/constants/userActions",["page_config"],function(e){"use strict";return e.constants.user_actions}),define("app/constants/assetTypeFilters",["page_config"],function(e){"use strict";return e.constants.asset_type_filters}),define("app/constants/searchFilters",[],function(){"use strict";var e=["1155","1157","1156"],t=["content_type:illustration","content_type:image","content_type:photo","content_type:template","content_type:3d","content_type:zip_vector","content_type:video"];return{ALL_FILTER:"all",ASSET_ID:"asset_id",AUTHOR:"creator_id",CATEGORIES_ALL:"all",CATEGORY:"ca",COLLECTION:"gallery_id",COLOR:"color",CONTENT_TYPE_ALL:"content_type:all",CONTENT_TYPE_3D:"content_type:3d",CONTENT_TYPE_ILLUSTRATION:"content_type:illustration",CONTENT_TYPE_IMAGE:"content_type:image",IMAGE:"image",CONTENT_TYPE_PHOTO:"content_type:photo",PHOTO:"photo",CONTENT_TYPE_TEMPLATE:"content_type:template",CONTENT_TYPE_VECTOR:"content_type:zip_vector",CONTENT_TYPE_VIDEO:"content_type:video",COPY_SPACE:"copy_space",COPY_SPACE_ALL:"all",COPY_SPACE_MANUFACTURED:"manufactured",COPY_SPACE_NATURAL:"natural",DEPTH_OF_FIELD:"ae_depth_of_field",DEPTH_OF_FIELD_DEFAULT_SCORING:"0",EDITORIAL:"is_editorial",EDITORIAL_ON:1,EDITORIAL_CATEGORIES:e,EDITORIAL_CATEGORY_ENTERTAINMENT:"1155",EDITORIAL_CATEGORY_NEWS:"1157",EDITORIAL_CATEGORY_SPORTS:"1156",EDITORIAL_EVENT_DATE_START:"event_date_start",EDITORIAL_EVENT_DATE_END:"event_date_end",EDITORIAL_DATE_RANGE:"editorial_date_range",EDITORIAL_DATE_RANGE_CHOICE:"event-date-choice-range",EDITORIAL_DATE_OFFSET_AMOUNT:1,EDITORIAL_DATE_OFFSET_UNIT:"day",EXCLUDE_PEOPLE:"releases:is_exclude",FIND_SIMILAR_CACHE_SIZE:20,FSC_IMAGE:"fsc_image",FSC_IMAGE_GROUP:"fsc_image_group",FILTERS:"filters",ILLUSTRATIVE:"illustrative",ILLUSTRATIVE_ALL:"all",ILLUSTRATIVE_EXCLUDE:"exclude",ILLUSTRATIVE_INCLUDE:"include",INCLUDE_PEOPLE:"releases:is_include",IS_QUERY_SUGGESTED:"is_query_suggested",ISOLATED:"isolated",ISOLATED_ALL:"all",ISOLATED_HIDE:"hide",ISOLATED_ONLY:"only",UNDISCOVERED:"undiscovered",UNDISCOVERED_ALL:"all",UNDISCOVERED_ONLY:"only",RELEASES_ALL:"releases:all",KEYWORD:"k",MAX_FIND_SIMILAR_IMAGES:2,MODEL_ID:"model_id",NATIVE_VISUAL_SEARCH:"native_visual_search",ORDER:"order",ORDER_CREATION:"creation",ORDER_RELEVANCE:"relevance",ORIENTATION:"orientation",ORIENTATION_FILTER_SEPARATOR:",",PRICE:"price",PRICE_CLIENT_ALL:"all",PRICE_CLIENT_LOW:"low",PRICE_CLIENT_HIGH:"high",PRICE_SERVER_LOW:"$",PRICE_SERVER_MEDIUM:"$$",PRICE_SERVER_HIGH:"$$$",SAFE_SEARCH:"safe_search",SAFE_SEARCH_ON:1,SAFE_SEARCH_OFF:0,SCORING:"scoring",SERIE_ID:"serie_id",SIMILAR_CONTENT_ID:"similar_content_id",SIMILAR_CONTENT_ID_SEPARATOR:",",SIZE:"size",SIZE_PIXELS:"pixels",SIZE_MEGA_PIXELS:"mega_pixels",SIZE_PIXELS_WIDTH_MIN:"pixels_width_min",SIZE_PIXELS_HEIGHT_MIN:"pixels_height_min",SIZE_MEGA_PIXELS_MIN:"mega_pixels_min",SUPPORTED_CONTENT_TYPES:t,FIND_SIMILAR_BY:"find_similar_by",TEMPLATE_CATEGORIES:"template_category_id",TEMPLATE_APPLICATION_INDESIGN:"indesign",TEMPLATE_APPLICATION_PHOTOSHOP:"photoshop",TEMPLATE_APPLICATION_AFTER_EFFECTS:"after_effects",TEMPLATE_APPLICATION_ILLUSTRATOR:"illustrator",TEMPLATE_APPLICATION_RUSH:"rush_version",TEMPLATE_APPLICATIONS:["indesign","photoshop","after_effects","illustrator","rush_version"],TEMPLATE_TYPES:"template_type_id",THREE_D_TYPE:"3d_type_id",VALID_ORIENTATIONS:["horizontal","vertical","square","panoramic"],VIDEO_DURATION_MAX:"video_duration_max",VIDEO_DURATION_MIN:"video_duration_min",VIDEO_DURATION_DEFAULT_MIN:0,VIDEO_DURATION_DEFAULT_MAX:60,VIDEO_FRAME_RATE:"video_frame_rate",VIDEO_FRAME_RATE_OPTIONS:["val23976","val24","val25","val2997","val30","val50","val5994","val60"],VIDEO_IS_ALL:"video_subcat_all:on",VIDEO_IS_4K:"license_V_4K:on",VIVID_COLOR:"ae_vivid_color",VIVID_COLOR_DEFAULT_SCORING:"0",VIDEO_DURATION:"video_duration",ALERT_ACTION_UNDO:"undo",ALERT_ACTION_SEARCH_IMAGES:"searchImages",CONTENT_TYPE_FREE_COLLECTION:"free_collection"}}),define("app/constants/templateCategories",["page_config"],function(e){"use strict";return e.constants.template_categories||{}}),define("app/constants/templateTypes",["page_config"],function(e){"use strict";return e.constants.template_types||{}}),define("text",{}),define("hbs",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("hbs!templates/badgeTooltip",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" tooltip-container--scroll tooltip-container--medium"},3:function(e,t,n,a){var i;return'                <table class="white-text left-align js-tooltip-table" data-t="'+this.escapeExpression(this.lambda(null!=e?e.dataT:e,e))+'">\n'+(null!=(i=t.each.call(e,null!=e?e.rows:e,{name:"each",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"                </table>\n"},4:function(e,t,n,a){return'                        <tr>\n                            <td class="padding-right-xsmall" data-t="'+this.escapeExpression(this.lambda(null!=e?e.labelDataT:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+'</td>\n                            <td data-t="'+this.escapeExpression(this.lambda(null!=e?e.valueDataT:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.value:e,e))+"</td>\n                        </tr>\n"},
compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="tooltip-wrapper tooltip-wrapper--v2 js-tooltip-wrapper" data-is-hidden="true">\n    <div class="badge-tooltip">\n        <div class="js-badge-tooltip-title left-align"></div>\n        <div class="tooltip-container '+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"1",logic:"more",value:null!=(i=null!=e?e.tooltip_data:e)?i.length:i},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="'+this.escapeExpression((s=null!=(s=t.dataT||(null!=e?e.dataT:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"dataT",hash:{},data:a}):s))+'">\n'+(null!=(i=t.each.call(e,null!=e?e.tooltip_data:e,{name:"each",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/thumbnailLicensedBadge",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isPhoenixEnabled:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(5,a,0),data:a}))?i:""},2:function(e,t,n,a){var i;return'        <div\n            class="image-licensed-badge-v2 js-image-licensed-badge js-badge-with-tooltip'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.isPremium:e,null!=e?e.isEditorial:e,null!=e?e.isIllustrative:e,{name:"if-or",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+' badge-with-tooltip badge-with-tooltip--v2"\n            data-t="license-badge-checkmark-section"\n        >\n            <span data-t="license-badge-checkmark-text">\n                <div class="badge--icon">\n                    <i class="icon-checkmark thumbnail-badge-icon" data-t="license-badge-checkmark-icon"></i>\n                </div>\n                <div class="badge--text js-badge-text">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARIES::STATE::Licensed",{name:"_",hash:{},data:a}))+'\n                </div>\n            </span>\n            <div class="js-tooltip-holder">\n'+(null!=(i=this.invokePartial(n.badgeTooltip,e,{name:"badgeTooltip",hash:{tooltip_data:null!=e?e.license_transfer_tooltip_data:e,dataT:"image-licensed-tooltip-container"},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div class="tooltip-triangle js-tooltip-triangle"></div>\n        </div>\n'},3:function(e,t,n,a){return" badge-truncate badge-truncate--licensed"},5:function(e,t,n,a){var i;return'        <div\n            class="image-licensed-badge js-image-licensed-badge js-badge-with-tooltip'+(null!=(i=t.if.call(e,null!=e?e.license_transfer_tooltip_data:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'"\n            data-t="license-badge-checkmark-section"\n        >\n            <span data-t="license-badge-checkmark-text">\n                <i class="icon-checkmark thumbnail-badge-icon" data-t="license-badge-checkmark-icon"></i>\n                <br />\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARIES::STATE::Licensed",{name:"_",hash:{},data:a}))+'\n            </span>\n            <div class="js-tooltip-holder">\n'+(null!=(i=t.if.call(e,null!=e?e.license_transfer_tooltip_data:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+"            </div>\n        </div>\n"},6:function(e,t,n,a){return" badge-with-tooltip"},8:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.badgeTooltip,e,{name:"badgeTooltip",hash:{tooltip_data:null!=e?e.license_transfer_tooltip_data:e,dataT:"image-licensed-tooltip-container"},data:a,indent:"                    ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.displayLicense:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("lib/badges",["jquery","lodash","page_config","lib/contentDetails","hbs!templates/thumbnailLicensedBadge","hbs!templates/badgeTooltip"],function(e,t,n,a,i,s){"use strict";function r(t,r){var o,c=e(".js-search-result-cell[data-content-id="+t+"]"),u=e(".js-details[data-content_id="+t+"]"),d=a.isPremium(t),p=a.isEditorial(t),h=a.isIllustrative(t);[c,u].forEach(function(e){o=e.find(l),o.length&&o.html(i({displayLicense:!0,license_transfer_tooltip_data:r,isPhoenixEnabled:n.isPhoenixEnabled,isPremium:d,isEditorial:p,isIllustrative:h},{partials:{badgeTooltip:s}}))})}var l=".js-image-licensed-badge-container";return{renderLicensedBadge:r,SELECTOR_LICENSED_BADGE:".js-image-licensed-badge"}}),define("lib/utils",["jquery","lodash","page_config","i18n-config","lib/assetsStore","lib/deparam","lib/member","lib/license","lib/contentDetails","lib/window","app/constants/userActions","app/constants/assetTypeFilters","app/constants/searchFilters","app/constants/templateCategories","app/constants/templateTypes","hbs!templates/badgeTooltip","lib/badges"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_){"use strict";function g(){return ke.allDevicePattern.test(Oe)}function E(){return ke.phonePattern.test(Oe)}function v(){return Ae.test(Oe)}function b(){return"ontouchstart"in window}function T(){switch(n.device_os_family){case"desktop":return a.gettext("FILE::DOWNLOAD::Computer");case"ios":case"android":case"mobile":default:return a.gettext("FILE::DOWNLOAD::Device")}}function y(t){var n=e('.js-search-result-cell[data-content-id="'+t+'"]'),a=n.find(".js-save-title"),s=n.find(".js-save-second-title"),l=n.find(".js-open-preview-title");i.getAsset(t,i.ASSET_DETAIL.BASIC).then(function(e){var t=e.downloaded,n=e.licensed,i=!1;e.representations&&"purchased"==e.representations[0]["adobestock#trackingdata"].state&&(i=!0),t||n||i?(a.html(a.data("postLicensingLanguage")),s.html(s.data("postLicensingLanguage")),l.html(l.data("postLicensingLanguage"))):r.hasLicensesForContent(e)?(a.html(a.data("hasLicensesLanguage")),s.html(s.data("hasLicensesLanguage")),l.html(l.data("hasLicensesLanguage"))):(a.html(a.data("noLicensesLanguage")),s.html(s.data("noLicensesLanguage")),l.html(l.data("noLicensesLanguage")))})}function C(t,a,s,r){var o=i.getAssetFromCacheOnly(t),c=e(".js-search-result-cell[data-content-id="+t+"]"),u=e(".js-details[data-content_id="+t+"]"),d=c.find(a),p=u.find(a);c.find(".js-hover-icon-licensing").addClass("hidden"),c.find(".js-hover-icon-downloading").addClass("hidden"),c.find(".js-hover-license-request-btn").addClass("hidden"),c.find(".js-hover-icon-saving").removeClass("hidden"),n.isLibraryPage&&o.is_video&&o.downloaded&&(o.license_id==l.LICENSE_ID_4K?(c.find(".video_hd").addClass("hidden"),c.find(".video_4k").removeClass("hidden")):(c.find(".video_4k").addClass("hidden"),c.find(".video_hd").removeClass("hidden"))),W(r)&&r([d,p]),s?setTimeout(function(){d.removeClass("hidden"),p.removeClass("hidden")},2e3):(d.removeClass("hidden"),p.removeClass("hidden"))}function S(t,n,a){e.isArray(n)&&n.length&&C(t,".js-image-transferred-badge",a,function(e){I(e,O(n),"license-transfer-tooltip-container")})}function I(t,a,i){var s=f({dataT:i,tooltip_data:a,isPhoenixEnabled:n.isPhoenixEnabled});e.each(t,function(e,t){t.find(".js-tooltip-holder").html(s),t.hasClass("badge-with-tooltip")||t.addClass("badge-with-tooltip")})}function O(t){var n=[];if(t&&0!=t.length)return e.each(t,function(e,t){var i=[{label:a.gettext("ORGANIZATION::LICENSE_TRANSFER::Date:"),labelDataT:"license-transfer-date-label",value:t.date,valueDataT:"license-transfer-date-text"},{label:a.gettext("ORGANIZATION::LICENSE_TRANSFER::Client:"),labelDataT:"license-transfer-client-name-label",value:t.client_name,valueDataT:"license-transfer-client-name-text"},{label:a.gettext("ORGANIZATION::LICENSE_TRANSFER::Notes:"),labelDataT:"license-transfer-notes-label",value:t.notes?t.notes:"-",valueDataT:"license-transfer-notes-text"}];n.push({dataT:"license-transfer-table-"+e,rows:i})}),n}function k(t){var n=[];if(Array.isArray(t)&&0!=t.length)return e.each(t,function(e,t){var i=[{label:a.gettext("ORGANIZATION::LICENSE_REQUEST::Request date:"),value:t.createdAt,labelDataT:"request-date-label",valueDataT:"request-date-text"},{label:a.gettext("ORGANIZATION::LICENSE_REQUEST::Requestor:"),value:t.requesterDisplayName,labelDataT:"requester-label",valueDataT:"requester-text"},{label:a.ngettext("ORGANIZATION::LICENSE_REQUEST::Art Buyer:","ORGANIZATION::LICENSE_REQUEST::Art Buyers:",t.approversDisplayNames.length),value:t.approversDisplayNames.join(", "),labelDataT:"art-buyers-label",valueDataT:"art-buyers-text"}];n.push({dataT:"license-request-tooltip-"+e,rows:i})}),n}function A(t,n){e.isArray(n)&&n.length&&C(t,".js-image-license-requested-badge",!1,function(e){I(e,k(n),"license-request-tooltip")})}function R(t,n,a){_.renderLicensedBadge(t,a),C(t,_.SELECTOR_LICENSED_BADGE,n,function(t){e.isArray(a)&&a.length&&I(t,O(a),"license-transfer-tooltip-container")})}function x(t,n,a){var i=n.license_transfers||[],s=e(".js-search-result-cell[data-content-id="+t+"]"),r=e(".js-details[data-content_id="+t+"]");s.find(".js-image-licensed-badge").addClass("hidden"),r.find(".js-image-licensed-badge").addClass("hidden"),s.find(".js-image-transferred-badge").addClass("hidden"),r.find(".js-image-transferred-badge").addClass("hidden"),n.display_as_unlicensed?this.badgeTransferred(t,i,a):this.badgeLicensed(t,a,i)}function P(e){var t="";if(z(e))return e.is_editorial||e.is_illustrative?t="en_US"===n.locale_code?"Editorial Only":a.gettext("FILE::Editorial"):e.is_premium&&!e.is_video?t="Premium":e.is_free&&(t=a.gettext("FILE::Free")),t}function L(e){var t,n,a=window.location.search.replace(/^\?/,"").split("&");for(t=0;t<a.length;t++)if(n=a[t].split("="),2===n.length&&n[0]===e)return n[1];return null}function D(t,n,a){var i=s(t);return i[n]=a,e.param(i)}function N(t,n,a){var i=s(t);return i.hasOwnProperty(n)&&(i[n]=a),e.param(i)}function w(t,n){var a=s(t);return a.hasOwnProperty(n)&&delete a[n],e.param(a)}function M(e,t,n){e&&e.setAttribute(t,n)}function U(e,t,n){e&&e.addEventListener(t,n)}function F(e){Ie=e}function j(e,t,n){var a;if(e)for(a=0;a<e.length;a++)Ie(e[a],t,n)}function H(e){var t;return e&&(t=Re[e]),t}function V(e,t){return e!==u.DEFAULT_ACTION?e:H(t)}function q(e){var t;return e&&(t=xe[e]),t}function Y(e,t,a){if(!e||!t)return t;a||(a=G(e));var s,r=t.slice(6),l=a.some(function(e){return e===r});return l||(e.representations&&e.representations[0]&&(s=e.representations[0].type),e.is_video||e.isVideo?t="OpenInPr":e.is_3D||e.is3D?t=n.isOpenInFelixEnabled&&e["3D_type_id"]!==i.THREE_D_TYPE.MATERIALS&&"Material"!==e.subtypeLabel?"OpenInFe":"":e.is_template||e.isTemplate?t="Photoshop"===e.use_with||"image/vnd.adobe.photoshop.template"===s?"OpenInPs":"Illustrator"===e.use_with||"application/illustrator.template"===s?"OpenInAi":"InDesign"===e.use_with||"application/vnd.adobe.indesign.template"===s?"OpenInId":"":"ai/eps"===e.format||"application/illustrator"===s?t="OpenInAi":"jpeg"!==e.format&&"image/jpeg"!==s||(t="OpenInPs")),t}function G(e){if(e){var t,a=[];return t=e.content_type?e.content_type:e.representations&&e.representations[0].type?e.representations[0].type:"image/jpeg","image/jpeg"===t?a=["Ps","Ai","Pr","Ae","Id"]:e.is_video||e.isVideo?a=["Pr","Ae"]:e.is_3D||e.is3D?a=n.isOpenInFelixEnabled&&e["3D_type_id"]!==i.THREE_D_TYPE.MATERIALS&&"Material"!==e.subtypeLabel?["Fe"]:[]:e.is_template||e.isTemplate?("Photoshop"!==e.use_with&&"image/vnd.adobe.photoshop.template"!=t||(a=["Ps"]),"Illustrator"!==e.use_with&&"application/illustrator.template"!=t||(a=["Ai"]),"InDesign"!==e.use_with&&"application/vnd.adobe.indesign.template"!=t||(a=["Id"])):a=["Ps","Ai","Id"],a}}function B(e,t){if(e){if(o.getContentData(e).is_template)return t.templateString}return t.defaultString}function K(e){return/^[a-zA-Z0-9\s\-\.\+\*\(\)]+$/.test(e)&&e.length>=7&&e.length<=24}function W(e){var t=z(e)?Object.prototype.toString.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Q(e,t){var n=t||{};return W(e)&&(n=e()),n}function X(e){return"string"!=typeof e||e.length<2?e:e.charAt(0).toUpperCase()+e.slice(1)}function Z(e){var t=e.lastIndexOf("::");return t>-1?e.slice(t+2):e}function J(){var t=e(".js-fmf-params"),n=!0;return t.length>0&&(n=t.data("fmf-enabled")),n}function $(e,t){var n=e&&e[t]||"";return Array.isArray(n)?n.join(" "):"string"==typeof n?n:""}function ee(e){var t=0;return z(e)&&(t=Object.keys(e).length),t}function te(t){var n,a=["GET","HEAD","OPTIONS","TRACE"];return n=-1===t.url.indexOf("://")?c.getLocation().host:t.url.split("/")[2],-1===e.inArray(t.type.toUpperCase(),a)&&n===c.getLocation().host}function ne(t,a,i,s,r){var l,o;(o=n.isPhoenixEnabled?a&&"desktop"!==a?e("#memberDefaultLibraryId").val(a):e("#memberDefaultLibraryId").val():e("#memberDefaultLibraryId").val(a))!==a&&(i&&(l=q(i)),t.saveDefaultLibrary(a,null,!1,l),W(s)&&s(a,r))}function ae(e){if(!Array.isArray(e))throw new Error("flattenReducers requires an array of reducers");return function(t,n){var a=t;return e.forEach(function(e){a=e(a,n)}),a}}function ie(e,t,n){if(!e)return null;var a=e.filter(function(e){return e[t]==n});return a.length>0?a[0]:null}function se(e){return e=e||"",e.split(p.ORIENTATION_FILTER_SEPARATOR)}function re(){"scrollBehavior"in document.documentElement.style?window.scroll({top:0,behavior:"smooth"}):e("html, body").animate({scrollTop:0})}function le(e,t){return Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),e.closest("."+t)}function oe(e){var t=/[\uFF0E-\uFF1A]/g;return e.replace(t,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})}function ce(e){try{return JSON.parse(JSON.parse(e))}catch(e){return null}}function ue(e){try{return e?JSON.stringify(JSON.stringify(e)):""}catch(e){return""}}function de(e,t){e&&t&&"string"==typeof e&&("object"==typeof t&&(t=ue(t)),localStorage.setItem(e,t))}function pe(e){localStorage.getItem(e)&&localStorage.removeItem(e)}function he(e,t){var t=t||new Date,e=(e||n.locale_code).replace("_","-");return t.toLocaleDateString(e,{hour:"2-digit",minute:"2-digit"})}function me(t,n,a){!t instanceof e||(a?t.attr(n,!0):t.removeAttr(n))}function fe(t,n,a){!t instanceof e||(a?t.addClass(n):t.removeClass(n))}function _e(e){var t,n,a,i="";if(!e)return e;t=e.split("&");for(n in t)a=t[n].split("="),i+=t[n],a[0]!==p.SIMILAR_CONTENT_ID&&a[0]!==p.NATIVE_VISUAL_SEARCH||!a[1]||(t[n]=a[0]+"=");return t.join("&")}function ge(e,t){return e?e.reduce(function(e,n){return e[n[t]]=n,e},{}):{}}function Ee(e,t,n){if(e){var a=e.filter(function(e){return e[t]==n});return a&&a[0]}}function ve(e,t){return parseInt(e,10)===parseInt(t,10)}function be(e){switch(e){case d.ALL:return a.gettext("SEARCH::RESULTS::all");case d.IMAGES:return a.gettext("SEARCH::RESULTS::images");case d.VIDEOS:return a.gettext("SEARCH::RESULTS::videos");case d.TEMPLATES:return a.gettext("SEARCH::RESULTS::templates");case d.THREED:return a.gettext("SEARCH::RESULTS::3D");case d.PREMIUM:return a.gettext("SEARCH::RESULTS::Premium");case d.EDITORIAL:return a.gettext("SEARCH::RESULTS::Editorial");case d.FREE:return a.gettext("SEARCH::RESULTS::Free");default:return""}}function Te(e){new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var n=e.target,a=n.getAttribute("data-lazy");n.hasAttribute("srcset")?n.setAttribute("srcset",a):n.setAttribute("src",a),t.disconnect()}})}).observe(e)}function ye(e,t){return void 0!==t&&t?n.base_url+"/Ajax/GetLicenseDownloadUrl/"+e+"/"+t:n.base_url+"/Ajax/GetDownloadUrl/"+e}function Ce(e,t){var n=["logged-out-alert","library-selector-open","saving","saved","downloading","second-overage","wait"];e.removeClass(n.join(" ")).addClass(t)}function Se(e){return"Audio"!==e||n.isAudioSaveEnabled}var Ie,Oe=navigator.userAgent||navigator.vendor||window.opera,ke={phonePattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,allDevicePattern:/mobi|android/i},Ae=/firefox/i,Re={PHXS:"OpenInPs",IDSN:"OpenInId",ILST:"OpenInAi",PPRO:"OpenInPr",AEFT:"OpenInAe"},xe={OpenInPs:"PHXS",OpenInId:"IDSN",OpenInAi:"ILST",OpenInPr:"PPRO",OpenInAe:"AEFT"},Pe=["OpenInPs","OpenInId","OpenInAi","OpenInPr","OpenInAe"];n.isOpenInFelixEnabled&&(Re.FELX="OpenInFe",xe.OpenInFe="FELX",Pe.push("OpenInFe"));var Le={MODELS:"SEARCH::FILTERS::3D_CATEGORY::Models",LIGHTS:"SEARCH::FILTERS::3D_CATEGORY::Lights",MATERIALS:"SEARCH::FILTERS::3D_CATEGORY::Materials"},De={1:{labelLocalized:"FILE::LABEL::Model",label:"Models"},2:{labelLocalized:"FILE::LABEL::Light",label:"Lights"},3:{labelLocalized:"FILE::LABEL::Material",label:"Materials"}},Ne=[Le.MODELS,Le.LIGHTS,Le.MATERIALS];Ie=U;var we=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},Me=function(){var e=[];return e[m.NO_APP]=[h.PRINT_SUBCATEGORY,h.WEB,h.MOBILE,h.ART_ILLUSTRATION,h.FILM_VIDEO,h.PHOTOGRAPHY],e[m.PSDT]=[h.PRINT_SUBCATEGORY,h.WEB,h.MOBILE,h.ART_ILLUSTRATION,h.FILM_VIDEO,h.PHOTOGRAPHY],e[m.AIT]=[h.PRINT_SUBCATEGORY,h.WEB,h.MOBILE,h.ART_ILLUSTRATION,h.FILM_VIDEO],e[m.INDT]=[h.PRINT_SUBCATEGORY,h.WEB,h.MOBILE],e[m.PPRO_MOGRT]=[h.LOWER_THIRDS,h.TITLES_TEXT_OVERLAYS,h.TRANSITIONS,h.BACKGROUNDS,h.INFOGRAPHICS,h.SOCIAL_MEDIA],e[m.AE_MOGRT]=[h.LOWER_THIRDS,h.TITLES_TEXT_OVERLAYS,h.TRANSITIONS,h.BACKGROUNDS,h.INFOGRAPHICS,h.SOCIAL_MEDIA],e[m.RUSH_COMPATIBLE_MOGRT]=[h.LOWER_THIRDS,h.TITLES_TEXT_OVERLAYS,h.TRANSITIONS,h.BACKGROUNDS,h.INFOGRAPHICS,h.SOCIAL_MEDIA],e};return{badgeLicensed:R,badgeTransferred:S,badgeLicenseRequestPending:A,capitalizeFirstCharacter:X,coerceValue:function(e,t){var n;switch(t){case"int":if(n=parseInt(e),isNaN(n))throw new TypeError("Could not convert filter value to integer");break;default:n=e}return n},enforceLibraryMenuText:y,flattenReducers:ae,formatVideoDurationInput:function(e,t){return Math.round(e)<10?":0"+Math.round(e):Math.round(e)>=t?":"+t+"+":":"+Math.round(e)},formatVideoDurationOutput:function(e){return e.replace(/[:+]/g,"")},getBadgeText:P,getDefaultOpenInAppCode:Y,getKeyNosInObject:ee,processLocalizedNumChars:oe,getMultipleOrientationFilters:se,getOpenInAction:H,getOpenInActionWithDefaultFallback:V,getOpenInAppCode:q,getOpenInLibraryName:B,getOpenInOptions:G,getQueryParam:L,getSaveToDeviceI18nText:T,getStringFromProperty:$,getTemplateSubcategoryByTemplateTypes:Me,getValueFromArrayById:ie,isFMFEnabled:J,isFunction:W,isMobile:g,isObject:z,isPhone:E,isFirefox:v,isTouch:b,isValidEmailAddress:we,isValidPhoneNumber:K,lazyLoad:Te,map3DIdsToTypes:Ne,openInActionArray:Pe,removeLocalizationCategorization:Z,replaceQueryParam:N,removeQueryParam:w,safelyExecuteFunction:Q,scrollToTop:re,setQueryParam:D,shouldAddCsrfToken:te,shouldGoToOneClickLicenseSave:Se,threeDPromoTextMap:De,threeDTypes:Le,updateAttribute:M,updateDefaultLibrary:ne,addEventListener:U,bindElementsToListener:j,setAddEventListener:F,findAncestor:le,formatLicenseTransferTooltipData:O,formatPendingLicenseRequestTooltipData:k,doubleParseObject:ce,doubleStringifyObject:ue,addItemToLocalStorage:de,removeItemFromLocalStorage:pe,getCurrentDateFormatted:he,toggleAttribute:me,toggleClassName:fe,getFindSimilarUrl:function(e,a){var i,s=[],r=t.get(a,"history",null),l=t.get(e,"is_editorial",!1),o=t.get(e,"is_premium",!1),c=t.get(e,"is_video",!1),u=t.get(e,"is_image",!1),d=t.get(e,"is_template",!1),h=t.get(e,"is_3D",!1),m="";return i=e.search_url?e.search_url:r?r.url+"?"+r.urlQuery:n.full_search_url,l?s.push(encodeURIComponent("filters[is_editorial]")+"=1"):o&&(s.push(encodeURIComponent("price[$$]")+"=1"),s.push(encodeURIComponent("price[$$$]")+"=1")),i.indexOf("content_type")<0&&(u?(s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_IMAGE+"]")+"=1"),s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_ILLUSTRATION+"]")+"=1"),s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_PHOTO+"]")+"=1"),s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_VECTOR+"]")+"=1")):c?s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_VIDEO+"]")+"=1"):d?s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_TEMPLATE+"]")+"=1"):h&&s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_3D+"]")+"=1")),i=_e(i),s.length&&(m=-1===i.indexOf("?")?"?":"&"),i+m+s.join("&")},updateCountDisplay:function(t,n){!t instanceof e||t.text(n?"("+n+")":"")},unsetSimilarParams:_e,badgeLicensedOrTransferred:x,arrayToHashMap:ge,arrayFindByKeyValue:Ee,areEqualNumbers:ve,getLocalizedAssetType:be,computeDownloadUrl:ye,updateContainerState:Ce,isValidOpenInAction:function(e){return Pe.indexOf(e)>=0}}}),define("app/constants/detailSearchGrid",[],function(){"use strict";return{DETAILS_GRID_SPINNER:"#details-grid-spinner",DETAILS_SEARCH_RESULTS_SELECTOR:"#details-search-results",DETAILS_VIEW_ALL_BUTTON_SELECTOR:"#details-view-all-button",SEARCH_FILTERS_KEY:"search_filters",SEARCH_GRID_HEAD_SELECTOR:"#details-search-grid-head"}}),define("app/utils/detailSearchGrid",["jquery","lodash","page_config","app/constants/detailSearchGrid","lib/localStorage"],function(e,t,n,a,i){"use strict";function s(e){n.isSTDetailsViewInNewTabEnabled&&i.storeData(null,a.SEARCH_FILTERS_KEY,e,!0)}function r(){return n.isSTDetailsViewInNewTabEnabled?i.retrieveData(null,a.SEARCH_FILTERS_KEY,l,!0):{}}var l={};return{updateFiltersInSessionStorage:s,getFiltersfromSessionStorage:r}}),define("app/utils/reducerHelpers",["jquery","page_config","lib/utils","app/constants/searchFilters","app/constants/assetTypeFilters"],function(e,t,n,a,i){"use strict";function s(e){return e[a.VIVID_COLOR]||e[a.DEPTH_OF_FIELD]}function r(){var i=t.search_params||{},s={};return c.forEach(function(t){var a=i[t];a&&(n.isObject(a)?Object.keys(a).length&&(s[t]=e.extend({},a)):s[t]=a)}),t.force_safe_search&&(s[a.SAFE_SEARCH]=1),s=l(s)}function l(e){var t,i;return e.filters?(t=e.filters[a.EDITORIAL],i=e.filters[a.CONTENT_TYPE_PHOTO]||e.filters[a.CONTENT_TYPE_ILLUSTRATION]||e.filters[a.CONTENT_TYPE_VECTOR],t&&"all"!==t&&(e.filters[a.EDITORIAL]=n.coerceValue(t,"int")),e.filters[a.CONTENT_TYPE_IMAGE]=i,e):e}function o(e,t){var n=e===i.EDITORIAL,s=-1!==a.EDITORIAL_CATEGORIES.indexOf(t);return n&&s||!n&&!s}var c=[a.AUTHOR,a.CATEGORY,a.COLLECTION,a.COLOR,a.FILTERS,a.KEYWORD,a.MODEL_ID,a.NATIVE_VISUAL_SEARCH,a.ORDER,a.PRICE,a.SAFE_SEARCH,a.SCORING,a.SERIE_ID,a.SIMILAR_CONTENT_ID];return{getDefaultFilterState:r,isAestheticFilterEnabled:s,isCategoryCompatibleWithAssetType:o}}),define("app/reducers/filters",["jquery","lodash","page_config","lib/utils","app/actions/actionTypes","app/constants/searchFilters","app/constants/assetTypeFilters","app/utils/detailSearchGrid","app/utils/reducerHelpers"],function(e,t,n,a,i,s,r,l,o){"use strict";function c(e,t){t.forEach(function(t){e[t]=void 0})}function u(t){var n,a={},i=[];return a[s.CONTENT_TYPE_3D]=1,a[s.CONTENT_TYPE_ILLUSTRATION]=1,a[s.CONTENT_TYPE_IMAGE]=1,a[s.CONTENT_TYPE_PHOTO]=1,a[s.CONTENT_TYPE_TEMPLATE]=1,a[s.CONTENT_TYPE_VIDEO]=1,a[s.CONTENT_TYPE_VECTOR]=1,n=e.extend(!0,{},t,{filters:a}),n[s.ORDER]=s.ORDER_RELEVANCE,S.push(s.EDITORIAL),c(n.filters,S),i=[s.PRICE],c(n,i),n}function d(t){var a,i={},r=[];return i[s.CONTENT_TYPE_3D]=0,i[s.CONTENT_TYPE_ILLUSTRATION]=1,i[s.CONTENT_TYPE_IMAGE]=1,i[s.CONTENT_TYPE_PHOTO]=1,i[s.CONTENT_TYPE_TEMPLATE]=0,i[s.CONTENT_TYPE_VIDEO]=0,i[s.CONTENT_TYPE_VECTOR]=1,a=e.extend(!0,{},t,{filters:i}),a[s.ORDER]=s.ORDER_RELEVANCE,S.push(s.EDITORIAL),c(a.filters,S),r=[s.PRICE],c(a,r),a[s.PRICE]={},n.isGloballySafeCollectionEnabled||(a[s.PRICE][s.PRICE_CLIENT_LOW]=1,a[s.PRICE][s.PRICE_SERVER_LOW]=1),a}function p(t,n){var a,i=n[s.CONTENT_TYPE_IMAGE];return a=e.extend(!0,{},t),a[s.FILTERS][s.CONTENT_TYPE_PHOTO]=i,a[s.FILTERS][s.CONTENT_TYPE_ILLUSTRATION]=i,a[s.FILTERS][s.CONTENT_TYPE_VECTOR]=i,a}function h(t){var n,a;return t&&t[s.SERIE_ID]?(n=[s.COLLECTION],a=e.extend(!0,{},t),c(a,n),a):t}function m(t){var n,a;return t&&t[s.MODEL_ID]?(n=[s.COLLECTION],a=e.extend(!0,{},t),c(a,n),a):t}function f(t){var a=[s.PRICE,s.SCORING],i=[s.COPY_SPACE,s.THREE_D_TYPE,s.ORIENTATION,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.SIZE,s.SIZE_PIXELS_WIDTH_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_MEGA_PIXELS_MIN,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE];n.isFreeEnabled&&i.push(s.CONTENT_TYPE_FREE_COLLECTION);var r,l={};return l[s.CONTENT_TYPE_3D]=0,l[s.CONTENT_TYPE_ILLUSTRATION]=0,l[s.CONTENT_TYPE_IMAGE]=0,l[s.CONTENT_TYPE_PHOTO]=0,l[s.CONTENT_TYPE_TEMPLATE]=0,l[s.CONTENT_TYPE_VIDEO]=1,l[s.CONTENT_TYPE_VECTOR]=0,r=e.extend(!0,{},t,{filters:l}),r[s.ORDER]=s.ORDER_RELEVANCE,c(r,a),c(r.filters,i),r}function _(t){var a=[s.COLOR,s.SCORING],i=[s.COPY_SPACE,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.ORIENTATION,s.EXCLUDE_PEOPLE,s.INCLUDE_PEOPLE,s.EDITORIAL,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.ISOLATED,s.SIZE,s.SIZE_PIXELS_WIDTH_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_MEGA_PIXELS_MIN,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE];n.isFreeEnabled&&i.push(s.CONTENT_TYPE_FREE_COLLECTION);var r,l={};return l[s.CONTENT_TYPE_3D]=0,l[s.CONTENT_TYPE_ILLUSTRATION]=0,l[s.CONTENT_TYPE_IMAGE]=0,l[s.CONTENT_TYPE_PHOTO]=0,l[s.CONTENT_TYPE_TEMPLATE]=1,l[s.CONTENT_TYPE_VIDEO]=0,l[s.CONTENT_TYPE_VECTOR]=0,r=e.extend(!0,{},t,{filters:l}),r[s.ORDER]=s.ORDER_RELEVANCE,a.push(s.PRICE),c(r,a),c(r.filters,i),r}function g(t){var a=[s.COLOR,s.SCORING],i=[s.COPY_SPACE,s.VIDEO_IS_4K,s.ORIENTATION,s.EXCLUDE_PEOPLE,s.INCLUDE_PEOPLE,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.EDITORIAL,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.ISOLATED,s.SIZE,s.SIZE_PIXELS_WIDTH_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_MEGA_PIXELS_MIN,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE];n.isFreeEnabled&&i.push(s.CONTENT_TYPE_FREE_COLLECTION);var r,l={};return l[s.CONTENT_TYPE_3D]=1,l[s.CONTENT_TYPE_ILLUSTRATION]=0,l[s.CONTENT_TYPE_IMAGE]=0,l[s.CONTENT_TYPE_PHOTO]=0,l[s.CONTENT_TYPE_TEMPLATE]=0,l[s.CONTENT_TYPE_VIDEO]=0,l[s.CONTENT_TYPE_VECTOR]=0,r=e.extend(!0,{},t,{filters:l}),r[s.ORDER]=s.ORDER_RELEVANCE,a.push(s.PRICE),c(r,a),c(r.filters,i),r}function E(t){var n,a={},i={};return a[s.CONTENT_TYPE_3D]=0,a[s.CONTENT_TYPE_ILLUSTRATION]=1,a[s.CONTENT_TYPE_IMAGE]=1,a[s.CONTENT_TYPE_PHOTO]=1,a[s.CONTENT_TYPE_TEMPLATE]=0,a[s.CONTENT_TYPE_VECTOR]=1,a[s.CONTENT_TYPE_VIDEO]=0,i[s.PRICE_CLIENT_HIGH]=1,i[s.PRICE_CLIENT_LOW]=0,i[s.PRICE_SERVER_MEDIUM]=1,i[s.PRICE_SERVER_HIGH]=1,i[s.PRICE_SERVER_LOW]=0,n=e.extend(!0,{},t,{filters:a,price:i}),n[s.ORDER]=s.ORDER_RELEVANCE,c(n.filters,I),n}function v(t){var n,a={};return a[s.CONTENT_TYPE_3D]=0,a[s.CONTENT_TYPE_ILLUSTRATION]=1,a[s.CONTENT_TYPE_IMAGE]=1,a[s.CONTENT_TYPE_PHOTO]=1,a[s.CONTENT_TYPE_TEMPLATE]=0,a[s.CONTENT_TYPE_VECTOR]=1,a[s.CONTENT_TYPE_VIDEO]=0,a[s.CONTENT_TYPE_FREE_COLLECTION]=1,a[s.ORDER]=s.ORDER_RELEVANCE,n=e.extend(!0,{},t,{filters:a}),c(n.filters,O),n[s.PRICE]={},n}function b(t){var a,i={},r=[s.PRICE],l=[s.COPY_SPACE,s.EXCLUDE_PEOPLE,s.INCLUDE_PEOPLE,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.ISOLATED,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE];return i[s.CONTENT_TYPE_3D]=0,i[s.CONTENT_TYPE_ILLUSTRATION]=1,i[s.CONTENT_TYPE_PHOTO]=1,i[s.CONTENT_TYPE_TEMPLATE]=0,i[s.CONTENT_TYPE_VECTOR]=1,i[s.CONTENT_TYPE_IMAGE]=1,i[s.CONTENT_TYPE_VIDEO]=1,i[s.EDITORIAL]=1,a=e.extend(!0,{},t,{filters:i}),a[s.ORDER]=s.ORDER_CREATION,n.isFreeEnabled&&l.push(s.CONTENT_TYPE_FREE_COLLECTION),c(a,r),c(a.filters,l),a}function T(t,r){var c,u,d,f,_,g="",E=[];switch(void 0===t&&(t=o.getDefaultFilterState(),e.isEmptyObject(t)||l.updateFiltersInSessionStorage(t)),r.type){case i.UPDATE_SEARCH_FILTERS:u=Object.keys(r.filters),c=e.extend({},t),u.forEach(function(n){var i;a.isObject(r.filters[n])?(i=e.extend({},t[n],r.filters[n]),Object.keys(i).forEach(function(e){i[e]||(i[e]=void 0)}),i=e.extend({},i),Object.keys(i).length?c[n]=i:c[n]=void 0):n!==s.SAFE_SEARCH?c[n]=r.filters[n]||void 0:c[n]=r.filters[n]}),c=h(c),c=m(c),c=e.extend({},c);break;case i.UPDATE_ASSET_TYPE_FILTER:case i.CLEAR_ASSET_TYPE_BREADCRUMB:u={},u[s.FILTERS]=e.extend({},t[s.FILTERS],r.filters),r.filters[s.CONTENT_TYPE_VIDEO]&&!r.all&&(u[s.PRICE]={}),c=e.extend({},t,u),c=p(c,r.filters);break;case i.UPDATE_IMAGE_SUBCATEGORY_FILTER:c=e.extend({},t),c[s.FILTERS]=e.extend({},t[s.FILTERS],r.filters);break;case i.UPDATE_ISOLATED_FILTER:c=e.extend({},t);var v=r.filters[s.ISOLATED];void 0===v&&c[s.FILTERS]?delete c[s.FILTERS][s.ISOLATED]:c[s.FILTERS]=e.extend({},t[s.FILTERS],r.filters);break;case i.UPDATE_ILLUSTRATIVE_FILTER:c=e.extend({},t);var v=r.filters[s.ILLUSTRATIVE];void 0===v&&c[s.FILTERS]?delete c[s.FILTERS][s.ILLUSTRATIVE]:c[s.FILTERS]=e.extend({},t[s.FILTERS],r.filters);break;case i.UPDATE_UNDISCOVERED_FILTER:c=e.extend({},t);var v=r.filters[s.UNDISCOVERED];void 0===v&&c[s.FILTERS]?delete c[s.FILTERS][s.UNDISCOVERED]:c[s.FILTERS]=e.extend({},t[s.FILTERS],r.filters);break;case i.UPDATE_FRAME_RATE_FILTER:c=e.extend({},t),u={},u[s.VIDEO_FRAME_RATE]=r.frameRates,c[s.FILTERS]=e.extend({},t[s.FILTERS],u);break;case i.UPDATE_FIND_SIMILAR_BY:c=e.extend({},t),c[s.FIND_SIMILAR_BY]=r.findSimilarBy,delete c.oa;break;case i.UPDATE_DURATION_FILTER:c=e.extend({},t),u={},u[s.VIDEO_DURATION_MIN]=r.min,u[s.VIDEO_DURATION_MAX]=r.max,c[s.FILTERS]=e.extend({},t[s.FILTERS],u);break;case i.UPDATE_COPY_SPACE_FILTER:c=e.extend({},t),u={},u[s.COPY_SPACE]=r.value,c[s.FILTERS]=e.extend({},t[s.FILTERS],u);break;case i.NAVIGATE_SEARCH_HISTORY:case i.ALERT_UNDO_ACTION:c=r.previousFilters||o.getDefaultFilterState();break;case i.UPDATE_SIZE_FILTER:f=r[s.SIZE],c=e.extend({},t),u=e.extend({},r.value),_=c[s.FILTERS],delete _[s.SIZE_PIXELS_WIDTH_MIN],delete _[s.SIZE_PIXELS_HEIGHT_MIN],delete _[s.SIZE_MEGA_PIXELS_MIN],f&&(c[s.FILTERS]=e.extend({},t[s.FILTERS],u));break;case i.UPDATE_PAGE_DATA:c=t,r.data.filter_asset_type&&(d=r.data.filter_asset_type,c=e.extend(!0,{},k[d](t)),c[s.CATEGORY]&&!o.isCategoryCompatibleWithAssetType(d,c[s.CATEGORY])&&(c[s.CATEGORY]="")),c=e.extend({},c);break;case i.CLEAR_SEARCH_FILTERS:u={},u[s.KEYWORD]=t[s.KEYWORD],u[s.SIMILAR_CONTENT_ID]=t[s.SIMILAR_CONTENT_ID],u[s.NATIVE_VISUAL_SEARCH]=t[s.NATIVE_VISUAL_SEARCH],u[s.SERIE_ID]=t[s.SERIE_ID],u[s.MODEL_ID]=t[s.MODEL_ID],u[s.SAFE_SEARCH]=s.SAFE_SEARCH_ON,c=e.extend(!0,{},k[r.data.filter_asset_type](u));break;case i.GET_SEARCH_RESULTS.begin:u={},u[s.SIMILAR_CONTENT_ID]=r.searchFilters[s.SIMILAR_CONTENT_ID],c=e.extend(!0,{},t,u),c[s.PRICE]=t[s.PRICE];break;case i.GET_SEARCH_RESULTS.success:case i.GET_SEARCH_RESULTS.failure:c=e.extend(!0,{},t,r.searchFilters||{},{search_page:r.isHistoryNavigationSearch?r.searchFilters.search_page:1}),t[s.COLLECTION]&&!r.searchFilters[s.COLLECTION]&&(c[s.COLLECTION]=void 0),c.is_recent_search=void 0,c[s.IS_QUERY_SUGGESTED]=void 0,c.get_facets=void 0,c=e.extend({},c);break;case i.MULTI_IMAGE_ADD:c=e.extend(!0,{},t,r.searchFilters||{});break;case i.MULTI_IMAGE_REMOVE:c=e.extend(!0,{},t),c[s.SIMILAR_CONTENT_ID]=void 0;break;case i.CLEAR_BREADCRUMB_FILTER:switch(c=e.extend(!0,{},t),r.filter.key){case s.PRICE_CLIENT_LOW:case s.PRICE_CLIENT_HIGH:c.price=void 0;break;case s.COLOR:case s.CATEGORY:c[r.filter.key]=void 0;break;case s.DEPTH_OF_FIELD:case s.VIVID_COLOR:c.scoring[r.filter.key]=void 0;break;case s.EDITORIAL_DATE_RANGE:c.filters[s.EDITORIAL_EVENT_DATE_START]=void 0,c.filters[s.EDITORIAL_EVENT_DATE_END]=void 0;break
;case s.CONTENT_TYPE_PHOTO:c.filters[s.CONTENT_TYPE_ILLUSTRATION]||c.filters[s.CONTENT_TYPE_VECTOR]?c.filters[s.CONTENT_TYPE_PHOTO]=0:(c.filters[s.CONTENT_TYPE_ILLUSTRATION]=1,c.filters[s.CONTENT_TYPE_VECTOR]=1);break;case s.CONTENT_TYPE_ILLUSTRATION:c.filters[s.CONTENT_TYPE_PHOTO]||c.filters[s.CONTENT_TYPE_VECTOR]?c.filters[s.CONTENT_TYPE_ILLUSTRATION]=0:(c.filters[s.CONTENT_TYPE_PHOTO]=1,c.filters[s.CONTENT_TYPE_VECTOR]=1);break;case s.CONTENT_TYPE_VECTOR:c.filters[s.CONTENT_TYPE_ILLUSTRATION]||c.filters[s.CONTENT_TYPE_PHOTO]?c.filters[s.CONTENT_TYPE_VECTOR]=0:(c.filters[s.CONTENT_TYPE_ILLUSTRATION]=1,c.filters[s.CONTENT_TYPE_PHOTO]=1);break;case s.SAFE_SEARCH:c[s.SAFE_SEARCH]=s.SAFE_SEARCH_ON;break;case s.TEMPLATE_TYPES:c.filters[s.TEMPLATE_TYPES]=[];break;case s.ISOLATED:c.filters[s.ISOLATED]=void 0;break;case s.UNDISCOVERED:c.filters[s.UNDISCOVERED]=void 0;break;case s.ILLUSTRATIVE:c.filters[s.ILLUSTRATIVE]=void 0;break;case s.SIZE:c.filters[s.SIZE_MEGA_PIXELS_MIN]=void 0,c.filters[s.SIZE_PIXELS_WIDTH_MIN]=void 0,c.filters[s.SIZE_PIXELS_HEIGHT_MIN]=void 0;break;case s.FIND_SIMILAR_BY:c[s.FIND_SIMILAR_BY]=void 0,c[s.SIMILAR_CONTENT_ID]=void 0;break;case s.ORIENTATION:if(n.isUSSSearchEnabled){g=c[s.FILTERS][s.ORIENTATION],E=a.getMultipleOrientationFilters(g),E.splice(E.indexOf(r.filter.value),1),c[s.FILTERS][s.ORIENTATION]=E.length?E.join(s.ORIENTATION_FILTER_SEPARATOR):void 0;break}default:Array.isArray(t.filters[r.filter.key])?c.filters[r.filter.key].splice(c.filters[r.filter.key].lastIndexOf(r.filter.value),1):t.filters[r.filter.key]&&(c.filters[r.filter.key]=void 0)}break;case i.UPDATE_ASSET_ID:c=e.extend(!0,{},t),c[s.ASSET_ID]=r.value;break;default:c=t}return c}function y(t,n){var a=e.extend({},t);switch(n.type){case i.SET_ASSET_TYPE_TO_PREMIUM:return a.filters=e.extend({},t.filters,a.filters),a.filters[s.CONTENT_TYPE_ILLUSTRATION]=1,a.filters[s.CONTENT_TYPE_IMAGE]=1,a.filters[s.CONTENT_TYPE_PHOTO]=1,a.filters[s.CONTENT_TYPE_VECTOR]=1,a.filters[s.CONTENT_TYPE_3D]=0,a.filters[s.CONTENT_TYPE_TEMPLATE]=0,a.filters[s.CONTENT_TYPE_VIDEO]=0,a.price=e.extend({},t.price,a.price),a.price[s.PRICE_CLIENT_LOW]=0,a.price[s.PRICE_CLIENT_HIGH]=1,a.price[s.PRICE_SERVER_LOW]=0,a.price[s.PRICE_SERVER_MEDIUM]=1,a.price[s.PRICE_SERVER_HIGH]=1,a[s.ORDER]=s.ORDER_RELEVANCE,a;default:return t}}function C(t,n){var a=e.extend({},t);switch(n.type){case i.SET_ASSET_TYPE_TO_PREMIUM:return a[s.CATEGORY]&&-1!==s.EDITORIAL_CATEGORIES.indexOf(a[s.CATEGORY])&&(a[s.CATEGORY]=""),I.forEach(function(e){delete a[s.FILTERS][e]}),a;default:return t}}var S=[s.THREE_D_TYPE,s.VIDEO_IS_4K,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN],I=[s.EDITORIAL,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.ISOLATED,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE],O=[s.EDITORIAL,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE];n.isFreeEnabled&&(I.push(s.CONTENT_TYPE_FREE_COLLECTION),S.push(s.CONTENT_TYPE_FREE_COLLECTION));var k={"3d":g,all:u,images:d,templates:_,videos:f,premium:E,editorial:b,free:v};return{filters:a.flattenReducers([y,T,C]),allFiltersSwitchState:u,imagesFiltersSwitchState:d,applyImageFilterToImageTypes:p,videosFiltersSwitchState:f,templatesFiltersSwitchState:_,threeDFiltersSwitchState:g,premiumFiltersSwitchState:E,freeFiltersSwitchState:v,editorialViewSwitchState:b,unsetFiltersReducer:C}}),define("app/constants/cookies",[],function(){"use strict";return{LAST_SELECTED_ASSET_TYPE:"last_selected_asset_type",FIRST_LIBRARY_CREATING:"first_library_creating"}}),define("app/constants/errors",[],function(){"use strict";return{MISSING_URL:"Url must be a string."}}),define("app/constants/mediaTypes",["page_config"],function(e){"use strict";return e.constants.media_types}),define("app/constants/routes",[],function(){"use strict";var e={COLLECTIONS:"/collections",CONTRIBUTORS:"/contributor",EDITORIAL_COLLECTIONS:"/collections/editorial",PREMIUM_COLLECTIONS:"/premium",SEARCH:"/search"},t={};return t["Member/SwitchAccount"]="/Member/SwitchAccount/:guid",t["Member/SwitchPersonal"]="/Member/SwitchPersonal",t["Member/SwitchTeam"]="/Member/SwitchTeam/:guid",t.root="/",{allSearchRoutes:e,CONTRIBUTORS:"/contributor",COLLECTIONS:"/collections",DOWNLOAD_API:"/Rest/Libraries/Download/",EDITORIAL_COLLECTIONS:"/collections/editorial",PLANS:"/plans",PREMIUM_COLLECTIONS:"/premium",ROUTES_NAME_MAP:t,SEARCH:"/search",SEARCH_IMAGES:"/search/images",SEARCH_VIDEO:"/search/video",SEARCH_AUDIO:"/search/audio",SEARCH_TEMPLATES:"/search/templates",SEARCH_3D:"/search/3d-assets",SEARCH_EDITORIAL:"/search/editorial",SEARCH_PREMIUM:"/search/premium",SWITCH_PERSONAL:"/Member/SwitchPersonal",SEARCH_FREE:"/search/free"}}),define("app/constants/ui",[],function(){"use strict";return{ENTER_KEY:13,DOWN_KEY:40,UP_KEY:38,FILTER_PANEL_CLOSE:"close",FILTER_PANEL_OPEN:"open"}}),define("app/constants/index",["page_config","lib/window","app/constants/assetTypeFilters","app/constants/cookies","app/constants/errors","app/constants/mediaTypes","app/constants/routes","app/constants/searchFilters","app/constants/templateCategories","app/constants/templateTypes","app/constants/ui"],function(e,t,n,a,i,s,r,l,o,c,u){"use strict";return{assetTypeFilters:n,cookies:a,errors:i,mediaTypes:s,routes:r,searchFilters:l,templateCategories:o,templateTypes:c,ui:u}}),define("app/constants/page",["page_config","lib/window"],function(e,t){"use strict";return{BASE_URL:t.getOrigin()+e.base_url}}),define("app/utils/url",[],function(){"use strict";return{uriEncodeData:function(e){var t="",n=!0;for(var a in e)if(e.hasOwnProperty(a)&&void 0!==e[a]){var i,s=encodeURIComponent(a),r=e[a];i=null===r?"null":"object"==typeof r?encodeURIComponent(JSON.stringify(r)):encodeURIComponent(r),t+=(n?"":"&")+s+"="+i,n=!1}return t},buildQueryString:function(e,t){if(e){var n=this.uriEncodeData(e);return n&&(n=t&&-1!==t.indexOf("?")?"&"+n:"?"+n),n}return""}}}),define("app/utils/routes",["page_config","app/constants/routes","app/utils/url","lib/window"],function(e,t,n,a){"use strict";function i(t){return e.base_url+p(t)}function s(t){var n=t?"/Member/EnterpriseReport":"/Member/LicenseHistory";return n="//"+a.getLocation("host")+e.base_url+n}var r=function(e){var n,a,i,s,r=!1;if(e)for(n=Object.keys(t.allSearchRoutes),a=n.length,i=0;i<a;i++)if(s=t.allSearchRoutes[n[i]],-1!==e.indexOf(s)){r=!0;break}return r},l=function(e){return d(e,t.PREMIUM_COLLECTIONS)},o=function(e){return d(e,t.COLLECTIONS)},c=function(e){return d(e,t.EDITORIAL_COLLECTIONS)},u=function(e){var a=t.SWITCH_PERSONAL;return a+n.buildQueryString({referrer_uri:e},a)},d=function(e,t){return e&&-1!==e.indexOf(t)},p=function(n){var a={all:t.SEARCH,images:t.SEARCH_IMAGES,videos:t.SEARCH_VIDEO,audio:t.SEARCH_AUDIO,templates:t.SEARCH_TEMPLATES,"3d":t.SEARCH_3D,premium:t.SEARCH_PREMIUM,editorial:t.SEARCH_EDITORIAL};return e.isFreeEnabled&&(a.free=t.SEARCH_FREE),a[n]};return{shouldRouteToSearch:r,isPremiumRoute:l,isCollectionsRoute:o,isEditorialCollectionsRoute:c,getSwitchPersonalRoute:u,getSearchRoute:p,getSearchRouteWithBaseURL:i,getLicenseHistoryURL:s,getRoute:function(a,i,s){var r=t.ROUTES_NAME_MAP[i];return r&&(Object.keys(a).forEach(function(e){r=r.replace(":"+e,a[e])}),r+=n.buildQueryString(s,r),e.base_url&&(r=e.base_url+r)),r}}}),define("app/reducers/history",["jquery","i18n-config","app/actions/actionTypes","app/constants/index","app/constants/page","app/utils/routes","lib/utils","page_config"],function(e,t,n,a,i,s,r,l){"use strict";var o=i.BASE_URL+location.pathname.replace(l.base_url,""),c=document.title,u=function(){var e=l.search_params||{},t=window.location;return{oldKeyword:e.k||"",paramHistory:{},skipUrl:!1,title:c,url:o,urlQuery:0===t.search.indexOf("?")?t.search.substr(1):t.search}},d=function(e,n){var i=e||"",s=n.title,l=r.capitalizeFirstCharacter(i);return-1!==n.url.indexOf(a.routes.SEARCH)&&(s=l?t.sprintf(t.gettext("META::%s stock photos, royalty-free images, vectors, video"),l):t.gettext("META::Stock photos, royalty-free images, graphics, vectors & videos")),s},p=function(e,t,n){var r=e||{},l=r.url;if(!l)throw a.errors.MISSING_URL;return(s.shouldRouteToSearch(l)||n)&&(l=i.BASE_URL+s.getSearchRoute(t)),l};return{history:function(t,a){var i,s;switch(void 0===t&&(t=u()),a.type){case n.UPDATE_META_DATA:i=e.extend({},t,a.newMetaData);break;case n.GET_SEARCH_RESULTS.begin:i=e.extend({},t,{oldKeyword:a.searchFilters.k,urlQuery:a.newUrlQuery}),a.isHistoryNavigationSearch||(delete i.paramHistory[a.newUrlQuery],i.url=p(i,a.assetType,a.forceSearchRoute),i.title=d(a.searchFilters.k,i),i.paramHistory[a.newUrlQuery]={assetType:a.assetType,filters:a.searchFilters,pagination:a.searchPagination,title:i.title,url:i.url});break;case n.GET_SEARCH_RESULTS.success:case n.GET_SEARCH_RESULTS.failure:i=e.extend({},t,{skipUrl:!1});break;case n.NAVIGATE_SEARCH_HISTORY:case n.ALERT_UNDO_ACTION:s=u(),i=e.extend({},t,{oldKeyword:a.pastKeyword||s.oldKeyword,skipUrl:a.shouldSkipUrl,title:a.previousTitle||s.title,url:a.previousUrl||s.url});break;default:i=t}return i}}}),define("app/actions/memberActions",["app/actions/actionTypes"],function(e){"use strict";function t(t,n){return{stockProfile:t,imsProfile:n,hasSubscription:a(t),type:e.MEMBER_LOGGED_IN}}function n(t){return{stockProfile:t,hasSubscription:a(t),type:e.MEMBER_UPDATED_ENTITLEMENT}}function a(e){return!!(e&&e.default_entitlement&&e.default_entitlement.has_subscription)}return{hasSubscription:a,memberLoggedIn:t,memberUpdatedEntitlement:n}}),define("app/reducers/member",["page_config","app/actions/actionTypes","app/actions/memberActions","jquery","lib/member"],function(e,t,n,a,i){"use strict";function s(){var t=null,s=null,r=!a.isEmptyObject(e.member)&&e.SUSI&&e.SUSI.profile,l=null,o=null;return r&&(s=e.SUSI.profile,l=e.member,i.setImsProfile(a.extend(!0,{},s)),i.setStockProfile(a.extend(!0,{},l)),t=n.hasSubscription(l),o=i.getUsername()),{username:o,avatar:null,imsProfile:s,stockProfile:l,hasSubscription:t}}function r(e,n){var r;if(void 0===e)return s();switch(n.type){case t.MEMBER_LOGGED_IN:i.setImsProfile(a.extend(!0,{},n.imsProfile)),i.setStockProfile(a.extend(!0,{},n.stockProfile)),r={username:i.getUsername(),avatar:"",imsProfile:n.imsProfile,stockProfile:n.stockProfile,hasSubscription:n.hasSubscription};break;case t.MEMBER_UPDATED_ENTITLEMENT:i.setStockProfile(a.extend(!0,{},n.stockProfile)),r={username:e.username,avatar:e.avatar,imsProfile:e.imsProfile,stockProfile:n.stockProfile,hasSubscription:n.hasSubscription};break;default:return e}return r}return{member:r}}),define("app/reducers/pagination",["jquery","page_config","lib/utils","app/actions/actionTypes"],function(e,t,n,a){"use strict";var i=function(){var e=t.search_pagination||{},n=parseInt(e.total_pages),a=parseInt(e.current_page),i=parseInt(e.total_results),s=t.search_pagination||{};return{numPages:parseInt(s.total_pages)||1,page:a||1,pageLimit:n||100,total:i||0}};return{pagination:function(t,n){var s;switch(void 0===t&&(t=i()),n.type){case a.GET_SEARCH_RESULTS.success:s=e.extend({},t,{numPages:n.result.num_pages,page:n.result.search_page,pageLimit:n.result.page_limit,total:n.result.total});break;case a.NAVIGATE_SEARCH_HISTORY:case a.ALERT_UNDO_ACTION:s=n.previousPagination||i();break;case a.UPDATE_PAGE_DATA:case a.SET_ASSET_TYPE_TO_PREMIUM:s=e.extend({},t,{page:1});break;default:s=t}return s}}}),define("app/reducers/search",["jquery","app/actions/actionTypes","page_config","app/utils/routes","lib/contentDetails"],function(e,t,n,a,i){"use strict";function s(){var t=i.getContentDataDic(),a={items:e.isEmptyObject(t)?[]:t,loading:!1,originalTotal:null,suggestedKeywords:null,categoryUrl:n.category_url||null};return a.originalTotal=n.original_total||null,a.suggestedKeywords=n.suggest_used||null,a.availableAssetTypes=n.available_asset_types||[],a.longtailKeywords=n.longtail_keywords||[],a.facets=n.facets||null,a.querySuggestions=n.query_suggestions||[],a.contributorRedirect=n.contributor_redirect||[],a}return{search:function(i,r){var l;switch(void 0===i&&(i=s()),r.type){case t.GET_SEARCH_RESULTS.begin:return e.extend({},i,{loading:!0});case t.GET_SEARCH_RESULTS.success:return r.result.content_url_redirect?e.extend({},i,{content_url_redirect:r.result.content_url_redirect}):(l=e.extend({},i,{items:r.result.items||{},loading:!1,additional_digital_data:r.result.additional_digital_data||[],originalTotal:r.result.original_total||null,suggestedKeywords:r.result.suggest_used||null,categoryUrl:a.getSearchRoute(r.assetType),assetTypeLinks:r.result.asset_type_links||[],availableAssetTypes:r.result.available_asset_types||[],longtailKeywords:r.result.longtail_keywords||[]}),r.searchFilters&&"pagination"!==r.searchFilters.search_type&&(r.searchFilters.get_facets||n.isViewLinksInImagesAndAllEnabled&&r.result.facets&&r.result.facets.asset_type)&&(l.facets=r.result.facets),n.isQISAsyncEnabled||(l.querySuggestions=r.result.query_suggestions),l.contributorRedirect=r.result.contributor_redirect,l);case t.GET_SEARCH_RESULTS.failure:return e.extend({},i,{loading:!1,errors:r.error});case t.OPEN_FILTERS_PANEL.success:return l=e.extend({},i),l.facets=r.result.facets,l;case t.UPDATE_LIBRARY_ITEMS:return l=e.extend({},i),l.items=r.items,l;case t.ADD_ITEM_DETAILS:return i.items[r.content_id]?(l=i,l.items=e.extend({},i.items),l.items[r.content_id].editorial_data=e.extend({},r.data.editorial_data),l):i;default:return i}}}}),define("app/reducers/page",["jquery","app/actions/actionTypes","app/constants/assetTypeFilters","app/constants/cookies","page_config","lib/cookie","app/constants/localStorage"],function(e,t,n,a,i,s,r){"use strict";function l(){var t=e.extend({},i.page_data||{}),l=s(a.LAST_SELECTED_ASSET_TYPE)||n.DEFAULT_TYPE,o=localStorage.getItem(r.VECTOR_DOWNLOAD_CHOICE_KEY);return i.isHideAllFromDropdownEnabled&&l===n.ALL&&(l=n.IMAGES),l&&(t.original_asset_type=l),o&&(t.vectorDownloadChoice=o),e.extend(t,c),t}function o(n,a){var i={};switch(void 0===n&&(n=l()),a.type){case t.CHECK_FILTER_TOGGLE:i=e.extend({},n),i[a.name]=a.checked;break;case t.RESET_FILTER_TOGGLE:i=e.extend({},n,c);break;case t.UPDATE_PAGE_DATA:i=e.extend({},n,a.data);break;case t.SET_ASSET_TYPE_TO_PREMIUM:i=e.extend({},n),i.filter_asset_type="premium";break;case t.NAVIGATE_SEARCH_HISTORY:case t.ALERT_UNDO_ACTION:i=e.extend(n,{filter_asset_type:a.previousAssetType||n.original_asset_type});break;case t.OPEN_VECTOR_DOWNLOAD_SETTINGS:i=e.extend({},n,{shouldShowVectorDownloadSettingsModal:!0});break;case t.CLOSE_VECTOR_DOWNLOAD_SETTINGS:i=e.extend({},n,{shouldShowVectorDownloadSettingsModal:!1});break;case t.SAVE_VECTOR_DOWNLOAD_PREFERENCE:i=e.extend({},n,{shouldShowVectorDownloadSettingsModal:!1,vectorDownloadChoice:a.value});break;default:i=n}return i}var c={"3d-trigger":!0,"applications-trigger":!0,"asset-trigger":!0,"category-trigger":!0,"color-trigger":!0,"copy-space-trigger":!0,"dof-trigger":!0,"editorial-date-range-trigger":!0,"editorial-trigger":!0,"frame-rate-trigger":!1,"duration-trigger":!0,"images-trigger":!0,"isolated-trigger":!0,"illustrative-trigger":!0,"undiscovered-trigger":!0,"media-trigger":!0,"order-trigger":!0,"orientation-trigger":!0,"people-trigger":!0,"price-trigger":!0,"safe-search-trigger":!0,"size-trigger":!0,"templates-trigger":!0,"videos-trigger":!0,"vivid-color-trigger":!1};return{page:o}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return xa.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,a=[];for(n=0;n<e.length;++n)a.push(t(e[n],n));return a}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,a){return St(e,t,n,a,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function h(e){if(null==e._isValid){var t=p(e),n=Pa.call(t.parsedDateParts,function(e){return null!=e}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function m(e){var t=u(NaN);return null!=e?c(p(t),e):p(t).userInvalidated=!0,t}function f(e,t){var n,a,s;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=p(t)),i(t._locale)||(e._locale=t._locale),La.length>0)for(n=0;n<La.length;n++)a=La[n],s=t[a],i(s)||(e[a]=s);return e}function _(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Da&&(Da=!0,e.updateOffset(this),Da=!1)}function g(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function E(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=E(t)),n}function b(e,t,n){var a,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0;for(a=0;a<i;a++)(n&&e[a]!==t[a]||!n&&v(e[a])!==v(t[a]))&&r++;return r+s}function T(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function y(t,n){var a=!0;return c(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),a){for(var i,s=[],r=0;r<arguments.length;r++){if(i="","object"==typeof arguments[r]){i+="\n["+r+"] ";for(var l in arguments[0])i+=l+": "+arguments[0][l]+", ";i=i.slice(0,-2)}else i=arguments[r];s.push(i)}T(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),a=!1}return n.apply(this,arguments)},n)}function C(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Na[t]||(T(n),Na[t]=!0)}function S(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e){var t,n;for(n in e)t=e[n],S(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var a,i=c({},e);for(a in t)o(t,a)&&(n(e[a])&&n(t[a])?(i[a]={},c(i[a],e[a]),c(i[a],t[a])):null!=t[a]?i[a]=t[a]:delete i[a]);for(a in e)o(e,a)&&!o(t,a)&&n(e[a])&&(i[a]=c({},i[a]));return i}function k(e){null!=e&&this.set(e)}function A(e,t,n){var a=this._calendar[e]||this._calendar.sameElse;return S(a)?a.call(t,n):a}function R(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function x(){return this._invalidDate}function P(e){return this._ordinal.replace("%d",e)}function L(e,t,n,a){var i=this._relativeTime[n];return S(i)?i(e,t,n,a):i.replace(/%d/i,e)}function D(e,t){var n=this._relativeTime[e>0?"future":"past"];return S(n)?n(t):n.replace(/%s/i,t)}function N(e,t){var n=e.toLowerCase();Ha[n]=Ha[n+"s"]=Ha[t]=e}function w(e){return"string"==typeof e?Ha[e]||Ha[e.toLowerCase()]:void 0}function M(e){var t,n,a={};for(n in e)o(e,n)&&(t=w(n))&&(a[t]=e[n]);return a}function U(e,t){Va[e]=t}function F(e){var t=[];for(var n in e)t.push({unit:n,priority:Va[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function j(e,t,n){var a=""+Math.abs(e),i=t-a.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+a}function H(e,t,n,a){var i=a;"string"==typeof a&&(i=function(){return this[a]()}),e&&(Ba[e]=i),t&&(Ba[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&(Ba[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,a=e.match(qa);for(t=0,n=a.length;t<n;t++)Ba[a[t]]?a[t]=Ba[a[t]]:a[t]=V(a[t]);return function(t){var i,s="";for(i=0;i<n;i++)s+=S(a[i])?a[i].call(t,e):a[i];return s}}function Y(e,t){return e.isValid()?(t=G(t,e.localeData()),Ga[t]=Ga[t]||q(t),Ga[t](e)):e.localeData().invalidDate()}function G(e,t){function n(e){return t.longDateFormat(e)||e}var a=5;for(Ya.lastIndex=0;a>=0&&Ya.test(e);)e=e.replace(Ya,n),Ya.lastIndex=0,a-=1;return e}function B(e,t,n){ci[e]=S(t)?t:function(e,a){return e&&n?n:t}}function K(e,t){return o(ci,e)?ci[e](t._strict,t._locale):new RegExp(W(e))}function W(e){return z(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,a,i){return t||n||a||i}))}function z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(e,t){var n,a=t;for("string"==typeof e&&(e=[e]),s(t)&&(a=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)ui[e[n]]=a}function X(e,t){Q(e,function(e,n,a,i){a._w=a._w||{},t(e,a._w,a,i)})}function Z(e,t,n){null!=t&&o(ui,e)&&ui[e](t,n._a,n,e)}function J(e){return $(e)?366:365}function $(e){return e%4==0&&e%100!=0||e%400==0}function ee(){return $(this.year())}function te(t,n){return function(a){return null!=a?(ae(this,t,a),e.updateOffset(this,n),this):ne(this,t)}}function ne(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ae(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&$(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),le(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function ie(e){return e=w(e),S(this[e])?this[e]():this}function se(e,t){if("object"==typeof e){e=M(e);for(var n=F(e),a=0;a<n.length;a++)this[n[a].unit](e[n[a].unit])}else if(e=w(e),S(this[e]))return this[e](t);return this}function re(e,t){return(e%t+t)%t}function le(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=re(t,12);return e+=(t-n)/12,1===n?$(e)?29:28:31-n%7%2}function oe(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||yi).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone}function ce(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[yi.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ue(e,t,n){var a,i,s,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)s=u([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?(i=bi.call(this._shortMonthsParse,r),-1!==i?i:null):(i=bi.call(this._longMonthsParse,r),-1!==i?i:null):"MMM"===t?-1!==(i=bi.call(this._shortMonthsParse,r))?i:(i=bi.call(this._longMonthsParse,r),-1!==i?i:null):-1!==(i=bi.call(this._longMonthsParse,r))?i:(i=bi.call(this._shortMonthsParse,r),-1!==i?i:null)}function de(e,t,n){var a,i,s;if(this._monthsParseExact)return ue.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(i=u([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[a]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[a]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(n&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}}function pe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(t=e.localeData().monthsParse(t),!s(t))return e;return n=Math.min(e.date(),le(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function he(t){return null!=t?(pe(this,t),e.updateOffset(this,!0),this):ne(this,"Month")}function me(){return le(this.year(),this.month())}function fe(e){return this._monthsParseExact?(o(this,"_monthsRegex")||ge.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Ii),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function _e(e){return this._monthsParseExact?(o(this,"_monthsRegex")||ge.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Oi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ge(){function e(e,t){return t.length-e.length}var t,n,a=[],i=[],s=[];for(t=0;t<12;t++)n=u([2e3,t]),a.push(this.monthsShort(n,"")),i.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(a.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)a[t]=z(a[t]),i[t]=z(i[t]);for(t=0;t<24;t++)s[t]=z(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ee(e,t,n,a,i,s,r){var l;return e<100&&e>=0?(l=new Date(e+400,t,n,a,i,s,r),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,n,a,i,s,r),l}function ve(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function be(e,t,n){var a=7+t-n;return-(7+ve(e,0,a).getUTCDay()-t)%7+a-1}function Te(e,t,n,a,i){var s,r,l=(7+n-a)%7,o=be(e,a,i),c=1+7*(t-1)+l+o;return c<=0?(s=e-1,r=J(s)+c):c>J(e)?(s=e+1,r=c-J(e)):(s=e,r=c),{year:s,dayOfYear:r}}function ye(e,t,n){var a,i,s=be(e.year(),t,n),r=Math.floor((e.dayOfYear()-s-1)/7)+1;return r<1?(i=e.year()-1,a=r+Ce(i,t,n)):r>Ce(e.year(),t,n)?(a=r-Ce(e.year(),t,n),i=e.year()+1):(i=e.year(),a=r),{week:a,year:i}}function Ce(e,t,n){var a=be(e,t,n),i=be(e+1,t,n);return(J(e)-a+i)/7}function Se(e){return ye(e,this._week.dow,this._week.doy).week}function Ie(){return this._week.dow}function Oe(){return this._week.doy}function ke(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ae(e){var t=ye(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Re(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function xe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pe(e,t){return e.slice(t,7).concat(e.slice(0,t))}function Le(e,n){var a=t(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(n)?"format":"standalone"];return!0===e?Pe(a,this._week.dow):e?a[e.day()]:a}function De(e){return!0===e?Pe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ne(e){return!0===e?Pe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function we(e,t,n){var a,i,s,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)s=u([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?(i=bi.call(this._weekdaysParse,r),-1!==i?i:null):"ddd"===t?(i=bi.call(this._shortWeekdaysParse,r),-1!==i?i:null):(i=bi.call(this._minWeekdaysParse,r),-1!==i?i:null):"dddd"===t?-1!==(i=bi.call(this._weekdaysParse,r))?i:-1!==(i=bi.call(this._shortWeekdaysParse,r))?i:(i=bi.call(this._minWeekdaysParse,r),-1!==i?i:null):"ddd"===t?-1!==(i=bi.call(this._shortWeekdaysParse,r))?i:-1!==(i=bi.call(this._weekdaysParse,r))?i:(i=bi.call(this._minWeekdaysParse,r),-1!==i?i:null):-1!==(i=bi.call(this._minWeekdaysParse,r))?i:-1!==(i=bi.call(this._weekdaysParse,r))?i:(i=bi.call(this._shortWeekdaysParse,r),-1!==i?i:null)}function Me(e,t,n){var a,i,s;if(this._weekdaysParseExact)return we.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(i=u([2e3,1]).day(a),n&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[a]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(n&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(n&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!n&&this._weekdaysParse[a].test(e))return a}}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Re(e,this.localeData()),this.add(e-t,"d")):t}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function je(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=xe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function He(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Pi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ve(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Li),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function qe(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Di),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ye(){function e(e,t){return t.length-e.length}var t,n,a,i,s,r=[],l=[],o=[],c=[];for(t=0;t<7;t++)n=u([2e3,1]).day(t),a=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),s=this.weekdays(n,""),r.push(a),l.push(i),o.push(s),c.push(a),c.push(i),c.push(s);for(r.sort(e),l.sort(e),o.sort(e),c.sort(e),t=0;t<7;t++)l[t]=z(l[t]),o[t]=z(o[t]),c[t]=z(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ge(){return this.hours()%12||12}function Be(){
return this.hours()||24}function Ke(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function We(e,t){return t._meridiemParse}function ze(e){return"p"===(e+"").toLowerCase().charAt(0)}function Qe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Xe(e){return e?e.toLowerCase().replace("_","-"):e}function Ze(e){for(var t,n,a,i,s=0;s<e.length;){for(i=Xe(e[s]).split("-"),t=i.length,n=Xe(e[s+1]),n=n?n.split("-"):null;t>0;){if(a=Je(i.slice(0,t).join("-")))return a;if(n&&n.length>=t&&b(i,n,!0)>=t-1)break;t--}s++}return Ni}function Je(e){var t=null;if(!Fi[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ni._abbr;require("./locale/"+e),$e(t)}catch(e){}return Fi[e]}function $e(e,t){var n;return e&&(n=i(t)?nt(e):et(e,t),n?Ni=n:"undefined"!=typeof console&&console.warn),Ni._abbr}function et(e,t){if(null!==t){var n,a=Ui;if(t.abbr=e,null!=Fi[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=Fi[e]._config;else if(null!=t.parentLocale)if(null!=Fi[t.parentLocale])a=Fi[t.parentLocale]._config;else{if(null==(n=Je(t.parentLocale)))return ji[t.parentLocale]||(ji[t.parentLocale]=[]),ji[t.parentLocale].push({name:e,config:t}),null;a=n._config}return Fi[e]=new k(O(a,t)),ji[e]&&ji[e].forEach(function(e){et(e.name,e.config)}),$e(e),Fi[e]}return delete Fi[e],null}function tt(e,t){if(null!=t){var n,a,i=Ui;a=Je(e),null!=a&&(i=a._config),t=O(i,t),n=new k(t),n.parentLocale=Fi[e],Fi[e]=n,$e(e)}else null!=Fi[e]&&(null!=Fi[e].parentLocale?Fi[e]=Fi[e].parentLocale:null!=Fi[e]&&delete Fi[e]);return Fi[e]}function nt(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ni;if(!t(e)){if(n=Je(e))return n;e=[e]}return Ze(e)}function at(){return wa(Fi)}function it(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[pi]<0||n[pi]>11?pi:n[hi]<1||n[hi]>le(n[di],n[pi])?hi:n[mi]<0||n[mi]>24||24===n[mi]&&(0!==n[fi]||0!==n[_i]||0!==n[gi])?mi:n[fi]<0||n[fi]>59?fi:n[_i]<0||n[_i]>59?_i:n[gi]<0||n[gi]>999?gi:-1,p(e)._overflowDayOfYear&&(t<di||t>hi)&&(t=hi),p(e)._overflowWeeks&&-1===t&&(t=Ei),p(e)._overflowWeekday&&-1===t&&(t=vi),p(e).overflow=t),e}function st(e,t,n){return null!=e?e:null!=t?t:n}function rt(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function lt(e){var t,n,a,i,s,r=[];if(!e._d){for(a=rt(e),e._w&&null==e._a[hi]&&null==e._a[pi]&&ot(e),null!=e._dayOfYear&&(s=st(e._a[di],a[di]),(e._dayOfYear>J(s)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=ve(s,0,e._dayOfYear),e._a[pi]=n.getUTCMonth(),e._a[hi]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=a[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[mi]&&0===e._a[fi]&&0===e._a[_i]&&0===e._a[gi]&&(e._nextDay=!0,e._a[mi]=0),e._d=(e._useUTC?ve:Ee).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[mi]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(p(e).weekdayMismatch=!0)}}function ot(e){var t,n,a,i,s,r,l,o;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)s=1,r=4,n=st(t.GG,e._a[di],ye(It(),1,4).year),a=st(t.W,1),((i=st(t.E,1))<1||i>7)&&(o=!0);else{s=e._locale._week.dow,r=e._locale._week.doy;var c=ye(It(),s,r);n=st(t.gg,e._a[di],c.year),a=st(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(o=!0):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(o=!0)):i=s}a<1||a>Ce(n,s,r)?p(e)._overflowWeeks=!0:null!=o?p(e)._overflowWeekday=!0:(l=Te(n,a,i,s,r),e._a[di]=l.year,e._dayOfYear=l.dayOfYear)}function ct(e){var t,n,a,i,s,r,l=e._i,o=Hi.exec(l)||Vi.exec(l);if(o){for(p(e).iso=!0,t=0,n=Yi.length;t<n;t++)if(Yi[t][1].exec(o[1])){i=Yi[t][0],a=!1!==Yi[t][2];break}if(null==i)return void(e._isValid=!1);if(o[3]){for(t=0,n=Gi.length;t<n;t++)if(Gi[t][1].exec(o[3])){s=(o[2]||" ")+Gi[t][0];break}if(null==s)return void(e._isValid=!1)}if(!a&&null!=s)return void(e._isValid=!1);if(o[4]){if(!qi.exec(o[4]))return void(e._isValid=!1);r="Z"}e._f=i+(s||"")+(r||""),gt(e)}else e._isValid=!1}function ut(e,t,n,a,i,s){var r=[dt(e),Si.indexOf(t),parseInt(n,10),parseInt(a,10),parseInt(i,10)];return s&&r.push(parseInt(s,10)),r}function dt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function pt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ht(e,t,n){if(e){if(Ri.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function mt(e,t,n){if(e)return Wi[e];if(t)return 0;var a=parseInt(n,10),i=a%100;return(a-i)/100*60+i}function ft(e){var t=Ki.exec(pt(e._i));if(t){var n=ut(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ht(t[1],n,e))return;e._a=n,e._tzm=mt(t[8],t[9],t[10]),e._d=ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function _t(t){var n=Bi.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));ct(t),!1===t._isValid&&(delete t._isValid,ft(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function gt(t){if(t._f===e.ISO_8601)return void ct(t);if(t._f===e.RFC_2822)return void ft(t);t._a=[],p(t).empty=!0;var n,a,i,s,r,l=""+t._i,o=l.length,c=0;for(i=G(t._f,t._locale).match(qa)||[],n=0;n<i.length;n++)s=i[n],a=(l.match(K(s,t))||[])[0],a&&(r=l.substr(0,l.indexOf(a)),r.length>0&&p(t).unusedInput.push(r),l=l.slice(l.indexOf(a)+a.length),c+=a.length),Ba[s]?(a?p(t).empty=!1:p(t).unusedTokens.push(s),Z(s,a,t)):t._strict&&!a&&p(t).unusedTokens.push(s);p(t).charsLeftOver=o-c,l.length>0&&p(t).unusedInput.push(l),t._a[mi]<=12&&!0===p(t).bigHour&&t._a[mi]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[mi]=Et(t._locale,t._a[mi],t._meridiem),lt(t),it(t)}function Et(e,t,n){var a;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(a=e.isPM(n),a&&t<12&&(t+=12),a||12!==t||(t=0),t):t}function vt(e){var t,n,a,i,s;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)s=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],gt(t),h(t)&&(s+=p(t).charsLeftOver,s+=10*p(t).unusedTokens.length,p(t).score=s,(null==a||s<a)&&(a=s,n=t));c(e,n||t)}function bt(e){if(!e._d){var t=M(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function Tt(e){var t=new _(it(yt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function yt(e){var n=e._i,a=e._f;return e._locale=e._locale||nt(e._l),null===n||void 0===a&&""===n?m({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),g(n)?new _(it(n)):(r(n)?e._d=n:t(a)?vt(e):a?gt(e):Ct(e),h(e)||(e._d=null),e))}function Ct(a){var o=a._i;i(o)?a._d=new Date(e.now()):r(o)?a._d=new Date(o.valueOf()):"string"==typeof o?_t(a):t(o)?(a._a=l(o.slice(0),function(e){return parseInt(e,10)}),lt(a)):n(o)?bt(a):s(o)?a._d=new Date(o):e.createFromInputFallback(a)}function St(e,i,s,r,l){var o={};return!0!==s&&!1!==s||(r=s,s=void 0),(n(e)&&a(e)||t(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=l,o._l=s,o._i=e,o._f=i,o._strict=r,Tt(o)}function It(e,t,n,a){return St(e,t,n,a,!1)}function Ot(e,n){var a,i;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return It();for(a=n[0],i=1;i<n.length;++i)n[i].isValid()&&!n[i][e](a)||(a=n[i]);return a}function kt(){return Ot("isBefore",[].slice.call(arguments,0))}function At(){return Ot("isAfter",[].slice.call(arguments,0))}function Rt(e){for(var t in e)if(-1===bi.call(Zi,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,a=0;a<Zi.length;++a)if(e[Zi[a]]){if(n)return!1;parseFloat(e[Zi[a]])!==v(e[Zi[a]])&&(n=!0)}return!0}function xt(){return this._isValid}function Pt(){return Xt(NaN)}function Lt(e){var t=M(e),n=t.year||0,a=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,r=t.day||0,l=t.hour||0,o=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=Rt(t),this._milliseconds=+u+1e3*c+6e4*o+1e3*l*60*60,this._days=+r+7*s,this._months=+i+3*a+12*n,this._data={},this._locale=nt(),this._bubble()}function Dt(e){return e instanceof Lt}function Nt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function wt(e,t){H(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)})}function Mt(e,t){var n=(t||"").match(e);if(null===n)return null;var a=n[n.length-1]||[],i=(a+"").match(Ji)||["-",0,0],s=60*i[1]+v(i[2]);return 0===s?0:"+"===i[0]?s:-s}function Ut(t,n){var a,i;return n._isUTC?(a=n.clone(),i=(g(t)||r(t)?t.valueOf():It(t).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+i),e.updateOffset(a,!1),a):It(t).local()}function Ft(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function jt(t,n,a){var i,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Mt(ri,t)))return this}else Math.abs(t)<16&&!a&&(t*=60);return!this._isUTC&&n&&(i=Ft(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!n||this._changeInProgress?tn(this,Xt(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Ft(this)}function Ht(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Vt(e){return this.utcOffset(0,e)}function qt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this}function Yt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Mt(si,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Gt(e){return!!this.isValid()&&(e=e?It(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Bt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kt(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(f(e,this),e=yt(e),e._a){var t=e._isUTC?u(e._a):It(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wt(){return!!this.isValid()&&!this._isUTC}function zt(){return!!this.isValid()&&this._isUTC}function Qt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Xt(e,t){var n,a,i,r=e,l=null;return Dt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(r={},t?r[t]=e:r.milliseconds=e):(l=$i.exec(e))?(n="-"===l[1]?-1:1,r={y:0,d:v(l[hi])*n,h:v(l[mi])*n,m:v(l[fi])*n,s:v(l[_i])*n,ms:v(Nt(1e3*l[gi]))*n}):(l=es.exec(e))?(n="-"===l[1]?-1:1,r={y:Zt(l[2],n),M:Zt(l[3],n),w:Zt(l[4],n),d:Zt(l[5],n),h:Zt(l[6],n),m:Zt(l[7],n),s:Zt(l[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=$t(It(r.from),It(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),a=new Lt(r),Dt(e)&&o(e,"_locale")&&(a._locale=e._locale),a}function Zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Jt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(e,t){var n;return e.isValid()&&t.isValid()?(t=Ut(t,e),e.isBefore(t)?n=Jt(e,t):(n=Jt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function en(e,t){return function(n,a){var i,s;return null===a||isNaN(+a)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=a,a=s),n="string"==typeof n?+n:n,i=Xt(n,a),tn(this,i,e),this}}function tn(t,n,a,i){var s=n._milliseconds,r=Nt(n._days),l=Nt(n._months);t.isValid()&&(i=null==i||i,l&&pe(t,ne(t,"Month")+l*a),r&&ae(t,"Date",ne(t,"Date")+r*a),s&&t._d.setTime(t._d.valueOf()+s*a),i&&e.updateOffset(t,r||l))}function nn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function an(t,n){var a=t||It(),i=Ut(a,this).startOf("day"),s=e.calendarFormat(this,i)||"sameElse",r=n&&(S(n[s])?n[s].call(this,a):n[s]);return this.format(r||this.localeData().calendar(s,this,It(a)))}function sn(){return new _(this)}function rn(e,t){var n=g(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&(t=w(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function ln(e,t){var n=g(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&(t=w(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function on(e,t,n,a){var i=g(e)?e:It(e),s=g(t)?t:It(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&(a=a||"()",("("===a[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===a[1]?this.isBefore(s,n):!this.isAfter(s,n)))}function cn(e,t){var n,a=g(e)?e:It(e);return!(!this.isValid()||!a.isValid())&&(t=w(t)||"millisecond","millisecond"===t?this.valueOf()===a.valueOf():(n=a.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function un(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function dn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pn(e,t,n){var a,i,s;if(!this.isValid())return NaN;if(a=Ut(e,this),!a.isValid())return NaN;switch(i=6e4*(a.utcOffset()-this.utcOffset()),t=w(t)){case"year":s=hn(this,a)/12;break;case"month":s=hn(this,a);break;case"quarter":s=hn(this,a)/3;break;case"second":s=(this-a)/1e3;break;case"minute":s=(this-a)/6e4;break;case"hour":s=(this-a)/36e5;break;case"day":s=(this-a-i)/864e5;break;case"week":s=(this-a-i)/6048e5;break;default:s=this-a}return n?s:E(s)}function hn(e,t){var n,a,i=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(i,"months");return t-s<0?(n=e.clone().add(i-1,"months"),a=(t-s)/(s-n)):(n=e.clone().add(i+1,"months"),a=(t-s)/(n-s)),-(i+a)||0}function mn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fn(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Y(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Y(n,"Z")):Y(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function _n(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+a+"-MM-DD[T]HH:mm:ss.SSS"+i)}function gn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=Y(this,t);return this.localeData().postformat(n)}function En(e,t){return this.isValid()&&(g(e)&&e.isValid()||It(e).isValid())?Xt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vn(e){return this.from(It(),e)}function bn(e,t){return this.isValid()&&(g(e)&&e.isValid()||It(e).isValid())?Xt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Tn(e){return this.to(It(),e)}function yn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function Cn(){return this._locale}function Sn(e,t){return(e%t+t)%t}function In(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ls:new Date(e,t,n).valueOf()}function On(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ls:Date.UTC(e,t,n)}function kn(t){var n;if(void 0===(t=w(t))||"millisecond"===t||!this.isValid())return this;var a=this._isUTC?On:In;switch(t){case"year":n=a(this.year(),0,1);break;case"quarter":n=a(this.year(),this.month()-this.month()%3,1);break;case"month":n=a(this.year(),this.month(),1);break;case"week":n=a(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=a(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=Sn(n+(this._isUTC?0:this.utcOffset()*ss),rs);break;case"minute":n=this._d.valueOf(),n-=Sn(n,ss);break;case"second":n=this._d.valueOf(),n-=Sn(n,is)}return this._d.setTime(n),e.updateOffset(this,!0),this}function An(t){var n;if(void 0===(t=w(t))||"millisecond"===t||!this.isValid())return this;var a=this._isUTC?On:In;switch(t){case"year":n=a(this.year()+1,0,1)-1;break;case"quarter":n=a(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=a(this.year(),this.month()+1,1)-1;break;case"week":n=a(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=a(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=rs-Sn(n+(this._isUTC?0:this.utcOffset()*ss),rs)-1;break;case"minute":n=this._d.valueOf(),n+=ss-Sn(n,ss)-1;break;case"second":n=this._d.valueOf(),n+=is-Sn(n,is)-1}return this._d.setTime(n),e.updateOffset(this,!0),this}function Rn(){return this._d.valueOf()-6e4*(this._offset||0)}function xn(){return Math.floor(this.valueOf()/1e3)}function Pn(){return new Date(this.valueOf())}function Ln(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Dn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Nn(){return this.isValid()?this.toISOString():null}function wn(){return h(this)}function Mn(){return c({},p(this))}function Un(){return p(this).overflow}function Fn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function jn(e,t){H(0,[e,e.length],0,t)}function Hn(e){return Gn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Vn(e){return Gn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function qn(){return Ce(this.year(),1,4)}function Yn(){var e=this.localeData()._week;return Ce(this.year(),e.dow,e.doy)}function Gn(e,t,n,a,i){var s;return null==e?ye(this,a,i).year:(s=Ce(e,a,i),t>s&&(t=s),Bn.call(this,e,t,n,a,i))}function Bn(e,t,n,a,i){var s=Te(e,t,n,a,i),r=ve(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Kn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Wn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function zn(e,t){t[gi]=v(1e3*("0."+e))}function Qn(){return this._isUTC?"UTC":""}function Xn(){return this._isUTC?"Coordinated Universal Time":""}function Zn(e){return It(1e3*e)}function Jn(){return It.apply(null,arguments).parseZone()}function $n(e){return e}function ea(e,t,n,a){var i=nt(),s=u().set(a,t);return i[n](s,e)}function ta(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return ea(e,t,n,"month");var a,i=[];for(a=0;a<12;a++)i[a]=ea(e,a,n,"month");return i}function na(e,t,n,a){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var i=nt(),r=e?i._week.dow:0;if(null!=n)return ea(t,(n+r)%7,a,"day");var l,o=[];for(l=0;l<7;l++)o[l]=ea(t,(l+r)%7,a,"day");return o}function aa(e,t){return ta(e,t,"months")}function ia(e,t){return ta(e,t,"monthsShort")}function sa(e,t,n){return na(e,t,n,"weekdays")}function ra(e,t,n){return na(e,t,n,"weekdaysShort")}function la(e,t,n){return na(e,t,n,"weekdaysMin")}function oa(){var e=this._data;return this._milliseconds=fs(this._milliseconds),this._days=fs(this._days),this._months=fs(this._months),e.milliseconds=fs(e.milliseconds),e.seconds=fs(e.seconds),e.minutes=fs(e.minutes),e.hours=fs(e.hours),e.months=fs(e.months),e.years=fs(e.years),this}function ca(e,t,n,a){var i=Xt(t,n);return e._milliseconds+=a*i._milliseconds,e._days+=a*i._days,e._months+=a*i._months,e._bubble()}function ua(e,t){return ca(this,e,t,1)}function da(e,t){return ca(this,e,t,-1)}function pa(e){return e<0?Math.floor(e):Math.ceil(e)}function ha(){var e,t,n,a,i,s=this._milliseconds,r=this._days,l=this._months,o=this._data;return s>=0&&r>=0&&l>=0||s<=0&&r<=0&&l<=0||(s+=864e5*pa(fa(l)+r),r=0,l=0),o.milliseconds=s%1e3,e=E(s/1e3),o.seconds=e%60,t=E(e/60),o.minutes=t%60,n=E(t/60),o.hours=n%24,r+=E(n/24),i=E(ma(r)),l+=i,r-=pa(fa(i)),a=E(l/12),l%=12,o.days=r,o.months=l,o.years=a,this}function ma(e){return 4800*e/146097}function fa(e){return 146097*e/4800}function _a(e){if(!this.isValid())return NaN;var t,n,a=this._milliseconds;if("month"===(e=w(e))||"quarter"===e||"year"===e)switch(t=this._days+a/864e5,n=this._months+ma(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(fa(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}}function ga(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN}function Ea(e){return function(){return this.as(e)}}function va(){return Xt(this)}function ba(e){return e=w(e),this.isValid()?this[e+"s"]():NaN}function Ta(e){return function(){return this.isValid()?this._data[e]:NaN}}function ya(){return E(this.days()/7)}function Ca(e,t,n,a,i){return i.relativeTime(t||1,!!n,e,a)}function Sa(e,t,n){var a=Xt(e).abs(),i=Ls(a.as("s")),s=Ls(a.as("m")),r=Ls(a.as("h")),l=Ls(a.as("d")),o=Ls(a.as("M")),c=Ls(a.as("y")),u=i<=Ds.ss&&["s",i]||i<Ds.s&&["ss",i]||s<=1&&["m"]||s<Ds.m&&["mm",s]||r<=1&&["h"]||r<Ds.h&&["hh",r]||l<=1&&["d"]||l<Ds.d&&["dd",l]||o<=1&&["M"]||o<Ds.M&&["MM",o]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,Ca.apply(null,u)}function Ia(e){return void 0===e?Ls:"function"==typeof e&&(Ls=e,!0)}function Oa(e,t){return void 0!==Ds[e]&&(void 0===t?Ds[e]:(Ds[e]=t,"s"===e&&(Ds.ss=t-1),!0))}function ka(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Sa(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Aa(e){return(e>0)-(e<0)||+e}function Ra(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,a=Ns(this._milliseconds)/1e3,i=Ns(this._days),s=Ns(this._months);e=E(a/60),t=E(e/60),a%=60,e%=60,n=E(s/12),s%=12;var r=n,l=s,o=i,c=t,u=e,d=a?a.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var h=p<0?"-":"",m=Aa(this._months)!==Aa(p)?"-":"",f=Aa(this._days)!==Aa(p)?"-":"",_=Aa(this._milliseconds)!==Aa(p)?"-":"";return h+"P"+(r?m+r+"Y":"")+(l?m+l+"M":"")+(o?f+o+"D":"")+(c||u||d?"T":"")+(c?_+c+"H":"")+(u?_+u+"M":"")+(d?_+d+"S":"")}var xa,Pa;Pa=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,a=0;a<n;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};var La=e.momentProperties=[],Da=!1,Na={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var wa;wa=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};var Ma={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ua={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Fa=/\d{1,2}/,ja={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ha={},Va={},qa=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ya=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ga={},Ba={},Ka=/\d/,Wa=/\d\d/,za=/\d{3}/,Qa=/\d{4}/,Xa=/[+-]?\d{6}/,Za=/\d\d?/,Ja=/\d\d\d\d?/,$a=/\d\d\d\d\d\d?/,ei=/\d{1,3}/,ti=/\d{1,4}/,ni=/[+-]?\d{1,6}/,ai=/\d+/,ii=/[+-]?\d+/,si=/Z|[+-]\d\d:?\d\d/gi,ri=/Z|[+-]\d\d(?::?\d\d)?/gi,li=/[+-]?\d+(\.\d{1,3})?/,oi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ci={},ui={},di=0,pi=1,hi=2,mi=3,fi=4,_i=5,gi=6,Ei=7,vi=8;H("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),N("year","y"),U("year",1),B("Y",ii),B("YY",Za,Wa),B("YYYY",ti,Qa),B("YYYYY",ni,Xa),B("YYYYYY",ni,Xa),Q(["YYYYY","YYYYYY"],di),Q("YYYY",function(t,n){n[di]=2===t.length?e.parseTwoDigitYear(t):v(t)}),Q("YY",function(t,n){n[di]=e.parseTwoDigitYear(t)}),Q("Y",function(e,t){t[di]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var bi,Ti=te("FullYear",!0);bi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),H("MMMM",0,0,function(e){return this.localeData().months(this,e)}),N("month","M"),U("month",8),B("M",Za),B("MM",Za,Wa),B("MMM",function(e,t){return t.monthsShortRegex(e)}),B("MMMM",function(e,t){return t.monthsRegex(e)}),Q(["M","MM"],function(e,t){t[pi]=v(e)-1}),Q(["MMM","MMMM"],function(e,t,n,a){var i=n._locale.monthsParse(e,a,n._strict);null!=i?t[pi]=i:p(n).invalidMonth=e});var yi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ci="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Si="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ii=oi,Oi=oi;H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),U("week",5),U("isoWeek",5),B("w",Za),B("ww",Za,Wa),B("W",Za),B("WW",Za,Wa),X(["w","ww","W","WW"],function(e,t,n,a){t[a.substr(0,1)]=v(e)});var ki={dow:0,doy:6};H("d",0,"do","day"),H("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),B("d",Za),B("e",Za),B("E",Za),B("dd",function(e,t){return t.weekdaysMinRegex(e)}),B("ddd",function(e,t){return t.weekdaysShortRegex(e)}),B("dddd",function(e,t){return t.weekdaysRegex(e)}),X(["dd","ddd","dddd"],function(e,t,n,a){var i=n._locale.weekdaysParse(e,a,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),X(["d","e","E"],function(e,t,n,a){t[a]=v(e)});var Ai="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ri="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Pi=oi,Li=oi,Di=oi;H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Ge),H("k",["kk",2],0,Be),H("hmm",0,0,function(){return""+Ge.apply(this)+j(this.minutes(),2)}),H("hmmss",0,0,function(){return""+Ge.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),N("hour","h"),U("hour",13),B("a",We),B("A",We),B("H",Za),B("h",Za),B("k",Za),B("HH",Za,Wa),B("hh",Za,Wa),B("kk",Za,Wa),B("hmm",Ja),B("hmmss",$a),B("Hmm",Ja),B("Hmmss",$a),Q(["H","HH"],mi),Q(["k","kk"],function(e,t,n){var a=v(e);t[mi]=24===a?0:a}),Q(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Q(["h","hh"],function(e,t,n){t[mi]=v(e),p(n).bigHour=!0}),Q("hmm",function(e,t,n){var a=e.length-2;t[mi]=v(e.substr(0,a)),t[fi]=v(e.substr(a)),p(n).bigHour=!0}),Q("hmmss",function(e,t,n){var a=e.length-4,i=e.length-2;t[mi]=v(e.substr(0,a)),t[fi]=v(e.substr(a,2)),t[_i]=v(e.substr(i)),p(n).bigHour=!0}),Q("Hmm",function(e,t,n){var a=e.length-2;t[mi]=v(e.substr(0,a)),t[fi]=v(e.substr(a))}),Q("Hmmss",function(e,t,n){var a=e.length-4,i=e.length-2;t[mi]=v(e.substr(0,a)),t[fi]=v(e.substr(a,2)),t[_i]=v(e.substr(i))});var Ni,wi=/[ap]\.?m?\.?/i,Mi=te("Hours",!0),Ui={calendar:Ma,longDateFormat:Ua,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Fa,relativeTime:ja,months:Ci,monthsShort:Si,week:ki,weekdays:Ai,weekdaysMin:xi,weekdaysShort:Ri,meridiemParse:wi},Fi={},ji={},Hi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qi=/Z|[+-]\d\d(?::?\d\d)?/,Yi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Gi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bi=/^\/?Date\((\-?\d+)/i,Ki=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Wi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=y("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var zi=y("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Qi=y("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Xi=function(){return Date.now?Date.now():+new Date},Zi=["year","quarter","month","week","day","hour","minute","second","millisecond"];wt("Z",":"),wt("ZZ",""),B("Z",ri),B("ZZ",ri),Q(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Mt(ri,e)});var Ji=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var $i=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,es=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Xt.fn=Lt.prototype,Xt.invalid=Pt;var ts=en(1,"add"),ns=en(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var as=y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),is=1e3,ss=60*is,rs=60*ss,ls=3506328*rs;H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),jn("gggg","weekYear"),jn("ggggg","weekYear"),jn("GGGG","isoWeekYear"),jn("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),B("G",ii),B("g",ii),B("GG",Za,Wa),B("gg",Za,Wa),B("GGGG",ti,Qa),B("gggg",ti,Qa),B("GGGGG",ni,Xa),B("ggggg",ni,Xa),
X(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,a){t[a.substr(0,2)]=v(e)}),X(["gg","GG"],function(t,n,a,i){n[i]=e.parseTwoDigitYear(t)}),H("Q",0,"Qo","quarter"),N("quarter","Q"),U("quarter",7),B("Q",Ka),Q("Q",function(e,t){t[pi]=3*(v(e)-1)}),H("D",["DD",2],"Do","date"),N("date","D"),U("date",9),B("D",Za),B("DD",Za,Wa),B("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Q(["D","DD"],hi),Q("Do",function(e,t){t[hi]=v(e.match(Za)[0])});var os=te("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),U("dayOfYear",4),B("DDD",ei),B("DDDD",za),Q(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),H("m",["mm",2],0,"minute"),N("minute","m"),U("minute",14),B("m",Za),B("mm",Za,Wa),Q(["m","mm"],fi);var cs=te("Minutes",!1);H("s",["ss",2],0,"second"),N("second","s"),U("second",15),B("s",Za),B("ss",Za,Wa),Q(["s","ss"],_i);var us=te("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),U("millisecond",16),B("S",ei,Ka),B("SS",ei,Wa),B("SSS",ei,za);var ds;for(ds="SSSS";ds.length<=9;ds+="S")B(ds,ai);for(ds="S";ds.length<=9;ds+="S")Q(ds,zn);var ps=te("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var hs=_.prototype;hs.add=ts,hs.calendar=an,hs.clone=sn,hs.diff=pn,hs.endOf=An,hs.format=gn,hs.from=En,hs.fromNow=vn,hs.to=bn,hs.toNow=Tn,hs.get=ie,hs.invalidAt=Un,hs.isAfter=rn,hs.isBefore=ln,hs.isBetween=on,hs.isSame=cn,hs.isSameOrAfter=un,hs.isSameOrBefore=dn,hs.isValid=wn,hs.lang=as,hs.locale=yn,hs.localeData=Cn,hs.max=Qi,hs.min=zi,hs.parsingFlags=Mn,hs.set=se,hs.startOf=kn,hs.subtract=ns,hs.toArray=Ln,hs.toObject=Dn,hs.toDate=Pn,hs.toISOString=fn,hs.inspect=_n,hs.toJSON=Nn,hs.toString=mn,hs.unix=xn,hs.valueOf=Rn,hs.creationData=Fn,hs.year=Ti,hs.isLeapYear=ee,hs.weekYear=Hn,hs.isoWeekYear=Vn,hs.quarter=hs.quarters=Kn,hs.month=he,hs.daysInMonth=me,hs.week=hs.weeks=ke,hs.isoWeek=hs.isoWeeks=Ae,hs.weeksInYear=Yn,hs.isoWeeksInYear=qn,hs.date=os,hs.day=hs.days=Ue,hs.weekday=Fe,hs.isoWeekday=je,hs.dayOfYear=Wn,hs.hour=hs.hours=Mi,hs.minute=hs.minutes=cs,hs.second=hs.seconds=us,hs.millisecond=hs.milliseconds=ps,hs.utcOffset=jt,hs.utc=Vt,hs.local=qt,hs.parseZone=Yt,hs.hasAlignedHourOffset=Gt,hs.isDST=Bt,hs.isLocal=Wt,hs.isUtcOffset=zt,hs.isUtc=Qt,hs.isUTC=Qt,hs.zoneAbbr=Qn,hs.zoneName=Xn,hs.dates=y("dates accessor is deprecated. Use date instead.",os),hs.months=y("months accessor is deprecated. Use month instead",he),hs.years=y("years accessor is deprecated. Use year instead",Ti),hs.zone=y("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ht),hs.isDSTShifted=y("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kt);var ms=k.prototype;ms.calendar=A,ms.longDateFormat=R,ms.invalidDate=x,ms.ordinal=P,ms.preparse=$n,ms.postformat=$n,ms.relativeTime=L,ms.pastFuture=D,ms.set=I,ms.months=oe,ms.monthsShort=ce,ms.monthsParse=de,ms.monthsRegex=_e,ms.monthsShortRegex=fe,ms.week=Se,ms.firstDayOfYear=Oe,ms.firstDayOfWeek=Ie,ms.weekdays=Le,ms.weekdaysMin=Ne,ms.weekdaysShort=De,ms.weekdaysParse=Me,ms.weekdaysRegex=He,ms.weekdaysShortRegex=Ve,ms.weekdaysMinRegex=qe,ms.isPM=ze,ms.meridiem=Qe,$e("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=y("moment.lang is deprecated. Use moment.locale instead.",$e),e.langData=y("moment.langData is deprecated. Use moment.localeData instead.",nt);var fs=Math.abs,_s=Ea("ms"),gs=Ea("s"),Es=Ea("m"),vs=Ea("h"),bs=Ea("d"),Ts=Ea("w"),ys=Ea("M"),Cs=Ea("Q"),Ss=Ea("y"),Is=Ta("milliseconds"),Os=Ta("seconds"),ks=Ta("minutes"),As=Ta("hours"),Rs=Ta("days"),xs=Ta("months"),Ps=Ta("years"),Ls=Math.round,Ds={ss:44,s:45,m:45,h:22,d:26,M:11},Ns=Math.abs,ws=Lt.prototype;return ws.isValid=xt,ws.abs=oa,ws.add=ua,ws.subtract=da,ws.as=_a,ws.asMilliseconds=_s,ws.asSeconds=gs,ws.asMinutes=Es,ws.asHours=vs,ws.asDays=bs,ws.asWeeks=Ts,ws.asMonths=ys,ws.asQuarters=Cs,ws.asYears=Ss,ws.valueOf=ga,ws._bubble=ha,ws.clone=va,ws.get=ba,ws.milliseconds=Is,ws.seconds=Os,ws.minutes=ks,ws.hours=As,ws.days=Rs,ws.weeks=ya,ws.months=xs,ws.years=Ps,ws.humanize=ka,ws.toISOString=Ra,ws.toString=Ra,ws.toJSON=Ra,ws.locale=yn,ws.localeData=Cn,ws.toIsoString=y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ra),ws.lang=as,H("X",0,0,"unix"),H("x",0,0,"valueOf"),B("x",ii),B("X",li),Q("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Q("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.24.0",function(e){xa=e}(It),e.fn=hs,e.min=kt,e.max=At,e.now=Xi,e.utc=u,e.unix=Zn,e.months=aa,e.isDate=r,e.locale=$e,e.invalid=m,e.duration=Xt,e.isMoment=g,e.weekdays=sa,e.parseZone=Jn,e.localeData=nt,e.isDuration=Dt,e.monthsShort=ia,e.weekdaysMin=la,e.defineLocale=et,e.updateLocale=tt,e.locales=at,e.weekdaysShort=ra,e.normalizeUnits=w,e.relativeTimeRounding=Ia,e.relativeTimeThreshold=Oa,e.calendarFormat=nn,e.prototype=hs,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}),define("app/constants/facets",[],function(){"use strict";return{FACET_ASSET_TYPE:"asset_type",FACET_COPY_SPACE:"stock_copyspace_type",FACET_PEOPLE:"stock_people",FACET_ILLUSTRATIVE:"illustrative",FACET_UNDISCOVERED:"stock_undiscovered",FACET_PRICE:"stock_price_tiers",FACET_IMAGE_AND_PREMIUM_SUBCATEGORY:"stock_image_type",FACET_VIDEO_SUBCAT:"stock_resolution_license",FACET_VIDEO_FPS:"stock_video_fps",FACET_ORIENTATION:"orientation",FACET_STOCK_APPLICABLE_PRODUCTS:"stock_applicable_products",FACET_TEMPLATE_SUBCATEGORY:"stock_template_categories",FACET_3D_SUBCATEGORY:"3d_type",FACET_EDITORIAL:"stock_editorial",FACET_CATEGORY_IDS:"stock_category_ids",FACET_ISOLATED:"stock_isolated",SUPPORTED_FACETS:["asset_type","stock_people","illustrative","stock_undiscovered","stock_price_tiers","stock_image_type","orientation","stock_resolution_license","stock_video_fps","stock_applicable_products","stock_template_categories","3d_type","stock_editorial","stock_category_ids","stock_copyspace_type","stock_isolated"]}}),define("app/utils/searchData",["jquery","lodash","page_config","app/constants/assetTypeFilters","app/constants/facets","app/constants/searchFilters"],function(e,t,n,a,i,s){"use strict";function r(t,n,a){return e.extend({},t,d(n,a))}function l(e,n){var a=n?"."+n:"";return t.get(e,"search.facets"+a,{})}function o(e){return!c(e)}function c(e){var n=t.get(e,"search.facets")||{};return Object.keys(n).length<1}function u(e){return!t.get(e,"member.stockProfile.default_entitlement.is_cce",!1)}function d(e,t){return{should_allow_order_filter:p(t),should_show_asset_types_filter:h(e,t),should_show_asset_types_filter_templates:f(e),should_show_asset_types_filter_3d:_(e),should_show_asset_types_filter_video:m(e),should_show_price_filter:g(e,t),should_show_price_filter_info_icon:u(t),should_show_app_filter:E(e,t),should_show_images_subcat_filter:v(e,t),should_show_isolated_filter:b(e,t),should_show_undiscovered_filter:L(e,t),should_show_videos_subcat_filter:T(e,t),should_show_video_frame_rate_filter:y(e,t),should_show_videos_duration_filter:C(e,t),should_show_templates_subcat_filter:S(e,t),should_show_3d_subcat_filter:I(e,t),should_show_editorial_date_range_filter:k(e),should_show_editorial_subcat_filter:O(e,t),should_show_orientation_filter:A(e,t),should_show_aesthetic_filters:R(e,t),should_show_people_filter:x(e,t),should_show_illustrative_filter:P(e,t),should_show_color_filter:N(e,t),should_show_copy_space_filter:D(e,t),should_show_safe_search_filter:M(e),should_show_size_filter:w(e,t),asset_type_facets:l(t,i.FACET_ASSET_TYPE),orientation_facets:l(t,i.FACET_ORIENTATION),image_sub_and_premium_sub_category_facets:l(t,i.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY),template_app_facets:l(t,i.FACET_STOCK_APPLICABLE_PRODUCTS),template_sub_category_facets:l(t,i.FACET_TEMPLATE_SUBCATEGORY),threeD_sub_category_facets:l(t,i.FACET_3D_SUBCATEGORY),category_facets:l(t,i.FACET_CATEGORY_IDS),frame_rate_facets:l(t,i.FACET_VIDEO_FPS),copy_space_facets:l(t,i.FACET_COPY_SPACE),should_apply_facets:ne.shouldApplyFacets(t),selected_fps_options:z(t),selected_copy_space:Q(t),selected_isolated_option:X(t),size_options:Z(t)}}function p(e){return!J(e)}function h(e,t){switch(e){case a.ALL:return U(i.FACET_ASSET_TYPE,t);case a.PREMIUM:case a.EDITORIAL:return!ne.shouldApplyFacets(t)||U(i.FACET_ASSET_TYPE,t);case a.FREE:return!!n.isFreeEnabled&&(!ne.shouldApplyFacets(t)||U(i.FACET_ASSET_TYPE,t));default:return!1}}function m(e){switch(e){case a.ALL:case a.EDITORIAL:return!0;case a.FREE:return n.isFreeEnabled;default:return!1}}function f(e){switch(e){case a.ALL:return!0;case a.PREMIUM:return n.isTemplatesEnabled;case a.FREE:return n.isTemplatesEnabled&&n.isFreeEnabled;default:return!1}}function _(e){switch(e){case a.ALL:return!0;case a.PREMIUM:return n.is3DEnabled;case a.FREE:return n.is3DEnabled&&n.isFreeEnabled;default:return!1}}function g(e,t){var s=!1;if(n.isGloballySafeCollectionEnabled)return!1;switch(e){case a.ALL:case a.IMAGES:if(s=!0,ne.isOnlyVideoContentTypeFilterEnabled(t))return!1;break;case a.TEMPLATES:case a.THREED:s=!0;break;default:return!1}return ne.shouldApplyFacets(t)&&(U(i.FACET_PRICE,t)||(s=!1)),s}function E(e,t){var n=!1;switch(e){case a.TEMPLATES:n=!0;break;default:ne.isOnlyTemplateContentTypeFilterEnabled(t)&&(n=!0)}return n&&ne.shouldApplyFacets(t)&&(n=U(i.FACET_STOCK_APPLICABLE_PRODUCTS,t)),n}function v(e,t){if($(t.filters))return!1;switch(e){case a.IMAGES:return!ne.shouldApplyFacets(t)||U(i.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY,t);case a.ALL:case a.PREMIUM:return!!H(t)&&(!ne.shouldApplyFacets(t)||U(i.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY,t));case a.FREE:return!!n.isFreeEnabled&&(!!H(t)&&(!ne.shouldApplyFacets(t)||U(i.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY,t)));default:return!1}}function b(e,t){var r,l=!1;switch(r=K(s.CONTENT_TYPE_PHOTO,t)||K(s.CONTENT_TYPE_ILLUSTRATION,t)||K(s.CONTENT_TYPE_VECTOR,t)||K(s.CONTENT_TYPE_VIDEO,t),e){case a.ALL:l=r;break;case a.IMAGES:case a.VIDEOS:l=!0;break;case a.FREE:l=r&&n.isFreeEnabled;break;default:return!1}return ne.shouldApplyFacets(t)&&(l=U(i.FACET_ISOLATED,t)),l}function T(e,s){var r,l=!1;switch(e){case a.VIDEOS:l=!0;break;case a.ALL:case a.EDITORIAL:if(!ne.isOnlyVideoContentTypeFilterEnabled(s))return!1;l=!0;break;case a.FREE:if(!ne.isOnlyVideoContentTypeFilterEnabled(s))return!1;l=n.isFreeEnabled;break;default:return!1}return ne.shouldApplyFacets(s)&&(r=t.get(s,"search.facets."+i.FACET_VIDEO_SUBCAT,{}),r.four_k||(l=!1)),l}function y(e,t){var s=!1;switch(e){case a.ALL:if(!ne.isOnlyVideoContentTypeFilterEnabled(t))return!1;s=!0;break;case a.VIDEOS:s=!0;break;case a.EDITORIAL:Y(t)&&(s=!0);break;case a.FREE:Y(t)&&(s=n.isFreeEnabled);break;default:return!1}return s&&ne.shouldApplyFacets(t)&&(s=U(i.FACET_VIDEO_FPS,t)),s}function C(e,t){var i=!1;switch(e){case a.ALL:if(!ne.isOnlyVideoContentTypeFilterEnabled(t))return!1;i=!0;break;case a.VIDEOS:i=!0;break;case a.EDITORIAL:Y(t)&&(i=!0);break;case a.FREE:Y(t)&&(i=n.isFreeEnabled);break;default:return!1}return i}function S(e,t){var n=!1;switch(e){case a.TEMPLATES:n=!0;break;default:if(!ne.isOnlyTemplateContentTypeFilterEnabled(t))return!1;n=!0}return ne.shouldApplyFacets(t)&&(n=U(i.FACET_TEMPLATE_SUBCATEGORY,t)),n}function I(e,t){var s=!1;switch(e){case a.THREED:s=!0;break;case a.ALL:case a.PREMIUM:if(!ne.isOnly3DContentTypeFilterEnabled(t))return!1;s=!0;break;case a.FREE:if(!ne.isOnly3DContentTypeFilterEnabled(t))return!1;s=n.isFreeEnabled;break;default:return!1}return ne.shouldApplyFacets(t)&&(s=U(i.FACET_3D_SUBCATEGORY,t)),s}function O(e,t){var n=!1;switch(e){case a.EDITORIAL:n=!0;break;default:return!1}return ne.shouldApplyFacets(t)&&(n=U(i.FACET_CATEGORY_IDS,t)),n}function k(e){var t;switch(e){case a.EDITORIAL:t=!0;break;default:t=!1}return t}function A(e,t){switch(e){case a.IMAGES:return!ne.shouldApplyFacets(t)||U(i.FACET_ORIENTATION,t);case a.ALL:case a.PREMIUM:case a.EDITORIAL:return!!H(t)&&(!ne.shouldApplyFacets(t)||U(i.FACET_ORIENTATION,t));case a.FREE:return!!n.isFreeEnabled&&(!!H(t)&&(!ne.shouldApplyFacets(t)||U(i.FACET_ORIENTATION,t)));default:return!1}}function R(e,t){var i,s;switch(e){case a.ALL:case a.IMAGES:case a.PREMIUM:return!J(t)&&(i=ne.isOnlyPhotoContentTypeFilterEnabled(t),s=ne.areAllImageRelatedContentTypeFiltersEnabled(t),i||s);case a.FREE:return!!n.isFreeEnabled&&(!J(t)&&(i=ne.isOnlyPhotoContentTypeFilterEnabled(t),s=ne.areAllImageRelatedContentTypeFiltersEnabled(t),i||s));default:return!1}}function x(e,t){var r,l=!1;switch(r=K(s.CONTENT_TYPE_IMAGE,t)||K(s.CONTENT_TYPE_VIDEO,t),e){case a.IMAGES:case a.VIDEOS:l=!0;break;case a.ALL:case a.PREMIUM:l=r;break;case a.FREE:l=r&&n.isFreeEnabled;break;default:l=!1}return ne.shouldApplyFacets(t)&&(l=U(i.FACET_PEOPLE,t)),l}function P(e,t){var s,r=!1;switch(s=H(t),e){case a.IMAGES:r=!0;break;case a.ALL:case a.PREMIUM:r=s;break;case a.FREE:r=s&&n.isFreeEnabled;break;default:r=!1}return ne.shouldApplyFacets(t)&&(r=F(i.FACET_ILLUSTRATIVE,t)),r}function L(e,t){var n,s=!1;switch(n=H(t),e){case a.IMAGES:s=!0;break;case a.ALL:case a.PREMIUM:s=n;break;default:s=!1}return ne.shouldApplyFacets(t)&&(s=U(i.FACET_UNDISCOVERED,t,1)),s}function D(e,t){switch(e){case a.IMAGES:return!ne.shouldApplyFacets(t)||Object.keys(l(t,i.FACET_COPY_SPACE)).length;case a.PREMIUM:case a.ALL:return!!H(t)&&(!ne.shouldApplyFacets(t)||Object.keys(l(t,i.FACET_COPY_SPACE)).length);case a.FREE:return!!n.isFreeEnabled&&(!!H(t)&&(!ne.shouldApplyFacets(t)||Object.keys(l(t,i.FACET_COPY_SPACE)).length));default:return!1}}function N(e,t){switch(e){case a.VIDEOS:case a.ALL:if(ne.isOnly3DContentTypeFilterEnabled(t)||ne.isOnlyTemplateContentTypeFilterEnabled(t))return!1;case a.IMAGES:case a.EDITORIAL:case a.PREMIUM:return!0;case a.FREE:return n.isFreeEnabled;default:return!1}}function w(e,t){switch(e){case a.IMAGES:return!0;case a.ALL:case a.PREMIUM:case a.EDITORIAL:return H(t);case a.FREE:return H(t)&&n.isFreeEnabled;default:return!1}}function M(e){var t=!1,i=n.force_safe_search;if(n.isGloballySafeCollectionEnabled)return!1;switch(e){case a.ALL:case a.IMAGES:case a.VIDEOS:case a.TEMPLATES:case a.THREED:case a.EDITORIAL:case a.PREMIUM:i||(t=!0);break;case a.FREE:i||(t=n.isFreeEnabled);break;default:t=!1}return t}function U(e,n,a){var i,s,r,l=0;if(a||(a=ee),c(n))return!0;if(i=t.get(n,"search.facets."+e,{}),s=Object.keys(i),s.length<a)return!1;for(r=0;r<s.length;r++)i[s[r]]>0&&l++;return l>=a}function F(e,n){return!!c(n)||t.get(n,"search.facets.stock_generic_attributes."+e,0)>=te}function j(e){var n=t.get(e,"filters.filters",{});return!!(n[s.CONTENT_TYPE_IMAGE]&&n[s.CONTENT_TYPE_PHOTO]&&n[s.CONTENT_TYPE_ILLUSTRATION]&&n[s.CONTENT_TYPE_VECTOR])}function H(e){var n=t.get(e,"filters.filters",{});return!(!n[s.CONTENT_TYPE_IMAGE]||!(n[s.CONTENT_TYPE_PHOTO]||n[s.CONTENT_TYPE_ILLUSTRATION]||n[s.CONTENT_TYPE_VECTOR]))}function V(e){var n=t.get(e,"filters.filters",{});return!!n[s.CONTENT_TYPE_PHOTO]&&(!n[s.CONTENT_TYPE_ILLUSTRATION]&&!n[s.CONTENT_TYPE_VECTOR])}function q(e){return B(s.CONTENT_TYPE_3D,e)}function Y(e){return B(s.CONTENT_TYPE_VIDEO,e)}function G(e){return B(s.CONTENT_TYPE_TEMPLATE,e)}function B(e,t){return!!K(e,t)&&1===ne.getEnabledAssetContentTypeFilters(t).length}function K(e,n){return!!t.get(n,"filters.filters",{})[e]}function W(e){var n=t.get(e,"filters.filters",{}),a=[];return Object.keys(n).forEach(function(e){s.SUPPORTED_CONTENT_TYPES.indexOf(e)>-1&&1===n[e]&&a.push(e)}),a}function z(e){var n=t.get(e,"filters."+s.FILTERS+"."+s.VIDEO_FRAME_RATE,[]),a=Object.keys(l(e,i.FACET_VIDEO_FPS)),r=a.length>0?a:s.VIDEO_FRAME_RATE_OPTIONS,o={all:1},c={};return n.length?(n.forEach(function(e){r.indexOf(e)>=0&&(c[e]=1)}),Object.keys(c).length===r.length?o:c):o}function Q(e){var n=t.get(e,"filters."+s.FILTERS+"."+s.COPY_SPACE,""),a={};if(n){switch(n){case s.COPY_SPACE_ALL:a[s.COPY_SPACE_NATURAL]=1,a[s.COPY_SPACE_MANUFACTURED]=1;break;case s.COPY_SPACE_NATURAL:a[s.COPY_SPACE_NATURAL]=1;break;case s.COPY_SPACE_MANUFACTURED:a[s.COPY_SPACE_MANUFACTURED]=1;break;default:a=void 0}return a}}function X(e){var n=t.get(e,"filters."+s.FILTERS+"."+s.ISOLATED);return n===s.ISOLATED_HIDE||n===s.ISOLATED_ONLY?n:s.ISOLATED_ALL}function Z(e){var n={},a=s.FILTERS+"."+s.FILTERS+".",i=t.get(e,a+s.SIZE_PIXELS_WIDTH_MIN,null),r=t.get(e,a+s.SIZE_PIXELS_HEIGHT_MIN,null),l=t.get(e,a+s.SIZE_MEGA_PIXELS_MIN,null);return n[s.SIZE]=null!==l?s.SIZE_MEGA_PIXELS:s.SIZE_PIXELS,i&&(n[s.SIZE_PIXELS_WIDTH_MIN]=i),r&&(n[s.SIZE_PIXELS_HEIGHT_MIN]=r),l&&(n[s.SIZE_MEGA_PIXELS_MIN]=l),n}function J(e){return!n.is_mobile&&(t.get(e.filters,s.SIMILAR_CONTENT_ID)||t.get(e.filters,s.NATIVE_VISUAL_SEARCH))}function $(e){var n=t.get(e,s.SCORING+"."+s.DEPTH_OF_FIELD,s.DEPTH_OF_FIELD_DEFAULT_SCORING)!==s.DEPTH_OF_FIELD_DEFAULT_SCORING,a=t.get(e,s.SCORING+"."+s.VIVID_COLOR,s.VIVID_COLOR_DEFAULT_SCORING)!==s.VIVID_COLOR_DEFAULT_SCORING;return n||a}var ee=2,te=1,ne={isAestheticFilterSet:$,isFindSimilarControlsSearch:J,getData:d,getViewData:r,shouldAllowOrderFilter:p,shouldShowEditorialDateRangeFilter:k,shouldShowAestheticFilters:R,shouldShowAssetTypesFilter3d:_,shouldShowAssetTypesFilterTemplates:f,shouldShowAssetTypesFilterVideo:m,shouldShowPeopleFilter:x,shouldShowIllustrativeFilter:P,shouldShowPrice:g,shouldShowPriceInfoIcon:u,shouldShowVideosDurationFilter:C,shouldShowAppFilter:E,shouldShowColorFilter:N,bypassFacets:c,shouldShowCopySpace:D,shouldShowEditorialSubcategoryFilter:O,shouldShowVideoFrameRateFilter:y,shouldShowVideosSubcatFilter:T,shouldShowImagesSubcatFilter:v,shouldShowIsolatedFilter:b,shouldShowUndiscoveredFilter:L,shouldShowSizeFilter:w,shouldShowTemplatesSubcatFilter:S,shouldShowOrientationFilter:A,shouldShow3dSubcatFilter:I,shouldApplyFacets:o,isOnlyTemplateContentTypeFilterEnabled:G,isOnly3DContentTypeFilterEnabled:q,isOnlyVideoContentTypeFilterEnabled:Y,areAllImageRelatedContentTypeFiltersEnabled:j,isAnyImageRelatedContentTypeFiltersEnabled:H,isOnlyPhotoContentTypeFilterEnabled:V,getEnabledAssetContentTypeFilters:W,getSelectedFrameRateOptions:z,getSelectedCopySpace:Q,shouldShowSafeSearchFilter:M};return ne}),define("app/reducers/breadcrumbs",["jquery","lodash","moment","page_config","app/actions/actionTypes","app/utils/reducerHelpers","app/utils/searchData","app/constants/searchFilters","app/constants/assetTypeFilters","lib/utils","app/constants/templateTypes","i18n"],function(e,t,n,a,i,s,r,l,o,c,u,d){"use strict";function p(){var e,n={},i=t.get(a,"page_data.filter_asset_type");return e=P(n,s.getDefaultFilterState()),a.category&&(e=A(e,a.category.id)),h(e),e=m(e),e=f(e),x(e,i),a.isGloballySafeCollectionEnabled&&W(e),e}function h(e){var t={search:{facets:a.facets},filters:a.search_params};r.getSelectedFrameRateOptions(t).all&&delete e[l.VIDEO_FRAME_RATE]}function m(e){var n=a.search_params;return Y(e,t.get(n,l.FILTERS+"."+l.VIDEO_DURATION_MIN,l.VIDEO_DURATION_DEFAULT_MIN),t.get(n,l.FILTERS+"."+l.VIDEO_DURATION_MAX,l.VIDEO_DURATION_DEFAULT_MAX))}function f(e){var n=a.search_params,i=t.get(n,l.FILTERS+"."+l.SIZE_MEGA_PIXELS_MIN),s=t.get(n,l.FILTERS+"."+l.SIZE_PIXELS_WIDTH_MIN),r=t.get(n,l.FILTERS+"."+l.SIZE_PIXELS_HEIGHT_MIN),o={};return i&&(o[l.SIZE_MEGA_PIXELS_MIN]=i),s&&(o[l.SIZE_PIXELS_WIDTH_MIN]=s),r&&(o[l.SIZE_PIXELS_HEIGHT_MIN]=r),H(e,o)}function _(e,t){var n,a=!1;return e[l.CATEGORY]&&(n=Object.keys(e[l.CATEGORY]),a=n.some(function(e){if(!s.isCategoryCompatibleWithAssetType(t,e))return!0})),a}function g(e,n){var i=[];switch(n){case o.ALL:i=J,i.push(l.PRICE_CLIENT_HIGH,l.PRICE_CLIENT_LOW);break;case o.IMAGES:e[l.PRICE_CLIENT_LOW]={1:t.get(z,l.PRICE_CLIENT_LOW+".1")},i=J;break;case o.EDITORIAL:i=ne;break;case o.VIDEOS:i=$;break;case o.TEMPLATES:i=ee;break;case o.THREED:i=te;break;case o.FREE:a.isFreeEnabled&&(e[l.CONTENT_TYPE_IMAGE]={1:t.get(z,l.CONTENT_TYPE_IMAGE+".1")},i=Z);break;default:return}a.isGloballySafeCollectionEnabled&&i.push(l.SAFE_SEARCH,l.PRICE_CLIENT_LOW),i.push(l.PRICE_CLIENT_HIGH),_(e,n)&&i.push(l.CATEGORY),i.forEach(function(t){delete e[t]})}function E(e,t){return n(e).add(l.EDITORIAL_DATE_OFFSET_AMOUNT,l.EDITORIAL_DATE_OFFSET_UNIT).format(n.localeData().longDateFormat("L"))+" - "+n(t).subtract(l.EDITORIAL_DATE_OFFSET_AMOUNT,l.EDITORIAL_DATE_OFFSET_UNIT).format(n.localeData().longDateFormat("L"))}function v(e){e[l.CONTENT_TYPE_PHOTO]&&e[l.CONTENT_TYPE_ILLUSTRATION]&&e[l.CONTENT_TYPE_VECTOR]&&(delete e[l.CONTENT_TYPE_PHOTO],delete e[l.CONTENT_TYPE_ILLUSTRATION],delete e[l.CONTENT_TYPE_VECTOR])}function b(e){e[l.INCLUDE_PEOPLE]&&e[l.EXCLUDE_PEOPLE]&&(delete e[l.INCLUDE_PEOPLE],delete e[l.EXCLUDE_PEOPLE])}function T(e){if(e[l.TEMPLATE_TYPES]&&e[l.TEMPLATE_CATEGORIES]){var t=Object.keys(e[l.TEMPLATE_CATEGORIES]),n=Object.keys(e[l.TEMPLATE_TYPES])[0];t.length===Q[n].length&&delete e[l.TEMPLATE_CATEGORIES]}}function y(e){s.isAestheticFilterEnabled(e)&&(delete e[l.CONTENT_TYPE_ILLUSTRATION],delete e[l.CONTENT_TYPE_VECTOR],e[l.CONTENT_TYPE_PHOTO]={},e[l.CONTENT_TYPE_PHOTO][1]=z[l.CONTENT_TYPE_PHOTO][1])}function C(e){var t=e[l.ORIENTATION];t&&Object.keys(t).length===l.VALID_ORIENTATIONS.length&&delete e[l.ORIENTATION]}function S(e){v(e),b(e),T(e),y(e),a.isUSSSearchEnabled&&C(e)}function I(e,t){t[l.COLOR]?(delete e[l.COLOR],e[l.COLOR]={},e[l.COLOR][t[l.COLOR]]=t[l.COLOR]):""===t[l.COLOR]&&delete e[l.COLOR]}function O(e,t){t[l.FILTERS]&&t[l.FILTERS][l.TEMPLATE_TYPES]&&-1!==t[l.FILTERS][l.TEMPLATE_TYPES].indexOf(u.AE_MOGRT)&&(e[l.TEMPLATE_TYPES]={},e[l.TEMPLATE_TYPES][u.PPRO_MOGRT]=z[l.TEMPLATE_TYPES][u.PPRO_MOGRT])}function k(e,t){var n="";t[l.FILTERS]&&(t[l.FILTERS][l.EDITORIAL_EVENT_DATE_START]&&t[l.FILTERS][l.EDITORIAL_EVENT_DATE_END]?(delete e[l.EDITORIAL_DATE_RANGE],n=E(t[l.FILTERS][l.EDITORIAL_EVENT_DATE_START],t[l.FILTERS][l.EDITORIAL_EVENT_DATE_END]),e[l.EDITORIAL_DATE_RANGE]={},e[l.EDITORIAL_DATE_RANGE][n]=n):""===t[l.FILTERS][l.EDITORIAL_EVENT_DATE_START]&&""===t[l.FILTERS][l.EDITORIAL_EVENT_DATE_END]&&delete e[l.EDITORIAL_DATE_RANGE])}function A(e,t){return-1===l.EDITORIAL_CATEGORIES.indexOf(t)&&(e[l.CATEGORY]={},e[l.CATEGORY][t]=a.category.name),e}function R(e,t){var n="";t[l.FILTERS]&&t[l.FILTERS][l.ORIENTATION]&&(n=t[l.FILTERS][l.ORIENTATION],e[l.ORIENTATION]={},c.getMultipleOrientationFilters(n).forEach(function(t){e[l.ORIENTATION][t]=z[l.ORIENTATION][t]}))}function x(e,t){var n=X[t];switch(t){case o.PREMIUM:delete e[l.PRICE_CLIENT_HIGH];break;case o.IMAGES:delete e[l.CONTENT_TYPE_IMAGE];break;case o.VIDEOS:delete e[l.CONTENT_TYPE_VIDEO];break;case o.TEMPLATES:delete e[l.CONTENT_TYPE_TEMPLATE];break;case o.THREED:delete e[l.CONTENT_TYPE_3D]}n&&n.every(function(t){return e[t]})&&n.forEach(function(t){delete e[t]})}function P(e,t){return Object.keys(t).forEach(function(n){var a=t[n];c.isObject(a)?Object.keys(a).forEach(function(t){e=L(e,t,a[t])}):e=L(e,n,a)}),I(e,t),O(e,t),k(e,t),a.isUSSSearchEnabled&&R(e,t),S(e),e}function L(t,n,a){return z[n]&&(delete t[n],t[n]={},Array.isArray(a)?a.forEach(function(e){z[n][e]&&(t[n][e]=z[n][e])}):z[n][a]&&(t[n][a]=z[n][a]),e.isEmptyObject(t[n])&&delete t[n]),t}function D(n,a){var i=e.extend({},n);return delete i[l.CONTENT_TYPE_IMAGE],delete i[l.CONTENT_TYPE_VIDEO],delete i[l.CONTENT_TYPE_3D],delete i[l.CONTENT_TYPE_TEMPLATE],a[l.CONTENT_TYPE_IMAGE]?(i[l.CONTENT_TYPE_IMAGE]={1:t.get(z,l.CONTENT_TYPE_IMAGE+"."+a[l.CONTENT_TYPE_IMAGE])},i):(i=N(i),a[l.CONTENT_TYPE_VIDEO]?(i[l.CONTENT_TYPE_VIDEO]={1:t.get(z,l.CONTENT_TYPE_VIDEO+"."+a[l.CONTENT_TYPE_VIDEO])},delete i[l.PRICE_CLIENT_HIGH],i):a[l.CONTENT_TYPE_3D]?(i[l.CONTENT_TYPE_3D]={1:t.get(z,l.CONTENT_TYPE_3D+"."+a[l.CONTENT_TYPE_3D])},i):a[l.CONTENT_TYPE_TEMPLATE]?(i[l.CONTENT_TYPE_TEMPLATE]={1:t.get(z,l.CONTENT_TYPE_TEMPLATE+"."+a[l.CONTENT_TYPE_TEMPLATE])},i):i)}function N(e){return delete e[l.CONTENT_TYPE_PHOTO],delete e[l.CONTENT_TYPE_ILLUSTRATION],delete e[l.CONTENT_TYPE_VECTOR],e}function w(t,n){var a=e.extend({},t);return Object.keys(n).forEach(function(e){delete a[e]}),a=N(a)}function M(n,a){var i=e.extend(!0,{},n),s=t.get(a,l.CONTENT_TYPE_IMAGE,!1),r=t.get(a,l.CONTENT_TYPE_PHOTO,!1),o=t.get(a,l.CONTENT_TYPE_ILLUSTRATION,!1),c=t.get(a,l.CONTENT_TYPE_VECTOR,!1),u=r&&o&&c;return i=N(i),u?i:(r&&(i[l.CONTENT_TYPE_PHOTO]={1:t.get(z,l.CONTENT_TYPE_PHOTO+"."+a[l.CONTENT_TYPE_PHOTO])}),o&&(i[l.CONTENT_TYPE_ILLUSTRATION]={1:t.get(z,l.CONTENT_TYPE_ILLUSTRATION+"."+a[l.CONTENT_TYPE_ILLUSTRATION])}),c&&(i[l.CONTENT_TYPE_VECTOR]={1:t.get(z,l.CONTENT_TYPE_VECTOR+"."+a[l.CONTENT_TYPE_VECTOR])}),s&&(delete i[l.CONTENT_TYPE_VIDEO],delete i[l.CONTENT_TYPE_3D],delete i[l.CONTENT_TYPE_TEMPLATE],i[l.CONTENT_TYPE_IMAGE]={1:t.get(z,l.CONTENT_TYPE_IMAGE+"."+a[l.CONTENT_TYPE_IMAGE])}),y(i),i)}function U(n,a){var i=e.extend(!0,{},n),s=t.get(a,l.ISOLATED,l.ISOLATED_ALL);return delete i[l.ISOLATED],s===l.ISOLATED_ONLY?L(i,l.ISOLATED,s):i}function F(n,a){var i=e.extend(!0,{},n),s=t.get(a,l.UNDISCOVERED,l.UNDISCOVERED_ALL);return delete i[l.UNDISCOVERED],s===l.UNDISCOVERED_ONLY?L(i,l.UNDISCOVERED,s):i}function j(n,a){var i=e.extend(!0,{},n),s=t.get(a,l.ILLUSTRATIVE,l.ILLUSTRATIVE_ALL);return delete i[l.ILLUSTRATIVE],L(i,l.ILLUSTRATIVE,s)}function H(t,n){var a=e.extend(!0,{},t),i={};return delete a[l.SIZE_MEGA_PIXELS_MIN],delete a[l.SIZE_PIXELS_WIDTH_MIN],delete a[l.SIZE_PIXELS_HEIGHT_MIN],n[l.SIZE_MEGA_PIXELS_MIN]&&(i[l.SIZE_MEGA_PIXELS_MIN]=V(l.SIZE_MEGA_PIXELS_MIN,n[l.SIZE_MEGA_PIXELS_MIN])),n[l.SIZE_PIXELS_WIDTH_MIN]&&(i[l.SIZE_PIXELS_WIDTH_MIN]=V(l.SIZE_PIXELS_WIDTH_MIN,n[l.SIZE_PIXELS_WIDTH_MIN])),n[l.SIZE_PIXELS_HEIGHT_MIN]&&(i[l.SIZE_PIXELS_HEIGHT_MIN]=V(l.SIZE_PIXELS_HEIGHT_MIN,n[l.SIZE_PIXELS_HEIGHT_MIN])),Object.keys(i).length>0&&(a=e.extend(a,i)),a}function V(e,n){var a=t.get(z,l.SIZE+"."+e);return{text:d.sprintf(a,n)}}function q(t,n,a){var i=e.extend(!0,{},t);return a?(delete i[l.VIDEO_FRAME_RATE],i):L(i,l.VIDEO_FRAME_RATE,n)}function Y(t,n,a){var i=e.extend(!0,{},t),s=c.formatVideoDurationInput(n,l.VIDEO_DURATION_DEFAULT_MAX)+"  "+c.formatVideoDurationInput(a,l.VIDEO_DURATION_DEFAULT_MAX);return n==l.VIDEO_DURATION_DEFAULT_MIN&&a==l.VIDEO_DURATION_DEFAULT_MAX?(delete i[l.VIDEO_DURATION],i):(i[l.VIDEO_DURATION]={text:s},i)}function G(r,o){var c;if(void 0===r)return n.locale(a.locale_code),p();switch(o.type){case i.UPDATE_SEARCH_FILTERS:return c=e.extend(!0,{},r),P(c,o.filters),c;case i.UPDATE_ASSET_TYPE_FILTER:return o.all?w(r,o.filters):D(r,o.filters);case i.CLEAR_ASSET_TYPE_BREADCRUMB:return w(r,o.filters);case i.UPDATE_IMAGE_SUBCATEGORY_FILTER:return M(r,o.filters);case i.UPDATE_FRAME_RATE_FILTER:return q(r,o.frameRates,o.areAllSelected);case i.UPDATE_DURATION_FILTER:return Y(r,o.min,o.max);case i.UPDATE_COPY_SPACE_FILTER:return c=e.extend(!0,{},r),c=M(c,o.filters),L(c,l.COPY_SPACE,o.value);case i.UPDATE_ISOLATED_FILTER:return U(r,o.filters);case i.UPDATE_UNDISCOVERED_FILTER:return F(r,o.filters);case i.UPDATE_ILLUSTRATIVE_FILTER:return j(r,o.filters);case i.UPDATE_SIZE_FILTER:return H(r,o.value);case i.CLEAR_SEARCH_FILTERS:return c={},g(c,o.data.filter_asset_type),c;case i.UPDATE_PAGE_DATA:return c=e.extend(!0,{},r),t.get(o,"data.filter_asset_type")?(g(c,o.data.filter_asset_type),c):c;case i.NAVIGATE_SEARCH_HISTORY:case i.ALERT_UNDO_ACTION:return c={},c=o.previousFilters?P(c,o.previousFilters):p(),o.previousFilters&&o.previousFilters[l.CATEGORY]&&(c=A(c,o.previousFilters[l.CATEGORY])),x(c,o.previousAssetType),c;case i.CLEAR_BREADCRUMB_FILTER:return c=e.extend(!0,{},r),o.filter.key===l.CONTENT_TYPE_PHOTO&&s.isAestheticFilterEnabled(r)||(delete c[o.filter.key][o.filter.value],o.filter.key===l.FIND_SIMILAR_BY&&delete c[o.filter.key],e.isEmptyObject(c[o.filter.key])&&delete c[o.filter.key]),c;case i.MULTI_IMAGE_UPLOAD:return c=e.extend({},r),a.mobile?c:M(c,o.filters);case i.MULTI_IMAGE_ADD:return c=e.extend({},r),s.isAestheticFilterEnabled(r)&&(delete c[l.VIVID_COLOR],delete c[l.DEPTH_OF_FIELD]),c;default:return r}}function B(n,a){var s=e.extend({},n);switch(a.type){case i.SET_ASSET_TYPE_TO_PREMIUM:return s[l.CONTENT_TYPE_IMAGE]={1:t.get(z,l.CONTENT_TYPE_IMAGE+".1")},s;default:return n}}function K(t,n){var a=e.extend({},t);switch(n.type){case i.SET_ASSET_TYPE_TO_PREMIUM:return delete a[l.PRICE_CLIENT_HIGH],a[l.CATEGORY]&&-1!==l.EDITORIAL_CATEGORIES.indexOf(a[l.CATEGORY])&&delete a[l.CATEGORY],ae.forEach(function(e){delete a[e]}),a;default:return t}}function W(e){e[l.SAFE_SEARCH]&&delete e[l.SAFE_SEARCH],e[l.PRICE_CLIENT_HIGH]&&delete e[l.PRICE_CLIENT_HIGH],e[l.PRICE_CLIENT_LOW]&&delete e[l.PRICE_CLIENT_LOW]}var z=a.filtersText,Q=c.getTemplateSubcategoryByTemplateTypes(),X={all:[l.CONTENT_TYPE_IMAGE,l.CONTENT_TYPE_VIDEO,l.CONTENT_TYPE_TEMPLATE,l.CONTENT_TYPE_3D],premium:[l.CONTENT_TYPE_IMAGE,l.CONTENT_TYPE_TEMPLATE,l.CONTENT_TYPE_3D],editorial:[l.CONTENT_TYPE_IMAGE,l.CONTENT_TYPE_VIDEO]},Z=[l.PRICE_CLIENT_LOW,l.PRICE_CLIENT_HIGH,l.TEMPLATE_CATEGORIES,l.TEMPLATE_TYPES,l.THREE_D_TYPE,l.VIDEO_IS_4K,l.CONTENT_TYPE_VIDEO,l.CONTENT_TYPE_TEMPLATE,l.CONTENT_TYPE_3D,l.VIDEO_FRAME_RATE,l.VIDEO_DURATION],J=[l.CONTENT_TYPE_ILLUSTRATION,l.CONTENT_TYPE_PHOTO,l.CONTENT_TYPE_VECTOR,l.TEMPLATE_CATEGORIES,l.TEMPLATE_TYPES,l.THREE_D_TYPE,l.VIDEO_IS_4K,l.CONTENT_TYPE_IMAGE,l.CONTENT_TYPE_VIDEO,l.CONTENT_TYPE_TEMPLATE,l.CONTENT_TYPE_3D,l.VIDEO_FRAME_RATE,l.VIDEO_DURATION],$=[l.CONTENT_TYPE_ILLUSTRATION,l.CONTENT_TYPE_PHOTO,l.CONTENT_TYPE_VECTOR,l.DEPTH_OF_FIELD,l.ORIENTATION,l.PRICE_CLIENT_HIGH,l.PRICE_CLIENT_LOW,l.TEMPLATE_CATEGORIES,l.TEMPLATE_TYPES,l.THREE_D_TYPE,l.VIVID_COLOR,l.CONTENT_TYPE_IMAGE,l.CONTENT_TYPE_VIDEO,l.CONTENT_TYPE_TEMPLATE,l.CONTENT_TYPE_3D,l.COPY_SPACE,l.SIZE,l.SIZE_PIXELS_WIDTH_MIN,l.SIZE_PIXELS_HEIGHT_MIN,l.SIZE_MEGA_PIXELS_MIN,l.ILLUSTRATIVE,l.ILLUSTRATIVE_INCLUDE,l.ILLUSTRATIVE_EXCLUDE],ee=[l.COLOR,l.CONTENT_TYPE_ILLUSTRATION,l.CONTENT_TYPE_PHOTO,l.CONTENT_TYPE_VECTOR,l.DEPTH_OF_FIELD,l.EXCLUDE_PEOPLE,l.INCLUDE_PEOPLE,l.ORIENTATION,l.PRICE_CLIENT_HIGH,l.PRICE_CLIENT_LOW,l.THREE_D_TYPE,l.VIDEO_IS_4K,l.VIVID_COLOR,l.CONTENT_TYPE_IMAGE,l.CONTENT_TYPE_VIDEO,l.CONTENT_TYPE_TEMPLATE,l.CONTENT_TYPE_3D,l.VIDEO_FRAME_RATE,l.VIDEO_DURATION,l.COPY_SPACE,l.ISOLATED,l.SIZE,l.SIZE_PIXELS_WIDTH_MIN,l.SIZE_PIXELS_HEIGHT_MIN,l.SIZE_MEGA_PIXELS_MIN,l.ILLUSTRATIVE,l.ILLUSTRATIVE_INCLUDE,l.ILLUSTRATIVE_EXCLUDE],te=[l.COLOR,l.CONTENT_TYPE_ILLUSTRATION,l.CONTENT_TYPE_PHOTO,l.CONTENT_TYPE_VECTOR,l.DEPTH_OF_FIELD,l.EXCLUDE_PEOPLE,l.INCLUDE_PEOPLE,l.ORIENTATION,l.PRICE_CLIENT_HIGH,l.PRICE_CLIENT_LOW,l.TEMPLATE_CATEGORIES,l.TEMPLATE_TYPES,l.VIDEO_IS_4K,l.VIVID_COLOR,l.CONTENT_TYPE_IMAGE,l.CONTENT_TYPE_VIDEO,l.CONTENT_TYPE_TEMPLATE,l.CONTENT_TYPE_3D,l.VIDEO_FRAME_RATE,l.VIDEO_DURATION,l.COPY_SPACE,l.ISOLATED,l.SIZE,l.SIZE_PIXELS_WIDTH_MIN,l.SIZE_PIXELS_HEIGHT_MIN,l.SIZE_MEGA_PIXELS_MIN,l.ILLUSTRATIVE,l.ILLUSTRATIVE_INCLUDE,l.ILLUSTRATIVE_EXCLUDE],ne=[l.TEMPLATE_CATEGORIES,l.TEMPLATE_TYPES,l.THREE_D_TYPE,l.VIDEO_IS_4K,l.PRICE_CLIENT_HIGH,l.PRICE_CLIENT_LOW,l.EXCLUDE_PEOPLE,l.INCLUDE_PEOPLE,l.CONTENT_TYPE_IMAGE,l.CONTENT_TYPE_VIDEO,l.CONTENT_TYPE_TEMPLATE,l.CONTENT_TYPE_3D,l.VIDEO_FRAME_RATE,l.VIDEO_DURATION,l.COPY_SPACE,l.ISOLATED],ae=[l.PRICE_CLIENT_LOW,l.PRICE_CLIENT_HIGH,l.TEMPLATE_CATEGORIES,l.TEMPLATE_TYPES,l.THREE_D_TYPE,l.VIDEO_IS_4K,l.CONTENT_TYPE_VIDEO,l.CONTENT_TYPE_TEMPLATE,l.CONTENT_TYPE_3D,l.VIDEO_FRAME_RATE,l.VIDEO_DURATION,l.ISOLATED];return{breadcrumbs:z?c.flattenReducers([B,G,K]):{},cleanUpAestheticFilters:y,cleanUpImageTypes:v,cleanUpOrientationFilters:C,cleanUpPeopleFilters:b,cleanUpTemplateSubcategories:T,
filterViewSwitchStates:g,handleColorFilter:I,handleDurationFilterDefaultState:m,handleEditorialDateRangeFilter:k,handleFrameRateFilterDefaultState:h,handleMogrtAppFilter:O,handleNonEditorialCategoryFilters:A,handleOrientationFilter:R,handleAssetTypeDefaultState:x,needsCategorySwitchState:_,updateFrameRateFilter:q,updateDurationFilter:Y,updateSizeFilter:H,handleSizeFilterDefaultState:f,handleDefaultGloballySafeSearchBreadcrumbs:W}}),define("app/reducers/filtersPanel",["jquery","page_config","app/actions/actionTypes"],function(e,t,n){"use strict";function a(){return{isVisible:t.show_filter||!1}}function i(t,i){var s=e.extend({},t);if(void 0===t)return a();switch(i.type){case n.OPEN_FILTERS_PANEL.begin:return s.isVisible=!0,s.loading=!0,s;case n.OPEN_FILTERS_PANEL.success:case n.OPEN_FILTERS_PANEL.failure:return s.loading=!1,s;case n.CLOSE_FILTERS_PANEL:return s.isVisible=!1,s;default:return t}}return i}),define("app/reducers/metadata",["redux","app/reducers/filtersPanel"],function(e,t){"use strict";return e.combineReducers({filtersPanel:t})}),define("app/reducers/multi-image-search",["jquery","page_config","app/actions/actionTypes","app/constants/searchFilters","lib/utils"],function(e,t,n,a,i){"use strict";function s(){return t.misData||[]}function r(t,r){if(void 0===t)return s();var l,o,c,u,d=e.extend(!0,{},{metadata:[],upload:{}},t),p=r.multiImage?r.multiImage:{},h=d.metadata,m=!1;switch(r.type){case n.MULTI_IMAGE_ADD:return u=p[a.NATIVE_VISUAL_SEARCH]?p[a.NATIVE_VISUAL_SEARCH]:"",c=p[a.FIND_SIMILAR_BY]?p[a.FIND_SIMILAR_BY]:"all",l=p.contentId?p.contentId:r.contentId,u?(o={native_content_id:Number(u),find_similar_by:c},d.upload.id=u,d.upload.findSimilarBy=r.multiImage[a.FIND_SIMILAR_BY]):o={contentId:Number(l),thumbnail:p.thumbnail,thumbnail_240:p.thumbnail_240,title:p.title,content_url:p.content_url,find_similar_by:c,isVideo:r.isVideo},d.metadata.forEach(function(e){(u&&e.native_content_id===o.native_content_id||e.contentId===o.contentId)&&(m=!0)}),m||d.metadata.push(o),d;case n.MULTI_IMAGE_UPLOAD:return d.upload={},d;case n.MULTI_IMAGE_REMOVE:return d=e.extend(!0,{},t),d[a.SIMILAR_CONTENT_ID]=void 0,d;case n.UPDATE_FIND_SIMILAR_BY:var f=i.getValueFromArrayById(h,"contentId",r.id);return f?f.findSimilarBy=r.findSimilarBy:d.upload.findSimilarBy=r.findSimilarBy,d;default:return t}}return{multiImageSearch:r}}),define("app/reducers/recent-searches",["app/actions/actionTypes"],function(e){"use strict";function t(){return!1}function n(n,a){if(void 0===n)return t();var i=n;switch(a.type){case e.SHOW_RECENT_SEARCHES:i=!0;break;case e.HIDE_RECENT_SEARCHES:i=!1;break;default:return n}return i}return n}),define("app/reducers/checkout",["lodash","jquery","page_config","app/actions/actionTypes","lib/utils"],function(e,t,n,a,i){"use strict";function s(){return e.get(n,"state.content",[])}function r(n,r){if(void 0===n)return s();switch(r.type){case a.QUICKER_CHECKOUT_OPEN:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!0,isWaiting:!1}):e});case a.BUY_LICENSE.begin:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!0}):e});case a.DOWNLOAD_ASSET.begin:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isDownloading:!0}):e});case a.SAVE_ASSET.begin:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isSaving:!0,saved:!1}):e});case a.QUICKER_CHECKOUT_CLOSE:case a.QUICKER_CHECKOUT_DONE:case a.QUICKER_CHECKOUT_ERROR:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!1,isWaiting:!1,shouldShowHoverMenu:!1}):e});case a.BUY_LICENSE.success:case a.BUY_LICENSE.failure:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!1,shouldShowHoverMenu:!1}):e});case a.DOWNLOAD_ASSET.success:case a.DOWNLOAD_ASSET.failure:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isDownloading:!1}):e});case a.SAVE_ASSET.success:case a.SAVE_ASSET.failure:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isSaving:!1,saved:!1,shouldShowHoverMenu:!1,shouldShowSeeMoreDropDown:!1}):e});case a.SAVE_ASSET_COMPLETE:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isSaving:!1,saved:!0}):e});case a.WAIT_QUICKER_CHECKOUT_MODAL_OPEN:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isWaiting:!0}):e});case a.UPDATE_DETAIL_PANEL_LICENSE:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{selectedLicenseId:parseInt(r.licenseId,10)}):e});case a.CONTENT_LICENSED:return n.map(function(n){if(!i.areEqualNumbers(n.content_id,r.contentId))return n;var a=t.extend({},n,{selectedLicenseId:parseInt(r.licenseId,10)});return e.get(a,"license_details."+r.licenseId)&&(a.license_details=t.extend({},a.license_details),a.license_details[r.licenseId].downloaded=!0),a});default:return n}}return r}),define("app/reducers/view",["redux","app/reducers/breadcrumbs","app/reducers/metadata","app/reducers/multi-image-search","app/reducers/recent-searches","app/reducers/checkout"],function(e,t,n,a,i,s){"use strict";return e.combineReducers({metadata:n,multiImage:a.multiImageSearch,breadcrumbs:t.breadcrumbs,recentSearches:i,checkout:s})}),define("app/reducers/libraries",["jquery","app/actions/actionTypes"],function(e,t){"use strict";function n(){return{items:{}}}return function(a,i){switch(void 0===a&&(a=n()),i.type){case t.UPDATE_LIBRARY_ITEMS:return e.extend({},a,{items:i.items});default:return a}}}),define("app/reducers/querySuggestions",["jquery","app/actions/actionTypes","page_config"],function(e,t,n){"use strict";function a(){var e={};return e.suggestions=n.query_suggestions||[],e}return{querySuggestions:function(n,i){switch(void 0===n&&(n=a()),i.type){case t.GET_QUERY_SUGGESTIONS_RESULTS.success:return e.extend({},n,{suggestions:i.result||[]});case t.GET_QUERY_SUGGESTIONS_RESULTS.failure:case t.CLEAR_QUERY_SUGGESTIONS:return e.extend({},n,{suggestions:[]});default:return n}}}}),define("app/constants/carousel",[],function(){"use strict";return{DEFAULT_STYLE:"default",DEFAULT_TYPE:"default",EMPTY_TYPE:"empty",LIGHT_STYLE:"light",LONGTAIL_ID_PREFIX:"longtail-",LONGTAIL_TYPE:"longtail"}}),define("components/carousel/reducers/assetsReducers",["redux","jquery","page_config","app/actions/actionTypes","app/constants/assetTypeFilters","app/constants/carousel"],function(e,t,n,a,i,s){"use strict";function r(){return{items:[],total:0,type:s.DEFAULT_TYPE}}function l(e,n){return t.extend({},e,{items:[],type:n.carouselType||s.DEFAULT_TYPE,style:n.style||s.DEFAULT_STYLE})}var o=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_ALL.begin:return l(e,n);case a.FETCH_ASSETS_ALL.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_ALL.failure:return{};default:return e}},c=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_EDITORIAL.begin:return l(e,n);case a.FETCH_ASSETS_EDITORIAL.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_EDITORIAL.failure:return{};default:return e}},u=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_IMAGES.begin:return l(e,n);case a.FETCH_ASSETS_IMAGES.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_IMAGES.failure:return{};default:return e}},d=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_PREMIUM.begin:return l(e,n);case a.FETCH_ASSETS_PREMIUM.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_PREMIUM.failure:return{};default:return e}},p=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_FREE.begin:return l(e,n);case a.FETCH_ASSETS_FREE.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_FREE.failure:return{};default:return e}},h=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_TEMPLATES.begin:return l(e,n);case a.FETCH_ASSETS_TEMPLATES.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_TEMPLATES.failure:return{};default:return e}},m=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_THREED.begin:return l(e,n);case a.FETCH_ASSETS_THREED.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_THREED.failure:return{};default:return e}},f=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_VIDEOS.begin:return l(e,n);case a.FETCH_ASSETS_VIDEOS.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_VIDEOS.failure:return{};default:return e}},_=function(e,n){var i={};if(void 0===e)return[];switch(n.type){case a.FETCH_ASSETS_LONGTAIL.begin:return i[n.id]={keyword:n.keyword,items:[],type:n.carouselType||s.DEFAULT_TYPE,style:n.style||s.DEFAULT_STYLE},t.extend({},e,i);case a.FETCH_ASSETS_LONGTAIL.success:return i[n.id]=t.extend({},e[n.id],{items:n.result.items,total:n.result.total}),t.extend({},e,i);case a.FETCH_ASSETS_LONGTAIL.failure:return i[n.id]={},t.extend({},e,i);default:return e}};return{assets:function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_PREMIUM_IMAGES.begin:return t.extend({},e,{items:[]});case a.FETCH_PREMIUM_IMAGES.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_PREMIUM_IMAGES.failure:return{};case a.CLEAR_PREMIUM_IMAGES:return r();default:return e}},carousel:function(){var t={};return t[i.ALL]=o,t[i.EDITORIAL]=c,t[i.IMAGES]=u,t[i.PREMIUM]=d,t[i.TEMPLATES]=h,t[i.THREED]=m,t[i.VIDEOS]=f,t.longtail=_,n.isFreeEnabled&&(t[i.FREE]=p),e.combineReducers(t)}()}}),define("app/reducers/contentHoverMenu",["jquery","lodash","page_config","app/actions/actionTypes","lib/utils"],function(e,t,n,a,i){"use strict";function s(){return t.get(n,"state.content",[])}function r(t,n){if(void 0===t)return s();switch(n.type){case a.OPEN_HOVER_MENU_MORE_OPTIONS:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowSeeMoreDropDown:!0,shouldDisplaySaveToLibraryComponent:!0,shouldShowFSCHoverMenu:!0}):t});case a.CLOSE_HOVER_MENU_MORE_OPTIONS:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowSeeMoreDropDown:!1,shouldDisplaySaveToLibraryComponent:!1,shouldShowFSCHoverMenu:!1}):t});case a.OPEN_FSC_HOVER_MENU:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowFSCHoverMenu:!0}):t});case a.CLOSE_FSC_HOVER_MENU:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowFSCHoverMenu:!1}):t});case a.SHOW_HOVER_MENU:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowHoverMenu:!0}):t});case a.HIDE_HOVER_MENU:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowHoverMenu:!1}):t});default:return t}}return r}),define("app/reducers/contentMosaic",["jquery","lodash","page_config","app/actions/actionTypes"],function(e,t,n,a){"use strict";function i(){return t.get(n,"state.content",[])}function s(t,n){if(void 0===t)return i();switch(n.type){case a.MOSAIC_RELOADED:return t.map(function(t){return n.mosaicData[t.content_id]?e.extend({},t,n.mosaicData[t.content_id]):t});default:return t}}return s}),define("app/reducers/content",["jquery","page_config","lib/utils","app/reducers/contentHoverMenu","app/reducers/checkout","app/reducers/contentMosaic","lib/contentDetails","app/actions/actionTypes"],function(e,t,n,a,i,s,r,l){"use strict";function o(){var e=[],t=r.getContentDataDic()||{};return Object.keys(t).length&&(e=r.getSortedContentArray(t)),e}function c(t,a){if(void 0===t)return o();switch(a.type){case l.GET_SEARCH_RESULTS.success:return r.getSortedContentArray(a.result.items||{});case l.UPDATE_LIBRARY_ITEMS:return r.getSortedContentArray(a.items);case l.SELECT_CONTENT_LICENSE:return t.map(function(t){return n.areEqualNumbers(t.content_id,a.contentId)?e.extend({},t,{selectedLicenseId:parseInt(a.licenseId,10)}):t});case l.ADD_ITEM_DETAILS:var i=t;return t.filter(function(e){return n.areEqualNumbers(e.content_id,a.content_id)}).length||(i=e.extend([],t),i.push(a.data)),i;default:return t}}return n.flattenReducers([c,s,a,i])}),define("app/reducers/index",["redux","app/reducers/details","app/reducers/filters","app/reducers/history","app/reducers/member","app/reducers/pagination","app/reducers/search","app/reducers/page","app/reducers/view","app/reducers/libraries","app/reducers/querySuggestions","components/carousel/reducers/assetsReducers","app/reducers/content"],function(e,t,n,a,i,s,r,l,o,c,u,d,p){"use strict";return{rootReducer:e.combineReducers({carousel:d.carousel,details:t.details,filters:n.filters,history:a.history,libraries:c,member:i.member,page:l.page,pagination:s.pagination,pbr:d.assets,search:r.search,view:o,content:p,querySuggestions:u.querySuggestions})}}),define("store",["redux","app/middleware/promiseMiddleware","app/middleware/thunkMiddleware","app/reducers/index"],function(e,t,n,a){"use strict";return{configureStore:function(){var i=[n.thunkMiddleware,t.promiseMiddleware].map(function(t){return e.applyMiddleware(t)});return e.compose.apply(void 0,i)(e.createStore)(a.rootReducer)}}}),define("app/client",["store"],function(e){"use strict";var t;return{getInstance:function(n){return t&&!n||(t=e.configureStore()),t}}}),define("app/constants/dunamis",[],function(){"use strict";return{EVENT_PARAMS:{STOCK_SEARCH_KEYWORD:"ui.search_keyword",CONTENT_ID_LIST:"stk.search.content_id_list",TOTAL_SEARCH_RESULTS:"stk.search.total_search_results",RESULTS_COUNTS:"stk.search.results_counts",PAGE:"stk.search.page",FILTERS:"stk.search.filters",SUGGESTED_KEYWORD:"stk.search.suggested_keyword",STOCK_CAROUSEL_TYPE:"stk.search.carousel_type",OPEN_IN_APP:"stk.open_in.action",SAVE_TO_DEVICE:"stk.save_to_device.action",SELECTED_TAB:"stk.selected_tab",LIBRARIES_SAVE_TO_EXISTING_LIBRARY:"stk.libraries.save_to_existing",LIBRARIES_SAVE_TO_NEW_LIBRARY:"stk.libraries.save_to_new",LIBRARIES_SAVE_TO_LIBRARY_ID:"stk.libraries.to.id",LIBRARIES_SAVE_TO_LIBRARY_NAME:"stk.libraries.to.name",EVENT_DATE_RANGE_START:"stk.event_date_range_start",EVENT_DATE_RANGE_END:"stk.event_date_range_end",VIDEO_DURATION_RANGE_START:"stk.video_duration_range_start",VIDEO_DURATION_RANGE_END:"stk.video_duration_range_end",SEARCH_CONTEXT_SEQUENCE:"stk.search_context_sequence",EXTERNAL_SOURCE:"stk.external_source",COUNTRY:"stk.user.country",VIDEO_DURATION:"stk.video.duration",VIDEO_PLAY_TIME:"stk.video.play_time",QUERY_SUGGESTION_LIST:"stk.search.querysuggestion-list",QUERY_SUGGESTION_POSITION:"stk.search.querysuggestion-position"},VISUAL_SEARCH:{BROWSE:"visual-search-browse",DRAG:"visual-search-drag",HOVER_FIND_SIMILAR:"hover-find-similar",DETAILS_FIND_SIMILAR:"details-find-similar",PANEL_FSC_TILE_FIND_SIMILAR:"fsc-tile-panel-find-similar",FSC_TILE_FIND_SIMILAR:"fsc-tile-find-similar",FIND_SIMILAR_BY:"stk.search.visual-search-find-similar-by",CLOSE_VISUAL_SEARCH_TILE:"close-visual-search-tile",IMPRESSIONS:"impressions"},SELL:"sell",AUDIO:"audio",VIEW_ALL_BUTTON:"view-all",BACK_BUTTON:"back",CONTENT_SEEN_BY_USER:"content-seen-by-user",SEARCH:"search",SEARCH_BEGIN:"search-begin",SEARCH_SUCCESS:"search-success",SEARCH_FAILURE:"search-failure",SEARCH_RESULTS_SUCCESS:"search-results-success",SEARCH_RESULTS_FAILURE:"search-results-failure",DIRECT_TO_SEARCH:"direct-to-search",NULL_RESULTS:"null-results",INITIAL_SEARCH:"initial-search",USERTYPED:"usertyped",RECENT_SEARCHES:"recentsearch",AUTO_SUGGEST:"autosuggest",AUTO_CORRECT:"autocorrect",CONTENT_ID:"content.id",QUERY_SUGGESTION:"querysuggestion",ASSET_TYPE_LINK_VIDEO:"assettypelink-video",ASSET_TYPE_LINK_TEMPLATE:"assettypelink-template",ASSET_TYPE_LINK_VIDEO_TEMPLATE:"assettypelink-video-template",ASSET_TYPE_CHANGE:"asset-type-change",ORDER:"order",MINI_MONTHLY_PLAN:"mini-monthly-plan",DOWNLOAD:"download",LICENSE:"license",STOCK_SEARCH:"stock-search",DOWNLOAD_CONFIRMATION:"download-confirmation",PAGINATION:"pagination",EDITORIAL_DATE_RANGE_SELECTED:"editorial-date-range-selected",VIDEO_DURATION_RANGE_SELECTED:"video-duration-range-selected",REMOVE_BREADCRUMB:"remove-breadcrumb",CLEAR_ALL_FILTERS:"clear-all-filters",FILTER_SELECT:"filter-select",CATEGORY_LINK_DETAILS_PANEL:"category-link-details-panel",KEYWORD_BADGE_DETAILS_PANEL:"keyword-badge-details-panel",FILTER_VIEW:"filter-view",FILTER_VIEW_PANEL:"filter-view-panel",FILTER_HIDE:"filter-hide",FILTER_HIDE_PANEL:"filter-hide-panel",SEARCH_TYPE:"search_type",LIBRARIES_TOAST:{STATUS:"stk.libraries.toast_status",AUTO_SAVE_ON:"auto-save-on",AUTO_SAVE_OFF:"auto-save-off",AUTO_DOWNLOAD_ON:"auto-download-on",AUTO_DOWNLOAD_OFF:"auto-download-off"},LIBRARIES:{LIBRARY_DETAILS:{LICENSE_FILTER:"library-detail-license-filter",LICENSE_FILTER_VALUE:"stk.libraries.license_filter_value"}},STOCK_CHECKOUT:"stock-checkout",STOCK_PLANS_PAGE:"stock-plans-page",STOCK_TEAMS_PAGE:"stock-teams-page",STOCK_PLANS_PAGE_BUY_BUTTON:"stock-plans-page-buy-button",STOCK_TEAMS_PAGE_BUY_BUTTON:"stock-teams-page-buy-button",BLUE_BANNER:"blue-banner",START_NOW:"start-now",PLACE_SECURE_ORDER:"place-secure-order",CHANGE_PURCHASE_OPTION:"change-purchase-option",VIEW_PLANS_PAGE:"view-plans-page",SUBMIT:"submit",VERIFY_BILLING_INFO:"verify-billing-info",CHECKOUT_MODAL_CLOSE:"checkout-modal-close",AUTHENTICATE_PAYMENT_INSTRUMENT:"authenticate-payment-instrument",BUY_CHOICE:"buy-choice",ENTER_EMAIL:"enter-email",HALT:"halt",PURCHASE_CONFIRM:"purchase-confirm",TEAM_DELEGATE_BUY_CHOICE:"team-delegate-buy-choice",TEAM_PURCHASE_MODAL:"team-purchase-modal",DELEGATE_CANNOT_COMPLETE_PURCHASE:"delegate-cannot-complete-purchase",DELEGATE_REQUEST_MODAL:"delegate-request-modal",REQUEST_FROM_ADMIN:"request-from-admin",USE_INDIVIDUAL_ACCOUNT:"use-individual-account",DELEGATE_REQUEST_CONFIRMATION_MODAL:"delegate-request-confirmation-modal",START_SEARCHING:"start-searching",ADMIN_CANNOT_PURCHASE_FMF:"admin-cannot-purchase-fmf",SWITCH_PERSONAL_CONFIRM:"switch-personal-confirm",SWITCH_PERSONAL_CANCEL:"switch-personal-cancel",PBR:{ASSET_CLICK:"pbr-asset-click",VIEW_RESULTS:"pbr-view-results",RESULTS_COUNT:"pbr-results-count"},FBR:{ASSET_CLICK:"freebr-asset-click",VIEW_RESULTS:"freebr-view-results",RESULTS_COUNT:"freebr-results-count"},FTR:{ASSET_CLICK:"freetr-asset-click",VIEW_RESULTS:"freetr-view-results",RESULTS_COUNT:"freetr-results-count"},CAROUSEL:{DEFAULT:"default",EMPTY:"empty-carousel",LONGTAIL:"longtail-carousel",ASSET_CLICK:"-asset-click",VIEW_RESULTS:"-view-results",RESULTS_COUNT:"-results-count",LONGTAIL_IMPRESSION:"longtail_%1$s|%2$s",EMPTY_IMPRESSION:"all_%s"},VISIT:"visit",PAGE_VIEW:"page-view",OPEN_DETAIL:"open-detail",LANDING:"landing",PAGE_LANDING:"page-landing",CLICK:"click",ASSET_TYPE:"asset_type",CONTINUE:"continue",SIGN_IN_FB:"sign_in_fb",SIGN_IN_GOOGLE:"sign_in_google",HOVER_BUY_LICENSE:"hover-buy-license",HOVER_SAVE_PREVIEW:"hover-save-preview",HOVER_VIDEO_START:"hover-start-video",HOVER_VIDEO_PAUSE:"hover-pause-video",HOVER_VIDEO_STOP:"hover-stop-video",HOVER_SAVE:"hover-save",DETAIL_BUY_LICENSE:"details-buy-license",DETAIL_SAVE_PREVIEW:"details-save-preview",DETAIL_VIEW_PREVIEW:"details-view-preview",DETAIL_SAVE:"details-save",SEE_MORE_EVENTS:{SEE_MORE:"see-more",SERIES:"more-from-this-series",MODEL:"more-from-this-model",IMAGES:"more-from-similar-images"},SIMILAR_KEYWORD_EVENTS:{VIEW_ALL:"view-all-similar-keywords",SELECT_KEYWORD:"select-similar-keyword"},PREVIEW_CROP:{CLICK_PREVIEW_CROP:"click-preview-crop",CLICK_SLIDER:"click-preview-crop-slider",CLICK_ASPECT_RATIO:"click-preview-crop-aspect-ratio",ASPECT_RATIO:"preview-crop-aspect-ratio"},SUSI:{LOGIN:"susi-login",CREATE_ACCOUNT:"susi-create-account"},PROPERTIES:{USER:{CURRENT_SUBSCRIPTION:"stk.user.current_subscription",IS_OVERAGE:"stk.user.is_overage"},CHECKOUT:{BASE_PRICE:"stk.checkout.base_price",SUBTOTAL:"stk.checkout.subtotal",TAX:"stk.checkout.tax",TOTAL:"stk.checkout.total",ORDER_ID:"stk.checkout.order_id",OFFER_ID:"stk.checkout.offer_id",CURRENCY:"stk.checkout.currency",QUANTITY:"stk.checkout.quantity",CURRENT_PRICE:"stk.checkout.current_price",ORDER_NUMBER:"stk.checkout.order_number",PROMO_TYPE:"stk.checkout.promo_type",SELECTED_LICENSE_OPTION:"stk.checkout.selected_license_option",SELECTED_PURCHASE_OPTION:"stk.checkout.selected_purchase_option",PURCHASE_OPTIONS:"stk.checkout.purchase_options",FINDING_METHOD:"stk.checkout.finding_method",SELECTION_METHOD:"stk.checkout.selection_method",DELEGATE_REQUEST_PRODUCT:"stk.checkout.delegate-request.product"}},MODAL_CLOSE:"modal-close",TOOLBAR_LICENSE:"toolbar-license",BULK_LICENSE:"bulk-license",SELECTION_QUOTE_MODAL:"quote-modal",FINDING_DIRECT:"direct",ENTERPRISE:{QUOTE_ASSET_ID_LIST:"stk.enterprise.quote_asset_id_list",QUOTE_ASSET_COUNT:"stk.enterprise.quote_asset_download_count"},SUBCATEGORY_QUOTE_MODAL:"quote-modal"}}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define("stockWebIngest",["jquery"],t):"object"==typeof exports?exports.stockWebIngest=t(require("jquery")):e.stockWebIngest=t(e.$)}(window,function(e){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(a,i,function(t){return e[t]}.bind(null,i));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=125)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var a=n(0);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){a(e,t,n[t])})}return e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}},function(e,t,n){"use strict";var a=n(1),i=n.n(a),s=n(62),r=(n(33),n(27),n(29),n(49),n(2)),l=n.n(r),o=n(3),c=n.n(o),u=n(19),d=n(36),p=(n(103),n(144),n(145),n(0)),h=n.n(p),m=new(function(){function e(t){l()(this,e),this._events={},this._win=t}return c()(e,[{key:"isPerformanceEnabled",value:function(){if(!this._win)return!1;var e=this._win.performance.timing.navigationStart,t=this._win.performance.getEntriesByType;return!!e&&!!t}},{key:"getWindowPerformanceTiming",value:function(){return this._win?this._win.performance.timing:null}},{key:"getWindowEntriesByType",value:function(){return this._win?this._win.performance.getEntriesByType("paint"):null}},{key:"getBrowserDimensions",value:function(){return this._win?{width:this._win.innerWidth,height:this._win.innerHeight}:null}}]),e}())("undefined"!=typeof window&&window),f=function(){function e(){l()(this,e),this.userResolvers={}}return c()(e,[{key:"init",value:function(e){this.userResolvers=e||{}}},{key:"decorateABTests",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.userResolvers.getABTests&&this.userResolvers.getABTests(),a=this.userResolvers.getAdobeStockUniqueIdentifier&&this.userResolvers.getAdobeStockUniqueIdentifier(),s=this.userResolvers.getFeatureFlagsUniqueIdentifier&&this.userResolvers.getFeatureFlagsUniqueIdentifier();return i()((e={},h()(e,"exp.campaign_id",n),h()(e,"stk.user.asui",a),h()(e,"stk.user.ffuuid",s),e),t)}},{key:"decorateProfile",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=u.a.EVENT_USER_GUID_PROPERTY,a=u.a.USER_SERVICE_LEVEL,s=u.a.USER_SERVICE_CODE,r=this.userResolvers,l=r.getCountryCode,o=r.getAccountType,c=r.getCCMemberStatus,d=r.getStockActiveStatus,p=r.getTeamProfileType,m=r.getServiceLevel,f=r.getActiveSubscriptions,_=r.getUserGuid,g=l&&l(),E=o&&o(),v=c&&c(),b=d&&d(),T=p&&p(),y=m&&m("creative_cloud"),C=f&&f(),S=_&&_();return i()((e={},h()(e,n,S),h()(e,"stk.user.type",E),h()(e,"stk.user.cc_member_status",v),h()(e,"stk.user.stock_active_status",b),h()(e,"stk.user.team_profile_type",T),h()(e,"stk.user.country",g),h()(e,"stk.user.current_status",C),h()(e,a,y),h()(e,s,S?"creative_cloud":""),e),t)}},{key:"decorateLoggedStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.userResolvers.getLoggedStatus,n=t&&t();return i()(h()({},"stk.user.logged_status",n),e)}},{key:"decorateCreditQuota",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.userResolvers.getCreditQuota,n=t&&t();if(n){var a,s=n.totalOrders,r=n.availableCreditPackQuota,l=n.totalQuotaAvailable,o=n.totalDownloads,c=n.buyerStatus;return i()((a={},h()(a,"stk.user.orders_total",s),h()(a,"stk.user.quota_balance",l),h()(a,"stk.user.credit_balance",r),h()(a,"stk.user.download_total",o),h()(a,"stk.user.buyer_status",c),a),e)}return e}},{key:"decorateCCPro",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.userResolvers,a=n.getUserCCProStatus,s=n.getOrganizationCCProStatus,r=a&&a(),l=s&&s();return i()((e={},h()(e,"stk.user.has_ccpro",r),h()(e,"stk.organization.has_ccpro",l),e),t)}},{key:"decorateOrganization",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.userResolvers.getUserOrganizationDetails,n=t&&t();if(n){var a,s=n.buyingProgram,r=n.contractId,l=n.marketSegment,o=n.orgGuid;return i()((a={},h()(a,"stk.organization.buying_program",s),h()(a,"stk.organization.contract_id",r),h()(a,"stk.organization.market_segment",l),h()(a,"stk.organization.org_guid",o),a),e)}return e}},{key:"decorate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.decorateABTests(t);return n=this.decorateProfile(n),n=this.decorateLoggedStatus(n),n=this.decorateCreditQuota(n),n=this.decorateCCPro(n),n=e.decorateBrowserDimensions(n),n=this.decorateOrganization(n)}}],[{key:"decorateBrowserDimensions",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=m.getBrowserDimensions();return n?i()({},t,(e={},h()(e,"env.browser_width",n.width),h()(e,"env.browser_height",n.height),e)):t}}]),e}(),_=u.a.EVENT_SESSION_ID_PROPERTY,g=u.a.EVENT_LOCALE,E=function(){function e(){l()(this,e),this.eventResolvers={}}return c()(e,[{key:"init",value:function(e){this.eventResolvers=e||{}}},{key:"decorateSessionId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.eventResolvers.getSessionId,n=t&&t();return i()(h()({},_,n),e)}},{key:"decorateEventLocale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.eventResolvers.getLocale,n=t&&t();return i()(h()({},g,n),e)}},{key:"decorate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.decorateSessionId(e);return t=this.decorateEventLocale(t)}}]),e}(),v=n(5),b=n(40),T=n(38),y=function(){function e(){l()(this,e),this.searchResolvers={}}return c()(e,[{key:"init",value:function(e){this.searchResolvers=e||{}}},{key:"decorateSearchAssetType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.searchResolvers.getAssetType,n=t&&t();return i()(h()({},v.a,n),e)}},{key:"decorate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.decorateSearchSequenceId(t);return n=this.decorateSearchAssetType(n)}}],[{key:"decorateSearchSequenceId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(b.b)(e);var t=Object(T.a)();return i()(h()({},v.d,t),e)}}]),e}(),C=function(){function e(){l()(this,e),this.customResolvers={}}return c()(e,[{key:"init",value:function(e){this.customResolvers=e||this.customResolvers}},{key:"decorateTouchpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.customResolvers.getTouchpoint&&this.customResolvers.getTouchpoint();return t?i()(h()({},"stk.external_source",t),e):e}},{key:"decorate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.decorateTouchpoint(e)}}]),e}(),S=function(){function e(){l()(this,e),this.ingestResolvers={},this.initialized=!1,this.userDecorators=new f,this.eventDecorators=new E,this.searchDecorators=new y,this.customDecorators=new C,this.allowedIngestResolverSchema={search:["getAssetType"],event:["getLocale","getBuild","getSessionId"],user:["getABTests","getAdobeStockUniqueIdentifier","getFeatureFlagsUniqueIdentifier","getCountryCode","getAccountType","getCCMemberStatus","getStockActiveStatus","getTeamProfileType","getServiceLevel","getActiveSubscriptions","getUserGuid","getLoggedStatus","getCreditQuota","getUserCCProStatus","getOrganizationCCProStatus","getUserOrganizationDetails"],custom:["getTouchpoint"]}}return c()(e,[{key:"validate",value:function(e){var t=this,n=Object.keys(e),a=Object.keys(this.allowedIngestResolverSchema);n.forEach(function(n){if(!a.includes(n))throw new Error("Unsupported ingest key: ".concat(n,"!"));var i=t.allowedIngestResolverSchema[n];Object.keys(e[n]).forEach(function(t){if(!i.includes(t))throw new Error("Unsupported ingest resolver: ".concat(t,"!"));if("function"!=typeof e[n][t])throw new Error("Unsupported ingest resolver should be of type function: ".concat(t,"!"))})})}},{key:"init",value:function(e){this.initialized||(e?(this.validate(e),this.ingestResolvers=e,this.userDecorators.init(e.user),this.eventDecorators.init(e.event),this.searchDecorators.init(e.search),this.customDecorators.init(e.custom),this.initialized=!0):this.initialized=!0)}},{key:"decorate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.initialized)throw new Error("not yet initialized");if(!this.ingestResolvers)return e;var t=this.userDecorators.decorate(e);return t=this.searchDecorators.decorate(t),t=this.eventDecorators.decorate(t),t=this.customDecorators.decorate(t)}}]),e}(),I=function(){function e(){l()(this,e),this.requiredConfig=["ANALYTICS_API_KEY"],this.initialized=!1,this.decorators=new S}return c()(e,[{key:"validateConfig",value:function(e){this.requiredConfig.forEach(function(t){if(!(e&&t in e))throw new Error("Missing required config: ".concat(t,"!"))})}},{key:"init",value:function(e){if(this.initialized)throw new Error("Already initialized!");this.validateConfig(e);var t=e.ENVIRONMENT,n=Object(d.b)(t),a=i()({},n,e);this.decorators.init(e.ingestResolvers),u.b.init(a),this.initialized=!0}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(e&&Object.keys(e).length&&this.initialized){var n=this.decorators.decorate(e);u.b.track(n,t)}}catch(e){}}}]),e}();n.d(t,"a",function(){return O}),n.d(t,"b",function(){return k});var O=new I,k=i()({},s,{STOCK_USER_COUNTRY:"stk.user.country",
STOCK_USER_QUOTA_BALANCE:"stk.user.quota_balance",STOCK_USER_CREDIT_BALANCE:"stk.user.credit_balance"})},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return r}),n.d(t,"l",function(){return l}),n.d(t,"g",function(){return o}),n.d(t,"h",function(){return c}),n.d(t,"k",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"f",function(){return m}),n.d(t,"m",function(){return f});var a="dunamis-ssid",i="stk.search.search_sequence_id",s="stk.search.asset_type_selected",r="ui.search_keyword",l="search-begin",o="filter-select",c="pagination",u="usertyped",d="recentsearch",p="autosuggest",h="remove-breadcrumb",m="clear-all-filters",f={BROWSE:"visual-search-browse",DRAG:"visual-search-drag",HOVER_FIND_SIMILAR:"hover-find-similar",DETAILS_FIND_SIMILAR:"details-find-similar",PANEL_FSC_TILE_FIND_SIMILAR:"fsc-tile-panel-find-similar",FSC_TILE_FIND_SIMILAR:"fsc-tile-find-similar",FIND_SIMILAR_BY:"stk.search.visual-search-find-similar-by",CLOSE_VISUAL_SEARCH_TILE:"close-visual-search-tile",IMPRESSIONS:"impressions"}},function(e,t,n){"use strict";n.r(t),n.d(t,"EVENT_CATEGORY_PROPERTY",function(){return a}),n.d(t,"EVENT_SUBCATEGORY_PROPERTY",function(){return i}),n.d(t,"EVENT_TYPE_PROPERTY",function(){return s}),n.d(t,"EVENT_SUBTYPE_PROPERTY",function(){return r}),n.d(t,"EVENT_WORKFLOW_PROPERTY",function(){return l}),n.d(t,"EVENT_TIMESTAMP_PROPERTY",function(){return o}),n.d(t,"EVENT_USER_GUID_PROPERTY",function(){return c}),n.d(t,"EVENT_GUID_PROPERTY",function(){return u}),n.d(t,"EVENT_USER_AGENT_PROPERTY",function(){return d}),n.d(t,"EVENT_URL_PROPERTY",function(){return p}),n.d(t,"EVENT_VISITOR_GUID_PROPERTY",function(){return h}),n.d(t,"EVENT_MCID_GUID_PROPERTY",function(){return m}),n.d(t,"EVENT_LOCALE",function(){return f}),n.d(t,"EVENT_CATEGORY",function(){return _}),n.d(t,"EVENT_SESSION_ID_PROPERTY",function(){return g}),n.d(t,"EVENT_BUILD_PROPERTY",function(){return E}),n.d(t,"EVENT_CONTEXT_GUID",function(){return v}),n.d(t,"EVENT_REFERRER",function(){return b});var a="event.category",i="event.subcategory",s="event.type",r="event.subtype",l="event.workflow",o="event.dts_start",c="event.user_guid",u="event.guid",d="event.user_agent",p="event.url",h="event.visitor_guid",m="event.mcid_guid",f="event.language",_="event.category",g="event.session_guid",E="event.build",v="event.context_guid",b="event.referrer"},function(e,t,n){"use strict";function a(e){if("string"!=typeof e)throw new Error("Key should be a string!")}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return p});var a=n(2),i=n.n(a),s=n(3),r=n.n(s),l=n(51),o=n(88),c=n(115),u=n(114),d=n(111),p=function(){function t(){i()(this,t)}return r()(t,null,[{key:"get",value:function(t){var n=null;switch(t){case"local":n=new l.a(e,"localStorage");break;case"rawLocal":n=new d.a(e,"localStorage");break;case"session":n=new l.a(e,"sessionStorage");break;case"localOrdered":n=new o.a(e,"localStorage");break;case"sessionOrdered":n=new o.a(e,"sessionStorage");break;case"cookie":n=u.a;break;case"map":n=c.a}return n}}]),t}()}).call(this,n(23))},function(e,t,n){"use strict";function a(e,t){return function(e,t){var n="[".concat(t,"]");return e.closest(n).first()}(e,t).attr(t)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=m.b.EVENT_SUBCATEGORY_PROPERTY,i=function(e){return a(e,g.d)}(e);return i?h()(d()({},n,i),t):t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=m.b.EVENT_WORKFLOW_PROPERTY,i=function(e){return a(e,g.e)}(e);return i?h()(d()({},n,i),t):t}function r(){return f.a.get("cookie").get(E.d)}function l(e){return e.is('[type="checkbox"]')}function o(e,t){return 0!==t.name.indexOf(g.f)||_.a.has(t.name)?e:h()({},e,d()({},(n=t.name)?n.replace(g.f,"").split("-").join("."):"",t.value));var n}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.parentsUntil("body")||{};return e&&e.length&&n.push(e[0]),n.each(function(e){var a=n[e].attributes;t=Object.values(a).reduce(o,t)}),t}n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return r}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return c}),n(33),n(27),n(29),n(141),n(81),n(82),n(84);var u=n(0),d=n.n(u),p=n(1),h=n.n(p),m=n(4),f=n(8),_=n(39),g=n(12),E=n(26)},function(e,t,n){var a=n(91)("wks"),i=n(54),s=n(16).Symbol,r="function"==typeof s;(e.exports=function(e){return a[e]||(a[e]=r&&s[e]||(r?s:i)("Symbol."+e))}).store=a},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return r}),n.d(t,"a",function(){return l});var a="prod",i="stage",s="/ingest",r=1e3,l="context_guid"},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return r}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return o});var a="data-ingest-clicktype",i="data-ingest-workflow",s="data-ingest-subcategory",r="data-ingest-content-id",l="data-ingest-",o={CLICK_TYPE_DATA_ATTRIBUTE:a,EVENT_WORKFLOW_DATA_ATTRIBUTE:i,EVENT_SUBCATEGORY_DATA_ATTRIBUTE:s,CONTENT_ID_DATA_ATTRIBUTE:r,INGEST_ATTRIBUTE_PREFIX:l}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";(function(e){function a(){var e=Object(T.a)();if(e&&e.imsProfile)return e.imsProfile;var t=Object(C.a)();return t&&t.SUSI?t.SUSI.profile:null}function i(){var e=Object(T.a)();if(e&&e.stockProfile)return e.stockProfile;var t=Object(C.a)();return t&&t.member?t.member:null}function s(){var e=a();return e&&e.countryCode?e.countryCode:""}function r(){if(b.a.get("cookie").get(y.e))return y.f;var e=a();return e&&e.account_type?e.account_type:""}function l(){var e=i();return e&&e.cc_member_status?e.cc_member_status:""}function o(){var e=i();return e&&e.stockactivestatus?e.stockactivestatus:""}function c(){var e=i(),t=e&&e.default_entitlement?e.default_entitlement:null;return t&&t.team_profile_type?t.team_profile_type:""}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"creative_cloud",t="",n=a(),i=(n&&n.serviceAccounts?n.serviceAccounts:[]).filter(function(t){return t.serviceCode===e});if(i.length){var s=i.map(function(e){return e.serviceLevel});t=v()(s,1)[0]}return t}function d(){var e=a(),t=(e&&e.serviceAccounts?e.serviceAccounts:[]).filter(function(e){return"ACTIVE"===e.serviceStatus}).reduce(function(e,t){return"".concat(e,",").concat(t.serviceCode)},"");return","===t.charAt(0)?t.slice(1):t}function p(){var e=a();return e&&e.userId?e.userId:""}function h(){var t=Object(C.a)(),n=t?t.member:{};return e.isEmptyObject(n)?"logged-out":"logged-in"}function m(){var e=Object(T.a)(),t=e&&e.stockProfile?e.stockProfile.default_entitlement:null;return t?{totalOrders:t.total_orders,availableCreditPackQuota:t.available_credit_pack_quota,totalQuotaAvailable:t.total_quota_available,totalDownloads:t.total_downloads,buyerStatus:t.buyer_status}:null}function f(){var e=Object(T.a)();return!!(e&&e.stockProfile&&e.stockProfile.cc_pro_status?e.stockProfile.cc_pro_status:{}).user_has_ccpro}function _(){var e=Object(T.a)();return!!(e&&e.stockProfile&&e.stockProfile.cc_pro_status?e.stockProfile.cc_pro_status:{}).organization_has_ccpro}function g(){var e=i(),t=e&&e.default_entitlement?e.default_entitlement.organization:null;return t?{buyingProgram:t.buying_program,contractId:t.contract_id,marketSegment:t.market_segment,orgGuid:t.guid}:null}n.d(t,"d",function(){return s}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return l}),n.d(t,"g",function(){return o}),n.d(t,"h",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"i",function(){return f}),n.d(t,"e",function(){return _}),n.d(t,"m",function(){return g});var E=n(120),v=n.n(E),b=n(8),T=n(43),y=n(26),C=n(32)}).call(this,n(30))},function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"j",function(){return r}),n.d(t,"i",function(){return l}),n.d(t,"d",function(){return o}),n.d(t,"h",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var a="stk.perf.dom_interactive",i="stk.perf.dom_complete",s="stk.perf.dom_loading",r="stk.perf.time_first_byte",l="stk.perf.load_event_end",o="stk.perf.dom_content_loaded_end",c="stk.perf.first_paint",u="stk.perf.first_contentful_paint",d="first-paint",p="first-contentful-paint"},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var a=n(1),i=n.n(a),s=n(109),r=n(6),l=n(60),o=n(61),c=n(31),u=n(50),d=new s.a,p=i()({},r,l,o,c,u)},function(e,t,n){"use strict";(function(e){function a(e){Object.keys(e).forEach(function(t){var n,a=e[t];null==(n=a)||""===n?delete e[t]:function(e){return"object"===g()(e)}(a)&&(e[t]=JSON.stringify(e[t]))})}function i(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date).toISOString()}function s(e,t){var n=e+t;return i(n=new Date(n))}function r(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}function l(t,n,l){var o=t.ANALYTICS_API_KEY,c=t.ANALYTICS_PROJECT,u=t.ANALYTICS_INGEST_TYPE,d=t.ENVIRONMENT,p=t.SOURCE_NAME,m=t.SOURCE_VERSION,_=t.SOURCE_PLATFORM,g=t.EVENT_CATEGORY;return l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.e;if(!Array.isArray(e))return t;for(var a=[],r=e.length,l=0;l<r;l+=1)a.push(e[l][v.EVENT_TIMESTAMP_PROPERTY]);for(var o=0;o<r;o+=1){var c=a[o],u=0===o?t:a[o-1];c-u<=n?(e[o][v.EVENT_TIMESTAMP_PROPERTY]=s(u,n),a[o]=u+n):e[o][v.EVENT_TIMESTAMP_PROPERTY]=i(new Date(c))}return t=a[r-1]}(n,l),{dunamisPayload:{events:n.map(function(t){var n,s=f()((n={},h()(n,v.EVENT_LOCALE,e.navigator?e.navigator.language:""),h()(n,v.EVENT_GUID_PROPERTY,r()),h()(n,v.EVENT_USER_AGENT_PROPERTY,e.navigator?e.navigator.userAgent:""),h()(n,v.EVENT_CATEGORY,g||b.EVENT_CATEGORY_DEFAULT),h()(n,T.SOURCE_CLIENT_ID,o),h()(n,T.SOURCE_NAME,p),h()(n,T.SOURCE_VERSION,m),h()(n,T.SOURCE_PLATFORM,_),n),t);return a(s),{project:c,ingesttype:u,environment:d,time:i(),data:s}})},lastRecordedTimestamp:l}}function o(e,t){t&&e.events&&e.events.length>0&&e.events.forEach(function(e){var n;e.data=f()({},e.data,(n={},h()(n,v.EVENT_VISITOR_GUID_PROPERTY,t),h()(n,v.EVENT_MCID_GUID_PROPERTY,t),n))})}function c(e,t){if(t&&Object.keys(t).length&&e.events&&e.events.length>0){var n=t.MCMID,a=t.MCAID;e.events.forEach(function(e){e.data=f()({},e.data,!n&&h()({},v.EVENT_VISITOR_GUID_PROPERTY,a),h()({},v.EVENT_MCID_GUID_PROPERTY,n))})}}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=f()({},t,h()({},v.EVENT_TIMESTAMP_PROPERTY,(new Date).getTime()));return n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()({},t,h()({},v.EVENT_URL_PROPERTY,e.location?e.location.href:""))}(n)}function d(e,t){var n=function(e,t){var n=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),a=new RegExp("[\\?&]".concat(n,"=([^&#]*)")).exec(e);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}(t,"context_guid"),a=E.a.get("cookie");return n&&a.set(y.a,n),f()(h()({},v.EVENT_CONTEXT_GUID,n),e)}n.d(t,"f",function(){return r}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n(106);var p=n(0),h=n.n(p),m=n(1),f=n.n(m),_=(n(104),n(82),n(33),n(27),n(29),n(49),n(87)),g=n.n(_),E=n(8),v=n(6),b=n(50),T=n(31),y=n(11)}).call(this,n(23))},function(e,t,n){var a=n(13);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var a=n(16),i=n(34),s=n(28),r=n(54)("src"),l=Function.toString,o=(""+l).split("toString");n(56).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,l){var c="function"==typeof n;c&&(s(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(s(n,r)||i(n,r,e[t]?""+e[t]:o.join(String(t)))),e===a?e[t]=n:l?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[r]||l.call(this)})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var a=n(21),i=n(92),s=n(94),r=Object.defineProperty;t.f=n(17)?Object.defineProperty:function(e,t,n){if(a(e),t=s(t,!0),a(n),i)try{return r(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";function a(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.c)===r.c?u:c;return s()({},l,o,e)}var i=n(1),s=n.n(i),r=n(11),l={ANALYTICS_INGEST_TYPE:"dunamis",ANALYTICS_BUFFER_SIZE:50,ANALYTICS_BUFFER_OVERFLOW_WATERMARK:.75,ANALYTICS_DEBOUNCE:1e4,ANALYTICS_API_KEY:null,ANALYTICS_PROJECT:null,ANALYTICS_REPORT_SUITE_ID:null,ANALYTICS_ORGANIZATION_ID:null,ANALYTICS_TRACKING_SERVER:"stats.adobe.com",ANALYTICS_TRACKING_SERVER_SECURE:"sstats.adobe.com",ANALYTICS_MARKETING_CLOUD_SERVER:"stats.adobe.com",ANALYTICS_MARKETING_CLOUD_SERVER_SECURE:"sstats.adobe.com",ENVIRONMENT:r.b,SOURCE_CLIENT_ID:null,SOURCE_NAME:null,SOURCE_VERSION:null,SOURCE_PLATFORM:null},o={ALLOW_NO_TOKEN:!0},c={ANALYTICS_INGEST_ENDPOINT:"https://cc-api-data.adobe.io",ENVIRONMENT:r.b},u={ANALYTICS_INGEST_ENDPOINT:"https://cc-api-data-stage.adobe.io",ENVIRONMENT:r.c};n.d(t,"a",function(){return a})},function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return o});var a="zombie",i="soli",s="isid",r="gabt",l="asui",o="ffuuid"},function(e,t,n){"use strict";var a=n(90),i=n(95),s=n(44),r=n(45);e.exports=n(69)(Array,"Array",function(e,t){this._t=r(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),s.Arguments=s.Array,a("keys"),a("values"),a("entries")},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var a=n(98),i={};i[n(10)("toStringTag")]="z",i+""!="[object z]"&&n(22)(Object.prototype,"toString",function(){return"[object "+a(this)+"]"},!0)},function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t),n.d(t,"SOURCE_CLIENT_ID",function(){return a}),n.d(t,"SOURCE_NAME",function(){return i}),n.d(t,"SOURCE_VERSION",function(){return s}),n.d(t,"SOURCE_PLATFORM",function(){return r});var a="source.client_id",i="source.name",s="source.version",r="source.platform"},function(e,t,n){"use strict";(function(e){function a(){var t=e("#js-page-config").text();return t&&t.length?JSON.parse(t):null}n.d(t,"a",function(){return a})}).call(this,n(30))},function(e,t,n){for(var a=n(27),i=n(48),s=n(22),r=n(16),l=n(34),o=n(44),c=n(10),u=c("iterator"),d=c("toStringTag"),p=o.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=i(h),f=0;f<m.length;f++){var _,g=m[f],E=h[g],v=r[g],b=v&&v.prototype;if(b&&(b[u]||l(b,u,p),b[d]||l(b,d,g),o[g]=p,E))for(_ in a)b[_]||s(b,_,a[_],!0)}},function(e,t,n){var a=n(24),i=n(67);e.exports=n(17)?function(e,t,n){return a.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var a=n(16),i=n(56),s=n(34),r=n(22),l=n(47),o=function(e,t,n){var c,u,d,p,h=e&o.F,m=e&o.G,f=e&o.S,_=e&o.P,g=e&o.B,E=m?a:f?a[t]||(a[t]={}):(a[t]||{}).prototype,v=m?i:i[t]||(i[t]={}),b=v.prototype||(v.prototype={});for(c in m&&(n=t),n)d=((u=!h&&E&&void 0!==E[c])?E:n)[c],p=g&&u?l(d,a):_&&"function"==typeof d?l(Function.call,d):d,E&&r(E,c,d,e&o.U),v[c]!=d&&s(v,c,p),_&&b[c]!=d&&(b[c]=d)};a.core=i,o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,e.exports=o},function(e,t,n){"use strict";function a(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.c)===r.b?l:o;return s()({},{ANALYTICS_PROJECT:"stock-web-service",ANALYTICS_ORGANIZATION_ID:"9E1005A551ED61CA0A490D45@AdobeOrg",SOURCE_NAME:"Stock",SOURCE_VERSION:"1.0",SOURCE_PLATFORM:"Web"},e)}var i=n(1),s=n.n(i),r=n(11),l={ANALYTICS_REPORT_SUITE_ID:"adbadobestock.prod.v2",ENVIRONMENT:r.b},o={ANALYTICS_REPORT_SUITE_ID:"adbadobestock.qa.v2",ENVIRONMENT:r.c};n.d(t,"a",function(){return c}),n.d(t,"b",function(){return a});var c="client.v1"},function(e,t,n){"use strict";(function(e){function a(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,i=function(e){if(!Object(u.c)(e))return{};var t=p.a.get(),n=t&&t.search&&t.search.items?t.search.items:[],a=t&&t.details&&t.details.selected&&t.details.selected===e?t.details:[];return n[e]||a[e]||{}}(a);if(e.isEmptyObject(i))return n;var s=c.b.CONTENT_ID_PROPERTY,l=c.b.CONTENT_NAME_PROPERTY,h=c.b.CONTENT_TYPE_PROPERTY,m=c.b.CONTENT_DIMENSION_PROPERTY,f=c.b.CONTENT_MIMETYPE_PROPERTY,_=c.b.CONTENT_EXTENSION_PROPERTY,g=c.b.CONTENT_AUTHOR_PROPERTY,E=c.b.CONTENT_CATEGORY_PROPERTY,v=i.author,b=i.title,T=i.content_original_width,y=i.content_original_height,C=i.content_type,S=i.format,I=i.premium_level_id,O=i.category,k="".concat(T,"x").concat(y),A=Object(u.b)(i);return o()((t={},r()(t,s,a),r()(t,l,b),r()(t,h,A),r()(t,m,k),r()(t,f,C),r()(t,_,S),r()(t,g,v),r()(t,E,O?O.name:void 0),r()(t,d.b,I),t),n)}function i(e){return a(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Object(u.a)(e))}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var s=n(0),r=n.n(s),l=(n(81),n(1)),o=n.n(l),c=(n(103),n(4)),u=n(65),d=n(39),p=n(41)}).call(this,n(30))},function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return d});var a=n(8),i=n(20),s=n(5),r=n(42),l=function(e,t){var n=[s.m.BROWSE,s.m.DRAG,s.m.HOVER_FIND_SIMILAR,s.m.DETAILS_FIND_SIMILAR,s.m.FSC_TILE_FIND_SIMILAR,s.m.PANEL_FSC_TILE_FIND_SIMILAR];return e===s.l&&-1!==n.indexOf(t)},o=function(e,t){var n=[s.h,s.g,s.j,s.f];return e===s.l&&-1===n.indexOf(t)},c=function(e,t,n){return e[r.a]===r.b&&t===s.l&&(n===s.g||n===s.k||n===s.i||n===s.e)},u=function(){a.a.get("cookie").set(s.c,Object(i.f)(),{path:"/"})},d=function(){return a.a.get("cookie").get(s.c)}},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return h});var a=n(1),i=n.n(a),s=(n(33),n(27),n(29),n(99),n(133),n(12)),r=n(63),l=s.a.EVENT_WORKFLOW_DATA_ATTRIBUTE,o=s.a.EVENT_SUBCATEGORY_DATA_ATTRIBUTE,c=s.a.CLICK_TYPE_DATA_ATTRIBUTE,u=s.a.CONTENT_ID_DATA_ATTRIBUTE,d="stk.content.premium_level",p=new Set([l,o,c,u]),h=i()({},s.a,r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return o});var a=n(6),i=n(38),s=n(5),r=n(42),l=function(e,t){return 0!==e.indexOf("".concat(t.protocol,"//").concat(t.host))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1,n=e[a.EVENT_TYPE_PROPERTY],l=e[a.EVENT_SUBTYPE_PROPERTY],o=!e[s.b],c=Object(i.c)(n,l);Object(i.b)(n,l)&&!c&&(t=!0),c&&o&&(t=!0),e[r.a]===r.b&&Object(i.e)(e,n,l)&&(t=!0),t&&Object(i.d)()}},function(e,t,n){"use strict";(function(e){var a=n(2),i=n.n(a),s=n(3),r=n.n(s),l=function(){function t(){i()(this,t)}return r()(t,[{key:"set",value:function(t){if(!e.isPlainObject(t))throw new Error("Passed in store is not an object.");this.store=t}},{key:"get",value:function(){return this.store&&"function"==typeof this.store.getState?this.store.getState():this.store}}]),t}();t.a=new l}).call(this,n(30))},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var a="asset_type",i="audio"},function(e,t,n){"use strict";function a(){var e=i.a.get();return e&&e.member?e.member:{}}n.d(t,"a",function(){return a});var i=n(41)},function(e,t){e.exports={}},function(e,t,n){var a=n(68),i=n(46);e.exports=function(e){return a(i(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var a=n(70);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,i){return e.call(t,n,a,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var a=n(96),i=n(75);e.exports=Object.keys||function(e){return a(e,i)}},function(e,t,n){var a=n(57),i=n(48);n(143)("keys",function(){return function(e){return i(a(e))}})},function(e,t,n){"use strict";n.r(t),n.d(t,"EVENT_CATEGORY_DEFAULT",function(){return a});var a="WEB"},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(2),i=n.n(a),s=n(3),r=n.n(s),l=n(7),o=function(){function e(t,n){if(i()(this,e),this.win=t,this.storageType=n,!this.isAvailable())throw new Error("".concat(n," is NOT available!"))}return r()(e,[{key:"isAvailable",value:function(){if(!this.win)return!1;var e=!1;try{this.win[this.storageType].setItem("key","value"),e="value"===this.win[this.storageType].getItem("key"),this.win[this.storageType].removeItem("key")}catch(e){}return e}},{key:"set",value:function(e,t){Object(l.a)(e),this.win[this.storageType].setItem(e,JSON.stringify(t))}},{key:"get",value:function(e){Object(l.a)(e);var t,n=this.win[this.storageType].getItem(e);if(!n)return null;try{t=JSON.parse(n)}catch(e){t=n}return t}},{key:"remove",value:function(e){Object(l.a)(e),this.win[this.storageType].removeItem(e)}}]),e}()},function(e,t,n){"use strict";(function(e){function a(){var e=Object(h.a)();return e&&e.default_country_code}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c()({},e,l()({},p.EVENT_BUILD_PROPERTY,d.a))}function s(){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a="landing"===e[p.EVENT_TYPE_PROPERTY]||!1,i=function(e){var t=e;if(e){if(-1!==e.indexOf("ims/jump/")){var n=e.split("ims/jump/")[0];t="".concat(n).concat("ims/jump/","masked")}}else t="";return t}(t),s=Object(u.a)(t,n),r=e;return a&&i&&s&&(r[p.EVENT_REFERRER]=i),r}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e.document.referrer,e.location);return t=i(t)}n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n(0),l=n.n(r),o=n(1),c=n.n(o),u=(n(84),n(40)),d=n(36),p=n(6),h=n(32)}).call(this,n(23))},function(e,t,n){"use strict";(function(e){var a=n(2),i=n.n(a),s=n(3),r=n.n(s),l=function(){function t(){i()(this,t)}return r()(t,[{key:"init",value:function(e){var t=e.ANALYTICS_REPORT_SUITE_ID,n=e.ANALYTICS_ORGANIZATION_ID,a=e.ANALYTICS_TRACKING_SERVER,i=e.ANALYTICS_TRACKING_SERVER_SECURE,s=e.ANALYTICS_MARKETING_CLOUD_SERVER,r=e.ANALYTICS_MARKETING_CLOUD_SERVER_SECURE;this.orgId=n,this.rsid=t,this.serverConfig={trackingServer:a,trackingServerSecure:i,marketingCloudServer:s,marketingCloudServerSecure:r}}},{key:"getVisitorInstance",value:function(){return e.Visitor?e.Visitor.getInstance(this.orgId,this.serverConfig):null}},{key:"isVisitorTrackingEnabled",value:function(){return!!this.getVisitorInstance()}},{key:"getVisitorId",value:function(e){var t=this.getVisitorInstance();return t?t.getMarketingCloudVisitorID(e):""}},{key:"getVisitorFields",value:function(e){var t=this.getVisitorInstance();return t?t.getVisitorValues(e,[t.FIELDS.MCMID,t.FIELDS.MCAID]):{}}}]),t}();t.a=new l}).call(this,n(23))},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){var a=n(46);e.exports=function(e){return Object(a(e))}},function(e,t,n){var a=n(54)("meta"),i=n(13),s=n(28),r=n(24).f,l=0,o=Object.isExtensible||function(){return!0},c=!n(18)(function(){return o(Object.preventExtensions({}))}),u=function(e){r(e,a,{value:{i:"O"+ ++l,w:{}}})},d=e.exports={KEY:a,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,a)){if(!o(e))return"F";if(!t)return"E";u(e)}return e[a].i},getWeak:function(e,t){if(!s(e,a)){if(!o(e))return!0;if(!t)return!1;u(e)}return e[a].w},onFreeze:function(e){return c&&d.NEED&&o(e)&&!s(e,a)&&u(e),e}}},function(e,t,n){var a=n(13);e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"CONTENT_ID_PROPERTY",function(){return a}),n.d(t,"CONTENT_NAME_PROPERTY",function(){return i}),n.d(t,"CONTENT_TYPE_PROPERTY",function(){return s}),n.d(t,"CONTENT_STATUS_PROPERTY",function(){return r}),n.d(t,"CONTENT_DIMENSION_PROPERTY",function(){return l}),n.d(t,"CONTENT_SIZE_PROPERTY",function(){return o}),n.d(t,"CONTENT_MIMETYPE_PROPERTY",function(){return c}),n.d(t,"CONTENT_EXTENSION_PROPERTY",function(){return u}),n.d(t,"CONTENT_AUTHOR_PROPERTY",function(){return d}),n.d(t,"CONTENT_CATEGORY_PROPERTY",function(){return p});var a="content.id",i="content.name",s="content.type",r="content.status",l="content.dimension",o="content.size",c="content.mimetype",u="content.extension",d="content.author",p="content.category"},function(e,t,n){"use strict";n.r(t),n.d(t,"USER_SERVICE_CODE",function(){return a}),n.d(t,"USER_SERVICE_LEVEL",function(){return i});var a="user.service_code",i="user.service_level"},function(e,t,n){"use strict";n.r(t);var a=n(60);n.d(t,"CONTENT_ID_PROPERTY",function(){return a.CONTENT_ID_PROPERTY}),n.d(t,"CONTENT_NAME_PROPERTY",function(){return a.CONTENT_NAME_PROPERTY}),n.d(t,"CONTENT_TYPE_PROPERTY",function(){return a.CONTENT_TYPE_PROPERTY}),n.d(t,"CONTENT_STATUS_PROPERTY",function(){return a.CONTENT_STATUS_PROPERTY}),n.d(t,"CONTENT_DIMENSION_PROPERTY",function(){return a.CONTENT_DIMENSION_PROPERTY}),n.d(t,"CONTENT_SIZE_PROPERTY",function(){return a.CONTENT_SIZE_PROPERTY}),n.d(t,"CONTENT_MIMETYPE_PROPERTY",function(){return a.CONTENT_MIMETYPE_PROPERTY}),n.d(t,"CONTENT_EXTENSION_PROPERTY",function(){return a.CONTENT_EXTENSION_PROPERTY}),n.d(t,"CONTENT_AUTHOR_PROPERTY",function(){return a.CONTENT_AUTHOR_PROPERTY}),n.d(t,"CONTENT_CATEGORY_PROPERTY",function(){return a.CONTENT_CATEGORY_PROPERTY});var i=n(6);n.d(t,"EVENT_CATEGORY_PROPERTY",function(){return i.EVENT_CATEGORY_PROPERTY}),n.d(t,"EVENT_SUBCATEGORY_PROPERTY",function(){return i.EVENT_SUBCATEGORY_PROPERTY}),n.d(t,"EVENT_TYPE_PROPERTY",function(){return i.EVENT_TYPE_PROPERTY}),n.d(t,"EVENT_SUBTYPE_PROPERTY",function(){return i.EVENT_SUBTYPE_PROPERTY}),n.d(t,"EVENT_WORKFLOW_PROPERTY",function(){return i.EVENT_WORKFLOW_PROPERTY}),n.d(t,"EVENT_TIMESTAMP_PROPERTY",function(){return i.EVENT_TIMESTAMP_PROPERTY}),n.d(t,"EVENT_USER_GUID_PROPERTY",function(){return i.EVENT_USER_GUID_PROPERTY}),n.d(t,"EVENT_GUID_PROPERTY",function(){return i.EVENT_GUID_PROPERTY}),n.d(t,"EVENT_USER_AGENT_PROPERTY",function(){return i.EVENT_USER_AGENT_PROPERTY}),n.d(t,"EVENT_URL_PROPERTY",function(){return i.EVENT_URL_PROPERTY}),n.d(t,"EVENT_VISITOR_GUID_PROPERTY",function(){return i.EVENT_VISITOR_GUID_PROPERTY}),n.d(t,"EVENT_MCID_GUID_PROPERTY",function(){return i.EVENT_MCID_GUID_PROPERTY}),n.d(t,"EVENT_LOCALE",function(){return i.EVENT_LOCALE}),n.d(t,"EVENT_CATEGORY",function(){return i.EVENT_CATEGORY}),n.d(t,"EVENT_SESSION_ID_PROPERTY",function(){return i.EVENT_SESSION_ID_PROPERTY}),n.d(t,"EVENT_BUILD_PROPERTY",function(){return i.EVENT_BUILD_PROPERTY}),n.d(t,"EVENT_CONTEXT_GUID",function(){return i.EVENT_CONTEXT_GUID}),n.d(t,"EVENT_REFERRER",function(){return i.EVENT_REFERRER});var s=n(31);n.d(t,"SOURCE_CLIENT_ID",function(){return s.SOURCE_CLIENT_ID}),n.d(t,"SOURCE_NAME",function(){return s.SOURCE_NAME}),n.d(t,"SOURCE_VERSION",function(){return s.SOURCE_VERSION}),n.d(t,"SOURCE_PLATFORM",function(){return s.SOURCE_PLATFORM});var r=n(61);n.d(t,"USER_SERVICE_CODE",function(){return r.USER_SERVICE_CODE}),n.d(t,"USER_SERVICE_LEVEL",function(){return r.USER_SERVICE_LEVEL});var l=n(50);n.d(t,"EVENT_CATEGORY_DEFAULT",function(){return l.EVENT_CATEGORY_DEFAULT})},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var a="last_selected_asset_type",i={SELECTED_ASSET_TYPE_COOKIE:a}},function(e,t,n){var a,i;!function(s){if(void 0===(i="function"==typeof(a=s)?a.call(t,n,t,e):a)||(e.exports=i),e.exports=s(),!1){var r=window.Cookies,l=window.Cookies=s();l.noConflict=function(){return window.Cookies=r,l}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(a){function i(){}function s(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(e){}n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var l="";for(var o in s)s[o]&&(l+="; "+o,!0!==s[o]&&(l+="="+s[o].split(";")[0]));return document.cookie=t+"="+n+l}}function r(e,n){if("undefined"!=typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],r=0;r<s.length;r++){var l=s[r].split("="),o=l.slice(1).join("=");n||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var c=t(l[0]);if(o=(a.read||a)(o,c)||t(o),n)try{o=JSON.parse(o)}catch(e){}if(i[c]=o,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=s,i.get=function(e){return r(e,!1)},i.getJSON=function(e){return r(e,!0)},i.remove=function(t,n){s(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})})},function(e,t,n){"use strict";function a(e){return!!new RegExp("^0*[1-9]([0-9]){".concat(5,",}$")).test(e)}function i(e){return Object(l.d)(e,r.c)}function s(e){return e.is_editorial&&!e.is_video?"Editorial-Image":e.is_illustrative?"Illustrative-Editorial":e.asset_type}n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n(106);var r=n(12),l=n(9)},function(e,t,n){"use strict";var a=n(2),i=n.n(a),s=n(3),r=n.n(s),l=function(){function e(t){i()(this,e),this._events={},this._win=t}return r()(e,[{key:"isPerformanceEnabled",value:function(){if(!this._win)return!1;var e=this._win.performance.timing.navigationStart,t=this._win.performance.getEntriesByType;return!!e&&!!t}},{key:"getWindowPerformanceTiming",value:function(){return this._win?this._win.performance.timing:null}},{
key:"getWindowEntriesByType",value:function(){return this._win?this._win.performance.getEntriesByType("paint"):null}},{key:"getBrowserDimensions",value:function(){return this._win?{width:this._win.innerWidth,height:this._win.innerHeight}:null}}]),e}(),o="undefined"!=typeof window?window:null;t.a=new l(o)},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var a=n(55);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var a=n(126),i=n(35),s=n(22),r=n(34),l=n(28),o=n(44),c=n(127),u=n(76),d=n(131),p=n(10)("iterator"),h=!([].keys&&"next"in[].keys()),m=function(){return this};e.exports=function(e,t,n,f,_,g,E){c(n,t,f);var v,b,T,y=function(e){if(!h&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",S="values"==_,I=!1,O=e.prototype,k=O[p]||O["@@iterator"]||_&&O[_],A=!h&&k||y(_),R=_?S?y("entries"):A:void 0,x="Array"==t&&O.entries||k;if(x&&(T=d(x.call(new e)))!==Object.prototype&&T.next&&(u(T,C,!0),a||l(T,p)||r(T,p,m)),S&&k&&"values"!==k.name&&(I=!0,A=function(){return k.call(this)}),a&&!E||!h&&!I&&O[p]||r(O,p,A),o[t]=A,o[C]=m,_)if(v={values:S?A:y("values"),keys:g?A:y("keys"),entries:R},E)for(b in v)b in O||s(O,b,v[b]);else i(i.P+i.F*(h||I),t,v);return v}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var a=n(21),i=n(128),s=n(75),r=n(74)("IE_PROTO"),l=function(){},o=function(){var e,t=n(93)("iframe"),a=s.length;for(t.style.display="none",n(130).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),o=e.F;a--;)delete o.prototype[s[a]];return o()};e.exports=Object.create||function(e,t){var n;return null!==e?(l.prototype=a(e),n=new l,l.prototype=null,n[r]=e):n=o(),void 0===t?n:i(n,t)}},function(e,t,n){var a=n(73),i=Math.min;e.exports=function(e){return e>0?i(a(e),9007199254740991):0}},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a=n(91)("keys"),i=n(54);e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var a=n(24).f,i=n(28),s=n(10)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&a(e,s,{configurable:!0,value:t})}},function(e,t,n){var a=n(22);e.exports=function(e,t,n){for(var i in t)a(e,i,t[i],n);return e}},function(e,t){e.exports=function(e,t,n,a){if(!(e instanceof t)||void 0!==a&&a in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var a=n(47),i=n(135),s=n(136),r=n(21),l=n(72),o=n(137),c={},u={};(t=e.exports=function(e,t,n,d,p){var h,m,f,_,g=p?function(){return e}:o(e),E=a(n,d,t?2:1),v=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(s(g)){for(h=l(e.length);h>v;v++)if((_=t?E(r(m=e[v])[0],m[1]):E(e[v]))===c||_===u)return _}else for(f=g.call(e);!(m=f.next()).done;)if((_=i(f,E,m.value,t))===c||_===u)return _}).BREAK=c,t.RETURN=u},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var a=n(24).f,i=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in i||n(17)&&a(i,"name",{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},function(e,t,n){n(83)("replace",2,function(e,t,n){return[function(a,i){"use strict";var s=e(this),r=null==a?void 0:a[t];return void 0!==r?r.call(a,s,i):n.call(String(s),a,i)},n]})},function(e,t,n){"use strict";var a=n(34),i=n(22),s=n(18),r=n(46),l=n(10);e.exports=function(e,t,n){var o=l(e),c=n(r,o,""[e]),u=c[0],d=c[1];s(function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,u),a(RegExp.prototype,o,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){n(83)("split",2,function(e,t,a){"use strict";var i=n(85),s=a,r=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var l=void 0===/()??/.exec("")[1];a=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return s.call(n,e,t);var a,o,c,u,d,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,f=void 0===t?4294967295:t>>>0,_=new RegExp(e.source,h+"g");for(l||(a=new RegExp("^"+_.source+"$(?!\\s)",h));(o=_.exec(n))&&!((c=o.index+o[0].length)>m&&(p.push(n.slice(m,o.index)),!l&&o.length>1&&o[0].replace(a,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(o[d]=void 0)}),o.length>1&&o.index<n.length&&r.apply(p,o.slice(1)),u=o[0].length,m=c,p.length>=f));)_.lastIndex===o.index&&_.lastIndex++;return m===n.length?!u&&_.test("")||p.push(""):p.push(n.slice(m)),p.length>f?p.slice(0,f):p}}else"0".split(void 0,0).length&&(a=function(e,t){return void 0===e&&0===t?[]:s.call(this,e,t)});return[function(n,i){var s=e(this),r=null==n?void 0:n[t];return void 0!==r?r.call(n,s,i):a.call(String(s),n,i)},a]})},function(e,t,n){var a=n(13),i=n(55),s=n(10)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var a=n(21);e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=a=function(e){return n(e)}:e.exports=a=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},a(t)}e.exports=a},function(e,t,n){"use strict";function a(e){return function(){var t,n=m()(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=m()(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return p()(this,t)}}function i(e,t){return"".concat(e,"_").concat(t.toString())}n(149);var s=n(2),r=n.n(s),l=n(3),o=n.n(l),c=n(112),u=n.n(c),d=n(113),p=n.n(d),h=n(89),m=n.n(h),f=(n(104),n(29),n(51)),_=n(7),g=function(e){function t(e,a){var i;return r()(this,t),(i=n.call(this,e,a)).slotCountKey="_slot_count",i}u()(t,e);var n=a(t);return o()(t,[{key:"push",value:function(e,t){Object(_.a)(e);var n=this.get(this.getSlotCountKey(e))||0,a=i(e,n+1);this.set(a,JSON.stringify(t)),this.setSlotCount(e,n+1)}},{key:"fetchAll",value:function(e){Object(_.a)(e);for(var t=[],n=this.get(this.getSlotCountKey(e),0),a=1;a<=n;a+=1){var s=i(e,a),r=this.get(s,"");t.push(JSON.parse(r))}return t}},{key:"flushAll",value:function(e){Object(_.a)(e);for(var t=this.getSlotCountKey(e),n=this.get(t,0);n>0;n-=1){var a=i(e,n);this.remove(a)}this.remove(t)}},{key:"getSlotCountKey",value:function(e){return e+this.slotCountKey}},{key:"setSlotCount",value:function(e,t){var n=this.getSlotCountKey(e);this.set(n,t)}},{key:"getCount",value:function(e){Object(_.a)(e);var t=this.getSlotCountKey(e),n=this.get(t)||"0";return parseInt(n,10)}}]),t}(f.a);t.a=g},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var a=n(10)("unscopables"),i=Array.prototype;null==i[a]&&n(34)(i,a,{}),e.exports=function(e){i[a][e]=!0}},function(e,t,n){var a=n(16),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){e.exports=!n(17)&&!n(18)(function(){return 7!=Object.defineProperty(n(93)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var a=n(13),i=n(16).document,s=a(i)&&a(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},function(e,t,n){var a=n(13);e.exports=function(e,t){if(!a(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!a(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var a=n(28),i=n(45),s=n(97)(!1),r=n(74)("IE_PROTO");e.exports=function(e,t){var n,l=i(e),o=0,c=[];for(n in l)n!=r&&a(l,n)&&c.push(n);for(;t.length>o;)a(l,n=t[o++])&&(~s(c,n)||c.push(n));return c}},function(e,t,n){var a=n(45),i=n(72),s=n(129);e.exports=function(e){return function(t,n,r){var l,o=a(t),c=i(o.length),u=s(r,c);if(e&&n!=n){for(;c>u;)if((l=o[u++])!=l)return!0}else for(;c>u;u++)if((e||u in o)&&o[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var a=n(55),i=n(10)("toStringTag"),s="Arguments"==a(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:s?a(t):"Object"==(r=a(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";var a=n(132)(!0);n(69)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=a(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var a=n(16),i=n(24),s=n(17),r=n(10)("species");e.exports=function(e){var t=a[e];s&&t&&!t[r]&&i.f(t,r,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var a=n(16),i=n(35),s=n(22),r=n(77),l=n(58),o=n(79),c=n(78),u=n(13),d=n(18),p=n(138),h=n(76),m=n(102);e.exports=function(e,t,n,f,_,g){var E=a[e],v=E,b=_?"set":"add",T=v&&v.prototype,y={},C=function(e){var t=T[e];s(T,e,"delete"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof v&&(g||T.forEach&&!d(function(){(new v).entries().next()}))){var S=new v,I=S[b](g?{}:-0,1)!=S,O=d(function(){S.has(1)}),k=p(function(e){new v(e)}),A=!g&&d(function(){for(var e=new v,t=5;t--;)e[b](t,t);return!e.has(-0)});k||((v=t(function(t,n){c(t,v,e);var a=m(new E,t,v);return null!=n&&o(n,_,a[b],a),a})).prototype=T,T.constructor=v),(O||A)&&(C("delete"),C("has"),_&&C("get")),(A||I)&&C(b),g&&T.clear&&delete T.clear}else v=f.getConstructor(t,e,_,b),r(v.prototype,n),l.NEED=!0;return h(v,e),y[e]=v,i(i.G+i.W+i.F*(v!=E),y),g||f.setStrong(v,e,_),v}},function(e,t,n){var a=n(13),i=n(139).set;e.exports=function(e,t,n){var s,r=t.constructor;return r!==n&&"function"==typeof r&&(s=r.prototype)!==n.prototype&&a(s)&&i&&i(e,s),e}},function(e,t,n){n(83)("search",1,function(e,t,n){return[function(n){"use strict";var a=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,a):new RegExp(n)[t](String(a))},n]})},function(e,t,n){"use strict";n(154);var a=n(21),i=n(86),s=n(17),r=/./.toString,l=function(e){n(22)(RegExp.prototype,"toString",e,!0)};n(18)(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?l(function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!s&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=r.name&&l(function(){return r.call(this)})},function(e,t,n){var a=n(47),i=n(68),s=n(57),r=n(72),l=n(156);e.exports=function(e,t){var n=1==e,o=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,h=t||l;return function(t,l,m){for(var f,_,g=s(t),E=i(g),v=a(l,m,3),b=r(E.length),T=0,y=n?h(t,b):o?h(t,0):void 0;b>T;T++)if((p||T in E)&&(_=v(f=E[T],T,g),e))if(n)y[T]=_;else if(_)switch(e){case 3:return!0;case 5:return f;case 6:return T;case 2:y.push(f)}else if(u)return!1;return d?-1:c||u?u:y}}},function(e,t,n){var a=n(16),i=n(102),s=n(24).f,r=n(162).f,l=n(85),o=n(86),c=a.RegExp,u=c,d=c.prototype,p=/a/g,h=/a/g,m=new c(p)!==p;if(n(17)&&(!m||n(18)(function(){return h[n(10)("match")]=!1,c(p)!=p||c(h)==h||"/a/i"!=c(p,"i")}))){c=function(e,t){var n=this instanceof c,a=l(e),s=void 0===t;return!n&&a&&e.constructor===c&&s?e:i(m?new u(a&&!s?e.source:e,t):u((a=e instanceof c)?e.source:e,a&&s?o.call(e):t),n?this:d,c)};for(var f=r(u),_=0;f.length>_;)!function(e){e in c||s(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})}(f[_++]);d.constructor=c,c.prototype=d,n(22)(a,"RegExp",c)}n(100)("RegExp")},function(e,t,n){"use strict";(function(e,a){n.d(t,"a",function(){return y});var i=n(0),s=n.n(i),r=n(1),l=n.n(r),o=n(2),c=n.n(o),u=n(3),d=n.n(u),p=n(4),h=n(40),m=n(108),f=n(118),_=n(41),g=n(37),E=n(9),v=n(52),b=n(122),T=n(121),y=function(){function t(){c()(this,t),this.requiredConfig=["ANALYTICS_API_KEY"],this.initialized=!1}return d()(t,[{key:"validateConfig",value:function(e){this.requiredConfig.forEach(function(t){if(!(e&&t in e))throw new Error("Missing required config: ".concat(t,"!"))})}},{key:"init",value:function(t){if(this.initialized)throw new Error("Already initialized!");this.validateConfig(t);var n=t;n.ingestResolvers=b.a,p.a.init(l()({},n,{visitorFieldsEnabled:Object(T.a)("isDunamisBackfillAttributionEnabled")})),this.installHandlers(),this.initialized=!0,Object(h.a)(e.document.referrer,e.location)&&this.fireLandingEvent()}},{key:"withRedux",value:function(e){_.a.set(e)}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(!a.isEmptyObject(e)&&this.initialized){var i=Object(v.b)(e),s=p.b.CONTENT_ID_PROPERTY;s in e?i=Object(g.b)(i,e[s]):t&&(i=Object(g.a)(t,i)),t&&(i=Object(E.c)(t,i),i=Object(E.b)(t,i),i=Object(E.a)(t,i)),p.a.track(i,n)}}catch(e){}}},{key:"installHandlers",value:function(){var e=this;m.a.install(function(t){return e.track(t)}),f.a.install(function(t){return e.track(t,null,!0)})}},{key:"fireLandingEvent",value:function(){try{var t,n=p.b.EVENT_TYPE_PROPERTY,i=p.b.EVENT_SUBTYPE_PROPERTY,r=a(e.document.body),l=(t={},s()(t,n,"landing"),s()(t,i,"page-landing"),t);l=Object(v.a)(l),this.track(l,r,!0)}catch(t){e.newrelic&&e.newrelic.noticeError(t)}}}]),t}()}).call(this,n(23),n(30))},function(e,t,n){"use strict";(function(e,a){n.d(t,"a",function(){return u});var i=n(0),s=n.n(i),r=n(4),l=n(12),o=n(9),c=n(37),u={listener:null,install:function(t){this.listener=t,e.document.addEventListener("click",this.handler.bind(this),!0)},getClickType:function(e){var t=Object(o.d)(e,l.b);return Object(o.f)(e)&&t&&(e.is(":checked")?t+="-checked":t+="-unchecked"),t},handler:function(t){var n=r.b.EVENT_TYPE_PROPERTY,i=r.b.EVENT_SUBTYPE_PROPERTY,l=a(t.target);try{var u=this.getClickType(l);if(u){var d,p=(d={},s()(d,n,"click"),s()(d,i,u),d);p=Object(o.b)(l,p),p=Object(o.c)(l,p),p=Object(c.a)(l,p),p=Object(o.a)(l,p),this.listener(p)}}catch(t){e.newrelic&&e.newrelic.noticeError(t)}}}}).call(this,n(23),n(30))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return E}),n(33),n(27),n(29),n(49);var a=n(1),i=n.n(a),s=n(110),r=n.n(s),l=n(2),o=n.n(l),c=n(3),u=n.n(c),d=n(8),p=n(11),h=n(25),m=n(20),f=n(117),_=n(116),g=n(53),E=function(){function t(){o()(this,t),this.config={},this.storageKey="ingest_event",this.dunamisAPIHandle=null,this.timeoutHandle=0,this.dispatchSemaphore=1,this.lastRecordedTimestamp=-1*p.e}return u()(t,[{key:"init",value:function(e){try{this.storage=d.a.get("localOrdered")}catch(e){this.storage=null}var t=e.ENVIRONMENT,n=e.visitorFieldsEnabled,a=r()(e,["ENVIRONMENT","visitorFieldsEnabled"]),s=Object(h.a)(t);this.config=i()({},s,a,{visitorFieldsEnabled:n});var l=this.config,o=l.ANALYTICS_API_KEY,c=l.ANALYTICS_INGEST_ENDPOINT,u=l.ANALYTICS_TOKEN;g.a.init(this.config),this.dunamisAPIHandle=new _.a({apiKey:o,host:c,token:u}),Object(f.a)(),this.bufferOverflowThreshold=this.getBufferOverflowThreshold(),this.storage&&(this.dispatchIfOverflow(),this.triggerDispatchTimer())}},{key:"track",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var a=Object(m.c)(t);if(a=Object(m.b)(a,e.location.href),this.storage){var i=this.config.ANALYTICS_BUFFER_SIZE;this.storage.getCount(this.storageKey)<i&&this.storage.push(this.storageKey,a),n?this.dispatchImmediately():(this.dispatchIfOverflow(),this.triggerDispatchTimer())}else{var s=[a];this.dispatchImmediately(s)}}catch(e){}}},{key:"triggerDispatchTimer",value:function(){var e=this,t=this.config.ANALYTICS_DEBOUNCE;this.timeoutHandle||(this.timeoutHandle=setTimeout(function(){e.scheduleDispatch(),e.timeoutHandle=0},t))}},{key:"dispatchIfOverflow",value:function(){this.storage.getCount(this.storageKey)>=this.bufferOverflowThreshold&&this.scheduleDispatch()}},{key:"dispatchImmediately",value:function(e){var t=!e&&this.storage,n=t?this.storage.fetchAll(this.storageKey):e;if(n&&n.length){t&&this.storage.flushAll(this.storageKey);var a=Object(m.a)(this.config,n,this.lastRecordedTimestamp),i=a.dunamisPayload,s=a.lastRecordedTimestamp;this.lastRecordedTimestamp=s,this.dispatchImmediatelyWithVisitorId(i)}else this.signal()}},{key:"dispatchImmediatelyWithVisitorId",value:function(e){var t=this,n=e;if(g.a.isVisitorTrackingEnabled())if(this.config.visitorFieldsEnabled){var a=g.a.getVisitorFields(function(e){Object(m.d)(n,e),t.dunamisAPIHandle.logEvent({body:n},function(){})});a&&Object.keys(a).length&&(Object(m.d)(n,a),this.dunamisAPIHandle.logEvent({body:n},function(){}))}else{var i=g.a.getVisitorId(function(e){Object(m.e)(n,e),t.dunamisAPIHandle.logEvent({body:n},function(){})});i&&(Object(m.e)(n,i),this.dunamisAPIHandle.logEvent({body:n},function(){}))}else this.dunamisAPIHandle.logEvent({body:n},function(){});this.signal()}},{key:"scheduleDispatch",value:function(){if(this.wait()){var t=this.config.ANALYTICS_DEBOUNCE;e.requestIdleCallback(this.processScheduledEvents.bind(this),{timeout:t})}}},{key:"processScheduledEvents",value:function(e){e.timeRemaining()>0||e.didTimeout?this.dispatchImmediately():(this.signal(),this.scheduleDispatch())}},{key:"wait",value:function(){return!!this.dispatchSemaphore&&(this.dispatchSemaphore=0,!0)}},{key:"signal",value:function(){this.dispatchSemaphore=1}},{key:"getBufferOverflowThreshold",value:function(){var e=this.config,t=e.ANALYTICS_BUFFER_SIZE,n=e.ANALYTICS_BUFFER_OVERFLOW_WATERMARK;return Math.floor(t*n)}},{key:"flush",value:function(){this.wait()&&this.dispatchImmediately()}}]),t}()}).call(this,n(23))},function(e,t,n){var a=n(148);e.exports=function(e,t){if(null==e)return{};var n,i,s=a(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(2),i=n.n(a),s=n(3),r=n.n(s),l=n(7),o=function(){function e(t,n){if(i()(this,e),this.win=t,this.storageType=n,!this.isAvailable())throw new Error("".concat(n," is NOT available!"))}return r()(e,[{key:"isAvailable",value:function(){if(!this.win)return!1;var e=!1;try{this.win[this.storageType].setItem("key","value"),e="value"===this.win[this.storageType].getItem("key"),this.win[this.storageType].removeItem("key")}catch(t){e=!1}return e}},{key:"set",value:function(e,t){Object(l.a)(e),this.win[this.storageType].setItem(e,t)}},{key:"get",value:function(e){return Object(l.a)(e),this.win[this.storageType].getItem(e)}},{key:"remove",value:function(e){Object(l.a)(e),this.win[this.storageType].removeItem(e)}}]),e}()},function(e,t,n){var a=n(152);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},function(e,t,n){var a=n(87),i=n(153);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(2),i=n.n(a),s=n(3),r=n.n(s),l=n(64),o=n.n(l),c=n(7),u=function(){function e(){i()(this,e)}return r()(e,null,[{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(c.a)(e),o.a.set(e,t,n)}},{key:"get",value:function(e){return Object(c.a)(e),o.a.get(e)||null}},{key:"remove",value:function(e){Object(c.a)(e),o.a.remove(e)}}]),e}()},function(e,t,n){"use strict";var a=n(7),i={storage:Object.create(null),set:function(e,t){Object(a.a)(e),this.storage[e]=JSON.stringify(t)},get:function(e){Object(a.a)(e);var t=this.storage[e];return t?JSON.parse(t):null},remove:function(e){Object(a.a)(e),delete this.storage[e]}};t.a=i},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return d});var a=n(1),i=n.n(a),s=(n(49),n(2)),r=n.n(s),l=n(3),o=n.n(l),c=(n(33),n(27),n(29),n(99),n(155),n(11)),u=new WeakMap,d=function(){function t(e){r()(this,t);var n=e.apiKey,a=e.host,i=e.token;if(this.apiKey=n,this.host=a,u.set(this,i),!n||!a)throw new Error("Configuration parameters missing for instantiation")}return o()(t,[{key:"dunamisApiCall",value:function(t,n){var a=new e.XMLHttpRequest;return this.makeDunamisCall(a,t,n)}},{key:"makeDunamisCall",value:function(t,n,a){var i="".concat(this.host).concat(c.d),s=[200,201],r={status:1},l={status:0};if(!n||!n.body||!n.headers)return!1;var o=n.headers,u=n.body.events;return!(!u||void 0===u||0===u.length||(t.open("POST",i,!0),t.onreadystatechange=function(){t.readyState===e.XMLHttpRequest.DONE&&(-1!==s.indexOf(t.status)?a(null,r):a(new Error("Request failed with status: ".concat(t.status)),l))},t.onerror=function(){a(new Error("Request failed"),l)},Object.keys(o).forEach(function(e){return t.setRequestHeader(e,o[e])}),t.send(JSON.stringify(n.body)),0))}},{key:"logEvent",value:function(e,t){return this.setHeaders(e),this.dunamisApiCall(e,t)}},{key:"setHeaders",value:function(e){var t={"Content-Type":"application/json","x-api-key":this.apiKey},n=u.get(this);n&&(t.Authorization="Bearer ".concat(n)),e.headers=i()({},e.headers,t)}}]),t}()}).call(this,n(23))},function(e,t,n){"use strict";(function(e){function a(){e.requestIdleCallback=e.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},e.cancelIdleCallback=e.cancelIdleCallback||function(e){clearTimeout(e)}}n.d(t,"a",function(){return a})}).call(this,n(23))},function(e,t,n){"use strict";(function(e,a){n.d(t,"a",function(){return u});var i=n(0),s=n.n(i),r=n(4),l=n(9),o=n(37),c=n(119),u={listener:null,install:function(t){this.listener=t,e.addEventListener("load",this.handler.bind(this),!0)},handler:function(){var t=r.b.EVENT_TYPE_PROPERTY,n=r.b.EVENT_SUBTYPE_PROPERTY,i=a(e.document.body);try{var u,d=(u={},s()(u,t,"visit"),s()(u,n,"page-view"),u);d=Object(l.b)(i,d),d=Object(l.c)(i,d),d=Object(o.a)(i,d),d=Object(c.a)(d),this.listener(d)}catch(t){e.newrelic&&e.newrelic.noticeError(t)}}}}).call(this,n(23),n(30))},function(e,t,n){"use strict";(function(e){function a(){var t,n,a,i,r,u,d,p,h,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=l()({},m);return c.a.isPerformanceEnabled()&&(n=(t=c.a.getWindowPerformanceTiming()).navigationStart,t.domInteractive&&(a=t.domInteractive-n),t.domComplete&&(i=t.domComplete-n),t.domLoading&&(r=t.domLoading-n),t.responseStart&&(u=t.responseStart-n),t.loadEventEnd&&(d=t.loadEventEnd-n),t.domContentLoadedEventEnd&&(p=t.domContentLoadedEventEnd-n),f=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=c.a.getWindowEntriesByType(),i=null,r=null;return e.isEmptyObject(a)||a.forEach(function(e){e.name===o.b?i=Math.round(e.startTime):e.name===o.a&&(r=Math.round(e.startTime))}),l()({},n,(t={},s()(t,o.h,i),s()(t,o.g,r),t))}(f=l()({},m,(h={},s()(h,o.e,a),s()(h,o.c,i),s()(h,o.f,r),s()(h,o.j,u),s()(h,o.i,d),s()(h,o.d,p),h)))),f}n.d(t,"a",function(){return a});var i=n(0),s=n.n(i),r=n(1),l=n.n(r),o=(n(81),n(15)),c=n(66)}).call(this,n(30))},function(e,t,n){var a=n(163),i=n(164),s=n(165);e.exports=function(e,t){return a(e)||i(e,t)||s()}},function(e,t,n){"use strict";function a(e){var t=Object(i.a)();return!!(e&&t&&t[e])&&t[e]}n.d(t,"a",function(){return a});var i=n(32)},function(e,t,n){"use strict";var a=n(9),i=n(8),s=n(63),r=n(52),l=n(14),o=(n(82),n(84),n(26)),c={getABTests:function(){var e=i.a.get("cookie").get(o.a)||void 0;return(e=function(e){var t=e;try{(t=t.split(",")).pop(),t=t.join().replace(/,/g,"|")}catch(e){t=null}return t}(e))||null},getAdobeStockUniqueIdentifier:function(){return i.a.get("cookie").get(o.b)},getFeatureFlagsUniqueIdentifier:function(){return i.a.get("cookie").get(o.c)},getCountryCode:l.d,getAccountType:l.a,getCCMemberStatus:l.c,getStockActiveStatus:l.g,getTeamProfileType:l.h,getServiceLevel:l.f,getActiveSubscriptions:l.b,getUserGuid:l.k,getLoggedStatus:l.l,getCreditQuota:l.j,getUserCCProStatus:l.i,getOrganizationCCProStatus:l.e,getUserOrganizationDetails:l.m};n.d(t,"a",function(){return u});var u={user:c,search:{getAssetType:function(){return i.a.get("cookie").get(s.b)||void 0}},event:{getSessionId:a.e,getLocale:r.c}}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"ingest",function(){return s});var a=n(4);n.d(t,"ingestConstants",function(){return a.b});var i=n(39);n.d(t,"STOCK_WEB_INGEST_PARAMS",function(){return i.c});var s=new(n(107).a)},function(e,t){e.exports=!1},function(e,t,n){"use strict";var a=n(71),i=n(67),s=n(76),r={};n(34)(r,n(10)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=a(r,{next:i(1,n)}),s(e,t+" Iterator")}},function(e,t,n){var a=n(24),i=n(21),s=n(48);e.exports=n(17)?Object.defineProperties:function(e,t){i(e);for(var n,r=s(t),l=r.length,o=0;l>o;)a.f(e,n=r[o++],t[n]);return e}},function(e,t,n){var a=n(73),i=Math.max,s=Math.min;e.exports=function(e,t){return(e=a(e))<0?i(e+t,0):s(e,t)}},function(e,t,n){var a=n(16).document;e.exports=a&&a.documentElement},function(e,t,n){var a=n(28),i=n(57),s=n(74)("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),a(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},function(e,t,n){var a=n(73),i=n(46);e.exports=function(e){return function(t,n){var s,r,l=String(i(t)),o=a(n),c=l.length;return o<0||o>=c?e?"":void 0:(s=l.charCodeAt(o))<55296||s>56319||o+1===c||(r=l.charCodeAt(o+1))<56320||r>57343?e?l.charAt(o):s:e?l.slice(o,o+2):r-56320+(s-55296<<10)+65536}}},function(e,t,n){"use strict";var a=n(134),i=n(59);e.exports=n(101)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return a.def(i(this,"Set"),e=0===e?0:e,e)}},a)},function(e,t,n){"use strict";var a=n(24).f,i=n(71),s=n(77),r=n(47),l=n(78),o=n(79),c=n(69),u=n(95),d=n(100),p=n(17),h=n(58).fastKey,m=n(59),f=p?"_s":"size",_=function(e,t){var n,a=h(t);if("F"!==a)return e._i[a];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e(function(e,a){l(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[f]=0,null!=a&&o(a,n,e[c],e)});return s(u.prototype,{clear:function(){for(var e=m(this,t),n=e._i,a=e._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete n[a.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var n=m(this,t),a=_(n,e);if(a){var i=a.n,s=a.p;delete n._i[a.i],a.r=!0,s&&(s.n=i),i&&(i.p=s),n._f==a&&(n._f=i),n._l==a&&(n._l=s),n[f]--}return!!a},forEach:function(e){m(this,t);for(var n,a=r(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(a(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!_(m(this,t),e)}}),p&&a(u.prototype,"size",{get:function(){return m(this,t)[f]}}),u},def:function(e,t,n){var a,i,s=_(e,t);return s?s.v=n:(e._l=s={i:i=h(t,!0),k:t,v:n,p:a=e._l,n:void 0,r:!1},e._f||(e._f=s),a&&(a.n=s),e[f]++,"F"!==i&&(e._i[i]=s)),e},getEntry:_,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=m(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var a=n(21);e.exports=function(e,t,n,i){try{return i?t(a(n)[0],n[1]):t(n)}catch(t){var s=e.return;throw void 0!==s&&a(s.call(e)),t}}},function(e,t,n){var a=n(44),i=n(10)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||s[i]===e)}},function(e,t,n){var a=n(98),i=n(10)("iterator"),s=n(44);e.exports=n(56).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||s[a(e)]}},function(e,t,n){var a=n(10)("iterator"),i=!1;try{var s=[7][a]();s.return=function(){i=!0},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var s=[7],r=s[a]();r.next=function(){return{done:n=!0}},s[a]=function(){return r},e(s)}catch(e){}return n}},function(e,t,n){var a=n(13),i=n(21),s=function(e,t){if(i(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{(a=n(47)(Function.call,n(140).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return s(e,n),t?e.__proto__=n:a(e,n),e}}({},!1):void 0),check:s}},function(e,t,n){var a=n(80),i=n(67),s=n(45),r=n(94),l=n(28),o=n(92),c=Object.getOwnPropertyDescriptor;t.f=n(17)?c:function(e,t){if(e=s(e),t=r(t,!0),o)try{return c(e,t)}catch(e){}if(l(e,t))return i(!a.f.call(e,t),e[t])}},function(e,t,n){var a=n(35),i=n(142)(!1);a(a.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var a=n(48),i=n(45),s=n(80).f;e.exports=function(e){return function(t){for(var n,r=i(t),l=a(r),o=l.length,c=0,u=[];o>c;)s.call(r,n=l[c++])&&u.push(e?[n,r[n]]:r[n]);return u}}},function(e,t,n){var a=n(35),i=n(56),s=n(18);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),a(a.S+a.F*s(function(){n(1)}),"Object",r)}},function(e,t,n){"use strict";var a=n(35),i=n(97)(!0);a(a.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(90)("includes")},function(e,t,n){"use strict";var a=n(35),i=n(146);a(a.P+a.F*n(147)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var a=n(85),i=n(46);e.exports=function(e,t,n){if(a(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var a=n(10)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){var a=n(35),i=n(71),s=n(70),r=n(21),l=n(13),o=n(18),c=n(150),u=(n(16).Reflect||{}).construct,d=o(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),p=!o(function(){u(function(){})});a(a.S+a.F*(d||p),"Reflect",{construct:function(e,t){s(e),r(t);var n=arguments.length<3?e:s(arguments[2]);if(p&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return a.push.apply(a,t),new(c.apply(e,a))}var o=n.prototype,h=i(l(o)?o:Object.prototype),m=Function.apply.call(e,h,t);return l(m)?m:h}})},function(e,t,n){"use strict";var a=n(70),i=n(13),s=n(151),r=[].slice,l={};e.exports=Function.bind||function(e){var t=a(this),n=r.call(arguments,1),o=function(){var a=n.concat(r.call(arguments));return this instanceof o?function(e,t,n){if(!(t in l)){for(var a=[],i=0;i<t;i++)a[i]="a["+i+"]"
;l[t]=Function("F,a","return new F("+a.join(",")+")")}return l[t](e,n)}(t,a.length,a):s(t,a,e)};return i(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t){e.exports=function(e,t,n){var a=void 0===n;switch(t.length){case 0:return a?e():e.call(n);case 1:return a?e(t[0]):e.call(n,t[0]);case 2:return a?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return a?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return a?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t){function n(t,a){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,a)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){n(17)&&"g"!=/./g.flags&&n(24).f(RegExp.prototype,"flags",{configurable:!0,get:n(86)})},function(e,t,n){"use strict";var a,i=n(105)(0),s=n(22),r=n(58),l=n(159),o=n(161),c=n(13),u=n(18),d=n(59),p=r.getWeak,h=Object.isExtensible,m=o.ufstore,f={},_=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(c(e)){var t=p(e);return!0===t?m(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return o.def(d(this,"WeakMap"),e,t)}},E=e.exports=n(101)("WeakMap",_,g,o,!0,!0);u(function(){return 7!=(new E).set((Object.freeze||Object)(f),7).get(f)})&&(l((a=o.getConstructor(_,"WeakMap")).prototype,g),r.NEED=!0,i(["delete","has","get","set"],function(e){var t=E.prototype,n=t[e];s(t,e,function(t,i){if(c(t)&&!h(t)){this._f||(this._f=new a);var s=this._f[e](t,i);return"set"==e?this:s}return n.call(this,t,i)})}))},function(e,t,n){var a=n(157);e.exports=function(e,t){return new(a(e))(t)}},function(e,t,n){var a=n(13),i=n(158),s=n(10)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),a(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var a=n(55);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,n){"use strict";var a=n(48),i=n(160),s=n(80),r=n(57),l=n(68),o=Object.assign;e.exports=!o||n(18)(function(){var e={},t={},n=Symbol(),a="abcdefghijklmnopqrst";return e[n]=7,a.split("").forEach(function(e){t[e]=e}),7!=o({},e)[n]||Object.keys(o({},t)).join("")!=a})?function(e,t){for(var n=r(e),o=arguments.length,c=1,u=i.f,d=s.f;o>c;)for(var p,h=l(arguments[c++]),m=u?a(h).concat(u(h)):a(h),f=m.length,_=0;f>_;)d.call(h,p=m[_++])&&(n[p]=h[p]);return n}:o},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var a=n(77),i=n(58).getWeak,s=n(21),r=n(13),l=n(78),o=n(79),c=n(105),u=n(28),d=n(59),p=c(5),h=c(6),m=0,f=function(e){return e._l||(e._l=new _)},_=function(){this.a=[]},g=function(e,t){return p(e.a,function(e){return e[0]===t})};_.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,s){var c=e(function(e,a){l(e,c,t,"_i"),e._t=t,e._i=m++,e._l=void 0,null!=a&&o(a,n,e[s],e)});return a(c.prototype,{delete:function(e){if(!r(e))return!1;var n=i(e);return!0===n?f(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!r(e))return!1;var n=i(e);return!0===n?f(d(this,t)).has(e):n&&u(n,this._i)}}),c},def:function(e,t,n){var a=i(s(t),!0);return!0===a?f(e).set(t,n):a[e._i]=n,e},ufstore:f}},function(e,t,n){var a=n(96),i=n(75).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,i)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],a=!0,i=!1,s=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,s=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw s}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}}])}),define("lib/featureFlag",["jquery","lib/cookie"],function(e,t){"use strict";return{setFeatureFlag:function(n,a,i){if("ff_"==n.substr(0,3)&&(n=n.substr(3)),-1!==e.inArray(n,this.getPossibleFeatureFlags())){var s=new Date,r=s.getTime();(void 0===i||isNaN(parseInt(i))||i<=0)&&(i=2678400),s.setTime(r+1e3*i),t("ff_"+n,a,{path:"/",expires:s})}},getFeatureFlag:function(e){return"ff_"==e.substr(0,3)&&(e=e.substr(3)),t("ff_"+e)},clearAllFeatureFlag:function(){var t=this.getPossibleFeatureFlags();e.each(t,function(e,t){document.cookie="ff_"+t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"})},getPossibleFeatureFlags:function(){return["1234567890","2394239002","2833207338","1463573426","1468575696","3028003804","8172635401","0987654321","4184758118","4591674070","1739404142","1213141519","9721768881","7410334565","4275530823","9183736245","9193949596","9911445534","1337001337","8731975719","8248000579","0758175025","7834791452","4663515419","4956090825","0618009092","8373621987","2415698736","7505893547","4156789654","1098887668","8005882300","3295995981","3456789012","8728712981"]}}}),define("lib/analytics/utils",["jquery","lib/featureFlag","page_config","lodash"],function(e,t,n,a){"use strict";function i(e,t){var n;if(!e)return"not applicable";switch(e){case"/Applications/StockSubSmallAnnual":n="Small Yearly";break;case"/Applications/StockSubSmallM2M":n="Small Monthly";break;case"/Applications/StockSubMediumAnnual":n="Medium Yearly";break;case"/Applications/StockSubMediumM2M":n="Medium Monthly";break;case"/Applications/StockSubLargeAnnual":n="Large Yearly";break;case"/Applications/StockSubLargeM2M":n="Large Monthly";break;default:try{n=s(e)?"OD-"+t:e}catch(e){}}return n}function s(e){return e.match(/StockPT/)}function r(e,t,n){var a=n;return window._satellite&&window._satellite[e]&&(a=window._satellite[e](t)),a}function l(){var e=n.trackedFeatureFlags;return e&&a.isObject(e.dtm)?e.dtm:{}}function o(e){var t=n.trackedFeatureFlags&&n.trackedFeatureFlags.aa;e&&t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}function c(e){var t=null;return e&&(t={editorial:e.is_editorial?"1":"0"}),t}function u(e,t){e.events&&0!==e.events.length?e.events+=","+t:e.events=t}function d(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}function p(e){window.Optanon&&window.adobePrivacy&&window.adobePrivacy.hasUserProvidedConsent()?h(e):window.addEventListener("adobePrivacy:PrivacyConsent",function t(){h(function(){window.removeEventListener("adobePrivacy:PrivacyConsent",t),e()})})}function h(e){window.Optanon&&m()&&e()}function m(){var e,t=window.adobePrivacy&&window.adobePrivacy.activeCookieGroups();if(t&&-1!==t.indexOf(_)){e=!f().some(function(e){return-1===t.indexOf(e)})}else e=!1;return e}function f(){return window.Optanon.GetDomainData().Groups.reduce(function(e,t){return t.Hosts.forEach(function(t){e.push(t.HostId)}),e},[])}var _="C0004";return{getPlanType:i,getSatelliteVar:r,getTrackedFeatureFlagsForDTM:l,updateTrackedFeatureFlags:o,getPageInfoForEditorialContent:c,addEventToDataObject:u,generateUUID:d,onPrivacyConsent:p,hasUserConsented:m,getOneTrustHostIds:f}}),define("lib/analytics/dunamis",["jquery","page_config","app/client","app/constants/dunamis","stockWebIngest","lib/member","lib/analytics/utils","lib/localStorage"],function(e,t,n,a,i,s,r,l){"use strict";function o(){var e=n.getInstance();p.init({ENVIRONMENT:t.isProductionServer?"prod":"stage",ANALYTICS_API_KEY:t.SUSI.CLIENT_ID}),p.withRedux(e)}function c(e){var t=e[m.EVENT_TYPE_PROPERTY];return e[m.ASSET_TYPE]===m.AUDIO&&t===m.SEARCH_SUCCESS&&(e[a.EVENT_PARAMS.SEARCH_CONTEXT_SEQUENCE]=r.generateUUID()),e}function u(){var e,t=s.getGuid(),n="DunamisContextGuid";return e=l.retrieveData(t,n,"",!0),""==e&&(e=r.generateUUID(),l.storeData(t,n,e,!0)),e}function d(n,a,i,s,r){try{t.isDunamisEnabled&&n&&(e.isPlainObject(i)||(i={}),i[h.EVENT_TYPE_PROPERTY]=n,i[h.EVENT_SUBTYPE_PROPERTY]=a||"",i=c(i),t.shouldFlushTrackImmediatelyStockWeb&&(r=!0),p.track(i,s,!!r))}catch(e){}}var p=i.ingest,h=i.ingestConstants,m=e.extend({},h,a),f={init:o,track:d,getDunamisContextGuid:function(){return u()},constants:m,updateContextSequenceForAudio:c};return t.isDunamisEnabled&&function(){window.Visitor?o():window.addEventListener("visitorInitialized",function(){o()})}(),f}),define("lib/analytics",["jquery","app/constants/analytics","lib/member","lib/localStorage","lib/assetsStore","lib/license","lib/utils","page_config","lib/analytics/utils"],function(e,t,n,a,i,s,r,l,o){"use strict";function c(){var e=o.getSatelliteVar("getVar","adbadobenonacdc_prop4_Language_Locale");e&&v(t.USER,{region:e},{sendPageTrack:!1})}function u(e,n,a){var i,s={},r=_();return s.pageName=window.location.hostname.toLowerCase()+":"+a,e.buyer===t.REPEAT_BUYER&&(o.addEventToDataObject(s,t.EVENT_VALUES.PURCHASE),o.addEventToDataObject(s,t.EVENT_VALUES.REPEAT_BUYER),o.addEventToDataObject(s,t.EVENT_VALUES.ORDER_CONFIRMATION),s.eVar79=t.STOCK_REPEAT_BUYER),e.buyer===t.NEW_BUYER&&(o.addEventToDataObject(s,t.EVENT_VALUES.PURCHASE),o.addEventToDataObject(s,t.EVENT_VALUES.NEW_BUYER),s.eVar78=t.STOCK_NEW_BUYER),("Subscription"==e.asset_type||"undefined"!==e.order_type&&"overage"!==e.order_type)&&o.addEventToDataObject(s,t.EVENT_VALUES.SUBSCRIPTION),s.purchaseID=e.order_number,s.eVar27=e.order_number,s.products=";"+e.sku+";1;"+e.price+";;",s.currencyCode=e.currency,s.eVar15=e.content_id,s.prop30=e.team_profile_type,s.eVar200=e.team_profile_type,s.eVar137=e.offer_id,s.eVar8="VISA",n.getGuid()&&(s.eVar12=n.getCleanGuid()),i=d(),i&&(s.prop5=i+":"+s.pageName),s.prop52=f()+"|"+window.dtmContainer.member_type,s.eVar111="D=c52",window.dtmContainer.member_subscription&&(s.eVar46=window.dtmContainer.member_subscription),r&&(s.eVar60=r),o.updateTrackedFeatureFlags(s),s}function d(){return l&&l.locale_code||null}function p(e){window._satellite&&(window.stockTrackingData=e,window.stockTrackingData.guid=n.getGuid(),window._satellite.track("track_stockpurchase"))}function h(e){var a={};return a=u(e,n,t.OVERAGE_PAGENAME),a.eVar19="OD-"+e.asset_type,a.prop8="D=v19",a.eVar35=e.license_label,a.events=a.events+",event49",m(a)}function m(e){return void 0!==window.s_adbadobestock&&(void 0!==window.s_adbadobenonacdc&&void 0!==window.s_adbadobenonacdc.visitor&&(window.s_adbadobestock.marketingCloudVisitorID=window.s_adbadobenonacdc.visitor.getMarketingCloudVisitorID(),window.s_adbadobestock.analyticsVisitorID=window.s_adbadobenonacdc.visitor.getAnalyticsVisitorID()),window.s_adbadobestock.t(e))}function f(){var e,t="unknown",a=n.getServiceAccounts();if(a){t="notEntitled";for(var i=0;i<a.length;i++)if(e=a[i],"creative_cloud"===e.serviceCode){t="CS_LVL_2"===e.serviceLevel?"paid":"CS_LVL_1"===e.serviceLevel?"free":"notEntitled";break}}return t}function _(){var e,t=[],n="";if(void 0!==window.ttMETA&&window.ttMETA.length){for(e in window.ttMETA)window.ttMETA[e].campaign&&t.push(window.ttMETA[e].campaign+";"+window.ttMETA[e].experience);t.length&&(n=t.join("|"))}return n}function g(e){e||(e=""),l.isLaunchEnabled||window._satellite&&window._satellite.track(e)}function E(){return I}function v(n,a,i){if(!l.isLaunchEnabled){var s=n===t.EVENT_INFO,r={sendPageTrack:!0,eventName:void 0},c=o.getTrackedFeatureFlagsForDTM(),u=e.extend({},r,i),d=window.digitalData;d.user=e.extend({},d.user,c),d[n]&&e.isPlainObject(a)?Object.keys(a).forEach(function(e){d[n][e]=a[e]}):d[n]=a,s&&g(t.TRACK_INTERACTION),u.sendPageTrack&&g(u.eventName)}}function b(e){var n,a,i;return e||(e=window.location),a=e.pathname.toLowerCase().replace(l.base_url,""),i=e.search.toLowerCase(),"/"===a?n=t.FINDING_METHOD.HOMEPAGE:a.match(/\/images\/(.*)/)?n=t.FINDING_METHOD.IMAGES_DETAIL:a.match(/\/video\/(.*)/)?n=t.FINDING_METHOD.VIDEO_DETAIL:a.match(/\/templates\/(.*)/)?n=t.FINDING_METHOD.TEMPLATES_DETAIL:a.match(/\/3d-assets\/(.*)/)?n=t.FINDING_METHOD.THREE_D_DETAIL:0===a.indexOf("/search")?n=t.FINDING_METHOD.SEARCH:0===a.indexOf("/library")?n=t.FINDING_METHOD.LIBRARIES:0===a.indexOf("/member/licensehistory")?n=t.FINDING_METHOD.LICENSE_HISTORY:0===a.indexOf("/premium")?n=t.FINDING_METHOD.PREMIUM:0===a.indexOf("/stock-photo")?n=t.FINDING_METHOD.ASSET:0===a.indexOf("/contributor")?n=t.FINDING_METHOD.ARTIST:0===a.indexOf("/plans")?n=t.FINDING_METHOD.PLANS:0===a.indexOf("/teams")?n=t.FINDING_METHOD.TEAMS:0===a.indexOf("/collections")?n=t.FINDING_METHOD.COLLECTIONS:0===a.indexOf("/promo")?n=t.FINDING_METHOD.PROMO:0===a.indexOf("/category")?n=t.FINDING_METHOD.CATEGORY:0===a.indexOf("/images")?n=t.FINDING_METHOD.IMAGES:0===a.indexOf("/templates")?n=t.FINDING_METHOD.TEMPLATES:0===a.indexOf("/3d-assets")?n=t.FINDING_METHOD.THREE_D:0===a.indexOf("/video")?n=t.FINDING_METHOD.VIDEO:0===a.indexOf("/editorial")?n=t.FINDING_METHOD.EDITORIAL:(i.indexOf("x-product")>-1||i.indexOf("as-channel")>-1||i.indexOf("ssocc")>-1||i.indexOf("sso_inbound")>-1)&&(n=t.FINDING_METHOD.ADOBE_APPS),n}function T(e,n){var a={selection_method:e,finding_method:b()};n&&(a.core_type=n.replace("/Applications/","")),I=e,v(t.PRODUCT,a,{sendPageTrack:!1})}function y(e,n){var a;e&&e.premium_level&&(void 0===n&&(n=e.is_video?s.LICENSE_ID_HD:s.LICENSE_ID_STANDARD),a=e.premium_level[n]||"",e.is_illustrative&&(a=a.replace("image","illustrative")),v(t.PAGE_INFO,{premium_level:a}))}function C(){v(t.PAGE_INFO,{thumbnail:t.FIND_SIMILAR_THUMB},{sendPageTrack:!1}),v(t.EVENT_INFO,{eventType:t.CLICK_EVENT,eventLabel:t.REMOVE_THUMBNAIL})}function S(){v(t.PAGE_INFO,{load_type:t.SEE_MORE_LOAD_TYPE,previousUrl:t.SELECTION_DETAIL})}var I,O=function(e,n){n=n||"",this.setDigitalData(t.USER,{navname:e,dropdown:n},{sendPageTrack:!1}),this.setDigitalData(t.EVENT_INFO,{eventType:t.CLICK_EVENT,eventLabel:t.HEADER_EVENT})};return e(function(){c()}),{readCCStatusFromIMSProfile:f,sendPurchaseEvent:function(e){p(e)},sendOverageEvent:function(e){return!!l.isLaunchEnabled||h(e)},sendPageEventTrack:function(e){return g(e)},setUserEventAndCallTrack:function(e,n){v(t.EVENT_INFO,{eventType:e,eventLabel:n})},determineFindingMethod:b,setupProductPurchaseData:T,ignoreFirstSearchInputFocus:!1,setDigitalData:v,logHeaderNavClick:O,logFindSimilarCloseClick:C,logAssetPremiumLevel:y,logSeriesSearch:S,getSelectionMethod:E,init:c}}),define("lib/susi",["jquery","lodash","lib/cookie","lib/window","lib/member","lib/error","lib/localStorage","page_config","lib/analytics/dunamis","lib/analytics","app/constants/analytics","app/utils/url"],function(e,t,n,a,i,s,r,l,o,c,u,d){"use strict";var p={},h=e.Deferred(),m=e.Deferred(),f=o.constants;return"withCredentials"in new XMLHttpRequest||s.displayErrorModal(e(".js-unsupported-browser-title").val(),e(".js-unsupported-browser-body").val(),null),{_thirdPartyCookiesDisabled:!1,_waitTime:1e4,ready:h.promise(),onReady:m.promise(),configure:function(e){p=e,e.profile&&(i.setImsProfile(e.profile),this.setToken(e.profile.access_token,null,!0),h.resolve(e.profile))},hasToken:function(){return!!n(p.COOKIE_IMS_ACCESS_TOKEN)},getToken:function(){return n(p.COOKIE_IMS_ACCESS_TOKEN)},setToken:function(e,t,s){if(p.IGNORE_COOKIE_UPDATE)return!1;if(e===this.getToken())return!1;var r=new Date;return s||(t&&t.expiresAtMilliseconds>Date.now()?(r.setTime(t.expiresAtMilliseconds),n(p.COOKIE_IMS_ACCESS_TOKEN,e,{path:"/",expires:r}),i.isGhostUser()&&a.reloadLocation()):this.setLoggedOutCookie()),!0},setLoggedOutCookie:function(){var e=new Date(Date.now()+1e3*p.COOKIE_IMS_LOGGED_OUT_TTL);n(p.COOKIE_IMS_LOGGED_OUT,!0,{path:"/",expires:e})},clearLoggedOutCookie:function(){n(p.COOKIE_IMS_LOGGED_OUT,null,{path:"/",expires:0})},clearLoggedInCookie:function(e){n(p.COOKIE_IMS_ACCESS_TOKEN,null,{path:"/",expires:0}),n(p.COOKIE_IMS_IMPERSONATOR_TOKEN,null,{path:"/",expires:0}),e&&n(p.COOKIE_STOCK_ONLY_LOGGED_IN,null,{path:"/",expires:0})},setLoggedOut:function(e){this.setLoggedOutCookie(),this.clearLoggedInCookie(e)},reloadPage:function(){a.reloadLocation()},cookielessRedirect:function(){if(this.hasCookies())return!1;var e=p.COOKIES_DISABLED+"=1",t=a.getLocation(),n=t.search?t.search+"&"+e:"?"+e;return a.setLocation("//"+t.hostname+t.pathname+n+t.hash),!0},removeTrackerFromUrl:function(){var e=new RegExp(p.QS_IMS_SIGNIN_ATTEMPT+"=1(&)?"),t=a.getPath().replace(e,"");t=t.replace(/^\/{2,}/,"/"),a.replaceState({},document.title,t)},initPage:function(){var e,t=this,a=!1,s=!1;if(window.adobeid={client_id:p.CLIENT_ID,locale:p.LOCALE,optimizations:{fastEvents:!1},uses_redirect_mode:!0,uses_modal_mode:!1,api_parameters:{authorize:{ctx_id:p.DEFAULT_IMS_CONTEXT_ID,state:{ac:p.OMNITURE_AC_STATE}}},scope:p.SCOPES.join(","),onProfile:function(e){e||!t.hasToken()||p.IGNORE_COOKIE_UPDATE||n(p.COOKIE_STOCK_ONLY_LOGGED_IN)||(a=!0),"resolved"==h.state()&&p.profile.userId==e.userId||(s=!0,i.setImsProfile(e),setTimeout(function(){h.resolve(e)},0))},onAccessTokenHasExpired:function(){},onAccessToken:function(e,n){(a||s)&&t.setToken(e,n,!1)},onError:function(e){m.reject(e)},onReady:function(){if(a)return t.logout(!0),void m.reject();t.removeTrackerFromUrl(),t._bindLinks(),m.resolve()}},l.isIMSAuthCodeWorkflowEnabled){e=p.profile||null;try{window.adobeid.onProfile(e)}catch(e){window.adobeid.onError(e)}window.adobeid.onReady()}},login:function(e,t,n,a,i){this.clearLoggedOutCookie();var s=this._getRedirectURI(e,t,n,a,i);l.isIMSAuthCodeWorkflowEnabled?this.imsSignIn(s):i?window.adobeIMS.signInWithSocialProvider(i,s):window.adobeIMS.signIn(s)},signUp:function(e,t,n,a){var i=this._getRedirectURI(e,t,n,a);this.clearLoggedOutCookie(),l.isIMSAuthCodeWorkflowEnabled?this.imsSignUp(i):window.adobeIMS.signUp(i)},_getRedirectURI:function(t,n,i,s,r){function l(e){if(e=e||"",e.indexOf(p.QS_IMS_SIGNIN_ATTEMPT)>-1)return e;var t=p.QS_IMS_SIGNIN_ATTEMPT;return e+(0===e.indexOf("?")?"&":"?")+t+"=1"}var o="",c=a.getLocation(),u=c.protocol+"//"+c.host,d="",h="",m={redirect_uri:null};return e.isEmptyObject(n)||e.each(n,function(e,t){h+="&"+e+"="+t}),p.REDIRECT_URI?o=p.REDIRECT_URI+l()+h:t?(d=0===t.indexOf("/")?u+t:t,o=d+l()+h):o=u+c.pathname+l(c.search)+h+(i?"":c.hash),m.redirect_uri=o,e.isEmptyObject(s)||e.extend(m,s),r&&e.extend(m,{idp_flow:"social.deep_link.web",provider_id:r}),m},_bindLinks:function(){function t(e){a.dunamisTrackingForSusiEvents(e,f.SUSI.CREATE_ACCOUNT),a.dtmTrackingForSusiEvents(e,u.SUSI_CREATE_ACCOUNT),a.hasCookies()?a.signUp():a._showCookiePopup(!1)}function n(t){a.dunamisTrackingForSusiEvents(t,f.SUSI.LOGIN),a.dtmTrackingForSusiEvents(t,u.SUSI_LOGIN),a.hasCookies()?(e(this).data("redirect-url")&&(i=e(this).data("redirect-url")),e(this).data("redirect-params")?s=e(this).data("redirect-params"):e(this).data("content-id")&&(s={return_id:e(this).data("content-id")}),a.login(i,s),t.preventDefault()):a._showCookiePopup(!1)}var a=this,i=!1,s={};e(document.body).on("click",".js-susi-signup",t),e(window).on("portal:userSignUp",t),e(window).on("portal:userSignIn",n),e(document.body).on("click",".js-susi-login",n),e(document.body).on("click",".js-susi-logout",function(){a.hasCookies()?a.logout():a._showCookiePopup(!1)}),e(document.body).on("click",".js-logout-migrated-member",function(t){a.logout(null,e(this).data("redirect-url"))})},zombieLogin:function(e,t){i.setImsProfile(t),i.setStockProfile(e)},initShim:function(){var t=this,n=!1;return m.reject(),h.reject(),!t.cookielessRedirect()&&(window.adobeid={client_id:p.CLIENT_ID,locale:p.LOCALE,uses_redirect_mode:!0,uses_modal_mode:!1,optimizations:{fastEvents:!0},api_parameters:{authorize:{ctx_id:p.DEFAULT_IMS_CONTEXT_ID,state:{ac:p.OMNITURE_AC_STATE}}},scope:p.SCOPES.join(","),onProfile:function(e){if(e)return void t.setLoggedOutCookie();t.setLoggedOut(),p.AUTH_REQUIRED?(t.clearLoggedOutCookie(),l.isIMSAuthCodeWorkflowEnabled?this.imsSignIn():window.adobeIMS.signIn()):n=!0},onError:function(){t.reloadPage()},onAccessTokenHasExpired:function(){t.setLoggedOut()},onAccessToken:function(e,a){p.IGNORE_COOKIE_UPDATE||(t.clearLoggedOutCookie(),t.setToken(e,a,!1),n=!0)},onReady:function(){if(n){var i,s=a.getSearchObject();if(void 0===s[p.QS_IMS_SSO_INBOUND])return void t.reloadPage();if(delete s[p.QS_IMS_SSO_INBOUND],s[p.QS_IMS_SSO_COUNTRY_CHECK]=1,window.history&&window.history.replaceState)return i=window.location.pathname,e.isEmptyObject(s)||(i+="?"+e.param(s)),window.history.replaceState({},document.title,i),void t.reloadPage();a.getLocation().search=""}}},!0)},hasCookies:function(){if(!navigator.cookieEnabled)return!1;var e="modernizercookietest";try{document.cookie=e+"=1";var t=-1!==document.cookie.indexOf(e);return document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},failedIMSLoad:function(){this.setLoggedOutCookie(),this.reloadPage()},_getSUSIParams:function(n){var a={locale:window.adobeid.locale,client_id:window.adobeid.client_id,scope:window.adobeid.scope};return"zh_HK"===t.get(a,"locale")&&(a.locale="en_US"),a=e.extend(a,n),a=e.extend(a,window.adobeid.api_parameters.authorize)},imsSignUp:function(e){var t=this._getSUSIParams(e);t.idp_flow="create_account";var n=l.SUSI.URLS.SIGN_IN+d.buildQueryString(t,l.SUSI.URLS.SIGN_IN);a.setLocation(n)},imsSignIn:function(e){var t=this._getSUSIParams(e),n=l.SUSI.URLS.SIGN_IN+d.buildQueryString(t,l.SUSI.URLS.SIGN_IN);a.setLocation(n)},imsSignOut:function(e,t){var n={redirect_uri:t,access_token:e,locale:window.adobeid.locale,client_id:window.adobeid.client_id},i=l.SUSI.URLS.SIGN_OUT+d.buildQueryString(n,l.SUSI.URLS.SIGN_OUT);a.setLocation(i)},logout:function(t,i){var s=this;e.ajax({url:l.base_url+"/Ajax/Logout",method:"POST"}).success(function(){var e=n(p.COOKIE_STOCK_ONLY_LOGGED_IN),r="interim"===e,o="ghost"===e,c=s.getToken();s.setLoggedOut(r);var u=i||p.URLS.LOGOUT,d=a.getSearchObject(),h=void 0!==d[p.QS_IMS_SIGNIN_ATTEMPT];if(o)return void a.setLocation(p.URLS.LOGOUT);t?h?(s._thirdPartyCookiesDisabled=!0,s._showCookiePopup(!0)):a.getLocation("href")==u?a.reloadLocation():a.setLocation(u):window.adobeIMS&&!r?window.adobeIMS.signOut({redirect_uri:u}):l.isIMSAuthCodeWorkflowEnabled&&!r?s.imsSignOut(c,u):a.setLocation(u)})},loadPageIMS:function(){this._lazyload([p.URLS.IMS],function(){},{})},loadShimIMS:function(){var e=this;try{this._lazyload([p.URLS.IMS],function(){void 0===window.adobeIMS&&e.failedIMSLoad()},function(){window.setTimeout(function(){e.failedIMSLoad()},e._waitTime)})}catch(t){e.failedIMSLoad()}window.setTimeout(function(){e.failedIMSLoad()},this._waitTime)},hasThirdPartyCookiesDisabled:function(){return!0===this._thirdPartyCookiesDisabled},checkoutModalLogin:function(e,t,n,a,i,s){var o={};r.storeData(null,l.startCheckoutModalOnParam,!0),e&&(o.content_id=e),t&&(o.product_key=t),n&&(o[l.startCheckoutModalOnParam]=1),i&&(o.license_id=i),this.login(null,o,!0,a,s)},_lazyload:function(){require.apply(null,arguments)},_showCookiePopup:function(t){var n=this,a=".js-cookies-title",i=".js-cookies-body";t&&(a=".js-third-party-cookies-title",i=".js-third-party-cookies-body"),s.displayErrorModal(e(a).val(),e(i).val(),null,function(){n.reloadPage()})},dunamisTrackingForSusiEvents:function(t,n){try{if(l.isDunamisEnabled){var a,i=e(t.target).closest(".js-details"),s=e(t.target).closest(".js-hover-container"),r=null,c=null,u={};i.length?(r="details-",c=i):s.length&&(r="hover-",c=s),c&&(a=c.attr("data-ingest-content-id"),u[f.CONTENT_ID]=a,o.track(f.CLICK,r+n,u,e("body")))}}catch(e){}},dtmTrackingForSusiEvents:function(t,n){try{var a,i=e(t.target),s=i.closest(".js-details"),r=i.closest(".js-hover-container");n=(i.closest(".js-susi-popover-container-analytics").data("btn-clicked-analytics")||"")+"|"+n,s.length?a=u.SELECTION_DETAIL:r.length&&(a=u.SELECTION_HOVER),c.setDigitalData(u.EVENT_INFO,{eventType:u.CLICK_EVENT,eventLabel:u.SUSI_EVENT}),c.setDigitalData(u.PAGE_INFO,{susi:n},{sendPageTrack:!1}),c.setDigitalData(u.PRODUCT,{selection_method:a,finding_method:c.determineFindingMethod()},{sendPageTrack:!1})}catch(e){}}}}),define("models/AssetLibrary",[],function(){"use strict";return function(e){this.name=e.name,this.id=e.id,this.totalCount=e.num_elements,this.readOnly=!1,"INCOMING"===e.collaboration&&"VIEWER"===e.collaboration_role&&(this.readOnly=!0)}}),define("lib/libraryutil",[],function(){"use strict";return{findStockRendition:function(e){var t,n=this,a={rel:"rendition",type:"image/jpeg"},i={rel:"rendition",type:"image/png"},s=[];return e.representations?s=e.representations:e.representation&&(s=e.representation),t=n.findElementThatMeetsMultipleCriteria(s,a),t||(t=n.findElementThatMeetsMultipleCriteria(s,i)),t},findStockRepresentation:function(e){var t=this;return e.representations?t.findElement(e.representations,"rel","primary"):e.representation?t.findElement(e.representation,"rel","primary"):null},findStockSize:function(e){var t=this,n=null,a=t.findStockRepresentation(e),i=t.findStockRendition(e);return void 0!=a&&void 0!=a.width&&void 0!=a.height?n={width:Number(a.width),height:Number(a.height)}:void 0!=i&&void 0!=i.width&&void 0!=i.height&&(n={width:Number(i.width),height:Number(i.height)}),n},findElement:function(e,t,n){if(e instanceof Array){for(var a in e)if(e[a].hasOwnProperty(t)&&-1!=e[a][t].indexOf(n))return e[a]}else if(e.hasOwnProperty(t)&&e[t]==n.indexOf(n)!=-1)return e;return null},findElementThatMeetsMultipleCriteria:function(e,t){if(e instanceof Array){for(var n in e)if(this.doesElementMeetAllCriteria(e[n],t))return e[n]}else if(this.doesElementMeetAllCriteria(e,t))return e;return null},doesElementMeetAllCriteria:function(e,t){var n;for(var a in t)if(n=t[a],!e.hasOwnProperty(a)||-1==e[a].indexOf(n))return!1;return!0},removeAudioElementsFromLibrary:function(e){var t;return t=e.filter(function(e){return!e.isAudio}),{libraryElements:t,nbElementsRemoved:e.length-t.length}},transformMelvilleElement:function(e){var t=this,n={created_date:"created",modified_date:"modified"},a=t.applyMapping(e,n);return a.representations&&(a.representations=a.representations.map(function(e){var n={};e.linkurl?n.linkurl="href":e.storage_href?n.storage_href="href":e.path&&(n.path="href");var a=Object.assign({linktype:"type",relationship:"rel",is_external_link:"external-link"},n);return t.applyMapping(e,a)})),a},applyMapping:function(e,t){return Object.keys(e).reduce(function(n,a){var i={};return i[t[a]||a]=e[a],Object.assign(n,i)},{})}}}),define("models/AssetLibraryItem",["lib/libraryutil"],function(e){"use strict";function t(e,t){if(void 0==e.stock_id)return null;var n,a=e.stock_id,i=e.content_id,s=-1==a.indexOf(",")?32:a.indexOf(","),r=a.substr(0,s),l=Math.floor(i/100);return l=String("00000000"+l).slice(-8),l=l.substr(0,2)+"/"+l.substr(2,2)+"/"+l.substr(4,2)+"/"+l.substr(6,2),n="https://v.ftcdn.net/"+l+"/240_F_"+i+"_"+r,t&&(n+="_ST"),n+=".mp4"}return function(n,a,i,s,r){this.name=a.name,this.id=a.id,this.modified=a.modified,this.imageUrl=i,this.rendition=e.findStockRendition(a),this.licensed=!1,this.parentLibraryId=n,this.representations=a.representations;var l=e.findStockRepresentation(a);if(l&&void 0!=l["adobestock#trackingdata"]){this.content_id=l["adobestock#trackingdata"].content_id,void 0!=l["adobestock#trackingdata"].license&&(this.licensed=l["adobestock#trackingdata"].license);var o=l["adobestock#trackingdata"];this.isVideo="application/vnd.adobe.element.video+dcx"===a.type,this.isMOGRTS="application/vnd.adobe.element.graphic+dcx"===a.type,this.isAudio="application/vnd.adobe.element.audio+dcx"===a.type,(this.isVideo||this.isMOGRTS)&&(this.videoUrl=t(o,this.isVideo),l["video#data"]&&(this.duration=l["video#data"].duration))}this.content_original_width=s,this.content_original_height=r,this.dimensions={width:s,height:r}}}),define("hbs!templates/thumbnailBadges",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"margin-bottom-xxlarge"},3:function(e,t,n,a){return"margin-bottom-medium"},5:function(e,t,n,a){return" badge-truncate badge-truncate--transferred"},7:function(e,t,n,a){return" hidden"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="thumbnail-badge-wrapper-v2 grey '+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.is3D:e,null!=e?e.isTemplate:e,{name:"if-or",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+'">\n    <div class="js-image-licensed-badge-container">\n'+(null!=(i=this.invokePartial(n.thumbnailLicensedBadge,e,{name:"thumbnailLicensedBadge",data:a,indent:"        ",helpers:t,partials:n}))?i:"")+'    </div>\n    <div class="image-transferred-badge badge-with-tooltip badge-with-tooltip--v2 js-image-transferred-badge js-badge-with-tooltip'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.isPremium:e,null!=e?e.isEditorial:e,null!=e?e.isIllustrative:e,{name:"if-or",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.displayLicenseTransferBadge:e,{name:"unless",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'"\n            data-t="transfer-badge-checkmark-section"\n    >\n    <span data-t="transfer-badge-checkmark-text">\n        <div class="badge--icon">\n            <i class="icon-checkmark thumbnail-badge-icon" data-t="transfer-badge-checkmark-icon"></i>\n        </div>\n        <div class="badge--text js-badge-text">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARIES::STATE::Transferred",{name:"_",hash:{},data:a}))+'\n        </div>\n    </span>\n        <div class="js-tooltip-holder">\n'+(null!=(i=this.invokePartial(n.badgeTooltip,e,{name:"badgeTooltip",hash:{tooltip_data:null!=e?e.license_transfer_tooltip_data:e,dataT:"license-transfer-tooltip-container"},data:a,indent:"            ",helpers:t,partials:n}))?i:"")+'        </div>\n        <div class="tooltip-triangle js-tooltip-triangle"></div>\n    </div>\n    <div class="image-license-requested-badge badge-with-tooltip badge-with-tooltip--v2 js-image-license-requested-badge js-badge-with-tooltip blue bleu-de-france'+(null!=(i=t.unless.call(e,null!=e?e.license_request_data:e,{name:"unless",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'"\n            data-t="license-request-badge-checkmark-section"\n    >\n    <span data-t="license-request-badge-checkmark-text">\n        <div class="badge--icon">\n            <i class="mti-icon icon-pending thumbnail-badge-icon" data-t="requested-badge-checkmark-icon"></i>\n        </div>\n        <div class="badge--text">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARIES::STATE::Pending",{name:"_",hash:{},data:a}))+'\n        </div>\n    </span>\n        <div class="js-tooltip-holder">\n'+(null!=(i=this.invokePartial(n.badgeTooltip,e,{name:"badgeTooltip",hash:{tooltip_data:null!=e?e.license_request_data:e,dataT:"license-request-tooltip"},data:a,indent:"            ",helpers:t,partials:n}))?i:"")+'        </div>\n        <div class="tooltip-triangle js-tooltip-triangle"></div>\n    </div>\n</div>\n'},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/message",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'data-ingest-workflow="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,e))+'"'},3:function(e,t,n,a){return"modal--in-front"},5:function(e,t,n,a){var i;return'data-ingest-subcategory="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.subcategory:i,e))+'"'},7:function(e,t,n,a){return'                <div class="motmot">\n                    <div class="padding-small container-relative">\n                        <button type="button" class="js-modal-window-dismiss-button container-absolute to-the-top to-the-right">\n                            <i class="mti-icon mti-large mti-default-button icon-close grey mountain-mist-text"></i>\n                        </button>\n                    </div>\n                </div>\n'},9:function(e,t,n,a){var i
;return' <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link:i,e))+'" target="_blank">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link_label:i,e))+"</a>"},11:function(e,t,n,a){var i;return' href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_link:i,e))+'"'},13:function(e,t,n,a){var i;return this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_class:i,e))},15:function(e,t,n,a){return"js-modal-window-dismiss-button"},17:function(e,t,n,a){var i;return'data-redirect-url="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_data_redirect_url:i,e))+'"'},19:function(e,t,n,a){var i;return'data-ingest-clicktype="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.ok_click:i,e))+'"'},21:function(e,t,n,a){var i;return'                <a data-t="message-modal-close-button" class="js-modal-window-dismiss-button modal-window-dismiss-button rounded-button grey">\n                    <span data-t="message-modal-close-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_close_label:i,e))+"</span>\n                </a>\n"},23:function(e,t,n,a){var i;return'                <p class="modal-window-footer">\n                    <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link:i,e))+'" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.target_blank:i,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.noop,data:a}))?i:"")+' class="alternative">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link_label:i,e))+"</a>\n                </p>\n"},24:function(e,t,n,a){return'target="_blank"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-message" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n    <div class="modal-window-canvas '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.warning:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.subcategory:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="modal-window-container">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.icon_close:i,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'            <p class="modal-window-badge"><img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" /></p>\n            <p class="modal-window-header" data-t="message-modal-title" id="modal-title">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))+'</p>\n            <div class="modal-window-body" data-t="message-modal-body" id="bh-modal-body">\n                '+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.body:i,e))?i:"")+"\n                "+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.body_link_label:i,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'\n            </div>\n            <p class="modal-window-footer">\n                <a id="modal-ok-button" data-t="message-modal-ok-button"'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_link:i,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+' class="modal-window-dismiss-button rounded-button blue '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_class:i,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.program(15,a,0),data:a}))?i:"")+'" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_data_redirect_url:i,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+" "+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.ok_click:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                    <span data-t="message-modal-ok-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_label:i,e))+"</span>\n                </a>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_close:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+"            </p>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.footer_link:i,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/confirmation",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'data-ingest-workflow="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,e))+'"'},3:function(e,t,n,a){var i;return'data-ingest-subcategory="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subcategory_dunamis:i,e))+'"'},5:function(e,t,n,a){var i;return'                <div class="modal-window-thumb">\n                    <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.thumb_url:i,e))+'"/>\n                </div>\n'},7:function(e,t,n,a){var i;return'                <div class="modal-window-body" data-t="confirmation-modal-body-text">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.question:i,e))+"</div>\n"},9:function(e,t,n,a){var i;return null!=(i=t.unless.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.hide_license_type:i,{name:"unless",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},10:function(e,t,n,a){var i;return'                    <div class="text-align-center">\n                        <div class="select-box select-box--silent">\n                            <select id="select-licenses">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.is_video:i,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+'                            </select>\n                        </div>\n                        <span class="question-mark"><a class="question-mark-hover" target="_blank" href="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.license_terms_url:i,e))+'"><i class="icon-help-circled"></i></a></span>\n                        <div>\n'},11:function(e,t,n,a){return'                                    <option value="Standard" disabled="disabled">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Standard License",{name:"_",hash:{},data:a}))+'</option>\n                                    <option value="Extended" selected="selected">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Enhanced License",{name:"_",hash:{},data:a}))+"</option>\n"},13:function(e,t,n,a){var i;return'                                    <option value="Standard">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Standard License",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.price:i,{name:"if",hash:{},fn:this.program(14,a,0),inverse:this.program(16,a,0),data:a}))?i:"")},14:function(e,t,n,a){var i;return'                                        <option value="Extended">'+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Extended License (%s)",{name:"_",hash:{},data:a}),null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.price:i,{name:"sprintf",hash:{},data:a}))+"</option>\n"},16:function(e,t,n,a){return'                                        <option value="Extended" disabled="disabled">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Extended License",{name:"_",hash:{},data:a}))+"</option>\n"},18:function(e,t,n,a){var i;return'                    <a id="modal-cancel-button" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.cancel_button_link:i,e))+'" class="button button--secondary modal-window-cancel-button" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.cancel_button:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+">\n                        "+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.cancel_button_label:i,e))+'\n                    </a>\n                    <a id="modal-confirm-button" data-redirect-url="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.confirm_button_link:i,e))+'" href="#" class="button button--action modal-window-confirm-button js-logout-migrated-member" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.confirm_button:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+">\n                        "+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.confirm_button_label:i,e))+"\n                    </a>\n"},19:function(e,t,n,a){var i;return'data-ingest-clicktype="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.cancel_button:i,e))+'"'},21:function(e,t,n,a){var i;return'data-ingest-clicktype="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.confirm_button:i,e))+'"'},23:function(e,t,n,a){var i;return'                    <button id="modal-cancel-button" class="button button--secondary modal-window-cancel-button js-modal-window-cancel-button" data-t="confirmation-modal-cancel-button" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.cancel_button:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                        <span data-t="confirmation-modal-cancel-button-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.cancel_button_label:i,e))+'</span>\n                    </button>\n                    <button id="modal-confirm-button" class="button button--action modal-window-confirm-button js-modal-window-confirm-button" data-t="confirmation-modal-confirm-button" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.confirm_button:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                        <span data-t="confirmation-modal-confirm-button-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.confirm_button_label:i,e))+"</span>\n                    </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-confirmation motmot" data-t="confirmation-modal">\n    <div class="modal-window-canvas" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="modal-window-container" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.subcategory_dunamis:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'>\n            <p class="modal-window-badge"><img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" /></p>\n            <p class="modal-window-header" id="modal-title" data-t="confirmation-modal-subject-text">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))+"</p>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.thumb_url:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.question:i,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.extended_license:i,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'            <p class="modal-window-footer">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.use_links:i,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.program(23,a,0),data:a}))?i:"")+"            </p>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationContent",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-bottom-xlarge">\n    <p class="left-align grey gravel-text">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.heading:i,e))+'</p>\n    <div class="padding-xlarge padding-top-medium margin-bottom-xlarge left-align white grey gravel-text border-radius-4">\n        <p class="text-sregular margin-top-xsmall"><b>'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.benefits:i,e))+'</b></p>\n        <p class="text-sregular">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.body:i,e))+'</p>\n        <ul class="list-style-disc text-sregular margin-left-xlarge">\n            <li class="margin-bottom-medium">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.bullet1:i,e))+'</li>\n            <li class="margin-bottom-medium">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.bullet2:i,e))+"</li>\n            <li>"+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.bullet3:i,e))+"</li>\n        </ul>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationFooter",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<button class="js-modal-window-dismiss-button white-text margin-right-medium">\n    '+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.later:i,e))+'\n</button>\n<button id="modal-window-start-migration" class="button button--dialog hide-modal" type="submit">\n    '+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.start:i,e))+"\n</button>\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationLinkReminderContent",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-bottom-xlarge" data-t="t2e-modal-link-reminder-content">\n    <p class="left-align grey gravel-text text-medium">\n        '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MIGRATION::You can still transfer your content later. You can do so by navigate to %s to make the transfer.",{name:"_",hash:{},data:a}),(t.linkBuilder||e&&e.linkBuilder||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.t2e_migration_url:i,{name:"linkBuilder",hash:{target:"_blank",class:"blue bleu-de-france-text",text:"stock.adobe.com/migration"},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'\n    </p>\n    <p class="left-align grey gravel-text text-medium">\n        '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MIGRATION::You can also contact %s for additional support.",{name:"_",hash:{},data:a}),(t.linkBuilder||e&&e.linkBuilder||t.helperMissing).call(e,"https://www.adobe.com/go/get-started",{name:"linkBuilder",hash:{target:"_blank",class:"blue bleu-de-france-text",text:(t._||e&&e._||t.helperMissing).call(e,"MIGRATION::Adobe Customer Care",{name:"_",hash:{},data:a}),"gotourl-localize":!0},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n    </p>\n</div>\n\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationLinkReminderFooter",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button class="button button--dialog hide-modal js-motmot-modal-close"\n        type="submit">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MIGRATION::Continue",{name:"_",hash:{},data:a}))+"\n</button>\n"},useData:!0})}),define("hbs!templates/modalWindow/saveToDevice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                    <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.asset_link:i,e))+'" class="modal-window-asset" />\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-save-to-device">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <p class="modal-window-help-text">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.help_text:i,e))+'</p>\n            <button type="button" id="details-close-button" class="detail-nav-button modal-window-dismiss-icon js-modal-window-dismiss-button">\n                <i class="icon-close"></i>\n            </button>\n            <div class="modal-window-asset-container">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.display_image:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/cceMultipleChoices",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'                                <div class="row align-center">\n                                    <div class="column on-small-12 center-align hide" id="js-container-multiple-choices-editorial-restrictions" data-t="modal-multiple-choices-editorial-restrictions">\n                                        <div class="padding-top-medium">\n                                            <div class="blue bleu-de-france-text">\n                                                <i class="mti-icon icon-infofull mti-2x"></i>\n                                            </div>\n                                        </div>\n\n                                        <div class="padding-top-xsmall padding-bottom-xsmall">\n                                            <span class="text-regular">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_video:i,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'                                            </span>\n                                        </div>\n                                        <div class="text-small grey silver-sand-text">\n                                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::To learn more about editorial terms and conditions,",{name:"_",hash:{},data:a}))+'\n                                            <a data-t="license-link" class="bold blue bleu-de-france-text" href="'+this.escapeExpression((s=null!=(s=t.licenseTermsEditorialLink||(null!=e?e.licenseTermsEditorialLink:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"licenseTermsEditorialLink",hash:{},data:a}):s))+'"  target="_blank">\n                                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::click here",{name:"_",hash:{},data:a}))+'\n                                            </a>\n                                        </div>\n                                        <div data-t="restrictions-popup-link" id="restrictions-popup-link" data-is-hidden="true">\n                                            <a class="default-link text-small blue bleu-de-france-text">\n                                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Additional restrictions may apply",{name:"_",hash:{},data:a}))+"\n                                            </a>\n                                        </div>\n                                    </div>\n                                </div>\n"},2:function(e,t,n,a){return"                                                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::This video has editorial restrictions",{name:"_",hash:{},data:a}))+"\n"},4:function(e,t,n,a){return"                                                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::This image has editorial restrictions",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="js-modal-multiple-choices modal-multiple-choices" data-t="modal-multiple-choices">\n        <div class="mti-modal modal--with-header modal--secondary modal--large animated fade-in" data-state="shown">\n            <div class="modal__body overflow-visible">\n                <i class="modal__close mti-icon icon-close js-modal-window-dismiss-button"></i>\n                <form  method="post" class="js-cce-modal-multiple-choices-form">\n                    <div class="modal__header center-align">\n                        <div id="modal-title" data-t="modal-multiple-choices-title">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::HEADER::Choose the license",{name:"_",hash:{},data:a}))+'\n                        </div>\n                    </div>\n                    <div class="modal__content">\n                        <div class="padding-large" data-t="modal-multiple-choices-content">\n                            <div class="row">\n                                <div class="column on-small-12" id="js-container-multiple-choices" data-t="modal-multiple-choices-plans"></div>\n                            </div>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_editorial:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                        </div>\n                    </div>\n                    <div class="modal__footer center-align container-absolute container-full">\n                        <button class="button button--dialog js-cce-modal-multiple-choices-button js-modal-window-multiple-choice-button" type="button" data-t="modal-multiple-choices-button">\n                            <span>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+"\n                            <span>\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/multipleChoices",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                    <div class="modal-window-title">'+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))?i:"")+"</div>\n"},3:function(e,t,n,a){var i;return'                    <div class="modal-window-subtext">'+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.subtext:i,e))?i:"")+"</div>\n"},5:function(e,t,n,a){var i;return'                <div class="modal-window-thumb">\n                    <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.thumb_url:i,e))+'"/>\n                </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-multiple-choices">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <button type="button" id="details-close-button" class="detail-nav-button modal-window-dismiss-icon js-modal-window-dismiss-button">\n                <i class="icon-close"></i>\n            </button>\n            <p class="modal-window-badge">\n                <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" />\n            </p>\n            <div class="modal-window-header" id="modal-title">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.subject:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.subtext:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"            </div>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.thumb_url:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'\n            <div class="modal-window-body">\n                <div id="js-container-multiple-choices" class="container-multiple-purchase" data-t="container-multiple-choices">\n                    <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/loading_circle.svg",{name:"staticCdn",hash:{},data:a}))+'" class="spinner" width="40">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:!0})}),define("hbs!templates/modalWindow/extended",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-confirmation-extended">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <p class="modal-window-badge">\n                <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" />\n            </p>\n            <p class="modal-window-header" id="modal-title">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PURCHASE::IMAGE::MODAL::SUBJECT::Confirm Purchase",{name:"_",hash:{},data:a}))+'</p>\n            <p class="modal-window-body">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.question:i,e))+'</p>\n            <p class="modal-window-footer">\n                <button id="modal-cancel-button" class="modal-window-cancel-button rounded-button gray js-modal-window-cancel-button">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Cancel",{name:"_",hash:{},data:a}))+'</button>\n                <button id="modal-confirm-button" class="modal-window-confirm-button rounded-button blue js-modal-window-confirm-extended-button">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Buy license",{name:"_",hash:{},data:a}))+"</button>\n            </p>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/openInMessage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="modal-save-to-device">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <div class="motmot">\n                <div class="padding-large container-relative">\n                    <button type="button" class="js-modal-window-dismiss-button container-absolute to-the-top to-the-right">\n                        <i class="mti-icon mti-large mti-default-button icon-close grey mountain-mist-text"></i>\n                    </button>\n                    <div class="center-align">\n                        <h2 class="grey mountain-mist-text">\n                            <span class="text-medium light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::HEADER::Could not open your file.",{name:"_",hash:{},data:a}))+'</span>\n                        </h2>\n                        <p class="grey gravel-text text-sregular light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,'OPENIN::BODY::To use the "Open in..." feature, you must be logged in to Adobe Creative Cloud and have the latest version of the app installed.',{name:"_",hash:{},data:a}))+'</p>\n                        <div class="border-1 border-solid nurse-border"></div>\n                        <div class="padding-top-medium padding-bottom-medium">\n                            <div class="center-align">\n                                <i class="mti-icon icon-creative-cloud mti-2x red lust-text"></i>\n                                <a href="https://www.adobe.com/creativecloud/catalog/desktop.html?promoid=NQCJRCJ2&mv=other" target="_blank" class="text-sregular blue bleu-de-france-text light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::CC_LINK:: Get a free trial today",{name:"_",hash:{},data:a}))+'</a>\n                            </div>\n                        </div>\n                        <div class="border-1 border-solid nurse-border"></div>\n                    </div>\n                    <div class="center-align">\n                        <p class="grey gravel-text text-sregular light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::FOOTER::If you are already logged into Creative Cloud, try the Open in... command again, or contact",{name:"_",hash:{},data:a}))+' <a href="https://helpx.adobe.com'+this.escapeExpression((t.mapToAdobeBaseUrl||e&&e.mapToAdobeBaseUrl||t.helperMissing).call(e,null!=e?e.base_url:e,"/th",{name:"mapToAdobeBaseUrl",hash:{},data:a}))+'/stock.html" target="_blank" class="text-sregular blue bleu-de-france-text light"> '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::FOOTER::Adobe Customer Support",{name:"_",hash:{},data:a}))+"</a>. "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::FOOTER::Alternately, you can save the file to your desktop or a Creative Cloud library.",{name:"_",hash:{},data:a}))+"</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/templatePreview",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                        <div class="container-table-cell no-stretch">\n                            <div class="padding-right-small margin-top-xsmall">\n                                <img class="circle" src="'+this.escapeExpression((i=null!=(i=t.avatar||(null!=e?e.avatar:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"avatar",hash:{},data:a}):i))+'" width="44" height="44">\n                            </div>\n                        </div>\n'},3:function(e,t,n,a){var i;return'                                <nav>\n                                    <ul class="nav nav--inline nav-gravel-text nav-crayola-hover">\n                                        <li class="nav__item"><span class="grey gravel-text text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"AUTHOR::By",{name:"_",hash:{},data:a}))+'&nbsp;</li>\n                                        <li class="nav__item"><a class="nav__link" href="'+this.escapeExpression((i=null!=(i=t.artist_page_url||(null!=e?e.artist_page_url:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"artist_page_url",hash:{},data:a}):i))+'"><span class="text-sregular">'+this.escapeExpression((i=null!=(i=t.author||(null!=e?e.author:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"author",hash:{},data:a}):i))+"</span></a></li>\n                                    </ul>\n                                </nav>\n"},5:function(e,t,n,a){var i;return'                                <span class="grey gravel-text text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"AUTHOR::By",{name:"_",hash:{},data:a}))+"&nbsp;\n                                "+this.escapeExpression((i=null!=(i=t.author||(null!=e?e.author:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"author",hash:{},data:a}):i))+"\n                                </span>\n"},7:function(e,t,n,a){var i
;return'                    <video preload="none" autoplay="autoplay" loop="loop" poster="'+this.escapeExpression((i=null!=(i=t.thumbnail_url||(null!=e?e.thumbnail_url:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbnail_url",hash:{},data:a}):i))+'" muted="muted">\n                        <source src="'+this.escapeExpression((i=null!=(i=t.video_preview_url||(null!=e?e.video_preview_url:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"video_preview_url",hash:{},data:a}):i))+'" type="video/mp4" />\n                    </video>\n'},9:function(e,t,n,a){var i;return'                    <img src="'+this.escapeExpression((i=null!=(i=t.original_url||(null!=e?e.original_url:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"original_url",hash:{},data:a}):i))+'" class="responsive-img" />\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div id="previewModal" class="mti-modal modal--large modal--secondary modal--centered modal--with-header animated fade-in">\n        <div class="modal__body">\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n            <div class="modal__header">\n                <div class="container-table container-full">\n'+(null!=(i=t.if.call(e,null!=e?e.avatar:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                    <div class="container-table-cell">\n                        <h2 class="no-margin">\n                            <span class="text-regular grey gravel-text">'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"title",hash:{},data:a}):s))+'</span>\n                        </h2>\n                        <h4 class="no-margin">\n'+(null!=(i=t.if.call(e,null!=e?e.artist_page_url:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+'                        </h4>\n                    </div>\n                </div>\n            </div>\n            <div class="modal__content">\n'+(null!=(i=t.if.call(e,null!=e?e.video_preview_url:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/welcomeBack",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div id="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.modalId:i,e))+'" class="mti-modal modal--with-header animated fade-in" data-is-hidden="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.hiddenState:i,e))+'" data-is-medium-modal="false">\n        <div class="modal__body">\n            <i class="js-modal-window-dismiss-button modal__close mti-icon icon-close hide-modal"></i>\n            <div id="js-modal-container">\n                <div class="modal__header">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Welcome Back",{name:"_",hash:{},data:a}))+'\n                </div>\n\n                <div class="modal__content">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Good News! We noticed you already have a subscription. Please make your selection again.",{name:"_",hash:{},data:a}))+'\n                </div>\n\n                <div class="modal__footer">\n                    <button class="js-modal-window-dismiss-button button button--dialog hide-modal" type="submit">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+'\n                    </button>\n                </div>\n            </div>\n            <div id="js-modal-spinner" class="modal__spinner medium-heavy-metal-overlay container-absolute to-all" data-is-hidden="true">\n                <div class="c-align">\n                    <div class="spinner spinner--large"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n'},useData:!0})}),define("hbs!templates/modalWindow/teamfmf",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return' <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link:i,e))+'" target="_blank">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link_label:i,e))+"</a>"},3:function(e,t,n,a){var i;return'                                        <p class="padding-top-medium">\n                                            <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link:i,e))+'" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.target_blank:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+' class="blue bleu-de-france-text text-regular no-wrap">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link_label:i,e))+"</a>\n                                        </p>\n"},4:function(e,t,n,a){return'target="_blank"'},6:function(e,t,n,a){return'                            <i class="modal__close mti-icon icon-close js-modal-window-dismiss-button"></i>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="mti-modal modal--large" data-t="team-free-licenses-modal">\n        <div class="modal__body">\n            <div class="modal__content">\n                <div class="container-table">\n                    <div class="container-table-cell">\n                        <div class="padding-left-small padding-right-small padding-top-xlarge">\n                            <div class="padding-left-xlarge padding-right-xlarge padding-top-xlarge">\n                                <span class="blue bleu-de-france-text text-xlarge line-height-small '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject_style:i,e))+'">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))+'</span>\n                                <p class="grey light '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_style:i,e))+'">'+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.escaped_body:i,e))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.body_link_label:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'</p>\n                                <div class="padding-top-xlarge '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_row_style:i,e))+'">\n                                    <form name="js-fmf-offer-phone" method="get">\n                                        <div class="no-wrap">\n                                            <input type="text" id="js-phone" name="phone_number" placeholder="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.placeholder:i,e))+'" size="25" class="input--large" data-state="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.phone_input_state:i,e))+'">\n                                            <span class="margin-left-small">\n                                                <a id="modal-ok-button" href="#" class="button button--action '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_style:i,e))+' js-modal-window-ok-button">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_label:i,e))+'</a>\n                                            </span>\n                                        </div>\n                                        <span id="js-checkout-user-facing-errors" class="red coral-text text-xsmall" data-state="hidden">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::FREE_LICENSES::Please enter a valid phone number",{name:"_",hash:{},data:a}))+'</span>\n                                    </form>\n                                </div>\n                                <div class="center-align">\n                                    <p class="grey mountain-mist-text text-sregular">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.disclaimer:i,e))+'</p>\n                                </div>\n                                <div class="center-align padding-top-xlarge">\n                                    <div class="padding-top-xlarge"></div>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.footer_link:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="container-table-cell">\n                        <div class="container-relative">\n                            <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/promo/yarn_hands.jpg",{name:"staticCdn",hash:{},data:a}))+'"/>\n                            <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020.svg",{name:"staticCdn",hash:{},data:a}))+'" width="36" class="container-absolute to-the-bottom to-the-right margin-right-large margin-bottom-large"/>\n                        </div>\n\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.icon_close:i,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+"                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/licenseRecordOptions",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return' value="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.record_options:e)?i.record_name:i,e))+'"'},3:function(e,t,n,a){var i,s;return"                                            <div"+(null!=(i=t.if.call(e,null!=e?e.hidden:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                                                <div class="row">\n                                                    <div class="column on-small-7">\n                                                        <span class="grey silver-sand-text text-up">'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'</span>\n                                                    </div>\n                                                    <div class="column on-small-5">\n                                                        <span class="grey dove-text text-up">'+this.escapeExpression(this.lambda(null!=e?e.nb:e,e))+"</span>\n                                                    </div>\n                                                </div>\n                                            </div>\n"},4:function(e,t,n,a){return' class="js-modal-details-row hidden"'},6:function(e,t,n,a){return'                                            <div class="margin-top-xsmall">\n                                                <a class="js-expand-record-details blue bleu-de-france-text btn-expand-modal-details">\n                                                    <span class="font-normal">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::See all",{name:"_",hash:{},data:a}))+'</span>\n                                                    <i class="icon-arrow-down"></i><i class="icon-arrow-up"></i>\n                                                </a>\n                                            </div>\n'},8:function(e,t,n,a){var i;return'                                    <div class="margin-bottom-xsmall">\n                                        <p class="text-sregular">\n                                            <span class="grey dove-text font-semibold text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Group Assets",{name:"_",hash:{},data:a}))+"</span>\n                                            <br/>\n                                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may choose to group your licensed assets by project, by customer, by purchase order or any other reference.",{name:"_",hash:{},data:a}))+"\n                                            <br/>\n                                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Each new project, customer, purchase order or other references will start on a new page on your record.",{name:"_",hash:{},data:a}))+'\n                                        </p>\n                                        <div class="select-box">\n                                            <select name="grouped">\n                                                <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not group assets",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(i=t.each.call(e,null!=e?e.group_by:e,{name:"each",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+"                                            </select>\n                                        </div>\n                                    </div>\n"},9:function(e,t,n,a){var i,s;return"                                                    <option value="+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:a&&a.key,logic:"eq",value:(i=a&&a.root)&&i.grouped_by_option},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+">\n                                                        "+this.escapeExpression(this.lambda(e,e))+"\n                                                    </option>\n"},10:function(e,t,n,a){return' selected="true"'},12:function(e,t,n,a){var i;return'                                    <div class="margin-bottom-xsmall">\n                                        <p class="text-sregular">\n                                            <span class="grey dove-text font-semibold text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display Price",{name:"_",hash:{},data:a}))+"</span>\n                                            <br/>\n                                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Please specify if you want to display the price of the asset you licensed in your record.",{name:"_",hash:{},data:a}))+"\n                                            <br/>\n                                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::And if so, if the price must appear in credits or in currency.",{name:"_",hash:{},data:a}))+'\n                                        </p>\n                                        <div class="select-box">\n                                            <select name="price">\n                                                <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not display price",{name:"_",hash:{},data:a}))+'</option>\n                                                <option value="1"'+(null!=(i=t.if.call(e,null!=e?e.price_display_option:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display price in credit",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(i=t.if.call(e,null!=e?e.facing_price_enabled:e,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")+"                                            </select>\n                                        </div>\n                                    </div>\n"},13:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"1",logic:"eq",value:null!=e?e.price_display_option:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},15:function(e,t,n,a){var i;return'                                                    <option value="2"'+(null!=(i=t.if.call(e,null!=e?e.price_display_option:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display price in currency",{name:"_",hash:{},data:a}))+"</option>\n"},16:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"2",logic:"eq",value:null!=e?e.price_display_option:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div class="mti-modal modal--with-header modal--secondary modal--large animated fade-in modal-record">\n        <div class="modal__body">\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n            <form name="js-license-record-options" method="post">\n                <fieldset class="modal__fieldset">\n                    <div class="modal__header left-align">\n                        <div id="modal-title" class="grey silver-sand-text">\n                            '+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"title",hash:{},data:a}):s))+'\n                        </div>\n                        <div class="font-semibold">\n                            '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"FILE::%s File","FILE::%s Files",null!=e?e.nb_assets:e,{name:"ngettext",hash:{},data:a}),(t.number||e&&e.number||t.helperMissing).call(e,null!=e?e.nb_assets:e,{name:"number",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))+'\n                        </div>\n                    </div>\n                    <div class="modal__content">\n                        <div class="padding-medium">\n                            <div class="margin-bottom-small">\n                                <div class="row">\n                                    <div class="column on-medium-12 on-large-6 padding-medium">\n                                        <div class="margin-bottom-xsmall left-align">\n                                            <span class="grey dove-text font-semibold text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Record Name",{name:"_",hash:{},data:a}))+'</span>\n                                            <input id="licenseRecordName" type="text" name="name" class="input--full" required placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Enter a name for this record...",{name:"_",hash:{},data:a}))+'"'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.record_options:e)?i.record_name:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                                        </div>\n\n                                        <div class="margin-bottom-xsmall left-align">\n                                            <span class="grey dove-text font-semibold text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Additional Notes",{name:"_",hash:{},data:a}))+'</span>\n                                            <textarea name="notes" class="input--full" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may enter additional notes here (e.g. Special note for accounting department)",{name:"_",hash:{},data:a}))+'">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.record_options:e)?i.notes:i,e))+'</textarea>\n                                        </div>\n                                    </div>\n                                    <div class="column on-medium-12 on-large-6 padding-medium font-semibold text-small">\n                                        <div class="margin-bottom-small">\n                                            <span class="grey dove-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Record Details",{name:"_",hash:{},data:a}))+'</span>\n                                        </div>\n                                        <div class="row">\n                                            <div class="column on-small-7">\n                                                <span class="grey silver-sand-text text-up">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Period",{name:"_",hash:{},data:a}))+'</span>\n                                            </div>\n                                            <div class="column on-small-5">\n                                                <span class="grey dove-text text-up">'+this.escapeExpression((s=null!=(s=t.period||(null!=e?e.period:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"period",hash:{},data:a}):s))+'</span>\n                                            </div>\n                                        </div>\n                                        <div class="row">\n                                            <div class="column on-small-7">\n                                                <span class="grey silver-sand-text text-up">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Assets",{name:"_",hash:{},data:a}))+'</span>\n                                            </div>\n                                            <div class="column on-small-5">\n                                                <span class="grey dove-text text-up">'+this.escapeExpression((s=null!=(s=t.nb_assets||(null!=e?e.nb_assets:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"nb_assets",hash:{},data:a}):s))+"</span>\n                                            </div>\n                                        </div>\n"+(null!=(i=t.each.call(e,null!=e?e.references:e,{name:"each",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.referencesToggle:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'                                    </div>\n                                </div>\n                            </div>\n                            <div class="center-align border-bottom-1 border-bottom-solid grey-border silver-sand-border padding-xsmall">\n                                <span class="grey silver-sand-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Please specify your record options bellow.",{name:"_",hash:{},data:a}))+'</span>\n                            </div>\n                            <div class="padding-medium">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:1,logic:"more",value:null!=e?e.nb_assets:e},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.unless.call(e,null!=e?e.price_display_is_disabled:e,{name:"unless",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+'\n                                <div class="margin-bottom-xsmall">\n                                    <p class="text-sregular">\n                                        <span class="grey dove-text font-semibold text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Minimum Terms",{name:"_",hash:{},data:a}))+"</span>\n                                        <br/>\n                                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may decide to attach a copy of the Minimum Terms to your record.",{name:"_",hash:{},data:a}))+"\n                                        <br/>\n                                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::The Minimum Terms includes license rights and restrictions that may apply to the assets.",{name:"_",hash:{},data:a}))+'\n                                    </p>\n                                    <div class="select-box">\n                                        <select name="terms">\n                                            <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not attach terms",{name:"_",hash:{},data:a}))+'</option>\n                                            <option value="1"'+(null!=(i=t.if.call(e,null!=e?e.has_terms_included:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Attach terms",{name:"_",hash:{},data:a}))+'</option>\n                                        </select>\n                                    </div>\n                                </div>\n                        </div>\n                    </div>\n                    <div class="modal__footer center-align">\n                        <button class="button button--dialog">\n                            <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Generate Record",{name:"_",hash:{},data:a}))+'</span>\n                        </button>\n                        <div class="modal__loading">\n                            <div class="spinner spinner--secondary"></div>\n                            <span class="white-text padding-left-small padding-right-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Please wait...",{name:"_",hash:{},data:a}))+"</span>\n                        </div>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n    <div>\n</div>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/tabsHeaderItem",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" active"},3:function(e,t,n,a){var i,s;return'            <sup class="inline text-xsmall '+this.escapeExpression((s=null!=(s=t.counterIdentifier||(null!=e?e.counterIdentifier:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"counterIdentifier",hash:{},data:a}):s))+'">\n'+(null!=(i=t.if.call(e,null!=e?e.counterLabel:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"            </sup>\n"},4:function(e,t,n,a){var i;return"                    ("+this.escapeExpression((i=null!=(i=t.counterLabel||(null!=e?e.counterLabel:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"counterLabel",hash:{},data:a}):i))+")\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<li class="modal-bulk-selection--tabs__item container-relative in-front margin-right-large'+(null!=(i=t.if.call(e,null!=e?e.active:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'" data-tab="'+this.escapeExpression((s=null!=(s=t.tab||(null!=e?e.tab:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"tab",hash:{},data:a}):s))+'" >\n    <a class="modal-bulk-selection--tabs__link" data-t="'+this.escapeExpression((s=null!=(s=t.dataT||(null!=e?e.dataT:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"dataT",hash:{},data:a}):s))+'">\n        '+this.escapeExpression((s=null!=(s=t.label||(null!=e?e.label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"label",hash:{},data:a}):s))+"\n"+(null!=(i=t.if.call(e,null!=e?e.counterIdentifier:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"    </a>\n</li>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintAdd",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="add-to-selection-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Add back to selection",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintRemove",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="remove-from-selection-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Remove from selection",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/modalWindow/bulkLicenseRecordOptions",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'                                                    <tr class="js-modal-table-asset-row js-modal-tr-'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'" data-select="'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'" data-t="selected-asset-'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'">\n                                                        <input class="js-modal-table-asset-checkbox" type="checkbox" checked="checked" value="'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'" hidden/>\n                                                        <td class="table__td">\n                                                            <div class="license-image container-relative">\n                                                                <img class="c-align pointer-events-none" src="'+this.escapeExpression(this.lambda(null!=e?e.content_thumb_url:e,e))+'" data-t="selected-asset-thumbnail"/>\n                                                            </div>\n                                                        </td>\n                                                        <td class="table__td">\n'+(null!=(i=t.each.call(e,null!=e?e.license_references:e,{name:"each",hash:{},fn:this.program(2,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+'                                                        </td>\n                                                        <td class="table__td center-align">\n                                                            <div class="margin-right-medium table-assets-select__actions">\n                                                                <span class="js-modal-asset-toggle-remove table-assets-select__action cursor-pointer" data-rel="'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'" data-t="remove-from-selection-button">\n                                                                    <i class="mti-icon mti-icon--framed icon-close half-heavy-metal-overlay white-text text-regular no-padding"></i>\n                                                                </span>\n                                                            </div>\n                                                        </td>\n                                                    </tr>\n'},2:function(e,t,n,a){var i
;return'                                                                <div class="column on-small-6 text-small padding-right-xsmall padding-bottom-xsmall">\n                                                                    <span class="bold">'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+"</span>: </br>\n                                                                    <span>"+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+"</span>\n                                                                </div>\n"},3:function(e,t,n,a){return this.escapeExpression(this.lambda(null!=e?e.value:e,e))},5:function(e,t,n,a){return"-"},7:function(e,t,n,a){return'                                                                <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::No license references",{name:"_",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div class="mti-modal modal-bulk-selection modal--large modal--secondary modal--with-header animated fade-in" data-state="shown">\n        <div class="modal__body overflow-visible" data-t="bulk-licensing-modal">\n            <i class="modal__close mti-icon icon-close js-hide-modal" data-t="close-icon"></i>\n            <form name="js-license-record-options" method="post">\n                <div class="modal__header center-align">\n                    <span data-t="modal-bulk-title">'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"title",hash:{},data:a}):s))+'</span>\n                </div>\n                <div class="modal__content grey gravel-text">\n                    <div class="js-modal-bulk-content-wrapper container-relative padding-large">\n                        <div class="border-1 border-solid border-radius-4 white nurse-border padding-medium margin-bottom-xlarge">\n                            <div class="container-inline-block padding-right-large">\n                                <table class="left-align v-align-top text-sregular">\n                                    <tbody>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge" data-t="number-of-assets-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Number of assets",{name:"_",hash:{},data:a}))+'</td>\n                                            <td class="js-modal-nb-assets" data-t="number-of-assets-text-value">\n'+(null!=(i=this.invokePartial(n["modalWindow/numberFilesLicenseReferences"],e,{name:"modalWindow/numberFilesLicenseReferences",hash:{number_selected:null!=e?e.nb_assets:e},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+'                                            </td>\n                                        </tr>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge">\n                                                <strong data-t="price-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Period",{name:"_",hash:{},data:a}))+'</strong>\n                                            </td>\n                                            <td class="js-modal-total-prices-column">\n                                                <span class="grey dove-text text-up">'+this.escapeExpression((s=null!=(s=t.period||(null!=e?e.period:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"period",hash:{},data:a}):s))+'</span>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                        <div class="border-1 border-solid border-radius-4 nurse-border">\n                            <div class="row">\n                                <div class="column on-small-12 on-medium-6">\n                                    <div class="modal-bulk-selection-assets-wrapper overflow-scroll border-right-solid grey alabaster">\n                                        <table class="table-assets-select table table--default">\n                                            <tbody>\n'+(null!=(i=t.each.call(e,null!=e?e.assets:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                                <div class="js-modal-bulk-selection-tabs column on-small-12 on-medium-6">\n                                    <div class="padding-medium">\n                                        <div class="modal-bulk-selection--tabs container-relative">\n                                            <ul>\n'+(null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:!0,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::License Record Details",{name:"_",hash:{},data:a}),dataT:"license-record-options",tab:"license_record_options"},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+'                                            </ul>\n                                        </div>\n\n                                        <div class="tab-content" data-tab="license_record_options">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseRecordDetailsFieldSet"],e,{name:"modalWindow/licenseRecordDetailsFieldSet",data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+'                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="js-modal-bulk-selection-tooltip tooltip tooltip--fixed-width in-front" data-is-hidden="true"></div>\n                    </div>\n                </div>\n                <div class="modal__footer right-align">\n                    <button class="js-modal-button-license button button--dialog button--action" data-t="modal-license-record-btn-cta">\n                        <i class="mti-icon"></i>\n                        <span data-t="modal-license-record-btn-cta">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Generate License Record",{name:"_",hash:{},data:a}))+"</span>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/licenseRecordDetailsFieldSet",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,(i=a&&a.root)&&i.group_by,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return'        <div class="margin-bottom-medium">\n            <div data-t="license-record-grouped-label" class="grey dove-text font-semibold text-small margin-bottom-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Group Assets",{name:"_",hash:{},data:a}))+'</div>\n            <div class="js-license-reference-group-by select-box">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseRecordGroupAssets"],e,{name:"modalWindow/licenseRecordGroupAssets",hash:{grouped_by_option:(i=a&&a.root)&&i.grouped_by_option,groups:(i=a&&a.root)&&i.group_by},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div data-t="license-record-grouped-icon" class="container-relative container-inline-block info-icon-tooltip-details">\n                <i class="mti-icon icon-infofull blue bleu-de-france-text"></i>\n                <div class="tooltip tooltip--secondary tooltip--right">\n                    <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may choose to group your licensed assets by project, by customer, by purchase order or any other reference.",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Each new project, customer, purchase order or other references will start on a new page on your record.",{name:"_",hash:{},data:a}))+"</span>\n                </div>\n            </div>\n        </div>\n"},4:function(e,t,n,a){var i;return'    <div class="margin-bottom-medium">\n        <div data-t="license-record-price-label" class="grey dove-text font-semibold text-small margin-bottom-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display Price",{name:"_",hash:{},data:a}))+'</div>\n        <div class="select-box">\n            <select name="price" data-t="license-record-price-select">\n                <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not display price",{name:"_",hash:{},data:a}))+'</option>\n                <option value="1"'+(null!=(i=t.if.call(e,null!=e?e.price_display_option:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display price in credit",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(i=t.if.call(e,null!=e?e.facing_price_enabled:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'            </select>\n        </div>\n        <div data-t="license-record-price-icon" class="container-relative container-inline-block info-icon-tooltip-details">\n            <i class="mti-icon icon-infofull blue bleu-de-france-text"></i>\n            <div class="tooltip tooltip--secondary tooltip--right">\n                <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Please specify if you want to display the price of the asset you licensed in your record.",{name:"_",hash:{},data:a}))+'</span>\n                <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::And if so, if the price must appear in credits or in currency.",{name:"_",hash:{},data:a}))+"</span>\n            </div>\n        </div>\n    </div>\n"},5:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"1",logic:"eq",value:null!=e?e.price_display_option:e},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:""},6:function(e,t,n,a){return' selected="true"'},8:function(e,t,n,a){var i;return'                    <option value="2"'+(null!=(i=t.if.call(e,null!=e?e.price_display_option:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display price in currency",{name:"_",hash:{},data:a}))+"</option>\n"},9:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"2",logic:"eq",value:null!=e?e.price_display_option:e},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="margin-bottom-small">\n    <div class="row">\n        <div class="column on-large-12 padding-top-medium">\n            <div class="margin-bottom-xsmall margin-top-small left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{value:null!=(i=null!=e?e.record_options:e)?i.record_name:i,id:"licenseRecordName",required:!0,placeholder:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Enter a name for this record...",{name:"_",hash:{},data:a}),dataT:"license-record-name",name:"name",label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Record Name",{name:"_",hash:{},data:a})},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div class="margin-bottom-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{value:null!=(i=null!=e?e.record_options:e)?i.notes:i,dataT:"license-record-notes",placeholder:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may enter additional notes here (e.g. Special note for accounting department)",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Additional Notes",{name:"_",hash:{},data:a}),type:"textarea",name:"notes"},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+"             </div>\n        </div>\n    </div>\n</div>\n\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:1,logic:"more",value:null!=e?e.nb_assets:e},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.unless.call(e,null!=e?e.price_display_is_disabled:e,{name:"unless",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+'\n<div class="margin-bottom-medium">\n    <div data-t="license-record-terms-label" class="grey dove-text font-semibold text-small margin-bottom-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Minimum Terms",{name:"_",hash:{},data:a}))+'</div>\n    <div class="select-box">\n        <select name="terms" data-t="license-record-terms-select">\n            <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not attach terms",{name:"_",hash:{},data:a}))+'</option>\n            <option value="1"'+(null!=(i=t.if.call(e,null!=e?e.has_terms_included:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Attach terms",{name:"_",hash:{},data:a}))+'</option>\n        </select>\n    </div>\n    <div data-t="license-record-terms-icon" class="container-relative container-inline-block info-icon-tooltip-details">\n        <i class="mti-icon icon-infofull blue bleu-de-france-text"></i>\n        <div class="tooltip tooltip--secondary tooltip--right">\n            <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may decide to attach a copy of the Minimum Terms to your record.",{name:"_",hash:{},data:a}))+'</span>\n            <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::The Minimum Terms includes license rights and restrictions that may apply to the assets.",{name:"_",hash:{},data:a}))+"</span>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/licenseRecordGroupAssets",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r,l;return"        <option value="+this.escapeExpression((l=null!=(l=t.key||a&&a.key)?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"key",hash:{},data:a}):l))+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:a&&a.key,logic:"eq",value:null!=s[1]?s[1].grouped_by_option:s[1]},fn:this.program(2,a,0,i,s),inverse:this.noop,data:a}))?r:"")+">\n            "+this.escapeExpression(this.lambda(e,e))+"\n        </option>\n"},2:function(e,t,n,a){return' selected="true"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<select name="grouped" data-t="license-record-grouped-select">\n    <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not group assets",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(r=t.each.call(e,null!=e?e.groups:e,{name:"each",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"</select>\n"},useData:!0,useDepths:!0})}),define("hbs!templates/modalWindow/licensingDetailModal",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                                <div class="column on-small-12 on-large-8">\n                                    <div class="padding-right-large">\n                                        <div class="player">\n                                            <div class="player-content">\n                                                <video preload="none" poster="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.content_thumb_large_url:i,e))+'" onmouseover="this.play()" onmouseout="this.pause()" muted="muted" class="container-block" autoplay="autoplay" loop="loop">\n                                                    <source src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.video_preview_url:i,e))+'" type="video/mp4"  />\n                                                </video>\n'+(null!=(i=this.invokePartial(n.thumbnailBadges,e,{name:"thumbnailBadges",hash:{license_transfers:null!=e?e.licenseTransfers:e,displayLicense:null!=e?e.displayLicenseBadge:e},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+'                                                <div class="'+(null!=(i=t.if.call(e,null!=e?e.isPhoenixEnabled:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+' shown">\n                                                    <div class="thumb-indication">\n'+(null!=(i=this.invokePartial(n.videoSvgPicto,e,{name:"videoSvgPicto",data:a,indent:"                                                        ",helpers:t,partials:n}))?i:"")+"\n                                                        "+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'\n                                                    </div>\n                                                    <div class="format">\n                                                        <span class="video_hd white-text '+(null!=(i=t.if.call(e,null!=e?e.isPhoenixEnabled:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"4K",logic:"eq",value:null!=(i=null!=e?e.content:e)?i.resolution:i},fn:this.program(11,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+'                                                        </span>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div class="column on-small-12 on-large-4 padding-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File",{name:"_",hash:{},data:a})},data:a,indent:"                                    ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::%d x %d px",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.content:e)?i.content_original_width:i,null!=(i=null!=e?e.content:e)?i.content_original_height:i,{name:"sprintf",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Dimensions",{name:"_",hash:{},data:a})},data:a,indent:"                                    ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.video_codec:i,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.video_bitrate_in_kbps:i,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.framerate:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                    ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.required_quota:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_just_purchased:i,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.noop,data:a}))?i:"")+"                                </div>\n                            "},2:function(e,t,n,a){return"thumb-indications-v2 container-absolute to-the-bottom half-black-overlay"},4:function(e,t,n,a){return"thumb-indications"},6:function(e,t,n,a){var i;return'<span class="white-text '+(null!=(i=t.if.call(e,null!=e?e.isPhoenixEnabled:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'">'+this.escapeExpression((t.minutes||e&&e.minutes||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"minutes",hash:{},data:a}))+"</span>"},7:function(e,t,n,a){return"text-sregular"},9:function(e,t,n,a){return"text-sregular bold"},11:function(e,t,n,a){return"                                                                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TYPE::4K",{name:"_",hash:{},data:a}))+"\n"},13:function(e,t,n,a){return"                                                                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TYPE::HD",{name:"_",hash:{},data:a}))+"\n"},15:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:null!=(i=null!=e?e.content:e)?i.video_codec:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Codec",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},17:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.bitrate||e&&e.bitrate||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.video_bitrate_in_kbps:i,{name:"bitrate",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::Mbps",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Bit Rate",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},19:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.minutes||e&&e.minutes||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"minutes",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Duration",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},21:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.framerate:i,{name:"number",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Frame Rate",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},23:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/requiredPriceLabel"],e,{name:"modalWindow/requiredPriceLabel",hash:{value:null!=e?e.required_quota:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},25:function(e,t,n,a){var i;return'                                        <div class="row">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Already licensed",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Status",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"                                        </div>\n"},27:function(e,t,n,a){var i;return' \n                                <div class="column on-small-12 on-large-8">\n                                    <div class="padding-right-large">\n                                        <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.content_thumb_large_url:i,e))+'" alt="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.title:i,e))+'" class="responsive-img" />\n'+(null!=(i=this.invokePartial(n.thumbnailBadges,e,{name:"thumbnailBadges",hash:{license_transfer_tooltip_data:null!=e?e.licenseTransfers:e,displayLicenseTransferBadge:null!=e?e.displayLicenseTransferBadge:e,displayLicense:null!=e?e.displayLicenseBadge:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+'                                    </div>\n                                </div>\n\n                                <div class="column on-small-12 on-large-4 padding-xsmall left-align" data-t="license-reference-details">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_template:i,{name:"if",hash:{},fn:this.program(28,a,0),inverse:this.program(30,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.required_quota:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_just_purchased:i,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.noop,data:a}))?i:"")+"\n                                </div>\n"},28:function(e,t,n,a){var i;return(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.filesize||e&&e.filesize||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.size_bytes:i,{name:"filesize",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::MB",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Size",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:null!=(i=null!=e?e.content:e)?i.use_with:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Use With",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")},30:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_3D:i,{name:"if",hash:{},fn:this.program(31,a,0),inverse:this.program(46,a,0),data:a}))?i:""},31:function(e,t,n,a){var i;return"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.primary_file_type:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.filesize||e&&e.filesize||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.size_bytes:i,{name:"filesize",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::MB",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Size",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.content_is_3D_type_lights:e,{name:"if",hash:{},fn:this.program(32,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.content_is_3D_type_materials:e,{name:"if",hash:{},fn:this.program(37,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"                                        "},32:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_outdoor:i,{name:"if",hash:{},fn:this.program(33,a,0),inverse:this.program(35,a,0),data:a}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:null!=(i=null!=e?e.content:e)?i.light_types:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Light Types",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+"\n"},33:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Yes",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Outdoor",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},35:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::No",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Outdoor",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},37:function(e,t,n,a){var i;return"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_tileable:i,{name:"if",hash:{},fn:this.program(38,a,0),inverse:this.program(40,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_procedural:i,{name:"if",hash:{},fn:this.program(42,a,0),
inverse:this.program(44,a,0),data:a}))?i:"")},38:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Yes",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Tileable",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},40:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::No",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Tileable",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},42:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Yes",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Procedural",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},44:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::No",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Procedural",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},46:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_audio:i,{name:"if",hash:{},fn:this.program(47,a,0),inverse:this.program(52,a,0),data:a}))?i:""},47:function(e,t,n,a){var i;return" \n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.audio_bitrate:i,{name:"if",hash:{},fn:this.program(48,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.duration:i,{name:"if",hash:{},fn:this.program(50,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"                                        "},48:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.bitrate||e&&e.bitrate||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.audio_bitrate:i,{name:"bitrate",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::Kbps",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Bit Rate",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},50:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.minutes||e&&e.minutes||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.duration:i,{name:"minutes",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Duration",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},52:function(e,t,n,a){var i;return" \n\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::%d x %d px",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.content:e)?i.content_original_width:i,null!=(i=null!=e?e.content:e)?i.content_original_height:i,{name:"sprintf",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Dimensions",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=(t["if-all-true"]||e&&e["if-all-true"]||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.is_premium:i,(t.not||e&&e.not||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.is_editorial:i,{name:"not",hash:{},data:a}),{name:"if-all-true",hash:{},fn:this.program(53,a,0),inverse:this.program(55,a,0),data:a}))?i:"")+"                                        "},53:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::LICENSE::Extended",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},55:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},57:function(e,t,n,a){var i;return'                            <div class="row">\n                                <div class="center-align border-bottom-1 border-bottom-solid grey-border silver-sand-border padding-xsmall">\n                                    <span class="grey silver-sand-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Please enter license reference(s) below",{name:"_",hash:{},data:a}))+"</span>\n                                </div>\n                            </div>\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesFieldSet"],e,{name:"modalWindow/licenseReferencesFieldSet",data:a,indent:"                            ",helpers:t,partials:n}))?i:"")},59:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseTransferFieldSet"],e,{name:"modalWindow/licenseTransferFieldSet",data:a,indent:"                            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div class="mti-modal modal--with-header modal--secondary modal--large animated fade-in" data-state="shown">\n        <div class="modal__body overflow-visible">\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n            <form name="js-licensing-form" method="post">\n                <div class="modal__header left-align">\n                    <div id="modal-title" class="grey silver-sand-text">\n                        '+this.escapeExpression((s=null!=(s=t.modal_title||(null!=e?e.modal_title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"modal_title",hash:{},data:a}):s))+'\n                    </div>\n                    <div class="font-semibold">'+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::File #%s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.content:e)?i.content_id:i,{name:"sprintf",hash:{},data:a}))+'</div>\n                </div>\n                <div class="modal__content">\n                    <div class="padding-medium">\n                        <div class="row margin-bottom-small">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_video:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(27,a,0),data:a}))?i:"")+"                        </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_references:e,{name:"if",hash:{},fn:this.program(57,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer:e,{name:"if",hash:{},fn:this.program(59,a,0),inverse:this.noop,data:a}))?i:"")+'\n                    </div>\n                </div>\n                <div class="modal__footer center-align container-absolute container-full">\n                    <button class="button button--dialog license-reference-submit-btn">\n                        <span>\n                            '+this.escapeExpression((s=null!=(s=t.button_label||(null!=e?e.button_label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"button_label",hash:{},data:a}):s))+"\n                        <span>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/groupLicenseReferences",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.edit:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:""},2:function(e,t,n,a){var i;return'                                        <div class="container-license-group-image container-relative margin-xsmall js-content-select selected-assets" data-state="selected" data-download-id="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'">\n                                            <div class="selected-item-icon circle">\n                                                <i class="icon-checkmark mti-large blue bleu-de-france-text"></i>\n                                            </div>\n                                            <div class="license-group-image">\n                                                <img src="'+this.escapeExpression(this.lambda(null!=e?e.thumb:e,e))+'"/>\n                                            </div>\n                                        </div>\n'},4:function(e,t,n,a){var i;return'                                        <div class="container-license-group-image container-relative margin-xsmall js-unauthorized-assets" data-state="unauthorized" data-download-id="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'">\n                                            <div class="unauthorized-item-icon circle yellow orange js-unauthorized-item-icon">\n                                                <i class="icon-exclamationmark white-text"></i>\n                                            </div>\n                                            <div class="license-group-image">\n                                                <img src="'+this.escapeExpression(this.lambda(null!=e?e.thumb:e,e))+'"/>\n                                            </div>\n                                        </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="mti-modal modal--with-header modal--large animated fade-in" data-state="shown">\n        <div class="modal__body overflow-visible js-references-modal-body">\n            <div class="js-modal-unauthorized-tooltip"></div>\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n            <form name="js-group-license-references" method="post">\n                <div class="modal__header left-align">\n                    <div id="modal-title" class="grey silver-sand-text">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Update References",{name:"_",hash:{},data:a}))+'\n                    </div>\n                    <div class="font-semibold js-number-selected">\n'+(null!=(i=this.invokePartial(n["modalWindow/numberFilesLicenseReferences"],e,{name:"modalWindow/numberFilesLicenseReferences",data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+'                    </div>\n                </div>\n                <div class="modal__content">\n                    <div class="padding-medium">\n                        <div>\n                            <div class="preview-container js-preview-container border-1 border-solid silver-sand-border padding-xsmall margin-bottom-small">\n'+(null!=(i=t.each.call(e,null!=e?e.content:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                                <div class="clear-fix"></div>\n                            </div>\n                        </div>\n\n                        <div>\n                            <div class="center-align border-bottom-1 border-bottom-solid grey-border silver-sand-border padding-xsmall">\n                                <span class="grey silver-sand-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::New references will apply to all the assets selected above.",{name:"_",hash:{},data:a}))+"</span>\n                            </div>\n                        </div>\n\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesFieldSet"],e,{name:"modalWindow/licenseReferencesFieldSet",data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+'                    </div>\n                </div>\n                <div class="modal__footer center-align">\n                    <button class="button button--dialog license-reference-submit-btn">\n                        <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Update References",{name:"_",hash:{},data:a}))+"<span>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/numberFilesLicenseReferences",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return"<span>\n    "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"FILE::%s File","FILE::%s Files",null!=e?e.number_selected:e,{name:"ngettext",hash:{},data:a}),null!=e?e.number_selected:e,{name:"sprintf",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/modalWindow/licenseReferencesDetail",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" text-up"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="row">\n    <div class="column on-small-7"><span class="grey silver-sand-text font-semibold text-up text-small" data-t="use-with-label">'+this.escapeExpression((s=null!=(s=t.label||(null!=e?e.label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"label",hash:{},data:a}):s))+'</span></div>\n    <div class="column on-small-5">\n        <span class="grey dove-text font-semibold '+(null!=(i=t.if.call(e,null!=e?e.isUpperCase:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' text-small">\n            '+this.escapeExpression((s=null!=(s=t.value||(null!=e?e.value:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"value",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/fieldInputValidator",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return"<label>\n    <span "+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,null!=e?e.dataT:e,"label",{name:"data-t",hash:{},data:a}))+' class="grey dove-text text-small font-semibold">\n        '+this.escapeExpression((s=null!=(s=t.label||(null!=e?e.label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"label",hash:{},data:a}):s))+"\n"+(null!=(i=(t["if-all-true"]||e&&e["if-all-true"]||t.helperMissing).call(e,null!=e?e.required:e,null!=e?e.condensed_display:e,{name:"if-all-true",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+"    </span>\n"},2:function(e,t,n,a){return"            <sup>*</sup>\n"},4:function(e,t,n,a){var i,s;return"            <textarea "+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,null!=e?e.dataT:e,"input",{name:"data-t",hash:{},data:a}))+(null!=(i=t.if.call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+' class="input--full js-field-group-input '+this.escapeExpression((s=null!=(s=t.className||(null!=e?e.className:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"className",hash:{},data:a}):s))+'"'+(null!=(i=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.placeholder:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+"></textarea>\n"},5:function(e,t,n,a){var i;return' name="'+this.escapeExpression((i=null!=(i=t.name||(null!=e?e.name:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"name",hash:{},data:a}):i))+'"'},7:function(e,t,n,a){var i;return' id="'+this.escapeExpression((i=null!=(i=t.id||(null!=e?e.id:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"id",hash:{},data:a}):i))+'"'},9:function(e,t,n,a){return" required"},11:function(e,t,n,a){var i;return' value="'+this.escapeExpression((i=null!=(i=t.value||(null!=e?e.value:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"value",hash:{},data:a}):i))+'"'},13:function(e,t,n,a){var i;return' placeholder="'+this.escapeExpression((i=null!=(i=t.placeholder||(null!=e?e.placeholder:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"placeholder",hash:{},data:a}):i))+'"'},15:function(e,t,n,a){var i,s;return'            <input type="text" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,null!=e?e.dataT:e,"input",{name:"data-t",hash:{},data:a}))+(null!=(i=t.if.call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+' class="input--full js-field-group-input '+this.escapeExpression((s=null!=(s=t.className||(null!=e?e.className:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"className",hash:{},data:a}):s))+'"'+(null!=(i=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.placeholder:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+"/>\n"},17:function(e,t,n,a){return"</label>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'    <div class="input-group">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"textarea",logic:"eq",value:null!=e?e.type:e},fn:this.program(4,a,0),inverse:this.program(15,a,0),data:a}))?i:"")+'        <i class="js-field-group-icon mti-icon mti-icon--suffix icon-alert red lust-text" data-is-hidden="true"></i>\n        <div class="js-field-group-tooltip wrong-input-tooltip menu container-absolute container-below red lust margin-top-medium padding-small" data-is-hidden="true">\n            <div class="menu__arrow menu__arrow--top menu__arrow--error-color menu__arrow--center"></div>\n            <div class="js-field-group-tooltip-text white-text font-light left-align text-small">\n                <ul></ul>\n            </div>\n        </div>\n    </div>\n'+(null!=(i=t.if.call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},useData:!0})}),define("hbs!templates/modalWindow/licenseTypeDetail",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return"                "+this.escapeExpression((i=null!=(i=t.value||(null!=e?e.value:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"value",hash:{},data:a}):i))+"\n"},3:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::LICENSE::Enhanced",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="column on-small-7">\n        <span class="grey silver-sand-text font-semibold text-up text-small" data-t="license-label">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::License",{name:"_",hash:{},data:a}))+'\n        </span>\n    </div>\n    <div class="column on-small-5">\n        <span class="grey dove-text font-semibold text-small" data-t="license-value">\n'+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+"        </span>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/requiredPriceLabel",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" text-up"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="row">\n    <div class="column on-small-7">\n        <span class="grey silver-sand-text font-semibold text-up text-small" data-t="price-label">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::Price",{name:"_",hash:{},data:a}))+'\n        </span>\n    </div>\n    <div class="column on-small-5">\n        <span class="grey dove-text font-semibold'+(null!=(i=t.if.call(e,null!=e?e.isUpperCase:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' text-small" data-t="price-value">\n            '+this.escapeExpression((s=null!=(s=t.value||(null!=e?e.value:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"value",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/fotoliaSubscription",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                                <span class="text-sregular v-align-top large-line-height">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.price_after_decimal:i,e))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="grey mti-modal modal--with-header modal--large animated fade-in" data-state="shown">\n        <div class="theme grey white-smoke modal__body">\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n\n            <h3 class="grey dove-text modal__header text-center">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::We detect that you had a Fotolia subscription",{name:"_",hash:{},data:a}))+'</h3>\n            <h3 class="grey dove-text text-center margin-top-small">'+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::Switch to Adobe Stock and %searn 33%% off%s",{name:"_",hash:{},data:a}),"<strong>","</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+'</h3>\n\n            <div class="row margin-top-xlarge margin-bottom-xlarge">\n                <div class="column on-small-12 on-medium-2 on-medium-offset-5">\n                    <div class="border-top-1 border-solid silver-sand-border"></div>\n                </div>\n            </div>\n\n            <div class="pod-modal padding-bottom-xlarge margin-left-xlarge margin-right-xlarge">\n                <div class="plans-pods center-align">\n                    <div class="white border-solid border-1 seashell-border plans-pods__tile__ftl-modal">\n\n                        <div class="container-relative">\n                            <span class="white mti-ribbon ribbon--top ribbon--left ribbon--info text-up">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::Your Fotolia plan",{name:"_",hash:{},data:a}))+'</span>\n                        </div>\n\n                        <div class="padding-top-xlarge">\n                            <div class="padding-top-xsmall padding-left-small padding-right-small">\n                                <div class="grey dove-text text-regular min-height-small">\n                                    '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.quota:i,e))+'\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="blue crayola-text v-align-wrapper medium-height-responsive">\n                            <span class="text-sregular v-align-top large-line-height">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.symbol:i,e))+'</span>\n                            <span class="text-xxxlarge font-light">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.price_before_decimal:i,e))+"</span>\n\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.fotoliaSubscription:e)?i.price_after_decimal:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'\n                            <span class="text-sregular v-align-bottom large-line-height">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::PRICING::/mo",{name:"_",hash:{},data:a}))+'</span>\n                        </div>\n\n                        <div class="row margin-top-small margin-bottom-small">\n                            <div class="column on-small-12 on-medium-2 on-medium-offset-5">\n                                <div class="border-top-1 border-solid silver-sand-border"></div>\n                            </div>\n                        </div>\n\n                        <div class="padding-left-large">\n                            <ul class="grey dove-text list-style-none text-small center-align">\n                                <li>'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.expiration_date:i,e))+"</li>\n                                <li>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.months_left:i,e))+"</li>\n                                <li>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.remaining_downloads:i,e))+'</li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="left margin-left-xlarge margin-right-xlarge grey dove-text margin-bottom-large">\n                <h3 class="font-bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::What will happen to my Fotolia subscription?",{name:"_",hash:{},data:a}))+'</h3>\n                <ul class="grey-text text-sregular list-style-disc margin-left-small ftl-modal-infos">\n                    <li class="margin-top-medium">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::When you purchase an Adobe Stock subscription, your current Fotolia subscription will close.",{name:"_",hash:{},data:a}))+'</li>\n                    <li class="margin-top-medium">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::Each of your remaining Fotolia downloads will be converted into two Adobe Stock licenses.",{name:"_",hash:{},data:a}))+'</li>\n                </ul>\n            </div>\n            <div class="clear-fix"></div>\n            <div class="modal__footer text-center">\n              <button class="js-hide-modal button button--dialog">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::OK",{name:"_",hash:{},data:a}))+"</button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/vectorDownloadChoice",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="motmot">\n    <div class="modal-vector-download-choice mti-modal modal--with-header " data-t="vector-download-choice-modal">\n        <div class="modal__body text-sregular">\n            <i\n                class="modal__close mti-icon icon-close js-hide-modal js-vector-download-choice-close-button"\n                data-t="vector-download-choice-close-btn"\n                data-ingest-clicktype="vector-download-choice-modal-close"\n            ></i>\n            <div class="modal__header">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Please Choose File Type to Download",{name:"_",hash:{},data:a}))+'\n            </div>\n            <div class="modal__content grey heavy-metal-text left-align">\n                <div class="padding-medium">\n                    <div class="margin-bottom-medium">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::License has been purchased. Which file type would you like to download?",{name:"_",hash:{},data:a}))+'\n                    </div>\n                    <div class="margin-bottom-small">\n                        <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-choice-modal-vector">\n                            <input\n                                type="radio"\n                                name="vector_download_choice"\n                                data-t="vector-download-choice-vector-radio"\n                                value="vector"\n                                checked="checked"\n                            />\n                            <strong>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Vector (AI/EPS/SVG)",{name:"_",hash:{},data:a}))+'\n                            </strong>\n                            <div class="text-small padding-left-large">\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Can be scaled infinitely for use with Adobe Illustrator.",{name:"_",hash:{},data:a}))+'\n                            </div>\n                        </label>\n                    </div>\n                    <div class="margin-bottom-small">\n                        <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-choice-modal-jpeg">\n                            <input\n                                type="radio"\n                                name="vector_download_choice"\n                                data-t="vector-download-choice-jpeg-radio"\n                                value="jpeg"\n                            />\n                            <strong>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::JPEG",{name:"_",hash:{},data:a
}))+'\n                            </strong>\n                            <div class="text-small padding-left-large">\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Raster files can be opened with a wide variety of apps like Adobe Photoshop.",{name:"_",hash:{},data:a}))+'\n                            </div>\n                        </label>\n                    </div>\n                    <div>\n                        <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-choice-modal-set-as-default">\n                            <input\n                                type="checkbox"\n                                name="vector_download_choice_set_as_default"\n                                data-t="vector-download-choice-set-as-default"\n                                value=""\n                                checked="checked"\n                            />\n                            <strong>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Set as default",{name:"_",hash:{},data:a}))+'\n                            </strong>\n                        </label>\n                        <div class="text-small padding-left-large">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::We'll remember your choice for downloading vector files from now on. You can change your preference in vector image Settings.",{name:"_",hash:{},data:a}))+'\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="modal__footer">\n                <button class="button button--dialog js-vector-download-choice-download-btn" data-t="vector-download-choice-download-btn" data-ingest-clicktype="vector-download-choice-modal-download">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Download",{name:"_",hash:{},data:a}))+"\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/videoSvgPicto",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 19 12" style="enable-background:new 0 0 19 12;width: 15px;height: 10px;fill: white;" xml:space="preserve">\n    <g>\n        <path d="M17.8,0.8L13,3V0.8C13,0.4,12.6,0,12.2,0H0.8C0.4,0,0,0.4,0,0.8v10.4C0,11.6,0.4,12,0.8,12h11.4c0.4,0,0.8-0.4,0.8-0.8V9\n                 l4.8,2.2c0.5,0.4,1.2,0,1.2-0.7v-9C19,0.9,18.3,0.5,17.8,0.8z"></path>\n    </g>\n</svg>\n'},useData:!0})}),define("components/fieldInputValidator",["jquery"],function(e){"use strict";function t(e){return e&&e.maxlength&&e.message}function n(n,s){var r=this,l=n.parent(),o=l.find(".js-field-group-tooltip"),c=l.find(".js-field-group-icon"),u=l.find(".js-field-group-tooltip-text > ul");this.missMatchedValues=!1,this.setMessage=function(t){var n=e.isArray(t)?t:[t||""];u.html(n.map(function(t){if(t)return e("<li>").text(t)}))},this.showTooltip=function(){"false"!==o.attr(a)&&(o.attr(a,"false"),c.attr(a,"false"))},this.showToolTipmissMatchedValues=function(){r.missMatchedValues&&!n.val().trim()?(r.setMessage(r.missMatchedValues),c.attr(a,"false")):c.attr(a,"true")},this.hideToolTip=function(){o.attr(a,"true"),r.showToolTipmissMatchedValues()},this.checkValue=function(e){var a=e;t(s)&&(s.invalidCharactersPattern&&(a=e.replace(s.invalidCharactersPattern,"")),a=a.substring(0,s.maxlength)),n.attr("required")&&n.attr(i,!!a.trim()),e!==a?(n.val(a),this.setMessage(s.message),this.showTooltip(),setTimeout(this.hideToolTip,2e3)):this.hideToolTip()},c.hover(r.showTooltip,r.hideToolTip)}var a="data-is-hidden",i="data-field-is-valid";return n}),define("hbs!templates/modalWindow/licenseTransferFieldSet",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" border-top-1 border-top-solid grey-border silver-sand-border margin-top-large"},3:function(e,t,n,a){return" on-medium-12 margin-bottom-medium"},5:function(e,t,n,a){return" on-medium-6 padding-medium"},7:function(e,t,n,a){return" on-medium-12"},9:function(e,t,n,a){return" on-medium-6 margin-top-medium"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="js-license-transfer-wrapper'+(null!=(i=t.unless.call(e,(i=a&&a.root)&&i.display_license_transfer_as_one_column,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'">\n        <div class="column on-small-12'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.display_license_transfer_as_one_column,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+' margin-top-medium">\n            <div>\n                <label class="text-sregular">\n                    <input data-t="license-transfer-enable-checkbox" type="checkbox" class="js-license-transfer-checkbox margin-right-small">\n                    <span data-t="license-transfer-enable-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,'ORGANIZATION::LICENSE_TRANSFER::Apply the "Transferred" license badge',{name:"_",hash:{},data:a}))+'</span>\n                </label>\n            </div>\n            <div class="js-license-transfer-inputs" data-is-hidden="true">\n                <div class="margin-bottom-xsmall margin-top-small left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{required:!0,dataT:"license-transfer-client-name",name:"client_name",label:(t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Client Name",{name:"_",hash:{},data:a})},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+'                </div>\n                <div class="margin-bottom-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{dataT:"license-transfer-notes",label:(t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Additional Notes",{name:"_",hash:{},data:a}),name:"notes"},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+'                </div>\n            </div>\n        </div>\n        <div class="column on-small-12'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.display_license_transfer_as_one_column,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+' white border-2 border-solid border-radius-4 bleu-de-france-border padding-medium">\n            <div class="text-sregular grey dove-text margin-bottom-medium">\n                <strong data-t="license-transfer-details-title-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::License transfer details",{name:"_",hash:{},data:a}))+'</strong>\n                <i class="mti-icon icon-infofull right blue bleu-de-france-text"></i>\n            </div>\n            <div class="text-sregular grey dove-text" data-t="license-transfer-details-body-text">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Please keep in mind that a license may only belong to either yourself, or your client (not both) and that a license may only be transferred to a client via an enforceable written agreement between you and your client.",{name:"_",hash:{},data:a}))+"\n                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Please note that this action cannot be reversed, and that the transfer status and details (client name and additional notes) will be visible by all the users of your organization.",{name:"_",hash:{},data:a}))+"\n            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("components/licenseTransferFieldSet",["jquery","components/fieldInputValidator","hbs!templates/modalWindow/licenseTransferFieldSet"],function(e,t,n){"use strict";function a(n,a){function l(e){for(var t in E)E[t].required&&E[t].input.prop("required",e)}function o(){a||(m=!1,h={},g.attr(s,!0),l(!1))}function c(){m=!0,g.attr(s,!1),l(!0)}function u(){var e,t,n;for(e in E)t=E[e].input,n=t.val().trim(),(E[e].required||E[e].validator.missMatchedValues)&&t.attr(r,!!n),h[e]=n}function d(){p&&p(Object.assign({},h),m)}var p,h={},m=!1,f=n.find(".js-license-transfer-wrapper"),_=f.find(".js-license-transfer-checkbox"),g=f.find(".js-license-transfer-inputs"),E={};f.find(".js-field-group-input").each(function(){var n=e(this),a=n.attr("name"),i=new t(n);E[a]={input:n,validator:i,required:n.prop("required")},n.on("input",function(){u(),d(),i.checkValue(n.val())}).on("blur",function(){i.hideToolTip()})}),a?(_.hide(),c()):(o(),_.on("change",function(){e(this).prop("checked")?c():o(),d()})),this.data=function(){return h},this.valid=function(){var e,t,n=!0;if(!m)return n;u();for(t in E)if(e=E[t],(e.required||e.validator.missMatchedValues)&&!h[t]){n=!1;break}return n},this.resetFields=function(){var e;for(e in E)(E[e].required||E[e].validator.missMatchedValues)&&E[e].input.attr(r,"true")},this.setTransferData=function(t,n,a){var s,l,d,p,n=n||{},a=a||{};if(e.isPlainObject(t)){_.prop("checked",!0),c();for(l in E)s=E[l],d=t[l]||i,p=n.default,s.validator.missMatchedValues=!1,e.isArray(d)&&(d.length<2?d=d[0]:(a.missMatchedValues&&(s.validator.missMatchedValues=[a.missMatchedValues].concat(d.map(function(e){return"- "+e}))),d=i,p=n.missMatchedValues)),h[l]=d,s.input.attr(r,!0).attr("placeholder",p).val(d),s.validator.showToolTipmissMatchedValues();u()}else _.prop("checked",!1),this.resetFields(),o()},this.onDataChanged=function(t){e.isFunction(t)&&(p=t)}}var i="",s="data-is-hidden",r="data-field-is-valid";return{template:n,init:a}}),define("lib/licenseReferencesConstants",[],function(){"use strict";return{REFERENCE_ID_PROJECT_NAME:"1",REFERENCE_ID_PROJECT_REFERENCE:"2",REFERENCE_ID_CUSTOMER_NAME:"3",REFERENCE_ID_CUSTOMER_REFERENCE:"4",REFERENCE_ID_COST_CENTER:"5",REFERENCE_ID_PURCHASE_ORDER_NUMBER:"6",REFERENCE_ID_ISBN:"7",REFERENCE_ID_DEPARTMENT:"8",REFERENCE_ID_COUNTRY:"9",REFERENCE_ID_LICENSEE:"10"}}),define("hbs!templates/modalWindow/licenseReferencesFieldSet",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.each.call(e,null!=e?e.mandatory_license_references:e,{name:"each",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")},2:function(e,t,n,a){var i;return'                <div class="js-mandatory-reference-fields column on-small-12 on-medium-6'+(null!=(i=t.unless.call(e,null!=e?e.optional_license_references:e,{name:"unless",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+' center-align padding-medium">\n                    <div class="margin-bottom-xsmall"><span class="text-sregular grey dove-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Mandatory References",{name:"_",hash:{},data:a}))+"</span></div>\n"},3:function(e,t,n,a){return" on-medium-offset-3"},5:function(e,t,n,a){var i;return'                    <div class="margin-bottom-xsmall left-align container-relative'+(null!=(i=t.if.call(e,null!=e?e.condensed_license_references_display:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{condensed_display:(i=a&&a.root)&&i.condensed_license_references_display,value:t.lookup.call(e,(i=a&&a.root)&&i.saved_license_references,a&&a.key,{name:"lookup",hash:{},data:a}),required:!0,dataT:e,name:a&&a.key,label:e,className:"js-license-reference-field",id:a&&a.key},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+"                    </div>\n"},6:function(e,t,n,a){return" license-reference-field left container-inline-block"},8:function(e,t,n,a){return"                </div>\n"},10:function(e,t,n,a){var i;return(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.each.call(e,null!=e?e.optional_license_references:e,{name:"each",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")},11:function(e,t,n,a){var i;return'                <div class="js-optional-reference-fields column on-small-12 on-medium-6'+(null!=(i=t.unless.call(e,null!=e?e.mandatory_license_references:e,{name:"unless",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+' center-align padding-medium">\n                    <div class="margin-bottom-xsmall"><span class="text-sregular grey dove-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Optional References",{name:"_",hash:{},data:a}))+"</span></div>\n"},13:function(e,t,n,a){var i;return'                    <div class="margin-bottom-xsmall left-align container-relative'+(null!=(i=t.if.call(e,null!=e?e.condensed_license_references_display:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{condensed_display:(i=a&&a.root)&&i.condensed_license_references_display,value:t.lookup.call(e,(i=a&&a.root)&&i.saved_license_references,a&&a.key,{name:"lookup",hash:{},data:a}),dataT:e,name:a&&a.key,label:e,className:"js-license-reference-field",id:a&&a.key},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+"                    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="js-license-references-wrapper">\n'+(null!=(i=t.if.call(e,null!=e?e.mandatory_license_references:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.optional_license_references:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("components/licenseReferencesFieldSet",["jquery","i18n","i18n-config","components/fieldInputValidator","lib/licenseReferencesConstants","hbs!templates/modalWindow/licenseReferencesFieldSet"],function(e,t,n,a,i,s){"use strict";function r(e){var a,s;switch(e){case i.REFERENCE_ID_PURCHASE_ORDER_NUMBER:s=35,a=t.sprintf(n.ngettext("MODAL::LICENSE_REFERENCE::ERROR::Client purchase order cannot exceed %s character. It cannot include linefeeds or special characters such as commas.","MODAL::LICENSE_REFERENCE::ERROR::Client purchase order cannot exceed %s characters. It cannot include linefeeds or special characters such as commas.",s),s);break;default:s=80,a=t.sprintf(n.ngettext("MODAL::LICENSE_REFERENCE::ERROR::References cannot exceed %s character. They cannot include linefeeds or special characters such as commas.","MODAL::LICENSE_REFERENCE::ERROR::References cannot exceed %s characters. They cannot include linefeeds or special characters such as commas.",s),s)}return{invalidCharactersPattern:/\r\n|\r|\n|,|"/g,maxlength:s,message:a}}function l(t){function n(e){var t,n,a,i=!0;for(t in c){if(n=c[t],a=n.input.val().trim(),n.input.prop("disabled"))return!0;a||!n.required&&!n.validator.missMatchedValues?n.input.attr(o,"true"):(i=!1,e&&n.input.focus(),n.input.attr(o,"false")),u[parseInt(t,10)]=a}return i}function i(){var e;for(e in c)(c[e].required||c[e].validator.missMatchedValues)&&c[e].input.attr(o,"true")}function s(){n(),l&&l(Object.assign({},u))}var l,u={};c={},t.find(".js-license-reference-field").each(function(){var t=e(this),n=t.attr("id"),i=new a(t,r(n));c[n]={input:t,validator:i,required:t.prop("required")},t.on("input",function(){i.checkValue(t.val()),s()}).on("blur",function(){i.hideToolTip()})}),this.setReferences=function(t,a,i){var s,r,l,o,a=a||{},i=i||{};for(r in t)l=a.default,o=t[r],s=c[r],e.isArray(o)&&(o.length<2?(s.validator.missMatchedValues=!1,o=o[0]||""):(i.missMatchedValues&&(s.validator.missMatchedValues=[i.missMatchedValues].concat(o.map(function(e){return"- "+e}))),l=a.missMatchedValues,o="")),s.input.attr("placeholder",l).val(o),s.validator.checkValue(o);n()},this.onDataChanged=function(t){e.isFunction(t)&&(l=t)},this.data=function(){return u},this.valid=function(){return n(!0)},this.resetFields=i}var o="data-field-is-valid",c={};return{template:s,init:l}}),define("app/actions/detailsActions",["app/actions/actionTypes","app/constants/localStorage"],function(e,t){"use strict";function n(t,n){return{content_id:t||0,data:n||{},type:e.ADD_ITEM_DETAILS}}function a(t){return{content_id:t||0,type:e.ITEM_SELECTED}}function i(t,n){return{contentId:parseInt(t,10),licenseId:n,type:e.UPDATE_DETAIL_PANEL_LICENSE}}function s(n){var a=window&&window.localStorage;return a&&(n?a.setItem(t.VECTOR_DOWNLOAD_CHOICE_KEY,n):a.removeItem(t.VECTOR_DOWNLOAD_CHOICE_KEY)),{type:e.SAVE_VECTOR_DOWNLOAD_PREFERENCE,value:n}}function r(){return{type:e.OPEN_VECTOR_DOWNLOAD_SETTINGS}}function l(){return{type:e.CLOSE_VECTOR_DOWNLOAD_SETTINGS}}function o(t,n){return{contentId:parseInt(t,10),licenseId:parseInt(n,10),type:e.SELECT_CONTENT_LICENSE}}function c(t,n){return{contentId:parseInt(t,10),licenseId:n,type:e.CONTENT_LICENSED}}return{addItemDetails:n,selectItem:a,updateDetailPanelLicense:i,saveVectorDownloadPreference:s,openVectorDownloadSettings:r,closeVectorDownloadSettings:l,selectContentLicense:o,contentLicensed:c}}),define("app/stock-portal",["jquery","lodash","lib/utils","lib/analytics","app/constants/dunamis","app/constants/analytics"],function(e,t,n,a,i,s){"use strict";function r(){return window.__stock_portal_exports__}function l(e){var t="composition"===e.findSimilarBy&&e.hideComposition;return!e.findSimilarBy||t}function o(e){h(),e&&l(e)&&(e.findSimilarBy="all"),g("searchPanel.renderFindSimilarControlsPanel",e)}function c(){h(),g("searchPanel.renderFiltersPanel")}function u(){h(),g("searchPanel.clearFindSimilarControls")}function d(){h(),g("searchPanel.onlyClearFindSimilarControls")}function p(e){g("alert.renderAlert",e),n.scrollToTop()}function h(){e(".js-server-side-circle-loader").attr("data-state","hidden")}function m(e){g("visualSearchModal.visualSearchUpdateSearchDataAndOpenModal",e)}function f(){g("visualSearchModal.visualSearchCloseModal")}function _(){for(;k.length>0;)g.apply(null,k.shift())}function g(e){if(!t.get(r(),"store.dispatch")||!t.get(r(),"actions"))return void k.push(arguments);var n=t.get(r().actions,e),a=Array.prototype.slice.call(arguments,1),i=n.apply(null,a);return r().store.dispatch(i)}function E(e){g("sortMenu.renderSortMenuFilter",e)}function v(){g("details.renderFaqSection")}function b(){g("details.renderFreepikAssetSection")}function T(e){g("postPurchaseModal.showPostPurchaseModal",e)}function y(){g("postPurchaseModal.closePostPurchaseModal")}function C(e){var n=i.PROPERTIES.CHECKOUT,r=t.get(e.dunamisTrackingData,n.SELECTION_METHOD),l=t.get(e,"dunamisTrackingData",{});l[n.FINDING_METHOD]=a.determineFindingMethod(),l[n.SELECTION_METHOD]=r||s.SELECTION_DIRECT,e.dunamisTrackingData=l,g("coreCheckout.startCheckout",e)}function S(){g("details.renderVideoCropCoachmark")}function I(){g("details.hideVideoCropCoachmark")}function O(){return r()?r().store.getState():null}var k=[];return{getState:O,subscribe:function(e){return r().store.subscribe(e)},onPortalInitialized:_,CAMERA:"camera",FILTERS:"filters",initLibrariesToast:g.bind(null,"librariesToast.initLibrariesToast"),assetLicensedOnly:g.bind(null,"librariesToast.assetLicensedOnly"),saveToLibraryLoadingStart:g.bind(null,"librariesToast.saveToLibraryLoadingStart"),saveToLibraryLoadingStop:g.bind(null,"librariesToast.saveToLibraryLoadingStop"),saveToLibrarySuccess:g.bind(null,"librariesToast.saveToLibrarySuccess"),saveToLibraryFailure:g.bind(null,"librariesToast.saveToLibraryFailure"),setLibraries:g.bind(null,"librariesToast.setLibraries"),startCheckout:C,startTeamCheckout:g.bind(null,"stockTeamCheckout.startTeamCheckout"),hidePanel:g.bind(null,"searchPanel.hidePanel"),renderPanelLoading:g.bind(null,"searchPanel.renderPanelLoading"),closeAlert:g.bind(null,"alert.closeAlert"),renderCarousel:g.bind(null,"carousel.renderCarousel"),renderFiltersPanel:c,renderFindSimilarControlsPanel:o,clearFindSimilarControls:u,onlyClearFindSimilarControls:d,renderAlert:p,removeServerSideLoader:h,renderVisualSearchModal:m,hideVisualSearchModal:f,renderSortMenuFilter:E,renderFaqSection:v,renderFreepikAssetSection:b,renderVideoCropCoachmark:S,hideVideoCropCoachmark:I,renderPostPurchaseModal:T,hidePostPurchaseModal:y,userSignedIn:g.bind(null,"user.userSignedIn"),redownloadForFreeComplete:g.bind(null,"callToAction.redownloadForFreeDone"),redownloadForFreeError:g.bind(null,"callToAction.redownloadForFreeError"),enterpriseLicensingDone:g.bind(null,"callToAction.enterpriseLicensingDone")}}),define("app/utils/observer",["app/client","app/stock-portal","page_config"],function(e,t,n){"use strict";function a(e){function t(){var t=s.getState();e(n,t),n=t}var n=s.getState();return s.subscribe(t)}function i(e){function n(){var n=t.getState();e(a,n),a=n}var a=t.getState();if(a)return t.subscribe(n)}var s=e.getInstance();return{observe:function(e,t){function n(){var n=e(s.getState());n!==a&&(a=n,t(a))}var a=e(s.getState());return s.subscribe(n)},listen:a,listenForPortalStateChange:i}}),define("app/ajax/search",["jquery","page_config","lib/ajax"],function(e,t,n){"use strict";function a(t){var n=e.extend({},t,{get_facets_only:1});return l.fetchSearchResults(n)}function i(a){var i=e.Deferred(),s=e.extend(!0,{},a);return a.oa&&t.isSearchHelperRefactorEnabled?n.ajax({url:t.base_url+"/Ajax/Search/Post",type:"POST",data:JSON.stringify(s),dataType:"json",cache:!1,contentType:"application/json",processData:!1}).done(function(e){i.resolve(e)}).fail(function(e){i.reject(e)}):n.get(t.base_url+"/Ajax/Search",s,"json").done(function(e){i.resolve(e)}).fail(function(e){i.reject(e)}),i.promise()}function s(a){var i=e.Deferred(),s=JSON.stringify({filters:a.filters,k:a.k});return n.ajax({url:t.base_url+"/QuerySuggestion",type:"POST",data:s,dataType:"json",cache:!1,contentType:"application/json",processData:!1}).done(function(e){i.resolve(e)}).fail(function(e){i.reject(e)}),i.promise()}function r(e){return i(e)}var l={fetchPremiumSearchResults:r,fetchSearchFacets:a,fetchSearchResults:i,fetchQuerySuggestions:s};return l}),define("app/utils/carousel",["app/client","page_config","app/constants/assetTypeFilters","app/constants/dunamis","app/constants/analytics","i18n"],function(e,t,n,a,i,s){"use strict";function r(){var e=d.getState(),a=e.page.filter_asset_type;return t.isFreeEnabled&&t.isFreeBottomRailEnabled&&a===n.FREE}function l(){var e=d.getState(),a=e.page.filter_asset_type;return t.isFreeTopRailEnabled&&t.isFreeEnabled&&a===n.FREE}function o(){return r()?{RESULTS_COUNT:a.FBR.RESULTS_COUNT,CAROUSEL:i.FREE_BOTTOM_RAIL.FREE_BR_CAROUSEL,VIEW_RESULTS:a.FBR.VIEW_RESULTS,ASSET_CLICK:a.FBR.ASSET_CLICK}:{RESULTS_COUNT:a.PBR.RESULTS_COUNT,CAROUSEL:i.PREMIUM_BOTTOM_RAIL.PREMIUM_CAROUSEL,VIEW_RESULTS:a.PBR.VIEW_RESULTS,ASSET_CLICK:a.PBR.ASSET_CLICK}}function c(){return{RESULTS_COUNT:a.FTR.RESULTS_COUNT,CAROUSEL:i.FREE_TOP_RAIL.FREE_TR_CAROUSEL,VIEW_RESULTS:a.FTR.VIEW_RESULTS,ASSET_CLICK:a.FTR.ASSET_CLICK}}function u(){return r()?{ASSET_TYPE:"HEADER::our other collections"}:{ASSET_TYPE:"HEADER::Premium"}}var d=e.getInstance();return{isFreeBottomRailActive:r,isFreeTopRailActive:l,getBottomRailDunamisEventTypes:o,getFreeTopRailDunamisEventTypes:c,getBottomRailUpperLeftStrings:u}}),define("components/carousel/actions/assetsActions",["jquery","app/constants/carousel","app/constants/searchFilters","app/actions/actionTypes","app/ajax/search","app/utils/carousel"],function(e,t,n,a,i,s){"use strict";function r(a,s,r,l,o,c){return function(u,d){var p,h={};return r!==t.EMPTY_TYPE&&r!==t.LONGTAIL_TYPE&&(h[n.KEYWORD]=d().filters[n.KEYWORD]),p={promise:i.fetchSearchResults(e.extend({},a,h)),carouselType:r,type:s,style:l,id:o,keyword:c},u(p),p}}var l=function(){return function(t,n){var r=n(),l={limit:12,price:{$$:1,$$$:1}},o=e.extend({},r.filters,l);s.isFreeBottomRailActive()&&(o.filters=e.extend({},o.filters,{free_collection:0}),o.price={}),t({promise:i.fetchPremiumSearchResults(o),type:a.FETCH_PREMIUM_IMAGES})}};return{clearAssets:function(){return{type:a.CLEAR_PREMIUM_IMAGES}},getAssets:l,getItems:r}}),define("lib/contentHelper",["lodash","lib/utils","app/client","page_config","lib/member","lib/contentDetails"],function(e,t,n,a,i,s){"use strict";function r(n){var a,i=g.getState(),s=t.arrayFindByKeyValue(i.content,"content_id",n)||{},r=e.get(s,"license_details",{});for(a in r)if(r[a]&&r[a].downloaded)return!0;return!1}function l(t){return!(!a.isFreeVideoEnabled&&!u(t))&&(e.get(t,"is_video",!1)&&e.get(t,"is_free",!1))}function o(t){var n=e.get(t,"is_free",!1)&&(e.get(t,"is_template",!1)||e.get(t,"is_3D",!1)||l(t)),a=d(t);return n||a}function c(e){var t,n,a,i;if(e){t=e.selectedLicenseId;for(a in e.license_details)if(e.license_details.hasOwnProperty(a)&&(i=e.license_details[a],i.is_default)){n=parseInt(a),t||(e.selectedLicenseId=n);break}return n||(n=e.possible_licenses&&e.possible_licenses[0]),t||n}}function u(e){var t=e.content_id,n=s.isTemplate(t)||e.is_template,a=s.is3D(t)||e.is_3D;return d(e)&&!(n||a)}function d(e){var t=e.content_id,n=s.isFree(t)||e.is_free;return a.isFreeEnabled&&n}function p(e){var n=g.getState(),a=t.arrayFindByKeyValue(n.content,"content_id",e)||{},s=_.getDefaultLicenseIdForContent(a),r=i.hasQuota(s,a,s),l=i.hasAvailableCreditPackQuota();return i.isDefaultEntitlementCCE()?h(a):!r&&!l&&!d(a)}function h(e){var t=!1;if(i.hasEnterpriseCreditCardPurchaseEnabled()){var n=i.getDefaultEntitlement(),a={total_quota_available_by_license_type_id:n.total_quota_available_by_license_type_id,is_organization_out_of_quota:e.org_model_data&&e.org_model_data.is_organization_out_of_quota};t=!(e.is_allowed_and_purchasable&&i.hasEnoughQuotaForPossibleAssetLicenses(e,a))}return t}function m(e,t){var n=e.content_id,a=s.isTemplate(n)||e.is_template,i=s.is3D(n)||e.is_3D;return!(t||a||i||e.deprecatedLicenseIdUsed||u(e))}function f(n,a){var i,s,r,l=n.getState(),o=e.get(l,"content",{}),c=t.arrayFindByKeyValue(o,"content_id",a)||null;if(!c||!e.get(c,"premium_level",!1))return!1;for(r=Object.values(c.premium_level),s=0;s<r.length;++s)if(i=r[s],"core"===i.split("|")[2])return!0;return!1}var _,g=n.getInstance();return _={hasPurchasedALicense:r,isFreeVideo:l,shouldDisplayLicenseButton:o,getDefaultLicenseIdForContent:c,shouldDisplayBuyCTA:p,isFreeExperienceEnabled:u,shouldShowDownloadPreviewCTA:m,shouldUseFreeCTACopy:d,isCore:f}}),define("hbs!templates/search/recentSearches",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"false"},3:function(e,t,n,a){return"true"},5:function(e,t,n,a){var i,s;return"                            <li\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:a&&a.index,logic:"eq",value:(i=a&&a.root)&&i.selected},fn:this.program(6,a,0),inverse:this.program(8,a,0),data:a}))?i:"")+'                                data-keyword-index="'+this.escapeExpression((s=null!=(s=t.index||a&&a.index)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'"\n                            >\n                                <a href="#" class="nav__link js-search-recent-item">\n                                    '+this.escapeExpression(this.lambda(e,e))+"\n                                </a>\n                            </li>\n"},6:function(e,t,n,a){return'                                    class="nav__item js-search-recent-item-selected"\n                                    data-active="true"\n'},8:function(e,t,n,a){return'                                    class="nav__item"\n'},10:function(e,t,n,a){return'                                class="nav__item js-search-recent-clear js-search-recent-item-selected"\n                                data-active="true"\n'},12:function(e,t,n,a){return'                                class="nav__item js-search-recent-clear"\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-full container-absolute to-the-left" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.show:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+'">\n    <div class="padding-top-large">\n        <div class="container-relative">\n            <div class="menu container-absolute container-full">\n                <div class="text-regular">\n                    <ul class="js-search-recent-panel nav nav--tertiary nav--hover-white-smoke">\n                        <li class="nav__item nav__link grey dove-text text-sregular">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::NAV::Recent searches",{name:"_",hash:{},data:a}))+"\n                        </li>\n"+(null!=(i=t.each.call(e,null!=e?e.keywords:e,{name:"each",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"\n                        <li\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(i=null!=e?e.keywords:e)?i.length:i,logic:"eq",value:null!=e?e.selected:e},fn:this.program(10,a,0),inverse:this.program(12,a,0),data:a}))?i:"")+'                            data-keyword-index="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.keywords:e)?i.length:i,e))+'"\n                            data-action="clearAll"\n                        >\n                            <a href="#" class="nav__link">\n                                <span class="blue bleu-de-france-text text-sregular">\n                                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FILTERS::Clear all",{name:"_",hash:{},data:a}))+"\n                                </span>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("app/utils/search",["jquery","lodash","page_config","app/stock-portal","app/client","app/constants/assetTypeFilters","app/constants/searchFilters","app/constants/analytics","app/utils/routes","components/carousel/actions/assetsActions","lib/window","lib/analytics","lib/analytics/dunamis","lib/analytics/utils","lib/utils","lib/member","lib/contentDetails","lib/contentHelper","hbs!templates/search/recentSearches","app/utils/carousel"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v){"use strict";function b(e){var t=B.getState().filters,n=[];return t&&t[r.SIMILAR_CONTENT_ID]&&(n=t[r.SIMILAR_CONTENT_ID].toString().split(r.SIMILAR_CONTENT_ID_SEPARATOR)),-1!==n.indexOf(e.toString())}function T(){try{return JSON.parse(localStorage.getItem(K))||[]}catch(e){C()}}function y(t){var n;"string"==typeof t&&(t=t.trim(),t=t.replace(/\s+/g," ")),n=localStorage.getItem(K)||"[]",n=JSON.parse(n),t&&(-1!==e.inArray(t,n)?n.splice(n.indexOf(t),1):n.length>=W&&n.pop(),n.unshift(t),localStorage.setItem(K,JSON.stringify(n)))}function C(){var t,n=B.getState().view.recentSearches;localStorage.removeItem(K),t=T(),e(z).html(E({keywords:t,show:n}))}function S(e){
var t=B.getState(),n=t.filters,a=t.page.filter_asset_type,i=parseInt(e,10)||1,l=n[r.PRICE]&&n[r.PRICE][r.PRICE_CLIENT_LOW]&&!n[r.PRICE][r.PRICE_CLIENT_HIGH];return v.isFreeBottomRailActive()||a===s.IMAGES&&1===i&&l?(B.dispatch(c.getAssets()),!0):(I(),!1)}function I(){B.dispatch(c.clearAssets())}function O(e){return null!==e&&!isNaN(e)&&7===e.length}function k(t,n){var a=e(".js-search-text-input"),i=p.constants,s={},r=a.val();s[i.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=r,s[i.VISUAL_SEARCH.FIND_SIMILAR_BY]=n||l.FSC_OPTIONS.FSC_OPTION_ALL,p.track(i.SEARCH_BEGIN,t,s,a)}function A(t,n,a){var i=e(".js-search-text-input"),s=p.constants,r={};r[s.VISUAL_SEARCH.FIND_SIMILAR_BY]=n||l.FSC_OPTIONS.FSC_OPTION_ALL,t==s.VISUAL_SEARCH.HOVER_FIND_SIMILAR?p.track(s.CLICK,t,r,a):p.track(s.CLICK,t,r,i)}function R(){var e=p.constants;p.track(e.SEARCH_BEGIN,e.ASSET_TYPE_CHANGE,{})}function x(n){var a,i,s=B.getState(),l=p.constants,o=e(".js-search-input"),c=t.get(s,"filters.k",""),u=t.get(s.search,"items",{}),d=!Object.keys(u).length,f=n||m.getQueryParam(l.SEARCH_TYPE)||l.SEARCH_RESULTS_SUCCESS,_=m.getQueryParam(r.FIND_SIMILAR_BY);d||f===l.CONTENT_ID||(i=J.getSearchResultsBreakdownforDunamis(),a=t.get(s,"search.suggestedKeywords",null),i[l.VISUAL_SEARCH.FIND_SIMILAR_BY]=_,i[l.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=c,i[l.EVENT_PARAMS.FILTERS]=t.get(s,"filters.filters"),i[l.EVENT_PARAMS.PAGE]=t.get(s,"pagination.page"),i[l.EVENT_PARAMS.SEARCH_CONTEXT_SEQUENCE]=h.generateUUID(),a&&(f=f===l.USERTYPED?l.AUTO_CORRECT:f,i[l.EVENT_PARAMS.SUGGESTED_KEYWORD]=a),J.isContentId(c)&&(f=l.CONTENT_ID),p.track(l.SEARCH_SUCCESS,f,i,o))}function P(e){var t={"3d":0,core_images:0,editorial_photos:0,editorial_videos:0,free:0,illustrations:0,photos:0,premium_3d:0,premium_photos:0,premium_template:0,template:0,vectors:0,video_4k:0,video_hd:0};return e.forEach(function(e){_.isImage(e)?(g.isCore(B,e)&&t.core_images++,_.getContentTypeId(e)===f.CONTENT_TYPE_ID_PHOTO?(t.photos++,_.isEditorial(e)?t.editorial_photos++:_.isPremium(e)&&t.premium_photos++):_.getContentTypeId(e)===f.CONTENT_TYPE_ILLUSTRATION?t.illustrations++:_.getContentTypeId(e)===f.CONTENT_TYPE_VECTOR&&t.vectors++):_.isVideo(e)?(_.getLargestVideoSize(e)===_.HIGHRES_SIZE_VIDEO_4K?t.video_4k++:_.getLargestVideoSize(e)===_.HIGHRES_SIZE_VIDEO_HD&&t.video_hd++,_.isEditorial(e)&&t.editorial_videos++):_.isTemplate(e)?(t.template++,_.isPremium(e)&&t.premium_template++):_.is3D(e)&&(t["3d"]++,_.isPremium(e)&&t.premium_3d++),_.isFree(e)&&t.free++}),t}function L(e){return _.getSortedContentArray(t.get(e,"items",{})).map(function(e){return e.content_id})}function D(){var e=B.getState(),n=p.constants,a={},i=L(e.search),s=t.get(e,"pagination.total",0),r=P(i);return a[n.EVENT_PARAMS.CONTENT_ID_LIST]=i,a[n.EVENT_PARAMS.RESULTS_COUNTS]=r,a[n.EVENT_PARAMS.TOTAL_SEARCH_RESULTS]=s,a}function N(n,a){var i=p.constants,s={},r=B.getState(),l=t.get(r,"filters.k","");s[i.EVENT_PARAMS.PAGE]=n,s[i.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=l,p.track(i.CLICK,i.PAGINATION,s,e(a)),p.track(i.SEARCH_BEGIN,i.PAGINATION,s,e(a))}function w(){return t.get(B.getState(),"page.filter_asset_type","")}function M(){var e={name:"SearchErrorAlert",alertBody:{id:"alert.alertBody.searchErrorAlert",defaultMessage:"We're experiencing some difficulties completing this search. Please try again in a few minutes."}};a.renderAlert(e)}function U(e,t){var n={name:"MoveToLibraryFailureAlert",alertBody:{id:"libraries.toast.title.moveFailureText",defaultMessage:"Could not move asset into "+t},variant:"error"};a.renderAlert(n)}function F(e,t){var n={name:"SaveToLibraryFailureAlert",alertBody:{id:"libraries.toast.title.saveFailureText",defaultMessage:"Could not save asset into "+t},variant:"error"};a.renderAlert(n)}function j(e){return e[r.NATIVE_VISUAL_SEARCH]="",e[r.SIMILAR_CONTENT_ID]="",e[r.MODEL_ID]="",e[r.SERIE_ID]="",n.is_mobile||(e[r.FIND_SIMILAR_BY]=""),e}function H(){var e=B.getState();return(t.get(e.filters,r.SIMILAR_CONTENT_ID,"").length||t.get(e.filters,r.NATIVE_VISUAL_SEARCH,"").length)>0}function V(e){var t=B.getState().details,n=t.selected,a=!(!n||!t[n])&&!!t[n].is_purchasable;return _.isPurchasable(e)||a}function q(){if(m.getQueryParam("asset_id")){var e=u.getLocation("href").split("?"),t=e[1]?e[1]:"",n=m.removeQueryParam(t,"asset_id"),a=e[0]+"?"+n;u.pushState({asset_id:null},a,a)}}function Y(e){if(!isNaN(parseInt(e))&&e.toString()===parseInt(e).toString()){if(m.getQueryParam("asset_id")!==e){var t=u.getLocation("href").split("?"),n=t[1]?t[1]:"",a=m.setQueryParam(n,"asset_id",e),i=t[0]+"?"+a;u.pushState({asset_id:e},i,i)}}}function G(t){var n=e(".js-search-text-input"),a=p.constants,i={};i[a.EVENT_PARAMS.QUERY_SUGGESTION_LIST]=t,p.track(a.VISUAL_SEARCH.IMPRESSIONS,a.QUERY_SUGGESTION,i,n)}var B=i.getInstance(),K="recent-searches-v1",W=5,z=".js-search-recent-container",Q=function(){var e=!1,t=B.getState(),n=t.page,a=t.filters,i=n.filter_asset_type===s.VIDEOS,l=a[r.PRICE]&&a[r.PRICE][r.PRICE_CLIENT_HIGH],o=a[r.FILTERS]&&a[r.FILTERS][r.EDITORIAL]==r.EDITORIAL_ON;return a[r.COLLECTION]&&(i||l||o)&&(e=!0),e},X=function(){return B.getState().page.filter_asset_type===s.VIDEOS},Z=function(){return B.getState().page.filter_asset_type===s.FREE},J={addRecentSearch:y,clearPremiumBottomRail:I,clearRecentSearches:C,getAssetType:w,getRecentSearches:T,idExistsInFindSimilar:b,isNonFmfPage:Q,isVideoAssetType:X,isFreeAssetType:Z,updatePremiumBottomRail:S,isContentId:O,logSimilarAnalyticsDunamis:k,handleClickSimilarAnalyticsDunamis:A,handleDunamisSuccessTracking:x,handleDunamisAssetDropdownChange:R,getSortedContentIds:L,getSearchResultsBreakdownforDunamis:D,handleDunamisPaginationTracking:N,showSearchErrorAlert:M,showMoveToLibraryFailureAlert:U,showSaveToLibraryFailureAlert:F,resetFindSimilarFilters:j,isVisualSearchActive:H,isPurchasableAsset:V,removeAssetIdQueryParamFromUrl:q,updateAssetIdQueryParamToUrl:Y,handleQuerySuggestionsAsynchronous:G,RECENT_SEARCHES_KEY:K};return J}),define("lib/videoThumbnail",["jquery","lib/analytics/dunamis"],function(e,t){"use strict";function n(n,a){var i=s.VISIT,r=a,l={};l[s.EVENT_PARAMS.VIDEO_DURATION]=n.duration,l[s.EVENT_PARAMS.VIDEO_PLAY_TIME]=n.currentTime,t.track(i,r,l,e(n))}function a(){e(".js-video-thumb").on("play",function(e){n(e.currentTarget,s.HOVER_VIDEO_START)}).on("pause ended",function(e){n(e.currentTarget,s.HOVER_VIDEO_STOP)})}function i(){e(".js-video-thumb").on("mouseover",function(){this.play()}).on("mouseout",function(){var e=this;e.play().then(function(){e.pause()})})}var s=t.constants;return{initVideoAnalyticEvents:a,initVideoMouseEvents:i}}),define("app/actions/searchActions",["jquery","lodash","app/actions/actionTypes","app/ajax/search","app/constants/searchFilters","app/utils/search","app/utils/detailSearchGrid","lib/ajax","lib/utils","page_config","app/constants/assetTypeFilters","lib/videoThumbnail"],function(e,t,n,a,i,s,r,l,o,c,u,d){"use strict";function p(e){var t={};e[i.PRICE]&&(e[i.PRICE][i.PRICE_CLIENT_LOW]&&(t[i.PRICE_SERVER_LOW]=e[i.PRICE][i.PRICE_CLIENT_LOW]),e[i.PRICE][i.PRICE_CLIENT_HIGH]&&(t[i.PRICE_SERVER_HIGH]=e[i.PRICE][i.PRICE_CLIENT_HIGH],t[i.PRICE_SERVER_MEDIUM]=e[i.PRICE][i.PRICE_CLIENT_HIGH])),Object.keys(t).length&&(e[i.PRICE]=t)}function h(e){e[i.FILTERS]&&e[i.FILTERS][i.CONTENT_TYPE_PHOTO]&&(f(e,i.VIVID_COLOR,i.VIVID_COLOR_DEFAULT_SCORING)||f(e,i.DEPTH_OF_FIELD,i.DEPTH_OF_FIELD_DEFAULT_SCORING))&&(e[i.FILTERS][i.CONTENT_TYPE_ILLUSTRATION]=0,e[i.FILTERS][i.CONTENT_TYPE_VECTOR]=0),!e[i.FILTERS]||1!=e[i.FILTERS][i.CONTENT_TYPE_ILLUSTRATION]&&1!=e[i.FILTERS][i.CONTENT_TYPE_VECTOR]||(e[i.SCORING]=void 0)}function m(e){var n=t.get(e,"filters",{}),a=t.get(e,"page.filter_asset_type",null);return t.get(n.filters,i.COPY_SPACE,null)&&(a===u.ALL?(n.filters[i.CONTENT_TYPE_IMAGE]=1,n.filters[i.CONTENT_TYPE_VIDEO]=0,n.filters[i.CONTENT_TYPE_TEMPLATE]=0,n.filters[i.CONTENT_TYPE_3D]=0,n.filters[i.CONTENT_TYPE_PHOTO]=1,n.filters[i.CONTENT_TYPE_ILLUSTRATION]=0,n.filters[i.CONTENT_TYPE_VECTOR]=0):a===u.IMAGES&&(n.filters[i.CONTENT_TYPE_PHOTO]=1,n.filters[i.CONTENT_TYPE_ILLUSTRATION]=0,n.filters[i.CONTENT_TYPE_VECTOR]=0)),n}function f(e,t,n){return!(!e[i.SCORING]||void 0===e[i.SCORING][t]||e[i.SCORING][t]===n)}function _(n,a){var i,r,l=n.pagination,o=n.page.filter_asset_type,u=e.extend(!0,{},n.filters,m(n)),d="templates"===o,f="3d"===o,_=s.isVisualSearchActive(),g=_&&(d||f);return a=a||{},"get_facets"in a||(a.get_facets=t.get(n,"view.metadata.filtersPanel.isVisible",!1)?1:0),g&&(a=s.resetFindSimilarFilters(a)),p(u),r=e.param(e.extend({},u,a||{})),h(u),i=e.extend({},u,{limit:t.get(c,"search_params.limit")},a),{pagination:l,assetType:o,searchParams:i,urlQuery:r,filters:u}}function g(e,t){var n=t.filters,a=n[i.CONTENT_TYPE_ILLUSTRATION]||n[i.CONTENT_TYPE_PHOTO]||n[i.CONTENT_TYPE_VECTOR],s=t.k,r=!n.is_editorial,l=I.has(c.locale_code.toLowerCase()),o=e.page.filter_asset_type,u="all"==o||"images"==o;return a&&s&&r&&l&&u}function E(e,i){return function(l,o){var u=o(),d=_(u,i);g(u,d.searchParams)?l({isHistoryNavigationSearch:e,newUrlQuery:d.urlQuery,promise:a.fetchQuerySuggestions(d.searchParams),searchFilters:d.searchParams,searchPagination:d.pagination,assetType:d.assetType,type:n.GET_QUERY_SUGGESTIONS_RESULTS}).then(function(e){if(s.handleQuerySuggestionsAsynchronous(e.result),c.isSTDetailsViewInNewTabEnabled){var n=t.get(o(),"filters",{});r.updateFiltersInSessionStorage(n)}}):l({type:n.CLEAR_QUERY_SUGGESTIONS})}}function v(e,i,l){return function(o,u){var p=_(u(),i);l=l||!1,o({isHistoryNavigationSearch:e,newUrlQuery:p.urlQuery,promise:a.fetchSearchResults(p.searchParams),searchFilters:p.searchParams,searchPagination:p.pagination,type:n.GET_SEARCH_RESULTS,assetType:p.assetType,forceSearchRoute:l}).fail(function(e){500===e.error.status&&s.showSearchErrorAlert()}).then(b(p.filters.k)).then(function(){if(s.handleDunamisSuccessTracking(),d.initVideoAnalyticEvents(),d.initVideoMouseEvents(),c.isSTDetailsViewInNewTabEnabled){var e=t.get(u(),"filters",{});r.updateFiltersInSessionStorage(e)}})}}function b(e){return function(t){o.isObject(t)&&t.result&&o.isObject(t.result.items)&&Object.keys(t.result.items).length>0&&!t.result.suggest_used&&s.addRecentSearch(e)}}function T(){return{type:n.SHOW_RECENT_SEARCHES}}function y(){return{type:n.HIDE_RECENT_SEARCHES}}function C(){return{type:n.SET_ASSET_TYPE_TO_PREMIUM}}function S(e){return{value:e,type:n.UPDATE_ASSET_ID}}var I=new Set(["en_us","ee","gr_en","lv","lt","hu","mt","ro","si","sk","fi","bg","au","nz","th","hk"]);return{getSearchResults:v,hideRecentSearches:y,processFilters:p,showRecentSearches:T,getQuerySuggestionsResults:E,getSearchDispatchData:_,shouldRequestQuerySuggestions:g,isAestheticFilterEnabled:f,processAestheticFilters:h,addRecentSearchCallback:b,setAssetTypeToPremium:C,processCopySpaceFilter:m,updateAssetID:S}}),define("hbs!templates/search/thumbsPreview",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.thumbs:e,{name:"each",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.thumbPreview,e,{name:"thumbPreview",hash:{src:null!=e?e.src:e,max_find_similar:(i=a&&a.root)&&i.max_find_similar,id:null!=e?e.id:e,alt:null!=e?e.alt:e},data:a,indent:"        ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.thumbs:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/search/thumbPreview",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"js-show-tooltip-on-hover"},3:function(e,t,n,a){return"opacity-half"},5:function(e,t,n,a){return"inactive-"},7:function(e,t,n,a){return"transparent-overlay"},9:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.thumbPreviewInactiveTooltip,e,{name:"thumbPreviewInactiveTooltip",hash:{max_find_similar:null!=e?e.max_find_similar:e},data:a,indent:"    ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="container-relative container-inline-block thumb-badge '+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="thumb-badge">\n    <div class="'+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'">\n        <div class="padding-left-small">\n            <span class="v-align margin-left-medium">\n                <a class="js-'+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"thumb-badge-close container-inline-block no-font-size strong-white-overlay circle "+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'" data-id="'+this.escapeExpression((s=null!=(s=t.id||(null!=e?e.id:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"id",hash:{},data:a}):s))+'">\n                    <span class="black-text">\n                        <i class="mti-icon icon-close"></i>\n                    </span>\n                </a>\n            </span>\n            <img alt="'+this.escapeExpression((s=null!=(s=t.alt||(null!=e?e.alt:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"alt",hash:{},data:a}):s))+'" class="thumb-badge__image" src="'+this.escapeExpression((s=null!=(s=t.src||(null!=e?e.src:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"src",hash:{},data:a}):s))+'"/>\n        </div>\n    </div>\n'+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/search/thumbPreviewInactiveTooltip",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-absolute h-align js-inactive-tooltip" data-is-visible="false">\n    <div class="padding-top-large"></div>\n    <div class="menu container-relative">\n        <div class="menu__arrow menu__arrow--top menu__arrow--center"></div>\n        <div class="padding-left-large padding-right-large padding-top-small padding-bottom-small">\n            <p class="no-margin normal-whitespace thumb-badge__tooltip">\n                '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"SEARCH::FIND_SIMILAR::TOOLTIP::We currently support a maximum of %s%s images%s for similarity search.",{name:"_",hash:{},data:a}),"<strong>",null!=e?e.max_find_similar:e,"</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+"\n            </p>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("app/actions/filterActions",["jquery","page_config","app/actions/actionTypes","app/constants/assetTypeFilters","app/actions/searchActions","app/ajax/search","app/constants/searchFilters","app/utils/searchData"],function(e,t,n,a,i,s,r,l){"use strict";function o(t){var n=t&&t[r.PRICE],a={};n&&(n[r.PRICE_CLIENT_HIGH]?(n[r.PRICE_CLIENT_HIGH]=1,n[r.PRICE_CLIENT_LOW]=0):n[r.PRICE_CLIENT_LOW]?(n[r.PRICE_CLIENT_HIGH]=0,n[r.PRICE_CLIENT_LOW]=1):n[r.PRICE_CLIENT_ALL]&&(n[r.PRICE_CLIENT_HIGH]=0,n[r.PRICE_CLIENT_LOW]=0,n[r.PRICE_CLIENT_ALL]=0),a[r.PRICE_SERVER_LOW]=n[r.PRICE_CLIENT_LOW],a[r.PRICE_SERVER_MEDIUM]=n[r.PRICE_CLIENT_HIGH],a[r.PRICE_SERVER_HIGH]=n[r.PRICE_CLIENT_HIGH],t[r.PRICE]=e.extend({},n,a))}function c(e){var t=e&&e[r.FILTERS];t&&(t[r.VIDEO_IS_ALL]?(t[r.VIDEO_IS_4K]=0,t[r.VIDEO_IS_ALL]=void 0):t[r.VIDEO_IS_4K]&&(t[r.VIDEO_IS_4K]=1))}function u(e){var t=e&&e[r.FILTERS];t&&(t[r.RELEASES_ALL]?(t[r.INCLUDE_PEOPLE]=1,t[r.EXCLUDE_PEOPLE]=1,t[r.RELEASES_ALL]=0):t[r.EXCLUDE_PEOPLE]?(t[r.INCLUDE_PEOPLE]=0,t[r.EXCLUDE_PEOPLE]=1):t[r.INCLUDE_PEOPLE]&&(t[r.INCLUDE_PEOPLE]=1,t[r.EXCLUDE_PEOPLE]=0))}function d(e){var t={};switch(e){case r.ILLUSTRATIVE_INCLUDE:t[r.ILLUSTRATIVE]=r.ILLUSTRATIVE_INCLUDE;break;case r.ILLUSTRATIVE_EXCLUDE:t[r.ILLUSTRATIVE]=r.ILLUSTRATIVE_EXCLUDE;break;case r.ILLUSTRATIVE_ALL:t[r.ILLUSTRATIVE]=r.ILLUSTRATIVE_ALL}return{filters:t,type:n.UPDATE_ILLUSTRATIVE_FILTER}}function p(e){var t={};return 1===e&&(t[r.ISOLATED]=r.ISOLATED_ONLY),{filters:t,type:n.UPDATE_ISOLATED_FILTER}}function h(e){var t={};return 1===e&&(t[r.UNDISCOVERED]=r.UNDISCOVERED_ONLY),{filters:t,type:n.UPDATE_UNDISCOVERED_FILTER}}function m(e){e&&e[r.CATEGORY]===r.CATEGORIES_ALL&&(e[r.CATEGORY]="")}function f(e){return o(e),c(e),u(e),m(e),d(e),{filters:e||{},type:n.UPDATE_SEARCH_FILTERS}}function _(e){var t={};return t[r.CONTENT_TYPE_IMAGE]=1,t[r.CONTENT_TYPE_VIDEO]=l.shouldShowAssetTypesFilterVideo(e)?1:0,t[r.CONTENT_TYPE_3D]=l.shouldShowAssetTypesFilter3d(e)?1:0,t[r.CONTENT_TYPE_TEMPLATE]=l.shouldShowAssetTypesFilterTemplates(e)?1:0,t}function g(e,t){var a={},i=e[r.CONTENT_TYPE_ALL],s=e[r.CONTENT_TYPE_IMAGE],l=e[r.CONTENT_TYPE_VIDEO],o=e[r.CONTENT_TYPE_3D],c=e[r.CONTENT_TYPE_TEMPLATE];return a[r.CONTENT_TYPE_IMAGE]=0,a[r.CONTENT_TYPE_VIDEO]=0,a[r.CONTENT_TYPE_3D]=0,a[r.CONTENT_TYPE_TEMPLATE]=0,s?a[r.CONTENT_TYPE_IMAGE]=1:l?a[r.CONTENT_TYPE_VIDEO]=1:o?a[r.CONTENT_TYPE_3D]=1:c?a[r.CONTENT_TYPE_TEMPLATE]=1:i&&(a=_(t)),{filters:a,all:i,type:n.UPDATE_ASSET_TYPE_FILTER}}function E(e){return{filters:_(e),type:n.CLEAR_ASSET_TYPE_BREADCRUMB}}function v(t,i){var s=e.extend({},t);return i!==a.IMAGES&&(s[r.CONTENT_TYPE_IMAGE]=1,s[r.CONTENT_TYPE_VIDEO]=0,s[r.CONTENT_TYPE_TEMPLATE]=0,s[r.CONTENT_TYPE_3D]=0),{filters:s,type:n.UPDATE_IMAGE_SUBCATEGORY_FILTER}}function b(e,t){return{filter:{key:e,value:t},type:n.CLEAR_BREADCRUMB_FILTER}}function T(e){return{data:e||{},type:n.CLEAR_SEARCH_FILTERS}}function y(){return function(t,a){var r,l=a();r=e.extend({},l.filters),i.processFilters(r),i.processAestheticFilters(r),t({promise:s.fetchSearchFacets(r),type:n.OPEN_FILTERS_PANEL})}}function C(){return{type:n.CLOSE_FILTERS_PANEL}}function S(e,t){return{frameRates:e,areAllSelected:t,type:n.UPDATE_FRAME_RATE_FILTER}}function I(e,t){return{min:void 0!==e?e:r.VIDEO_DURATION_DEFAULT_MIN,max:void 0!==t?t:r.VIDEO_DURATION_DEFAULT_MAX,type:n.UPDATE_DURATION_FILTER}}function O(e){return{value:e[r.COPY_SPACE_ALL]?r.COPY_SPACE_ALL:"",type:n.UPDATE_COPY_SPACE_FILTER}}function k(e){var t,a=e[r.COPY_SPACE_MANUFACTURED],i=e[r.COPY_SPACE_NATURAL];return t=i&&a?r.COPY_SPACE_ALL:a?r.COPY_SPACE_MANUFACTURED:i?r.COPY_SPACE_NATURAL:"",{value:t,type:n.UPDATE_COPY_SPACE_FILTER}}function A(e,t,a,i){var s={type:n.UPDATE_SIZE_FILTER,value:{}};return e===r.SIZE_PIXELS?(s[r.SIZE]=r.SIZE_PIXELS,t&&(s.value[r.SIZE_PIXELS_WIDTH_MIN]=t),a&&(s.value[r.SIZE_PIXELS_HEIGHT_MIN]=a)):e===r.SIZE_MEGA_PIXELS&&(s[r.SIZE]=r.SIZE_MEGA_PIXELS,i&&(s.value[r.SIZE_MEGA_PIXELS_MIN]=i)),s}return{clearAssetTypeBreadcrumb:E,clearBreadcrumbFilter:b,clearSearchFilters:T,closeFiltersPanel:C,openFiltersPanel:y,updateAssetTypeFilter:g,toggleCopySpaceFilter:O,updateCopySpaceFilterType:k,updateDurationFilter:I,updateImageSubcategoryFilter:v,updateFrameRateFilter:S,updateSearchFilters:f,updateSizeFilter:A,updateVideoSubcategory:c,updateIsolatedMapping:p,updateUndiscoveredMapping:h,updateIllustrativeMapping:d}}),define("app/actions/multiImageActions",["jquery","page_config","app/actions/actionTypes","app/constants/searchFilters","app/constants/assetTypeFilters","lodash","app/utils/searchData"],function(e,t,n,a,i,s,r){"use strict";function l(e,t){var n,i="",s=[];return e&&(n=t.toString(),n&&(s=n.split(a.SIMILAR_CONTENT_ID_SEPARATOR)),s.length>=a.MAX_FIND_SIMILAR_IMAGES&&s.shift(),s.push(e),i=s.join(a.SIMILAR_CONTENT_ID_SEPARATOR)),{similarContentId:i}}function o(e,i,s){return function(l,o){var c,u=o(),d=u.filters;return s=s||{},i=i||{},s[a.NATIVE_VISUAL_SEARCH]?(s[a.SIMILAR_CONTENT_ID]="",i[a.NATIVE_VISUAL_SEARCH]=s[a.NATIVE_VISUAL_SEARCH]):s[a.SIMILAR_CONTENT_ID]=e,s[a.FIND_SIMILAR_BY]=s[a.FIND_SIMILAR_BY]||"all",i[a.FIND_SIMILAR_BY]=s[a.FIND_SIMILAR_BY]||"all",!t.is_mobile&&r.isAestheticFilterSet(d)&&delete d.scoring,c={contentId:Number(e),multiImage:i,searchFilters:s||{},type:n.MULTI_IMAGE_ADD,isVideo:!!i&&i.isVideo,allFilters:d},l(c)}}function c(e){return function(t,a){return t({contentId:e,type:n.MULTI_IMAGE_REMOVE})}}function u(e,s,r){var l={type:n.MULTI_IMAGE_UPLOAD,src:e};if(!t.is_mobile){switch(r){case i.ALL:case i.PREMIUM:s[a.CONTENT_TYPE_IMAGE]=1,s[a.CONTENT_TYPE_PHOTO]=1,s[a.CONTENT_TYPE_ILLUSTRATION]=0,s[a.CONTENT_TYPE_VECTOR]=0,s[a.CONTENT_TYPE_VIDEO]=0,s[a.CONTENT_TYPE_TEMPLATE]=0,s[a.CONTENT_TYPE_3D]=0;break;case i.EDITORIAL:s[a.CONTENT_TYPE_IMAGE]=1,s[a.CONTENT_TYPE_VIDEO]=0;break;case i.IMAGES:s[a.CONTENT_TYPE_PHOTO]=1,s[a.CONTENT_TYPE_ILLUSTRATION]=0,s[a.CONTENT_TYPE_VECTOR]=0}l.filters=s,l.filter_asset_type=r}return l}function d(e,t){return{type:n.UPDATE_FIND_SIMILAR_BY,id:e,findSimilarBy:t}}return{multiImageAdd:o,multiImageRemove:c,multiImageUpload:u,updateFindSimilarBy:d,getNewSimilarIds:l}}),define("app/actions/historyActions",["jquery","page_config","app/constants/searchFilters","app/actions/actionTypes","lib/utils","lodash"],function(e,t,n,a,i,s){"use strict";function r(e){var t=e&&e[n.PRICE];t&&(t[n.PRICE_SERVER_HIGH]&&(t[n.PRICE_CLIENT_HIGH]=1),t[n.PRICE_SERVER_LOW]&&(t[n.PRICE_CLIENT_LOW]=1))}function l(){return function(t,n){var s=window.location,l=0===s.search.indexOf("?")?s.search.substr(1):s.search,o=n().history.paramHistory[l]||{},c=e.extend({},o),u=c.pagination,d=c.filters,p=c.assetType,h=c.title,m=c.url;r(d),t({pastKeyword:d?d.k:i.getQueryParam("k"),previousAssetType:p,previousFilters:d,previousPagination:u,previousTitle:h,previousUrl:m,shouldSkipUrl:!0,type:a.NAVIGATE_SEARCH_HISTORY})}}function o(){return function(t,n){var l,o,c,u,d,p,h,m=n(),f=s.get(m,"history.paramHistory",null);Object.keys(f).length>1&&(o=Object.keys(f).slice(-2,-1)[0],l=f[o],f=e.extend({},l),c=f.pagination,u=f.filters,d=f.assetType,p=f.title,h=f.url),r(u),t({type:a.ALERT_UNDO_ACTION,pastKeyword:u?u.k:i.getQueryParam("k"),previousAssetType:d,previousFilters:u,previousPagination:c,previousTitle:p,previousUrl:h,shouldSkipUrl:!1})}}return{navigateSearchHistory:l,undoAction:o}}),define("components/search/searchHelper",["jquery","lodash","page_config","i18n-config","app/client","app/actions/searchActions","app/utils/search","app/utils/routes","app/utils/searchData","lib/utils","lib/contentDetails","hbs!templates/search/thumbsPreview","hbs!templates/search/thumbPreview","hbs!templates/search/thumbPreviewInactiveTooltip","app/constants/searchFilters","app/actions/filterActions","app/actions/multiImageActions","lib/analytics","lib/analytics/dunamis","app/stock-portal","app/actions/historyActions","app/constants/analytics","app/constants/assetTypeFilters"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y){"use strict";function C(){v.closeAlert()}function S(){var e=te.getState(),a={items:{},details:{selected:null},filters:{filters:{"content_type:photo":0,"content_type:illustration":0,"content_type:zip_vector":0,"content_type:video":0,"content_type:template":0,"content_type:3d":0,"content_type:image":0,is_editorial:0,include_stock_enterprise:0},k:"",similar_content_id:null},page:{filter_asset_type:"",isUsingAjax:!1,isMultiImageFSCEnabled:!1}};return a.items=u.getContentDataDic()||{},a.filters.filters["content_type:photo"]=t.get(e,"filters.filters.content_type:photo",0),a.filters.filters["content_type:illustration"]=t.get(e,"filters.filters.content_type:illustration",0),a.filters.filters["content_type:zip_vector"]=t.get(e,"filters.filters.content_type:zip_vector",0),a.filters.filters["content_type:video"]=t.get(e,"filters.filters.content_type:video",0),a.filters.filters["content_type:template"]=t.get(e,"filters.filters.content_type:template",0),a.filters.filters["content_type:3d"]=t.get(e,"filters.filters.content_type:3d",0),a.filters.filters["content_type:image"]=t.get(e,"filters.filters.content_type:image",0),a.filters.filters.is_editorial=t.get(e,"filters.filters.is_editorial",0),a.filters.filters.include_stock_enterprise=t.get(e,"filters.filters.include_stock_enterprise",0),a.filters.k=t.get(e,"filters.k",""),a.filters.similar_content_id=t.get(e,"filters.similar_content_id",null),a.page.filter_asset_type=t.get(e,"page.filter_asset_type",""),a.page.isUsingAjax=t.get(n,"isUsingAjax",!1),a.page.isMultiImageFSCEnabled=t.get(n,"isMultiImageFSCEnabled",!1),a.details=t.get(e,"details",{selected:null}),a}function I(e){return e[m.COLLECTION]?"collections":e[m.SERIE_ID]?"series":e[m.AUTHOR]?"portfolio":e[m.MODEL_ID]?"model":null}function O(){var t,n=te.getState(),a=n.search,i=n.page.filter_asset_type,s=a.facets&&a.facets.asset_type?a.facets.asset_type:{},r=s&&s.video?s.video:0,l=s&&s.template?s.template:0,o=E.constants;r>0&&l>0?t=o.ASSET_TYPE_LINK_VIDEO_TEMPLATE:r>0?t=o.ASSET_TYPE_LINK_VIDEO:l>0&&(t=o.ASSET_TYPE_LINK_TEMPLATE),!t||i!==y.ALL&&i!==y.IMAGES||E.track(o.VISUAL_SEARCH.IMPRESSIONS,t,{},e("body"))}function k(t,s){var r,l,o,u="",f=[],_=i.getInstance().getState(),g=_.view.multiImage,E=[],b=[];if(t){for(f=t.toString().split(m.SIMILAR_CONTENT_ID_SEPARATOR),l=f.length-1;l>=0;l--)r=Number(f[l]),(u=c.getValueFromArrayById(g.metadata,"contentId",r))&&(E.push({alt:u.title,id:r,src:u.thumbnail}),n.isStockPanelEnabled&&!s?(o=X(u),b={similarContentId:t,imgUrl:u.content_url,imgThumbnailUrl:u.thumbnail_240,hideComposition:o,findSimilarBy:u.findSimilarBy||_.filters.find_similar_by},v.renderFindSimilarControlsPanel(b)):v.renderFindSimilarControlsPanel());e(ee).html(d({max_find_similar:a.gettext("SEARCH::FIND_SIMILAR::TOOLTIP::MAX_IMAGES::two"),thumbs:E},{partials:{thumbPreview:p,thumbPreviewInactiveTooltip:h}}))}else A()}function A(){e(ee).html("")}function R(){return te.getState().filters[m.SIMILAR_CONTENT_ID]||""}function x(e){return!(e&&e.length>1024)}function P(){return te.getState().filters[m.COLLECTION]}function L(e){var a={thumbnail:e.content_thumb_url||t.get(e,"src",""),thumbnail_240:e.thumbnail_url||t.get(e,"src",""),title:e.title||"",content_url:e.content_url,contentId:e.content_id};return n.is_mobile||(a.isVideo=e.is_video),a}function D(){var n,a,i=te.getState(),s=null,r=t.get(i,"history.paramHistory",null);return r&&Object.keys(r).length>1&&(a=Object.keys(r).slice(-2,-1)[0],n=r[a],r=e.extend({},n),s=r.url+"?"+a),s}function N(e){var t=l.getSearchRoute(e);return void 0===t&&(t="/search"),n.base_url+t}function w(){M(),C()}function M(){$.performActionAndSearch(b.undoAction(),!1,{search_page:c.getQueryParam("search_page")})}function U(){var e={name:"IncompatibleFiltersAlert",alertType:"undo",alertBody:{id:"alert.alertBody.fscIncompatibleFiltersApplied",defaultMessage:"Some filters you selected are unavailable when performing a Find Similar or Visual Search and have been removed."}};v.renderAlert(e)}function F(){var e={name:"IncompatibleFSCCompositionAlert",alertType:m.ALERT_ACTION_UNDO,alertBody:{id:"alert.alertBody.fscIncompatibleCompositionApplied",defaultMessage:"Find Similar Composition is unavailable when searching for Video assets and has been removed."}};v.renderAlert(e)}function j(e){var t={name:"IncompatibleAssetAlert",alertType:e,alertBody:{id:"alert.alertBody.fscIncompatibleAsset3DApplied",defaultMessage:"Find Similar is unavailable when searching for 3D assets. To search with this image, please select a different content type."}};v.renderAlert(t)}function H(e){var t={name:"IncompatibleAssetAlert",alertType:e,alertBody:{id:"alert.alertBody.fscIncompatibleAssetTemplatesApplied",defaultMessage:"Find Similar is unavailable when searching for Template assets. To search with this image, please select a different content type."}};v.renderAlert(t)}function V(e){if(!e)return!1;var t=e.toString();return($.getSimilarContentId().toString().split(m.SIMILAR_CONTENT_ID_SEPARATOR)||[]).indexOf(t)>-1}function q(){var e=te.getState(),n="templates"===t.get(e,"page.filter_asset_type",""),a=1===o.getEnabledAssetContentTypeFilters(e).length&&!!t.get(e,"filters.filters.content_type:template",!1);return n||a}function Y(){var e=te.getState(),n="3d"===t.get(e,"page.filter_asset_type",""),a=1===o.getEnabledAssetContentTypeFilters(e).length&&!!t.get(e,"filters.filters.content_type:3d",!1);return n||a}function G(){return q()||Y()}function B(t){var n=e(t.currentTarget).data("id").toString(),a={},i=te.getState().filters[m.NATIVE_VISUAL_SEARCH],s={},r=E.constants,l=document.querySelector('input[name="fsc-options-'+n+'"]:checked'),o=l?l.value:"",c=r.VISUAL_SEARCH.CLOSE_VISUAL_SEARCH_TILE;localStorage.getItem(m.FSC_IMAGE)&&localStorage.removeItem(m.FSC_IMAGE),i===n?a[m.NATIVE_VISUAL_SEARCH]="":(te.dispatch(_.multiImageRemove(n)),a[m.SIMILAR_CONTENT_ID]=R()),a[m.FIND_SIMILAR_BY]="",g.logFindSimilarCloseClick(),o&&(s[r.VISUAL_SEARCH.FIND_SIMILAR_BY]=o,a[r.SEARCH_TYPE]=c,E.track(r.CLICK,c,s,e("body")),E.track(r.SEARCH_BEGIN,c,s,e("body"))),$.performSearch(!1,a)}function K(e){var n=m.FILTERS+"."+m.KEYWORD,a=te.getState(),i=t.get(a,n);!t.isEqual(i,e)&&o.isFindSimilarControlsSearch(a)&&v.renderFindSimilarControlsPanel()}function W(e){return e[m.SIMILAR_CONTENT_ID]="",e[m.SERIE_ID]="",e}function z(e){return e[m.SIMILAR_CONTENT_ID]="",e[m.MODEL_ID]="",e}function Q(e){var t=te.getState(),n=t.details&&t.details.selected;return n&&n===e?t.details[n]:u.getContentData(e)}function X(e){var n=te.getState(),a=t.get(e,"is_video",!1)||t.get(e,"isVideo",!1),i="videos"===t.get(n,"page.filter_asset_type",""),s=1===o.getEnabledAssetContentTypeFilters(n).length&&!!t.get(n,"filters.filters.content_type:video",!1);return a||i||s}function Z(){return(t.get(te.getState().filters,m.FIND_SIMILAR_BY,"").length?t.get(te.getState().filters,m.FIND_SIMILAR_BY):T.FSC_OPTIONS.FSC_OPTION_ALL)===T.FSC_OPTIONS.FSC_OPTION_COMPOSITION}function J(e){var n=te.getState();return t.get(n,["details",e,"is_vector"],!1)}var $,ee=".js-thumbs-container",te=i.getInstance(),ne=function(e,t,a){var i,r=te.getState().pagination,l=t||{};$.closeAlertHandler(),l.search_page=l.search_page?l.search_page:r.page,i=s.getSearchResults(e,l,a),n.isQISAsyncEnabled&&te.dispatch(s.getQuerySuggestionsResults(e,l,a)),te.dispatch(i),c.scrollToTop()},ae=function(e){var t=!1;return n.isViewLinksInImagesAndAllEnabled&&e.facets&&e.facets.asset_type&&(t=!0),t};return $={thumbPreviewSelector:ee,performSearch:ne,togglePreviewThumbs:k,removePreviewThumb:A,getSimilarContentId:R,performActionAndSearch:function(e,t,n,a){t=t||!1,n=n||{},te.dispatch(e),ne(t,n,a)},getCollectionId:P,getMultiImageMetadata:L,showIncompatibleFiltersAlert:U,idExistsInSimilarContent:V,clearFilters:function(e){var n=te.getState();$.performActionAndSearch(f.clearSearchFilters({filter_asset_type:t.get(n,"page.filter_asset_type",""),similar_content_id:t.get(n,"filters.similar_content_id",""),native_visual_search:t.get(n,"filters.native_visual_search",""),serie_id:t.get(n,"filters.serie_id",""),model_id:t.get(n,"filters.model_id","")}),!1,e)},handleFindSimilarCloseClick:B,renderFindSimilarControlsOnKeywordChange:K,undoClickHandler:w,closeAlertHandler:C,getSelectedContentData:Q,shouldHideFscComposition:X,shouldRemoveFSCTile:G,getPreviousUrl:D,resetSeeMoreSeriesFilters:W,resetSeeMoreModelFilters:z,showIncompatibleFSCCompositionAlert:F,isFSCCompositionOptionSelected:Z,isFSCIncompatible3DSet:Y,isFSCIncompatibleTemplateSet:q,showIncompatible3DAssetAlert:j,showIncompatibleTemplatesAssetAlert:H,getSearchUrlForAssetType:N,getActiveSearchPill:I,getVisualSearchModalData:S,validateKeyword:x,isMoreFromSeriesVector:J,shouldUpdateAssetTypeFacets:ae,trackDisplayedSrpViewLinks:O}}),define("hbs!templates/detailPanel/vectorDownloadSettings",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <div class="margin-top-medium container-table">\n        <div class="container-table-row">\n            <div class="text-small grey dove-text">\n                <span data-t="vector-download-choice-text">\n'+(null!=(i=t.if.call(e,null!=e?e.isLicensed:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.vectorDownloadChoice:e,{name:"unless",hash:{},fn:this.program(12,a,0),
inverse:this.noop,data:a}))?i:"")+'                </span>\n                <span class="grey bon-jour-text margin-left-xsmall">|</span>\n                <button class="js-vector-download-settings-button" data-t="vector-download-settings-button" data-ingest-clicktype="vector-download-settings">\n                    <i class="mti-icon icon-settings"></i>\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::BUTTON::Settings",{name:"_",hash:{},data:a}))+"\n                </button>\n            </div>\n        </div>\n    </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.shouldShowVectorDownloadSettingsModal:e,{name:"if",hash:{},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:"")},2:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"vector",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"jpeg",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")},3:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::Download File Type: Vector",{name:"_",hash:{},data:a}))+"\n"},5:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::Download File Type: JPEG",{name:"_",hash:{},data:a}))+"\n"},7:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"vector",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"jpeg",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")},8:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::License File Type: Vector",{name:"_",hash:{},data:a}))+"\n"},10:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::License File Type: JPEG",{name:"_",hash:{},data:a}))+"\n"},12:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::Vector and JPEG files included with both licenses",{name:"_",hash:{},data:a}))+"\n"},14:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/vectorDownloadSettingsModal"],e,{name:"components/vectorDownloadSettingsModal",data:a,indent:"        ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=(t["if-all-true"]||e&&e["if-all-true"]||t.helperMissing).call(e,null!=e?e.isVectorJpegEnabled:e,null!=e?e.isVector:e,{name:"if-all-true",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/vectorDownloadSettingsModal",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'                                checked="checked"\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="mti-modal modal--with-header" data-t="vector-download-settings-modal">\n    <div class="modal__body text-sregular">\n        <i\n            class="modal__close mti-icon icon-close js-vector-download-close-button"\n            data-t="vector-download-settings-close-btn"\n            data-ingest-clicktype="vector-download-settings-modal-close"\n        ></i>\n        <div class="modal__header">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Vector Download Settings",{name:"_",hash:{},data:a}))+'\n        </div>\n        <div class="modal__content grey heavy-metal-text left-align">\n            <div class="padding-medium">\n                <div class="margin-bottom-medium">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::What file type do you want to download?",{name:"_",hash:{},data:a}))+'\n                </div>\n                <div class="margin-bottom-small">\n                    <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-settings-modal-always-vector">\n                        <input\n                            type="radio"\n                            name="vector_download_choice"\n                            data-t="vector-download-settings-vector-radio"\n                            class="js-vector-download-option"\n                            value="vector"\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"vector",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"                        />\n                        <strong>\n                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Always download vector file type",{name:"_",hash:{},data:a}))+'\n                        </strong>\n                    </label>\n                </div>\n                <div class="margin-bottom-small">\n                    <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-settings-modal-always-jpeg">\n                        <input\n                            type="radio"\n                            name="vector_download_choice"\n                            data-t="vector-download-settings-jpeg-radio"\n                            class="js-vector-download-option"\n                            value="jpeg"\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"jpeg",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"                        />\n                        <strong>\n                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Always download JPEG file type",{name:"_",hash:{},data:a}))+'\n                        </strong>\n                    </label>\n                </div>\n                <div>\n                    <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-settings-modal-always-ask">\n                        <input\n                            type="radio"\n                            name="vector_download_choice"\n                            data-t="vector-download-settings-always-ask-radio"\n                            class="js-vector-download-option"\n                            value=""\n'+(null!=(i=t.unless.call(e,null!=e?e.vectorDownloadChoice:e,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"                        />\n                        <strong>\n                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Ask me every time",{name:"_",hash:{},data:a}))+'\n                        </strong>\n                    </label>\n                    <div class="text-small padding-left-large">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Whenever you download a licensed vector image, well ask you which file type youd like to download.",{name:"_",hash:{},data:a}))+'\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="modal__footer">\n            <button class="button button--dialog js-vector-download-save" data-t="vector-download-settings-save-btn" data-ingest-clicktype="vector-download-settings-modal-save">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Save",{name:"_",hash:{},data:a}))+"\n            </button>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("components/vectorDownloadSettings",["jquery","page_config","app/client","app/actions/detailsActions","app/constants/localStorage","app/utils/observer","lib/contentDetails","components/search/searchHelper","hbs!templates/detailPanel/vectorDownloadSettings","hbs!templates/components/vectorDownloadSettingsModal"],function(e,t,n,a,i,s,r,l,o,c){"use strict";function u(){return e('input[name="'+v+'"]:checked').val()}function d(){return e('input[name="'+b+'"]:checked').length}function p(e){var n=window&&window.localStorage,a=n&&n.getItem(i.VECTOR_DOWNLOAD_CHOICE_KEY);return e&&t.isVectorJpegEnabled&&!a}function h(e,n){return t.isVectorJpegEnabled&&"jpeg"===e?n+"?vector_jpeg=true":n}function m(e,t){var n=t.details.selected,a=e.page,i=t.page;return!!n&&(i.shouldShowVectorDownloadSettingsModal!==a.shouldShowVectorDownloadSettingsModal||i.vectorDownloadChoice!==a.vectorDownloadChoice)}function f(n,a){var i=a.details.selected,s=e(".js-vector-download-settings");if(s.length>0&&m(n,a)){var u,d,p,h,f=E.getState().page;d=f.shouldShowVectorDownloadSettingsModal,u=f.vectorDownloadChoice,p=r.isVector(i)||l.isMoreFromSeriesVector(i),h=r.isLicensed(i),s.html(o({isVector:p,isVectorJpegEnabled:t.isVectorJpegEnabled,vectorDownloadChoice:u,shouldShowVectorDownloadSettingsModal:d,isLicensed:h},{partials:{"detailPanel/vectorDownloadSettings":o,"components/vectorDownloadSettingsModal":c}}))}}function _(){e("body").on("click",T,function(){var e=u();E.dispatch(a.saveVectorDownloadPreference(e))}).on("click",y,function(){E.dispatch(a.closeVectorDownloadSettings())})}function g(){C||(_(),C=!0)}var E=n.getInstance(),v="vector_download_choice",b="vector_download_choice_set_as_default",T=".js-vector-download-save",y=".js-vector-download-close-button",C=!1;return t.isVectorJpegEnabled&&(e(document).ready(g),s.listen(f)),{init:g,getVectorDownloadChoiceValue:u,isVectorDownloadChoiceSetAsDefaultChecked:d,shouldShowVectorDownloadChoiceModal:p,getVectorDownloadUrl:h,shouldRenderVectorDownloadSettings:m}}),define("lib/accessRequest",["i18n-config","lib/ajax","lib/licenseType","page_config"],function(e,t,n,a){"use strict";var i=["ACCESS_REQUEST_MODAL_ID_HAS_NO_STOCK","ACCESS_REQUEST_MODAL_ID_HAS_STOCK","ACCESS_REQUEST_MODAL_ID_HAS_STOCK_EMAIL"],s=e.gettext("ACCESS_REQUEST_MODAL::TITLE::Access request"),r=e.gettext("ACCESS_REQUEST_MODAL::CTA::Send access request"),l={ACCESS_REQUEST_MODAL_ID_HAS_NO_STOCK:e.gettext("ACCESS_REQUEST_MODAL::You cannot license this asset as you currently do not have access to Adobe Stock. Please confirm your request and our team will be in contact."),ACCESS_REQUEST_MODAL_ID_HAS_STOCK:e.gettext("ACCESS_REQUEST_MODAL::You cannot license this asset as you have not yet been granted access to Adobe Stock. Please confirm your request and our team will be in contact."),ACCESS_REQUEST_MODAL_ID_HAS_STOCK_EMAIL:e.gettext("ACCESS_REQUEST_MODAL::You cannot license this asset as you have not yet been granted access to Adobe Stock. Please confirm your request and a notification will be sent to your company's admin."),ACCESS_REQUEST_MODAL_ID_BANNER_HAS_STOCK_EMAIL:e.gettext("ACCESS_REQUEST_MODAL::Please confirm your request and a notification will be sent to your company's admin."),ACCESS_REQUEST_MODAL_ID_BANNER_HAS_NO_STOCK_EMAIL:e.gettext("ACCESS_REQUEST_MODAL::Please confirm your request and our team will be in contact.")};return{ACCESS_REQUEST_ORIGIN_BANNER_VALUE:0,ACCESS_REQUEST_ORIGIN_LICENSE_BUTTON_VALUE:1,isAccessRequestErrorKey:function(e){return i.includes(e)},getAccessRequestModalData:function(e){return{body:l[e]||"",subject:s,button_label:r,icon_close:!0}},sendRequest:function(e){return t.post(a.base_url+"/Ajax/Member/Stock/RequestAccess",{accessRequestOrigin:e})}}}),define("lib/organization",["i18n","i18n-config","lib/licenseType","viewHelpers/numberFormatI18n","page_config"],function(e,t,n,a,i){"use strict";function s(e){var t=g;return e.license_type_id===n.LICENSE_TYPE_ID_AGENCY_STANDARD_CREDITS||e.license_type_id===n.LICENSE_TYPE_ID_CREDITS_CORE?t=v:e.enterprise_offer.type===_&&(t=E),t}function r(n,i){return n===v?e.sprintf(t.ngettext("PRICING::SERVICE::CCE::%s Image","PRICING::SERVICE::CCE::%s Images",i),a.format(i)):n===E?e.sprintf(t.ngettext("PRICING::SERVICE::CCE::%s Premium Credit","PRICING::SERVICE::CCE::%s Premium Credits",i),a.format(i)):e.sprintf(t.ngettext("PRICING::SERVICE::CCE::%s Credit","PRICING::SERVICE::CCE::%s Credits",i),a.format(i))}function l(e){var t,n;return e.is_not_allowed_by_admin?o:(t=e.enterprise_offer.license_type_ids.indexOf(e.license_type_id)<0,n=s(e),n===v?t?e.enterprise_offer.type===_?m:p:c:n===E?t?f:d:t?h:u)}var o="CONTENT_TYPE_DENIED_BY_ADMIN",c="OFFER_NOT_ENOUGH_IMAGES",u="OFFER_NOT_ENOUGH_CREDITS",d="OFFER_NOT_ENOUGH_PREMIUM_CREDITS",p="OFFER_ENTERPRISE_NO_IMAGES",h="OFFER_ENTERPRISE_NO_CREDITS",m="OFFER_SPECIALIST_NO_IMAGES",f="OFFER_SPECIALIST_NO_PREMIUM_CREDITS",_=3,g=1,E=2,v=3,b={OFFER_ENTERPRISE_NO_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your image quota. Please contact your administrator to upgrade you current plan."),OFFER_SPECIALIST_NO_PREMIUM_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your image quota. Please contact your administrator to upgrade you current plan."),OFFER_ENTERPRISE_NO_IMAGES:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your credit quota. Please contact your administrator to add images to your account."),OFFER_NOT_ENOUGH_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You don't have enough credits to license this asset. Please contact your administrator to add credits to your account."),OFFER_NOT_ENOUGH_IMAGES:t.gettext("MODAL::PURCHASE::CREDIT::You have reached your image quota. Please contact your administrator to increase your image allowance."),OFFER_NOT_ENOUGH_PREMIUM_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You don't have enough Premium Credits to license this asset. Please contact your administrator to add more Premium Credits to your account."),OFFER_SPECIALIST_NO_IMAGES:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this type of asset with your premium credits quota. Please contact your administrator to upgrade your current plan"),CONTENT_TYPE_DENIED_BY_ADMIN:t.gettext("CONTENT::ERROR::You don't have the permission to license this type of asset. Please contact your administrator to extend your licensing rights."),ENTERPRISE_UPGRADE_ASSET:t.gettext("PURCHASE::ERROR::You cannot license this asset type with your current plan. Please contact your administrator to upgrade your plan."),WARN_CONTENT_TYPE_DENIED_BY_ADMIN:t.gettext("CONTENT::ERROR::Please note, this type of asset is not included in your current plan. Therefore you are unable to license this asset unless your administrator upgrades your licensing permissions."),ENTERPRISE_TRIAL_NO_LICENSES:t.gettext("PURCHASE::ERROR::Sorry, all the licenses included in your trial have been used by your enterprise."),ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES:t.gettext("MODAL::PURCHASE::CREDIT::Sorry, your organization's quota has been reached. Please contact your administrator if you need to license more Stock assets."),ENTERPRISE_QUOTA_UNAVAILABLE:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your current quota. Please contact your administrator to upgrade your current plan.")};return{ERROR_KEY_CONTENT_TYPE_DENIED_BY_ADMIN:o,ERROR_KEY_WARN_CONTENT_TYPE_DENIED_BY_ADMIN:"WARN_CONTENT_TYPE_DENIED_BY_ADMIN",OFFER_ENTERPRISE_ID:1,OFFER_ENTERPRISE_PLUS_ID:2,OFFER_SPECIALIST_PLUS_ID:_,OFFER_PRICE_UNITS_TYPE_IMAGES:v,OFFER_PRICE_UNITS_TYPE_CREDITS:g,OFFER_PRICE_UNITS_TYPE_PREMIUM_CREDITS:E,ERROR_KEY_ENTERPRISE_UPGRADE_ASSET:"ENTERPRISE_UPGRADE_ASSET",ERROR_KEY_ENTERPRISE_QUOTA_UNAVAILABLE:"ENTERPRISE_QUOTA_UNAVAILABLE",ERROR_KEY_ENTERPRISE_TRIAL_NO_LICENSES:"ENTERPRISE_TRIAL_NO_LICENSES",ERROR_KEY_ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES:"ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES",getOutOufQuotaErrorData:function(e,t){var n="ENTERPRISE_NO_LICENSES";return e.is_organization_out_of_quota?n=e.is_cce_trial?"ENTERPRISE_TRIAL_NO_LICENSES":"ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES":e.enterprise_offer&&(n=l(e)),{reason:n}},getErrorMessageByKey:function(e){return b[e]},isOrganizationErrorKey:function(e){return e in b},getOrganizationErrorData:function(e){var t=this.getErrorMessageByKey(e),n={};return t&&(n.body=t,i.isPhoenixEnabled&&"WARN_CONTENT_TYPE_DENIED_BY_ADMIN"===e&&(n.warning=!0)),n},getOfferPriceUnitsType:s,getOfferPriceUnitsWithLabel:r,getNotEnoughQuotaErrorKeyByQuotaType:function(e){var t;switch(e){case"images":t=c;break;case"premium_credits":t=d;break;default:t=u}return t}}}),define("lib/videoUtils",["jquery","lib/contentDetails","lib/member","lib/license","app/constants/searchFilters","lodash","page_config","lib/utils"],function(e,t,n,a,i,s,r,l){"use strict";return{showVideoType:function(){for(var a=t.getContentDataDic(),i=document.querySelectorAll(".js-search-result-cell"),s=0,r=i.length;s<r;s++){var l=e(i[s]),o=l.attr("data-content-id"),c=a[o].possible_licenses;if(a[o].is_video){var u=l.find(".video_4k");l.find(".video_hd").removeClass("hidden"),c.indexOf(4)>=0&&(!n.isDefaultEntitlementCCE()||n.hasCreditsModel()||n.hasAgencyModel())&&u.removeClass("hidden")}}},showVideoFormatLicensed:function(t,n){var i=e(".js-search-result-cell[data-content-id="+t+"]"),s=i.find(".format .video_4k"),r=i.find(".format .video_hd");4===a.getLicenseIdByLicenseAbbr(n)?(s.removeClass("hidden"),r.addClass("hidden")):(s.addClass("hidden"),r.removeClass("hidden"))},showTabFormatLicensed:function(t,n){var i=e(".js-details[data-content_id="+t+"]").find(".ui-tabs"),s=a.getLicenseIdByLicenseAbbr(n);s&&(i.find(".nav__item").removeClass("active"),i.find(".nav__tab").removeClass("active"),i.find("[data-tab="+s+"]").addClass("active"))},applySourceCompatibility:function(){e(".js-source-compatibility-video").on({mouseover:function(t){var n=e(this);n.append(e("<source></source>").attr({src:n.attr("xsrc"),type:"video/mp4"})),n.off("mouseover")}})},isVideoFormat4K:function(e){var t;return t=s.get(e,"is_video")&&Array.isArray(s.get(e,"possible_licenses"))&&e.possible_licenses.indexOf(a.LICENSE_ID_4K)>=0,t||!1},getVideoLicenseFilter:function(e){var t;switch(e){case i.VIDEO_IS_4K:case a.LICENSE_ID_4K:t=a.LICENSE_ID_4K;break;default:t=a.LICENSE_ID_HD}return t},getActiveVideoFilter:function(e,t){var n=e.getState(),a=r.isPhoenixEnabled,o=l.arrayToHashMap(s.get(n,"content",[]),"content_id");return t&&a?o[t].selectedLicenseId:s.get(n,"filters.filters."+i.VIDEO_IS_4K)?i.VIDEO_IS_4K:i.VIDEO_IS_ALL},setDataVideo:function(e,t){var n=!!e.possible_data_video&&e.possible_data_video[t];return n&&(e.content_original_width=n.video_width,e.content_original_height=n.video_height,e.video_content_length=n.video_content_length,e.video_bitrate_in_kbps=n.video_bitrate_in_kbps,e.video_content_type=n.video_content_type,e.video_codec=n.video_codec),e}}}),define("hbs!templates/toastNotifications",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="alert '+this.escapeExpression((i=null!=(i=t.status_class||(null!=e?e.status_class:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"status_class",hash:{},data:a}):i))+'">\n    <i class="js-notification-close alert__close mti-icon icon-close"></i>\n    <i class="mti-icon icon-preview"></i>\n    <span>'+this.escapeExpression((i=null!=(i=t.message||(null!=e?e.message:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"message",hash:{},data:a}):i))+"</span>\n</div>\n"},useData:!0})}),define("lib/toastNotifications",["jquery","hbs!templates/toastNotifications"],function(e,t){"use strict";function n(n,a){var i,s=a.wrapper||e(c),r=a.status||o,u=a.hasOwnProperty("delay")?a.delay:l;0!==s.length&&(i=t({status_class:"alert--"+r,message:n}),s.html(i),s.attr("data-is-hidden","false"),s.find(".js-notification-close").click(function(){s.attr("data-is-hidden","true")}),u&&setTimeout(function(){s.attr("data-is-hidden","true")},u))}function a(t,a){n(t,e.extend(a,{status:"success"}))}function i(t,a){n(t,e.extend(a,{status:"error"}))}function s(t,a){n(t,e.extend(a,{status:"info"}))}function r(t,a){var a=a||{},i=a.wrapper||e(".js-fixed-bottom-notification");i.length||(i=e('<div class="js-fixed-bottom-notification container-fixed to-the-bottom maximum-in-front margin-bottom-medium" data-is-hidden="true"></div>'),i.css({left:"50%",transform:"translateX(-50%)"}),e("body").append(e('<div class="motmot"/>').append(i))),a.wrapper=i,n(t,a)}var l=3e3,o="info",c=".js-inline-notification-wrapper";return{showSuccessMessage:a,showErrorMessage:i,showInfoMessage:s,showFixedBottomNotification:r}}),define("quickerCheckout/adobestock/trackingPixels",["lodash","lib/member","lib/utils","lib/analytics/utils","page_config","lib/cookie","lib/window","lib/susi"],function(e,t,n,a,i,s,r,l){"use strict";function o(n){var a,i,s=Math.random()+"",r=1e13*s,l="",o=e.get(n,"products",[])[0];e.isObject(o)||(o={}),a={u1:1,u2:o.label,u3:n.subscription_string,u4:"",u5:t.getCleanGuid(!0),u6:n.currency,u7:o.sku,u8:""},Object.keys(a).forEach(function(e){var t=a[e]||"";l+=";"+e+"="+t}),i="https://8392543.fls.doubleclick.net/activityi;src=8392543;type=idsyn0;cat=uuidm0"+l+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=1;num="+r+"?",C(i,{"data-t":"flood-light-tracking"})}function c(){if(i.isOneTagIframeEnabled){C("https://servedby.flashtalking.com/container/10943;81912;8481;iframe/?ft_referrer="+escape(document.location.href)+"&ns="+escape(document.referrer)+"&ftXRef=[%TRANSACTION_ID%]&ftXValue=[%TRANSACTION_VALUE%]&ftXType=[%TRANSACTION_TYPE%]&ftXName=[%TRANSACTION_NAME%]&ftXNumItems=[%TRANSACTION_QUANTITY%]&ftXCurrency=[%TRANSACTION_CURRENCY%]&U1=&U2=&U3=&U4=&U5=&U6=&u7=&U8=&U9=&U10=&U11=&U12=&U13=&U14=&U15=&U16=&U17&U18=&U19=&U20=&cb="+1e13*Math.random(),{"data-t":"one-tag-tracking-page-load",sandbox:"allow-scripts"})}}function u(){var e=r.getLocation().hostname+r.getLocation().pathname,t=e.split("/"),n=t.indexOf("Library"),a={africa:1,at:1,au:1,be:1,be_en:1,be_fr:1,be_nl:1,bg:1,br:1,ca:1,ca_es:1,ca_fr:1,ch:1,ch_de:1,ch_fr:1,ch_it:1,cin:1,cn:1,cs:1,cs_cz:1,cy:1,cy_en:1,cz:1,da:1,da_dk:1,de:1,de_de:1,dk:1,ee:1,eeurope:1,en:1,en_gb:1,en_us:1,es:1,es_es:1,eu_es:1,fi:1,fi_fi:1,fr:1,fr_fr:1,gr:1,gr_en:1,hk:1,hk_en:1,hk_zh:1,hr:1,hr_hr:1,hu:1,hu_hu:1,ie:1,il:1,il_en:1,il_he:1,in:1,it:1,it_it:1,ja:1,ja_jp:1,jp:1,ko:1,ko_kr:1,kr:1,la:1,lt:1,lu:1,lu_de:1,lu_en:1,lu_fr:1,lv:1,mena:1,mena_ar:1,mena_en:1,mena_fr:1,mt:1,mx:1,na:1,nb:1,nb_no:1,nl:1,nl_nl:1,no:1,nz:1,pl:1,pl_pl:1,pt:1,pt_br:1,ro:1,ro_ro:1,rs:1,ru:1,ru_ru:1,se:1,sea:1,si:1,sk:1,sk_sk:1,sl_si:1,sv:1,sv_se:1,tr:1,tr_tr:1,tw:1,tw_cn:1,ua:1,uk:1,uk_ua:1,us:1,za:1,zh_cn:1,zh_tw:1,"zh-tw":1};return t.filter(function(e,i){return e&&""!==e&&!(1===i&&a.hasOwnProperty(e.toLowerCase()))&&!(i===t.length-1&&-1!==n)&&!(i===t.length-1&&null!==e.match(/^\d+$/))}).join(":").toLowerCase()}function d(){var e,a,i=s("aam_uuid")||"",o=n.getQueryParam("aas_unique_submission_id")||"";l.ready.then(function(){e=t.getCleanGuid(!0)||"",void 0!==window.s_adbadobenonacdc&&void 0!==window.s_adbadobenonacdc.visitor&&window.s_adbadobenonacdc.visitor.getMarketingCloudVisitorID()&&(a="ftXRef=&ftXValue=&ftXType=&ftXName=&ftXNumItems=&ftXCurrency=&U1="+i+"&U2="+e+"&U3="+window.s_adbadobenonacdc.visitor.getMarketingCloudVisitorID()+"&U4="+encodeURIComponent(u())+"&U5=&U6=&U7=&U8=&U9=&U10=&U11="+o+"&U12=&U13=&U14=&U15=&U16=&U17=&U18=&U19=&U20=&ft_referrer="+encodeURIComponent(r.getLocation().href.split(/[?%23]/)[0])+"&ns="+encodeURIComponent(r.getReferrer().split(/[?%23]/)[0])+"&cb="+1e13*Math.random(),C("https://servedby.flashtalking.com/container/13539;99030;10307;iframe/?"+a,{"data-t":"adobe-one-tag-tracking-page-load",sandbox:"allow-scripts"}))})}function p(){C("/sandboxed_tags.html",{"data-t":"sandboxed-tags",id:"sandboxed-tags",sandbox:"allow-scripts"})}function h(){window._linkedin_data_partner_id="872";var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",e.setAttribute("data-t","linkedin-tracking"),y(e)}function m(){if(i.isLaunchEnabled){var e=document.createElement("script");e.src="//www.googletagmanager.com/gtag/js?id=AW-987390658",e.async=!0,e.setAttribute("data-t","google-gtag-tracking"),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-987390658"),window.gtag("config","AW-1004494713"),window.gtag("config","AW-983956512"),y(e)}}function f(){var e;window.uetq||(e=document.createElement("script"),e.src="//bat.bing.com/bat.js",e.async=!0,e.onload=e.onreadystatechange=function(){var t,n=this.readyState;n&&"loaded"!==n&&"complete"!==n||(t={ti:"5190105"},t.q=window.uetq,window.uetq=new UET(t),window.uetq.push("pageLoad"),e.onload=e.onreadystatechange=null)},e.setAttribute("data-t","bing-uet-tracking"),y(e))}function _(e){if(i.isMarketingTagInjectionEnabled&&!e.has_past_download)if(i.isLaunchEnabled)window.gtag("event","conversion",{send_to:"AW-951622910/PNvGCIiCxF4Q_rnixQM",transaction_id:""});else{window.google_conversion_id=951622910,window.google_conversion_language="en",window.google_conversion_format="3",window.google_conversion_color="ffffff",window.google_conversion_label="PNvGCIiCxF4Q_rnixQM",window.google_remarketing_only=!1;var t=document.createElement("script");t.type="text/javascript",t.src="https://www.googleadservices.com/pagead/conversion.js",t.setAttribute("data-t","google-ads-tracking"),y(t)}}function g(){T({ftXRef:"",ftXValue:"",ftXType:"",ftXName:"",ftXNumItems:"",ftXCurrency:"",U1:"",U2:"",U3:"",U4:"",U5:"",U6:"",U7:"",U8:"",U9:"",U10:"",U11:"",U12:"",U13:"",U14:"",U15:"",U16:"",U17:"",U18:"",U19:"",U20:""},"10943;82968;8558","one-tag-tracking")}function E(e){if(i.isOneTagExtendedIframeEnabled){var t,n,a;e.asset_details&&"Video"===e.asset_details.asset_type?(t="STOCK_Video_UC_Purchase_WW",n="13539;103300;10500",a="video"):(t="STOCK_non_bundle_UC_Purchase_WW",n="13539;103281;10500",a="non-video"),T({spotName:t,ftXRef:e.order_id,ftXValue:e.pricing.total.number,ftXType:e.payment_type,ftXName:e.order_number,ftXNumItems:e.products.length,ftXCurrency:e.pricing.total.currency,U1:e.member.member_id,U2:e.ims_profile.userId,U3:e.offering_id,U4:e.product_key,U5:b(e),U6:"",U7:"",U8:e.products[0].sku,U9:"",U10:"",U11:"",U12:"",U13:e.login_type,U14:e.purchase_flow,U15:e.member_type,U16:e.member_status,U17:e.license_id?e.license_id:"",U18:"",U19:"",U20:""},n,"one-tag-tracking-purchase",a)}}function v(t){var n=document.getElementById("sandboxed-tags");n&&n.contentWindow.postMessage({type:"daum",order_id:t.order_id,amount:e.get(t,"pricing.total.number")},"*")}function b(e){var t="";return e.asset_details?t="["+e.asset_details.asset_type+"] ["+e.asset_details.content_id+"] "+e.asset_details.title:e.plan_information?t="["+e.subscription_string+"] "+e.plan_information.name+(e.plan_information.description?" / "+e.plan_information.description:""):e.credit_pack_info&&(t=e.credit_pack_info.purchased_label),t}function T(e,t,n,a){({ft_vars:e,ot_dom:document.location.protocol+"//servedby.flashtalking.com",ot_path:"/container/"+t+";iframe/?",ot_href:"ft_referrer="+escape(document.location.href),ot_rand:1e6*Math.random(),ot_ref:document.referrer,otInit:function(){var e,t,i,s,r=this,l="";for(s in r.ft_vars)l+=""===r.ft_vars[s]?"":s+"="+escape(r.ft_vars[s])+"&";e=r.ot_path.length+l.length+r.ot_href+escape(r.ot_ref).length,t=r.otNs(e-2e3),i=r.ot_dom+r.ot_path+l+r.ot_href+"&ns="+t+"&cb="+r.ot_rand,C(i,{"data-t":n,"data-p":a})},otNs:function(e){var t,n,a,i,s=this;return e>0?(t={},n=/(?:^|&)([^&=]*)=?([^&]*)/g,a=/^(http[s]?):\/\/?([^:\/\s]+)\/([\w\.]+[^#?\s]+)(.*)?/.exec(s.ot_ref),i={h:a[2],p:a[3],qs:a[4].replace(n,function(e,n,a){n&&(t[n]=[a])})},escape(i.h+i.p.substring(0,10)+(t.q?"?q="+unescape(t.q):"?p="+unescape(t.p)))):escape(unescape(s.ot_ref))}}).otInit()}function y(e){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}function C(e,t){var a=document.createElement("iframe");a.setAttribute("src",e),a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("frameborder",0),a.setAttribute("style","display:none"),Object.keys(t).forEach(function(e){n.updateAttribute(a,e,t[e])}),document.body.appendChild(a)}function S(e){[function(){g()},function(){o(e)},function(){E(e)},function(){a.onPrivacyConsent(function(){_(e),v(e)})}].forEach(function(e){try{e()}catch(e){}})}function I(){i.isMarketingTagInjectionEnabled&&a.onPrivacyConsent(function(){p(),c(),d(),h(),f(),k(0x64bf3b5cffd55,"PageView","fb-page-view-tracking",{}),m()})}function O(){['[data-t="double-click-tracking-videos-and-creditpacks"]','[data-t="double-click-tracking"]','[data-t="double-trader"]',".js-admarketplacepixel",'[data-t="fb-tracking"]','[data-t="one-tag-tracking"]','[data-t="flood-light-tracking"]','[data-t="google-ads-tracking"]','[data-t="linkedin-tracking"]','[data-t="bing-uet-tracking"]','[data-t="one-tag-tracking-page-load"]','[data-t="sandboxed-tags"]','[data-t="fb-page-view-tracking"]','[data-t="fb-start-trial-tracking"]','[data-t="fb-purchase-tracking"]','[data-t="fb-download-tracking"]','[data-t="media-forge"]','[data-t="google-gtag-tracking"]'].forEach(function(e){var t=document.querySelector(e);t&&t.parentNode&&t.parentNode.removeChild(t)})}function k(e,t,a,i){var s=document.createElement("img"),r="https://www.facebook.com/tr?id="+e+"&ev="+t+"&noscript=1&dpo=LDU&dpoco=0&dpost=0";Object.keys(i).forEach(function(e){r+="&cd["+e+"]="+i[e]}),s.setAttribute("src",encodeURI(r)),s.setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("style","display:none"),n.updateAttribute(s,"data-t",a),document.body.appendChild(s)}return{fireTrackingPixelsForDoneState:S,fireTrackingPixelsForPageLoad:I,loadOneTagTrackingForDoneState:g,loadOneTagExtendedTrackingForDoneState:E,loadDaumTrackingForDoneState:v,loadFloodLightTrackingForDoneState:o,loadGoogleForNewBuyerDoneState:_,loadSandboxedTagsIframe:p,loadOneTagForPageLoad:c,loadLinkedinForPageLoad:h,loadBingForPageLoad:f,loadAdobeOneTagForPageLoad:d,cleanUpTrackingPixels:O,getPageName:u,buildFacebookTrackingPixel:k,loadGoogleGtagForPageLoad:m}}),define("quickerCheckout/adobestock/analytics",["jquery","lodash","lib/member","lib/analytics","app/constants/analytics","page_config","lib/analytics/utils","lib/utils","lib/assetsStore","lib/cookie","quickerCheckout/adobestock/trackingPixels","lib/window"],function(e,t,n,a,i,s,r,l,o,c,u,d){"use strict";function p(e,i,l,c,d){if(!s.disable_analytics){var p,_,g=i.member_type,k=n.getCleanGuid(),A=a.readCCStatusFromIMSProfile()+"|"+g,R=h(),x=window.location.hostname.toLowerCase()+":qc:"+e.pageName,P=t.get(i,"products",{}),L={order_id:t.get(i,"order_id"),products:JSON.stringify(P),product_key:t.get(i,"product_key"),currency:t.get(i,"pricing.price.currency"),billingFrequency:t.get(i,"plan_information.pricing.price.frequency")};if(!s.isLaunchEnabled){if(p=r.getSatelliteVar("getVar","adbadobenonacdc_prop12_Previous_Page_Value",""),l||(e.pageName=x,e.eVar32=x,e.eVar208=t.get(window,"digitalData.user.date_stamp"),e.prop56=t.get(window,"digitalData.user.date_stamp"),e.eVar209=x,e.prop57=x,e.eVar210=p,e.prop58=p,e.eVar201=t.get(window,"digitalData.user.region"),e.prop59=t.get(window,"digitalData.user.region")),e.prop5?e.prop5=x+e.prop5:e.prop5=x,e.prop3=window.location.hostname.toLowerCase(),e.prop4=r.getSatelliteVar("getVar","adbadobenonacdc_prop4_Language_Locale",s.SUSI.LOCALE),e.prop12=p,e.eVar16=p,e.eVar14=R,e.prop10=R,e.prop52=A,e.eVar111=A,l||("initialized"===t.get(i,"persistent_checkout_status")?(r.addEventToDataObject(e,H.PERSISTENT_CHECKOUT),
e.eVar245=new Date(t.get(i,"extras.start_timestamp")).toLocaleDateString("en-US")):"in_progress"!==t.get(i,"persistent_checkout_status")||"done"!==i.id&&"planDone"!==i.id||r.addEventToDataObject(e,H.PERSISTENT_CHECKOUT_COMPLETE)),_=["events","eVar0","eVar1","eVar2","eVar3","eVar10","eVar11","eVar15","eVar22","eVar25","eVar27","eVar28","eVar35","eVar41","eVar62","eVar67","eVar87","eVar89","eVar91","eVar116","eVar121","eVar122","eVar123","eVar124","eVar125","eVar206","eVar207","eVar233","eVar234","eVar246","eVar249","eVar250"],_.forEach(function(t){e[t]=e[t]||null}),k?(e.eVar12=k,e.eVar46=d||window.dtmContainer.member_subscription):e.prop62="VisitorAPI Present",i.asset_details)if(e.eVar2=i.asset_details.asset_type,e.eVar11=i.asset_details.category&&i.asset_details.category.name,e.eVar15=i.asset_details.content_id,e.eVar35=e.eVar35||i.asset_details.license_name,e.eVar89=i.asset_details.author,i.license_id&&i.asset_details.premium_level&&i.asset_details.premium_level[i.license_id]?e.eVar242=i.asset_details.premium_level[i.license_id]:e.eVar242=null,i.asset_details.is_3D)switch(i.asset_details["3D_type_id"]){case o.THREE_D_TYPE.LIGHTS:e.eVar228=Array.isArray(i.asset_details.light_type)?i.asset_details.light_type[0]:i.asset_details.format;break;case o.THREE_D_TYPE.MODELS:case o.THREE_D_TYPE.MATERIALS:default:e.eVar228=i.asset_details.primary_file_type}else e.eVar228=i.asset_details.format;i.team_profile_type&&(e.eVar247=i.team_profile_type,e.prop30=i.team_profile_type),i.login_type&&(e.prop61=i.login_type,e.eVar119=i.login_type),i.is_newly_authenticated&&("signin"===i.is_newly_authenticated?r.addEventToDataObject(e,H.SIGN_IN):"signup"===i.is_newly_authenticated&&r.addEventToDataObject(e,H.SIGN_UP)),r.updateTrackedFeatureFlags(e),e.eVar199=t.get(window,"digitalData.user.qetraffic")}try{s.isLaunchEnabled||(Object.keys(e).forEach(function(t){window.s_adbadobestock[t]=e[t]}),l?(window.s_adbadobestock.linkTrackVars="eVar12,eVar14,eVar22,eVar41,eVar46,eVar65,eVar70,eVar91,eVar92,eVar93,eVar111,eVar119,eVar121,eVar122,eVar123,eVar124,eVar234,eVar228,eVar242,prop10,prop52,prop61,prop62,prop63",window.s_adbadobestock.linkTrackEvents=e.events,window.s_adbadobestock.tl(!0,"o",e.eVar91||e.eVar93)):window.s_adbadobestock.t()),c&&("PROMO_FMF"===t.get(i,"initial_promo_type")?u.buildFacebookTrackingPixel(0x64bf3b5cffd55,"StartTrial","fb-start-trial-tracking",L):u.buildFacebookTrackingPixel(0x64bf3b5cffd55,"Purchase","fb-purchase-tracking",L),s.isLaunchEnabled?(f(i),E()):m(e,i.has_past_download,i.extras.options.is_fotolia_migration),v(i),b(951622910,"PNvGCIiCxF4Q_rnixQM"),b(987390658,"3_ydCMPw3mcQwsXp1gM"),b(987390658,"rkuVCI3KlHAQwsXp1gM"),T(i),y(i),C(i.has_past_download),S(i.order_id),I(i.order_id,i.pricing.total.number),O(i))}catch(e){}}}function h(){var e="NotSignedIn";return n.isLoggedIn()&&(e=n.isZombieUser()?"Interim":"SignedIn"),e}function m(e,t,n){var a=window.s_adbadobenonacdc,s={};void 0!==a&&a&&(s.pageName=e.pageName,s.eVar8=e.eVar8,s.currencyCode=e.currencyCode,s.purchaseID=e.purchaseID,s.eVar27=e.purchaseID,s.products=e.products,s.prop5=e.prop4+":"+e.pageName,s.eVar12=e.eVar12,s.events=H.PURCHASE,t?(s.events+=","+H.REPEAT_BUYER,s.eVar79=i.STOCK_REPEAT_BUYER):(s.events+=","+H.NEW_BUYER,s.eVar78=i.STOCK_NEW_BUYER,n&&(s.events+=","+H.ORDER_CONFIRMATION_FOTOLIA_MIGRATION)),a.t(s))}function f(n){if(!n.order_number)throw new Error("Missing order_number");var a=(n.products||[]).map(function(e){return _(n,e)});e.extend(!0,window.digitalData,{page:{pageInfo:{customPageName:d.getLocation("hostname")+":qc:orderpaymentconfirmation"}},currency:{code:t.get(n,"pricing.total.currency","")},transaction:{transactionId:n.order_number,total:{basePrice:parseFloat(t.get(n,"pricing.subtotal.number",0)),currency:t.get(n,"pricing.total.currency",""),priceWithTax:parseFloat(t.get(n,"pricing.total.number",0))},item:a},checkoutInfo:{buyerInfo:n.has_past_download?"Repeat Buyer":"New Buyer",paymentMethod:n.payment_type||"",orderId:n.order_id||"",purchaseType:g(n)}})}function _(e,t){return{productInfo:{sku:t.sku,offerId:e.offering_id},category:{primaryCategory:e.product_key},quantity:parseInt(t.qty,10),price:{basePrice:parseFloat(t.price_without_tax),priceWithTax:parseFloat(t.price)}}}function g(e){return e.product_key&&-1!==e.product_key.indexOf("/CCT/")?"stock-Team":"stock-Individual"}function E(){window._satellite.track("state",{digitalData:window.digitalData._snapshot()})}function v(e){var t=document.createElement("iFrame"),a="https://1295336.fls.doubleclick.net/activityi;src=1295336;type=store031;cat=stock0";t.frameborder=0,t.width=1,t.height=1,t.style.display="none",t.src=function(){var t,i,s=e.has_past_download?"repeatstockbuyer":"newstockbuyer",r="",l=0,o=0;for(i=0;i<e.products.length;i++)l+=e.products[i].price,o+=e.products[i].qty,r+=";u"+(i+7)+"="+e.products[i].sku;return t=";qty="+o+";cost="+l+";u1="+e.products.length+";u2="+k(e)+";u5="+n.getCleanGuid()+";u6="+e.pricing.total.currency+r+";u11="+s+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+e.order_number,a+encodeURI(t)}(),l.updateAttribute(t,"data-t","double-click-tracking"),document.body.appendChild(t)}function b(e,t){var n=function(){window.google_trackConversion({google_conversion_id:e,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff",google_conversion_label:t,google_remarketing_only:!1})};if(window.google_trackConversion)n();else{var a=document.createElement("script");a.src="//www.googleadservices.com/pagead/conversion_async.js",a.type="text/javascript",a.onload=function(){n()},document.getElementsByTagName("head")[0].appendChild(a)}}function T(e){var a,i=e.trade_doubler&&e.trade_doubler.product_group,s=0,r=c("TRADEDOUBLER")||"",o=e.order_number,u=t.get(e,"pricing.total.currency",""),d=n.getCleanGuid(!0)+";"+n.getCountryCode(),p=[];e.products&&(p=e.products);var h,m,f,_,g,E,v="basket(";for(a=0;a<p.length;a++)h=e.products[a].sku,m="",f=e.products[a].price_without_tax,s+=f,_=e.products[a].qty,m=encodeURI(m),v+="pr(",v=v+"i("+h+")",v=v+"n("+m+")",v=v+"gr("+i+")",v=v+"v("+f+")",v=v+"q("+_+")",v+=")";v+=")",g=window.location.protocol+"//tbs.tradedoubler.com/report?o(1995211)event(51)ordnum("+o+")",g=g+"tduid("+r+")curr("+u+")voucher("+d+")enc(3)",g+=v,E=document.createElement("img"),E.src=g,E.height=1,E.width=1,E.border=0,l.updateAttribute(E,"data-t","double-trader"),document.body.appendChild(E)}function y(e){var n,a=e.order_number,i=t.get(e,"pricing.total.number",0);a&&i&&(n=document.createElement("script"),n.type="text/javascript",n.src="//tags.mediaforge.com/js/4058/?orderNumber="+a+"&price="+i,n.setAttribute("data-t","media-forge"),document.body.appendChild(n))}function C(e){window.uetq&&(window.uetq.push("pageLoad"),e||window.uetq.push({ec:"Adobe Stock",ea:"New Buyer",el:"New Buyer",ev:"1"}))}function S(e){var t=document.createElement("img");t.src=encodeURI("//www.facebook.com/tr?id=881245762007660&;ev=CompleteRegistration&;cd[order_id]="+e+"&dpo=LDU&dpoco=0&dpost=0"),l.updateAttribute(t,"data-t","fb-tracking"),document.body.appendChild(t)}function I(e,t){var n=document.createElement("img");n.id="js-admarketplacepixel",n.src=encodeURI("//tracking.admarketplace.net/tracking?pid=31113&cid=74151&orderval="+t+"&v=2&orderid="+e+"&custominfo="),document.body.appendChild(n)}function O(e){var n,a;e.order_number&&(t.get(e,"asset_details.is_video")||e.credit_pack_info)&&(n=document.createElement("iframe"),a="https://1295336.fls.doubleclick.net/activityi;src=1295336;type=adobe0;cat=stock000;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+encodeURI(e.order_number)+"?",n.setAttribute("src",a),n.setAttribute("width","1"),n.setAttribute("height","1"),n.style="display:none;",l.updateAttribute(n,"data-t","double-click-tracking-videos-and-creditpacks"),document.body.appendChild(n))}function k(e){if(!e.product_key)throw new Error("Product Key Not Found");return r.getPlanType(e.product_key,e.asset_details&&e.asset_details.asset_type?e.asset_details.asset_type:"")}function A(e){return e.match(/Stock(PT|CP)/)}function R(e){return e.member&&e.member.is_newly_created?e.asset_details?"Account Creation With Asset Preview":"Account Creation Without Asset Preview":e.asset_details?"Purchase Only With Asset Preview":"Purchase Only Without Asset Preview"}function x(e){var t;return e.product_key&&A(e.product_key)?(t=e.product_key.split("/"),t.length?t[t.length-1]:""):""}function P(e){var t,n="";if(!e.products||!e.products.length)return"";for(t=0;t<e.products.length;t++)n+=";"+e.products[t].sku+";"+e.products[t].qty+";"+e.products[t].price+";";return e.credit_pack_info&&(n+=H.NUMBER_OF_PURCHASED_CREDITS+"="+e.credit_pack_info.purchased_credits),n+=";"}function L(e,t){var n={pageName:"orderpaymentconfirmation",currencyCode:e.pricing.total.currency,purchaseID:e.order_number,prop67:R(e),eVar8:e.payment_type,eVar11:null,eVar15:e.content_id,eVar19:k(e),eVar27:e.order_number,eVar88:x(e),eVar89:null,eVar92:e.member_status,eVar137:e.order_id,eVar234:N(e),eVar235:F(e)};return!t&&e.asset_details&&(n.eVar11=e.asset_details.category_hierarchy||"N/A",n.eVar89=e.asset_details.author),n.products=P(e),n.events=H.CHECKOUT_STEP_FOUR,e.plan_information&&(n.events+=","+H.SUBSCRIPTION,e.plan_information.is_fmf&&!e.extras.options.is_fotolia_migration&&(n.events+=","+H.FMF)),e.member.is_newly_created&&(n.events+=","+H.CHECKOUT_ACCOUNT_CREATE),!e.isFromQuotaState&&n.products&&(n.events+=","+H.PURCHASE),e.has_past_download?n.events+=","+H.REPEAT_BUYER:n.events+=","+H.NEW_BUYER,e.extras.options.is_fotolia_migration&&!e.has_past_download&&(n.events+=","+H.ORDER_CONFIRMATION_FOTOLIA_MIGRATION),j(e,n),n}function D(e,n,a){var i={id:"default",default_error:"empty state error message"};return t.isObject(e)||(e=i),{pageName:"Error-"+(a||e.id||i.id),prop63:e.error_message||i.default_error,eVar92:e.member_status||null,eVar121:n&&n.message||e.error_message||i.default_error,eVar122:e.user_message||a,eVar123:e.case_code,eVar124:e.service_error,events:H.ERROR}}function N(e){var t=null;if(!e)throw new Error("Expects a state");return e.plan_information?t=e.plan_information.name:e.asset_details&&(t="buy this "+e.asset_details.license_name),t}function w(e){var n=null;if(!t.isObject(e))throw new Error("Expects a state object");if(e.plan_information?n=t.get(e,"plan_information.analytics.label"):e.quicker_checkout_products?n=t.get(e,"quicker_checkout_products.credit_pack.analytics.label"):e.license_id&&e.asset_details&&(n=t.get(e,["asset_details","analytics","labels",e.license_id])),!n){if(!e.product_key)throw new Error("State should have product key");n=e.product_key}return n}function M(e){return 1===t.get(e,"license_id")&&!t.get(e,"asset_details.is_premium")}function U(){var e,t=[];return e=document.querySelectorAll(".js-buy-choice-plan"),e&&(e=Array.isArray(e)?e:Array.prototype.slice.call(e),e.forEach(function(e){-1===e.className.indexOf("hidden")&&t.push(e.getAttribute("data-analytics-label"))})),t.join("|")}function F(e){return e.subscription_string&&"unknown"!==e.subscription_string?e.subscription_string:"OD-"+(e.asset_details?e.asset_details.asset_type:"unknown asset")}function j(e,t){e.credit_pack_info&&(t.prop8="Credits",t.eVar19="Credits",t.eVar35="Credit",t.eVar234=e.credit_pack_info.purchased_label,t.eVar238=e.credit_pack_info.available_credits,t.eVar239=e.credit_pack_info.purchased_credits,t.events=t.events||"",t.events+=t.events.length>0?",":"",t.events+=H.CREDIT_PURCHASE_EVENT,t.events+=","+H.NUMBER_OF_PURCHASED_CREDITS)}var H=i.EVENT_VALUES;return{EVENTS:H,send:p,getPlanType:k,getPricingString:x,getPageDetailFilterString:R,getProductsString:P,getOrderValues:L,getErrorValues:D,getPurchaseName:N,getSubscriptionType:F,addCreditPackDetailsToOrderConfirmation:j,getAnalyticsLabel:w,isStandardBuyChoice:M,getAnalyticsLabelsFromBuyChoice:U,sendDigitalDataToLaunch:E,setLaunchDigitalDataForOrder:f,trackingPixels:{loadTradeDoublerTracking:T}}}),define("quickerCheckout/analytics/dunamis/dunamisUtils",["lodash","lib/analytics/dunamis"],function(e,t){"use strict";function n(e){var t;switch(e){case"facebook":t="sign-in-fb";break;case"google":t="sign-in-google";break;default:t="continue"}return t}function a(n,a,i,s,r){var l=t.constants,o=e.get(r,"finding_method"),c=e.get(r,"selection_method");o&&(i[l.PROPERTIES.CHECKOUT.FINDING_METHOD]=o),c&&(i[l.PROPERTIES.CHECKOUT.SELECTION_METHOD]=c),t.track(n,a,i,s)}function i(t){if(!e.isObject(t))throw Error("state must be an object");return{currency:e.get(t,"pricing.price.currency"),eventSubcategory:t.id,offerId:t.offering_id,orderId:t.order_id,orderNumber:t.order_number,productKey:t.product_key,promoType:e.get(t,"plan_information.promo_type"),pricingSubtotal:e.get(t,"pricing.template_text.subtotal"),pricingTax:e.get(t,"pricing.template_text.tax"),pricingTotal:e.get(t,"pricing.template_text.total")}}return{getDunamisSubtypeFromSocialProvider:n,trackWrapper:a,getEventDataFromState:i}}),define("quickerCheckout/analytics/dunamis/events/dunamisErrorEvent",["lib/analytics/dunamis","lodash","page_config","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(n,i,s,r,l){var o,c;t.isObject(n)||(n={errorType:"TypeError",errorDesc:"eventData object was undefined"}),o=r||"error",i=i||"Not specified",s=s||"Not specified",c={"event.error_code":n.errorCode,"event.error_type":n.errorType,"event.error_desc":n.errorDesc,"stk.case_code":n.errorCaseCode},c[e.constants.EVENT_WORKFLOW_PROPERTY]=e.constants.STOCK_CHECKOUT,c[e.constants.EVENT_SUBCATEGORY_PROPERTY]=s,a.trackWrapper(o,i,c,null,l)}function s(e){return t.isObject(e)||(e={name:"TypeError",message:"errorObject was undefined"}),{errorCode:e.error_code||e.errorCode,errorType:e.name||e.error_type||e.errorType,errorDesc:e.message||e.error_message||e.errorMessage,errorCaseCode:e.case_code||e.caseCode||n.x_request_id}}return{send:i,getEventDataFromErrorObject:s}}),define("quickerCheckout/analytics/dunamis/dunamisCatchWrapper",["lodash","quickerCheckout/analytics/dunamis/events/dunamisErrorEvent"],function(e,t){"use strict";function n(t,n,i){if(e.isFunction(t))try{t()}catch(e){a(e,n,i)}}function a(e,n,a){t.send(t.getEventDataFromErrorObject(e),n,a)}return{execFunction:n,defaultErrorHandler:a}}),define("app/utils/dunamis/dunamisAdminPurchaseFMF",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper"],function(e,t){"use strict";function n(n,a){t.execFunction(function(){var t={},i=e.constants,s=a?e.constants.CLICK:e.constants.VISIT;t[i.EVENT_WORKFLOW_PROPERTY]=i.STOCK_CHECKOUT,t[i.EVENT_SUBCATEGORY_PROPERTY]=i.ADMIN_CANNOT_PURCHASE_FMF,e.track(s,n,t)},"error-admin-purchase-fmf","admin-purchase-fmf-modal")}return{send:n}}),define("lib/analytics/dunamisCustomEvent",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper"],function(e,t){"use strict";function n(n,a,i,s){t.execFunction(function(){var t=e.constants,i={},s=t.VISIT,r=t.PAGE_VIEW;i[t.EVENT_WORKFLOW_PROPERTY]=n,i[t.EVENT_SUBCATEGORY_PROPERTY]=a,e.track(s,r,i)},i,s)}function a(n,a,i,s){t.execFunction(function(){var t={},i=e.constants;t[i.EVENT_WORKFLOW_PROPERTY]=n,t[i.EVENT_SUBCATEGORY_PROPERTY]=a,e.track(i.LANDING,i.PAGE_LANDING,t)},i,s)}return{sendDunamisPageView:n,sendDunamisPageLanding:a}}),define("hbs!templates/motMotModal/message",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'            <div class="modal__header">\n                <div class="center-align">\n                <span class="grey dove-text">\n                    '+this.escapeExpression((i=null!=(i=t.title||(null!=e?e.title:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"title",hash:{},data:a}):i))+"\n                </span>\n                </div>\n            </div>\n"},3:function(e,t,n,a){var i;return'                            <div class="grey dove-text text-up">\n                                '+this.escapeExpression((i=null!=(i=t.messageHeader||(null!=e?e.messageHeader:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"messageHeader",hash:{},data:a}):i))+"\n                            </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div data-t="motmot-modal-message" class="mti-modal modal--large modal--with-header animated fade-in">\n    <div class="modal__body">\n        <i class="modal__close mti-icon icon-close js-motmot-modal-close"></i>\n'+(null!=(i=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'\n        <div class="modal__content">\n            <div class="container-smedium-height-max overflow-y-scroll">\n                <div class="padding-xlarge">\n                    <div class="padding-large">\n'+(null!=(i=t.if.call(e,null!=e?e.messageHeader:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'\n                        <div class="padding-top-medium">\n                            <span class="grey mountain-mist-text">\n                                '+this.escapeExpression((s=null!=(s=t.message||(null!=e?e.message:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"message",hash:{},data:a}):s))+"\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/motMotModal/usingPartial",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'\n            <div class="modal__content">\n                <div class="js-motmot-modal-partial">\n'+(null!=(i=this.invokePartial(n.modalContent,e,{name:"modalContent",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n            </div>\n\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.params:e)?i.footer:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},2:function(e,t,n,a){var i;return'                <div class="modal__header">\n                    <div class="center-align">\n                        <span class="grey dove-text">\n                            '+this.escapeExpression((i=null!=(i=t.title||(null!=e?e.title:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"title",hash:{},data:a}):i))+"\n                        </span>\n                    </div>\n                </div>\n"},4:function(e,t,n,a){var i;return'                <div class="modal__footer">\n'+(null!=(i=this.invokePartial(n.modalFooter,e,{name:"modalFooter",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n"},6:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalContent,e,{name:"modalContent",data:a,indent:"            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="mti-modal modal--'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.params:e)?i.width:i,e))+' modal--with-header animated fade-in">\n    <div class="modal__body">\n        <i class="modal__close mti-large mti-icon icon-close js-motmot-modal-close" data-t="motmot-modal-close-button"></i>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.params:e)?i.usingDefault:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+"    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/motMotModal/partials/migrationV2UpgradeCandidate",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-smedium-height-max">\n    <div class="row grey heavy-metal-text">\n        <div class="row padding-top-large padding-bottom-large">\n            <i class="mti-icon mti-4x icon-coin6 grey silver-sand-text"></i>\n        </div>\n        <p class="text-medium font-thin margin-top-xsmall">\n            '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::MIGRATIONV2::Buy an Adobe Stock plan and %ssave 33%%%s in your first year.",{name:"_",hash:{},data:a}),"<strong>","</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+'\n        </p>\n        <p class="text-medium font-thin">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::MIGRATIONV2::Alternatively, purchase a credit pack to access and license all asset types.",{name:"_",hash:{},data:a}))+'\n        </p>\n        <div class="row padding-top-xlarge padding-bottom-medium">\n            <div class="v-align-wrapper ">\n                <div class="c-align">\n                    <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.button_uri:i,e))+'" class="button button--action js-fotolia-transfer-overage-ok">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::BUTTON::View all pricing options  >",{name:"_",hash:{},data:a}))+'</a>\n                </div>\n            </div>\n        </div>\n        <div class="padding-top-medium"></div>\n    </div>\n</div>\n'},useData:!0})}),define("components/motMotModal",["jquery","i18n-config","hbs!templates/motMotModal/message","hbs!templates/motMotModal/usingPartial","hbs!templates/motMotModal/partials/migrationV2UpgradeCandidate"],function(e,t,n,a,i){"use strict";var s=e("<div />",{class:"motmot"}),r=function(t){var n=e.Deferred();return s.html(t),e("body").append(s),s.on("click",".js-motmot-modal-close",function(){p(),n.resolve()}),n.promise()},l=function(e){return r(n(e))},o=function(t){var n,i={};if(t&&t.partial)return n={modalContent:t.partial},t.additionalPartials&&(n=e.extend(n,t.additionalPartials)),t.title&&(i.title=t.title),t.partialProperties&&(i.properties=t.partialProperties),i.params={footer:!1,usingDefault:!0,width:"large"},t.templateParams&&("undefined"!=t.templateParams.footer&&(i.params.footer=t.templateParams.footer),"undefined"!=t.templateParams.usingDefault&&(i.params.usingDefault=t.templateParams.usingDefault),t.templateParams.width&&(i.params.width=t.templateParams.width)),r(a(i,{partials:n}))},c=function(e,t){switch(e){case"message":return this.showMessage(t);case"usingPartial":return o(t);case"usingTemplate":return u(t);default:throw new Error("Unregistered modal template: "+e)}},u=function(e){if(e&&e.template)return r(e.template(e.params))},d=function(e,t,n,a){var a=a||"click";s.find(e).off(a).on(a,function(){t(n)})},p=function(){s.remove()};return{hide:p,registerEvent:d,show:c,showMessage:l,showUsingPartial:o,showUsingTemplate:u,MIGRATION_V2_UPGRADE_CANDIDATE:1,showModal:function(e){var n;switch(e){case 1:n={templateParams:{usingDefault:!0,width:"medium"},partial:i,title:t.gettext("MODAL::CREDIT::You don't have enough downloads available to license this asset."),partialProperties:{button_uri:"/Fotolia/Plans"}};break;default:throw new Error("Unknown modal id : "+e)}c("usingPartial",n)}}}),define("lib/modal-window",["i18n","jquery","page_config","Handlebars","lib/window","i18n-config","app/constants/analytics","hbs!templates/badgeTooltip","hbs!templates/thumbnailBadges","hbs!templates/modalWindow/message","hbs!templates/modalWindow/confirmation","hbs!templates/modalWindow/partials/t2eMigrationContent","hbs!templates/modalWindow/partials/t2eMigrationFooter","hbs!templates/modalWindow/partials/t2eMigrationLinkReminderContent","hbs!templates/modalWindow/partials/t2eMigrationLinkReminderFooter","hbs!templates/modalWindow/saveToDevice","hbs!templates/modalWindow/cceMultipleChoices","hbs!templates/modalWindow/multipleChoices","hbs!templates/modalWindow/extended","hbs!templates/modalWindow/openInMessage","hbs!templates/templatePreview","hbs!templates/modalWindow/welcomeBack","hbs!templates/modalWindow/teamfmf","hbs!templates/modalWindow/licenseRecordOptions","hbs!templates/components/bulkSelectionModal/tabsHeaderItem","hbs!templates/components/bulkSelectionModal/toolTipHintAdd","hbs!templates/components/bulkSelectionModal/toolTipHintRemove","hbs!templates/modalWindow/bulkLicenseRecordOptions","hbs!templates/modalWindow/licenseRecordDetailsFieldSet","hbs!templates/modalWindow/licenseRecordGroupAssets","hbs!templates/modalWindow/licensingDetailModal","hbs!templates/modalWindow/groupLicenseReferences","hbs!templates/modalWindow/numberFilesLicenseReferences","hbs!templates/modalWindow/licenseReferencesDetail","hbs!templates/modalWindow/fieldInputValidator","hbs!templates/modalWindow/licenseTypeDetail","hbs!templates/modalWindow/requiredPriceLabel","hbs!templates/modalWindow/fotoliaSubscription","hbs!templates/modalWindow/vectorDownloadChoice","hbs!templates/videoSvgPicto","components/licenseTransferFieldSet","components/licenseReferencesFieldSet","components/vectorDownloadSettings","lib/accessRequest","lib/ajax","lib/license","lib/organization","lib/utils","lib/videoUtils","lib/licenseType","lib/toastNotifications","quickerCheckout/adobestock/analytics","lib/member","app/client","app/actions/detailsActions","hbs!templates/thumbnailLicensedBadge","app/utils/dunamis/dunamisAdminPurchaseFMF","lib/analytics/dunamis","lib/uiEvents","lib/analytics/dunamisCustomEvent","lib/cookie","components/motMotModal"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C,S,I,O,k,A,R,x,P,L,D,N,w,M,U,F,j,H,V,q,Y,G,B,K,W,z,Q,X,Z,J,$,ee,te,ne,ae,ie,se,re,le){"use strict";function oe(){var e=ce.find(".modal__body"),n=ce.find(".modal__footer"),a=e[0].getBoundingClientRect(),i=Math.ceil(t(window).height()-a.height-a.top);e.css("padding-bottom",n.outerHeight()),n.css({transform:"translateY("+(i<0?i:0)+"px)",transition:"all .15s ease"})}var ce,ue=$.getInstance(),de=function(t){return t=t.trim(),t.length>45&&(t=t.substring(0,42)+"..."),pe({subject:e.sprintf(s.gettext('MODAL::Delete "%s"'),t),question:e.sprintf(s.gettext('MODAL::Are you sure you want to delete "%s"?'),t),notes:s.gettext("MODAL::This library will no longer be available to anyone who shares it.")})},pe=function(e){return void 0===e&&(e={}),void 0===e.confirm_button_label&&(e.confirm_button_label=s.gettext("MODAL::Delete")),ke("confirmation",e)},he=function(e){return void 0===e&&(e={}),ke("confirmation",e)},me=function(e){return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("CHECKOUT::You're Ready to Go!")),void 0===e.body&&(e.body=s.gettext("CHECKOUT::You now have access to a growing collection of millions of assets, conveniently integrated into Adobe Illustrator CC, Adobe InDesign CC, Adobe Photoshop CC, Adobe After Effects CC and Adobe Premiere Pro CC.")),void 0===e.button_label&&(e.button_label=s.gettext("PLANS::OK")),void 0===e.button_link&&(e.button_link="#"),ke("message",e)},fe=function(e,t,n,a){return ke("confirmation",{thumb_url:e,subject:t,question:n,extended_license:a})},_e=function(e){return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("MODAL::REBATE::Enjoy your free images!")),void 0===e.body&&(e.body=s.gettext("MODAL::REBATE::Your refund for the first month of your Adobe Stock subscription may take up to two weeks to appear on your credit card statement.")),void 0===e.button_label&&(e.button_label=s.gettext("MODAL::REBATE::Start Searching")),void 0===e.button_link&&(e.button_link="/"),ke("message",e)},ge=function(t,n){return void 0===n&&(n={}),void 0===n.subject&&(n.subject=s.gettext("MODAL::REBATE::Rebate processing error")),void 0===n.body&&(n.body=e.sprintf(s.gettext("MODAL::REBATE::We are experiencing technical difficulties processing your rebate. Please contact customer support and reference this case code: %s"),t)),ke("message",n)},Ee=function(e){var t,n,a=ae.constants;return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("MODAL::SWITCH::ACCOUNT::Switch to personal account")),void 0===e.question&&(e.question=s.gettext("MODAL::SWITCH::ACCOUNT::To purchase this product, you must switch to your personal account. Do you want to switch to your personal account?")),void 0===e.confirm_button_label&&(e.confirm_button_label=s.gettext("MODAL::OK")),t={pageName:"switchpersonalstate",events:Z.EVENTS.CHECKOUT_STEP_SWITCH_PERSONAL,eVar122:e.subject},n={login_type:"token",team_profile_type:J.getOmnitureTeamProfileType(),member_type:J.getOmnitureMemberType()},Z.send(t,n,!1),ne.send(a.PAGE_VIEW,!1),e.confirmCallback=function(){var t={pageName:"switchpersonalstate",events:Z.EVENTS.CTA_TRACKER,eVar91:"quicker checkout:switch personal modal:ok",eVar122:e.subject,eVar78:J.hasBoughtSomething()?r.STOCK_REPEAT_BUYER:r.STOCK_NEW_BUYER,eVar92:J.getOmnitureMemberStatus()};Z.send(t,n,!0)},ke("confirmation",e)},ve=function(e){return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("MODAL::CREDIT::Thank you for using Adobe Stock.")),void 0===e.body&&(e.body=s.gettext("MODAL::PURCHASE::CREDIT::You don't have enough images to license this asset. Please contact your administrator to add more images to your account.")),ke("message",e)},be=function(){return ke("welcomeBack",{modalId:"welcome-back-modal",hiddenState:"false"})},Te=function(e,t){var n,a=[],i=W.map3DIdsToTypes[e["3D_type_id"]];return e.is_3D&&e.light_type&&e.light_type.length&&(e.light_type.forEach(function(e){"IBL"===e.toUpperCase()&&a.push(s.gettext("FILE::LIGHT::TYPES::Image-based Lights"))}),e.light_types=a.join(", ")),e.is_video&&z.setDataVideo(e,t.license_id),e.possible_data_premium&&(n=e.possible_data_premium[t.license_id])&&(e.content_original_width=n.image_width,e.content_original_height=n.image_height),e.is_just_purchased=t.is_just_purchased,{content:e,content_is_3D_type_lights:i===W.threeDTypes.LIGHTS,content_is_3D_type_materials:i===W.threeDTypes.MATERIALS,license_type_label:t.license_type_label}},ye=function(e,t){var n=Te(e,t);return n.disableLicenseTransferCheckbox=!0,n.modalId="license-transfer-modal",n.modal_title=s.gettext('ORGANIZATION::LICENSE_TRANSFER::Apply the "Transferred" license badge'),n.display_license_transfer=!0,n.button_label=s.gettext("MODAL::Confirm"),n.modalWithStickyFooter=!0,ke("licensingDetailModal",n)},Ce=function(e,t,n){var a,i=Te(e,t);return t.required_quota_with_label?a=t.required_quota_with_label:t.required_quota&&(a=K.getOfferPriceUnitsWithLabel(K.getOfferPriceUnitsType(t),t.required_quota)),t.facing_price&&(a+=" ("+t.facing_price+")"),i.modalId="license-references-modal",i.required_quota=a,i.mandatory_license_references=t.mandatory_license_references,i.optional_license_references=t.optional_license_references,i.is_update_context=n,i.saved_license_references=null,i.display_license_references=t.requires_license_references,i.display_license_transfer=t.has_organization_license_transfer_enabled,n?(i.saved_license_references=t.saved_license_references,i.display_license_references=!0,i.modal_title=s.gettext("ORGANIZATION::REFERENCE::Update References"),i.button_label=i.modal_title,i.displayLicenseBadge=e.downloaded&&!e.display_as_unlicensed,i.displayLicenseTransferBadge=e.downloaded&&e.display_as_unlicensed,i.licenseTransfers=e.license_transfers):e.is_just_purchased?(i.modal_title=s.gettext("ORGANIZATION::REFERENCE::License this asset again?"),i.button_label=s.gettext("MODAL::License again")):(i.modal_title=s.gettext("FILE::Confirm Licensing"),i.button_label=s.gettext("MODAL::License")),i.modalWithStickyFooter=i.display_license_references,ke("licensingDetailModal",i)},Se=function(){var e={subject:s.gettext("MODAL::CREDIT::Thank you for using Adobe Stock."),question:s.gettext("MODAL::PURCHASE::CREDIT::Sorry, you cannot license the same stock asset multiple times. You already have a license for this asset, do you want to download the licensed file?")};return ke("additionalLicensingDisabled",e)},Ie=function(e,t){var n={modalId:"group-license-references-modal",content:e,number_selected:Object.keys(e).length,mandatory_license_references:t.mandatory_license_references,optional_license_references:t.optional_license_references};return ke("groupLicenseReferences",n)},Oe=function(e){return ke("fotoliaSubscription",e)},ke=function(e,a){var r,G,K,z,Q,Z,J=t.Deferred(),$=t("body"),de=ae.constants,pe=t('<div style="display: none;"></div>'),he=function(){pe.remove(),
ce=null,t(window).off("resize",oe),$.removeClass("overflow-hidden")};switch(e){case"preview":pe.html(b(a)),pe.find(".js-hide-modal").click(function(){pe.remove(),J.resolve()}),$.keydown(function(e){27==e.keyCode&&(pe.remove(),J.resolve())});break;case"message":!a||a.button_link&&a.button_link!=i.getPath()||(a.button_link=null),void 0===a.button_label&&(a.button_label=s.gettext("MODAL::OK")),pe.html(c({message:a})),a.dunamis&&se.sendDunamisPageView(a.dunamis.workflow,a.dunamis.subcategory,a.dunamis.errorName,a.dunamis.name),pe.find(".js-modal-window-dismiss-button").click(function(){ie.trigger(ie.DETAILS_PANEL.CLOSE),pe.remove(),J.resolve()});break;case"confirmation":void 0===a.cancel_button_label&&(a.cancel_button_label=s.gettext("MODAL::Cancel")),void 0===a.confirm_button_label&&(a.confirm_button_label=s.gettext("MODAL::OK")),pe.html(u({message:a})),pe.find(".js-modal-window-confirm-button").click(function(){a.extended_license&&!a.extended_license.is_video&&(a.content_type_id=a.extended_license.content_type_id,B.setDefaultLicenseId(a.extended_license.contentId,a)),W.safelyExecuteFunction(a.confirmCallback),pe.remove(),J.resolve(),ne.send(de.SWITCH_PERSONAL_CONFIRM,!0)}),pe.find(".js-modal-window-cancel-button").click(function(){t("#select-licenses").prop("disabled",!1),pe.remove(),J.reject(),ne.send(de.SWITCH_PERSONAL_CANCEL,!0)});break;case"saveToDevice":if(!a.asset_link)throw new Error("No asset link was given");switch(void 0===a.help_text&&(a.help_text=s.gettext("MODAL::Tap and hold the item below to save it to your device.")),a.asset_format){case"jpeg":a.display_image=!0;break;default:a.display_image=!1,a.help_text=s.gettext("MODAL::Only photos can be saved to mobile devices. You can save to a library, then download on your computer.")}pe.html(f({data:a})),pe.find(".js-modal-window-dismiss-button").click(function(){pe.remove(),J.resolve()});break;case"openInNoAcknowledgement":pe.html(v({base_url:n.base_url})),pe.find(".js-modal-window-dismiss-button").click(function(){pe.remove(),J.resolve()});break;case"multipleChoices":pe.html(g({message:a}));break;case"cceMultipleChoices":var me=n.isAudioLPEnabled?"/enterprise-conditions#editorialUse":"/enterprise-conditions?comparison-full#editorial-license-terms";pe.html(_({data:a,licenseTermsEditorialLink:n.base_url+me}));break;case"extendedConfirmation":pe.html(E({message:a})),pe.find(".js-modal-window-cancel-button").click(function(){t("#select-licenses").prop("disabled",!1),pe.remove(),J.reject()});break;case"welcomeBack":pe.html(T({data:a})),pe.find(".js-modal-window-dismiss-button").click(function(){pe.remove(),J.resolve()});break;case"alreadyMigratedAccount":a.use_links=!0,pe.html(u({message:a})),se.sendDunamisPageView("fotolia-migration","error-account-already-migrated","account-already-migrated-error","account-already-migrated");break;case"fotoliaSubscription":pe.html(U({fotoliaSubscription:a})),pe.find(".js-hide-modal").click(function(){pe.remove(),J.resolve()}),$.keydown(function(e){27==e.keyCode&&(pe.remove(),J.resolve())});break;case"teamfmf":a.button_link||(a.button_link="#"),a.button_label||(a.button_label=s.gettext("MODAL::OK")),pe.html(y({message:a})),pe.find(".js-modal-window-dismiss-button").click(function(){pe.remove(),J.resolve()}),pe.find(".js-modal-window-ok-button").click(function(){a.validation_needed?r.submit():(pe.remove(),J.resolve())}),r=pe.find('form[name="js-fmf-offer-phone"]'),G=r.find("#js-phone"),r.submit(function(e){var n,a=G.val().trim();W.isValidPhoneNumber(a)?(n=t("<input />",{type:"hidden",name:"fmf",value:1}),r.append(n)):(G.attr("data-field-is-valid","false"),r.find("#js-checkout-user-facing-errors").attr("data-state","shown"),e.preventDefault(),e.stopPropagation())});break;case"licensingDetailModal":pe.html(x({content:a.content,required_quota:a.required_quota,content_is_3D_type_materials:a.content_is_3D_type_materials,content_is_3D_type_lights:a.content_is_3D_type_lights,mandatory_license_references:a.mandatory_license_references,optional_license_references:a.optional_license_references,is_update_context:a.is_update_context,saved_license_references:a.saved_license_references,modal_title:a.modal_title,license_type_label:a.license_type_label,display_license_references:a.display_license_references,display_license_transfer:a.display_license_transfer,button_label:a.button_label,displayLicenseBadge:a.displayLicenseBadge,displayLicenseTransferBadge:a.displayLicenseTransferBadge,licenseTransfers:a.licenseTransfers},{partials:{badgeTooltip:l,thumbnailBadges:o,"modalWindow/licenseReferencesDetail":D,"modalWindow/fieldInputValidator":N,"modalWindow/licenseTypeDetail":w,"modalWindow/requiredPriceLabel":M,"modalWindow/licenseTransferFieldSet":H.template,"modalWindow/licenseReferencesFieldSet":V.template,videoSvgPicto:j,thumbnailLicensedBadge:te}})),t("body").addClass("overflow-hidden"),pe.find(".js-hide-modal").click(function(){he(),J.reject()}),a.display_license_references&&(z=new V.init(pe)),a.display_license_transfer&&(K=new H.init(pe,a.disableLicenseTransferCheckbox)),r=pe.find('form[name="js-licensing-form"]'),r.submit(function(e){var t=!0,n={};e.preventDefault(),e.stopPropagation(),a.display_license_references&&(t=z.valid(),n.license_references=z.data()),a.display_license_transfer&&(t=!!t&&K.valid(),n.license_transfer=K.data()),t&&(he(),J.resolve(n))});break;case"groupLicenseReferences":pe.html(P({content:a.content,mandatory_license_references:!t.isEmptyObject(a.mandatory_license_references)&&a.mandatory_license_references,optional_license_references:!t.isEmptyObject(a.optional_license_references)&&a.optional_license_references,number_selected:a.number_selected},{partials:{"modalWindow/fieldInputValidator":N,"modalWindow/licenseReferencesFieldSet":V.template,"modalWindow/numberFilesLicenseReferences":L}})),t("body").addClass("overflow-hidden"),pe.find(".js-hide-modal").click(function(){pe.remove(),t("body").removeClass("overflow-hidden"),J.reject()}),z=new V.init(pe),r=pe.find('form[name="js-group-license-references"]'),r.submit(function(e){e.preventDefault(),e.stopPropagation(),z.valid()&&(pe.remove(),t("body").removeClass("overflow-hidden"),J.resolve(z.data()))});break;case"licenseRecordOptions":Q=n.isLicenseRecordMigrationEnabled?k:C,Z=!1,pe.html(Q(a,{partials:{"components/bulkSelectionModal/tabsHeaderItem":S,"modalWindow/numberFilesLicenseReferences":L,"modalWindow/licenseRecordDetailsFieldSet":A,"modalWindow/licenseRecordGroupAssets":R,"modalWindow/fieldInputValidator":N}})),$.addClass("overflow-hidden"),pe.find(".js-hide-modal").click(function(){he(),J.reject()});var fe=pe.find(".js-modal-details-row"),_e=!1;pe.find(".js-expand-record-details").click(function(){_e?fe.hide(250):fe.show(250),_e=!_e,t(this).toggleClass("is_active")}),pe.find(".js-modal-asset-toggle-remove").click(function(){var e=t(this),n=pe.find(".js-modal-nb-assets"),i=pe.find(".js-license-reference-group-by"),s=e.attr("data-rel");a.assets[s].is_removed=!a.assets[s].is_removed,a.assets[s].is_removed?(pe.find(".js-modal-tr-"+s).addClass("is-removed"),e.attr("data-t","add-back-to-selection-button")):(pe.find(".js-modal-tr-"+s).removeClass("is-removed"),e.attr("data-t","remove-from-selection-button")),n.html(L({number_selected:Object.keys(a.assets).reduce(function(e,t){return e+=a.assets[t].is_removed?0:1},0)})),i.html(R({groups:Object.keys(a.assets).reduce(function(e,t){var n=a.assets[t]||{};return!n.is_removed&&n.license_references.forEach(function(t){e[t.id]||(e[t.id]=t.label)}),e},{}),grouped_by_option:i.find(":selected").val()||0}))}),pe.on("mouseover",".js-modal-asset-toggle-remove",function(){var e=t(this),n=e.attr("data-rel"),i=pe.find(".js-modal-bulk-selection-tooltip");i.html(a.assets[n].is_removed?I:O),Z=!0;var s=e.positionRelativeTo(".js-modal-bulk-content-wrapper");i.removeClass("tooltip--top tooltip--secondary tooltip--bottom tooltip--error tooltip--primary"),i.addClass("tooltip--primary tooltip--top"),i.css({top:s.top-10,left:s.left+8}).attr("data-is-hidden",!1)}),pe.on("mouseout",".js-modal-icon-alert, .js-modal-asset-toggle-remove, .js-modal-asset-request-info-status",function(){Z=!1,pe.find(".js-modal-bulk-selection-tooltip").attr("data-is-hidden",!0)}),r=pe.find('form[name="js-license-record-options"]'),r.focus(),r.submit(function(e){if(e.preventDefault(),e.stopPropagation(),t("#licenseRecordName").val()){var n=r.serializeArray();t.isPlainObject(a.assets)&&!t.isEmptyObject(a.assets)&&(pe.find(".js-modal-button-license").attr("disabled",!0).attr("data-is-loading",!0),n.push({name:"assets",value:Object.keys(a.assets).reduce(function(e,t){return a.assets[t].is_removed||e.push(t),e},[])})),J.resolve(n,pe,he)}});break;case"vectorDownloadChoice":pe.html(F(a)),pe.find(".js-vector-download-choice-download-btn").click(function(){var e=q.getVectorDownloadChoiceValue();q.isVectorDownloadChoiceSetAsDefaultChecked()&&ue.dispatch(ee.saveVectorDownloadPreference(e)),pe.remove(),J.resolve(e)}),pe.find(".js-vector-download-choice-close-button").click(function(){pe.remove(),J.reject()});break;case"additionalLicensingDisabled":void 0===a.cancel_button_label&&(a.cancel_button_label=s.gettext("MODAL::Cancel")),void 0===a.confirm_button_label&&(a.confirm_button_label=s.gettext("MODAL::Download")),pe.html(u({message:a})),pe.find(".js-modal-window-confirm-button").click(function(){pe.remove(),J.resolve()}),pe.find(".js-modal-window-cancel-button").click(function(){pe.remove(),J.reject()});break;case"accessRequest":pe.html(c({message:a})),pe.find(".js-modal-window-dismiss-button").click(function(){ie.trigger(ie.DETAILS_PANEL.CLOSE),pe.remove(),J.resolve()}),pe.find(".js-modal-window-ok-button").click(function(){Y.sendRequest(a.origin).then(function(e){X.showFixedBottomNotification(e.message,{status:"success"}),J.resolve()}).fail(function(e){X.showFixedBottomNotification(s.gettext("GENERIC::We weren't able to complete your request. Please try again"),{status:"error"}),J.reject()}).always(function(){ie.trigger(ie.DETAILS_PANEL.CLOSE),pe.remove()})});break;case"t2eMigration":var ge=function(){re(a.migration_modal_cookie,!0,{expires:180})},Ee={templateParams:{usingDefault:!0,width:"medium",footer:!0},partial:d,title:a.title,partialProperties:{data:a},additionalPartials:{modalFooter:p}};le.show("usingPartial",Ee),t(".js-motmot-modal-close").click(function(){ge(),pe.remove(),ke("t2eMigrationLinkReminder",{}),J.resolve()}),t("#modal-window-start-migration").click(function(){ge(),pe.remove(),i.setLocation(n.base_url+"/migration")});break;case"t2eMigrationLinkReminder":var Ee={templateParams:{usingDefault:!0,width:"medium",footer:!0},partial:h,title:s.gettext("MIGRATION::In case you change your mind"),partialProperties:{data:{t2e_migration_url:n.base_url+"/migration"}},additionalPartials:{modalFooter:m}};le.show("usingPartial",Ee),t("#js-t2e-modal-lin-reminder-continue").click(function(){pe.remove(),J.resolve()});break;default:throw new Error("Unregistered message template: "+e)}return $.append(pe),pe.show(),a.modalWithStickyFooter&&(ce=pe.find(".mti-modal"),ce.on("scroll",oe),t(window).on("resize",oe),setTimeout(oe,250)),$.find(".modal-window-canvas").removeClass("grey").first().addClass("grey"),J.promise()};return{show:ke,showSuccessfulPlanPurchaseMessage:me,showDeleteConfirmation:pe,showLibraryDeleteConfirmation:de,showBadgedModalConfirmationWithThumbnail:fe,showSuccessfulRebateMessage:_e,showFailedRebateMessage:ge,showPurchaseVideoMessage:he,showSwitchToPersonalMessage:Ee,showErrorPurchaseWithCredit:ve,showWelcomeBackModal:be,showLicensingDetailModal:Ce,showLicenseTransferModal:ye,showGroupLicenseReferencesModal:Ie,showFotoliaSubscriptionInfo:Oe,showAdditionalLicensingDisabledModal:Se,isModalVisible:function(){return t("body").find(".modal-window-canvas").is(":visible")},displayOrganizationErrorModal:function(e){var t=K.getOrganizationErrorData(e);return this.showErrorPurchaseWithCredit(t)},displayAccessRequestModal:function(e,t){var n=Y.getAccessRequestModalData(e);return n.origin=t,n.button_class="js-modal-window-ok-button",ke("accessRequest",n)}}}),define("lib/libraries",["jquery","lodash","page_config","lib/cookie","lib/member","models/AssetLibrary","models/AssetLibraryItem","lib/libraryutil","lib/modal-window","lib/analytics/dunamis","lib/assetsStore","lib/window","app/constants/mediaTypes","app/constants/index"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h){"use strict";function m(){return window.__stock_portal_exports__.packages.coreClientCCLibraries}function f(){return{Authorization:"Bearer "+v,"X-api-key":n.SUSI.CLIENT_ID,"X-Product":"AdobeStock/1.0","X-Request-Id":n.x_request_id+"-"+Date.now()}}function _(){return{"x-user-token":"Bearer "+v,"X-adobe-app-id":n.ans_app_id,"X-api-key":n.SUSI.CLIENT_ID}}function g(){var t=document.createElement("a");t.href=T;var n=t.protocol+"//"+t.host+"/libs/granite/csrf/token.json";return e.ajax({url:n,type:"GET",headers:f()}).then(function(e){return e.token})}function E(t){var n=e.Deferred(),a={headers:f(),error:function(e,n){var a=new Error("Error during call to CC libraries: "+n);window.newrelic&&window.newrelic.noticeError(a,{request_url:t.url,http_status:e.status})}};return S&&t.type&&"GET"!==t.type.toUpperCase()?g().then(function(e){a.headers["CSRF-Token"]=e,n.resolve()}):n.resolve(),n.promise().then(function(){return e.ajax(e.extend({},a,t))})}var v=i.fetchAccessToken(),b=i.getPrivateCloudUrlForLibraries(),T=t.get(b,"libraryServiceURL",n.libraries_service_url),y=t.get(b,"privateCloudId",""),C=t.get(b,"storageHost",n.libraries_storage_host),S=t.get(b,"isPrivateCloud",!1),I=n.libraries_use_stock_thumbnails,O=n.libraries_stock_base_url,k=null,A={};return{refreshAccessToken:function(){v=i.fetchAccessToken()},getLibraries:function(){var t,n=this,a=e.Deferred();return i.checkAccessToken(a,v)?k&&"pending"===k.state()?k:(k=a,E({url:T+"/libraries/",dataType:"json"}).then(function(e){t=n.processLibraryData(e).libraries,a.resolve(t)},function(){a.reject()}),a):a},getLibraryById:function(t){var a=e.Deferred();if(!i.checkAccessToken(a,v))return a;var s={isLibrariesV2ApiEnabled:!1,libId:t,accessToken:v,baseUrl:T,clientId:n.SUSI.CLIENT_ID};return A[t]&&"pending"===A[t].state()?A[t]:(A[t]=a,m().getLibraryById(s).then(function(e){a.resolve(e)},function(e){e.response&&404==e.response.status?a.resolve(null):a.reject(e)}),a)},createLibrary:function(t){var n=e.Deferred();if(!i.checkAccessToken(n,v))return n;t||n.reject();var a={name:t};return E({url:T+"/libraries",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a)}).then(function(e){n.resolve(new s(e))},function(){n.reject()}),n},deleteLibrary:function(t){var n=e.Deferred();return i.checkAccessToken(n,v)?(E({url:T+"/libraries/"+t+"?state=archive",type:"POST",contentType:"application/json",libraryId:t}).then(function(){n.resolve(t)},function(){n.reject()}),n):n},renameLibrary:function(t,n){var a=e.Deferred();return i.checkAccessToken(a,v)?(E({url:T+"/libraries/"+t+"?name="+encodeURIComponent(n),type:"POST",contentType:"application/json",libraryId:t,libraryName:n}).then(function(e){a.resolve(e)},function(){a.reject()}),a):a},getLibraryElements:function(t){var n=e.Deferred(),a=this;return i.checkAccessToken(n,v)?(E({url:T+"/libraries/"+t+"/elements?data_field=adobestock%23trackingdata",dataType:"json"}).then(function(e){var i=e.elements.map(function(e){var n=a.generateRenditionByHeight(e,240);return new r(t,e,n.url,n.width,n.height)});i.sort(function(e,t){return new Date(t.modified)-new Date(e.modified)}),n.resolve(i)},function(){n.reject()}),n):n},getLibraryThumbnails:function(t){var n=this,a=e.Deferred();return i.checkAccessToken(a,v)?(n.getLibraryElements(t).done(function(e){var i=l.removeAudioElementsFromLibrary(e),s=i.libraryElements,r=null;s.length>0&&(r=n.generateLibraryThumbnails(s)),a.resolve(r,t,s.length)}).fail(function(){a.reject()}),a):a},libraryContains:function(t,n){var a=e.Deferred();return i.checkAccessToken(a,v)&&t&&"desktop"!==t?(E({url:T+"/libraries/"+t+"/elements?data_field=adobestock%23trackingdata.content_id&data_value="+n,dataType:"json"}).then(function(e){e.elements.length>0?a.resolve(e.elements[0]):a.resolve(null)},function(){a.reject()}),a):a},deleteLibraryElement:function(t,n){var a=e.Deferred();return i.checkAccessToken(a,v)?(E({url:T+"/libraries/"+t+"/elements/"+n,type:"DELETE"}).then(function(e){a.resolve(n)},function(){a.reject()}),a):a},analyticsLibraryElement:function(t,n){var a=e.Deferred();return i.checkAccessToken(a,v)?(E({url:T+"/libraries/analytics/useElement?libraryid="+t+"&elementid="+n,type:"POST"}).then(function(e){a.resolve(n)},function(){a.reject()}),a):a},addLibraryElement:function(t,n,a,s,r,l,o,c,u,d){var h=e.Deferred(),m=this;if(!i.checkAccessToken(h,v)||!t||"desktop"===t)return h;s=m.fixUrlForLibraries(s);var f={type:p.IMAGE_ELEMENT,name:o,representations:[{source:{href:s},rel:"primary",width:u,height:d,"adobestock#trackingdata":{content_id:String(n),stock_id:String(a)}}]};return null!=l?(f.representations[0]["adobestock#trackingdata"].license=l,f.representations[0]["adobestock#trackingdata"].state=r):f.representations[0]["adobestock#trackingdata"].state="not_purchased",null!=c&&(f.representations[0].type=c),E({url:T+"/libraries/"+t+"/elements?invocation_mode=async",type:"POST",contentType:"application/json",libraryId:t,data:JSON.stringify(f)}).then(function(e){h.resolve(e)},function(){h.reject()}),h},addLibraryElementUsingReferences:function(t,n,a,s){var r,l,o=e.Deferred(),c=this,u=s||"async";return i.checkAccessToken(o,v)?(n&&(u="sync"),r=c.createDataForReferences(a),l={url:T+"/libraries/"+t+"/elements?invocation_mode="+u,type:"POST",contentType:"application/json",libraryId:t,data:JSON.stringify(r)},E(l).then(function(e){n&&c.createANSNotificationMessage(t,e.id,a.mimeType,a.contentId,a.license,n),o.resolve(e)},function(){o.reject()}),o):o},updateLibraryElementUsingReferences:function(t,n){var a,s,r=e.Deferred(),l=this,o="async";return i.checkAccessToken(r,v)?(t&&(o="sync"),n.name=null,s=l.createDataForReferences(n),a={url:T+"/libraries/elements?data_field=adobestock%23trackingdata.content_id&invocation_mode="+o+"&data_value="+n.contentId,type:"POST",contentType:"application/json",data:JSON.stringify(s)},E(a).then(function(e){if(t){var a,i;e.elements[0]&&e.elements[0].library_id&&(a=e.elements[0].library_id),e.elements[0]&&e.elements[0].element_id&&(i=e.elements[0].element_id),a&&i&&l.createANSNotificationMessage(a,i,n.mimetype,n.contentId,n.license,t)}r.resolve(e)},function(){r.reject()}),r):r},createDataForReferences:function(t){var a,i,s,r,l,o=this,u=c.getDunamisContextGuid(),d=t.contentId,m=t.instanceId,f=t.state,_=t.license,g=t.name,E=t.mimeType,v=o.fixUrlForLibraries(t.compMeta.url),b=t.compMeta.width,T=t.compMeta.height,y=t.licenseMeta.url,C=t.licenseMeta.width,S=t.licenseMeta.height,I=t.thumbnailMeta.url,O=t.thumbnailMeta.width,k=t.thumbnailMeta.height,A=t.contentLength,R=t.framerate,x=t.duration,P=t.resolution,L=t.librariesMetadata3d;return-1!=E.indexOf("video")?(a=p.VIDEO_ELEMENT,b=C,T=S):E===p.ILLUSTRATOR_TEMPLATE||E===p.INDESIGN_TEMPLATE||E===p.PHOTOSHOP_TEMPLATE?a=p.TEMPLATE_ELEMENT:E===p.EUCLID_MODELS?(a=p.MODEL_3D_ELEMENT,i=!0):E===p.EUCLID_MATERIALS?(a=p.MATERIAL_3D_ELEMENT,i=!0):E===p.EUCLID_LIGHTS?(a=p.LIGHTS_3D_ELEMENT,i=!0):a=E===p.AFTEREFFECTS_TEMPLATE||E===p.PREMIER_TEMPLATE?p.MOGRT:p.IMAGE_ELEMENT,r={type:a},null!=g&&(r.name=g),null!=_?(y=o.fixUrlForLibraries(y),a===p.MOGRT?(l=n.api_gateway_url+h.routes.DOWNLOAD_API+d+"/1",r.representations=[{source:{href:l},"external-link":!0,rel:"primary",width:C,height:S,type:E,"adobestock#trackingdata":{content_id:String(d),stock_id:String(m),license:_,state:f,context_guid:u}},{rel:"rendition",type:p.JPEG,source:{href:I},width:O,height:k},{rel:"rendition",type:p.PNG,source:{href:l+"?"+e.param({format:"png"})},width:O,height:k},{rel:"alternate",type:p.MOGRT_JSON,"external-link":!0,source:{href:l+"?"+e.param({format:"json"})}}]):a===p.TEMPLATE_ELEMENT||i?r.representations=[{source:{href:y},"external-link":!0,rel:"primary",width:C,height:S,type:E,"adobestock#trackingdata":{content_id:String(d),stock_id:String(m),license:_,state:f,context_guid:u}},{rel:"rendition",type:"image/jpeg",source:{href:I},width:O,height:k}]:r.representations=[{source:{href:y},"external-link":!0,rel:"primary",width:C,height:S,type:E,"adobestock#trackingdata":{content_id:String(d),stock_id:String(m),license:_,state:f,context_guid:u}},{source:{href:v},"external-link":!0,rel:"rendition",width:b,height:T,type:E,"adobestock#trackingdata":{content_id:String(d),stock_id:String(m),state:"not_purchased",context_guid:u}},{rel:"rendition",type:"image/jpeg",source:{href:I},width:O,height:k}]):r.representations=[{source:{href:v},"external-link":!0,rel:"primary",width:b,height:T,type:E,"adobestock#trackingdata":{content_id:String(d),stock_id:String(m),state:"not_purchased",context_guid:u}},{rel:"rendition",type:"image/jpeg",source:{href:I},width:O,height:k}],-1!=E.indexOf("video")&&(null!=A&&(r.representations[0]["content-length"]=A),s={framerate:R,duration:x,resolution:P},r.representations[0]["video#data"]=s,_&&(r.representations[1]["video#data"]=s)),i&&L&&(r.representations[0]["3d#data"]=L),r},updateElementInAllLibraries:function(t,n,a,s,r,l,o,c){var u=e.Deferred(),d=this;if(!i.checkAccessToken(u,v))return u;a=d.fixUrlForLibraries(a);var h={type:p.IMAGE_ELEMENT,representations:[{source:{href:a},rel:"primary",width:o,height:c,"adobestock#trackingdata":{content_id:String(t),stock_id:String(n)}}]};return null!=r?(h.representations[0]["adobestock#trackingdata"].license=r,h.representations[0]["adobestock#trackingdata"].state=s):h.representations[0]["adobestock#trackingdata"].state="not_purchased",null!=l&&(h.representations[0].type=l),E({url:T+"/libraries/elements?data_field=adobestock%23trackingdata.content_id&invocation_mode=async&data_value="+t,type:"POST",contentType:"application/json",data:JSON.stringify(h)}).then(function(e){u.resolve(e)},function(){u.reject()}),u},useStockThumbnails:function(e){var t=null,n=l.findStockRepresentation(e),a=l.findStockRendition(e);if(I&&n&&void 0!==n["adobestock#trackingdata"].stock_id&&n["adobestock#trackingdata"].stock_id.length>=32){var i,s;t={},i=-1==n["adobestock#trackingdata"].stock_id.indexOf(",")?n["adobestock#trackingdata"].stock_id.substr(0,32):n["adobestock#trackingdata"].stock_id.substr(0,n["adobestock#trackingdata"].stock_id.indexOf(",")),s=n["adobestock#trackingdata"].content_id;var r=Math.floor(Number(s)/100);r=String("00000000"+r).slice(-8),r=r.substr(0,2)+"/"+r.substr(2,2)+"/"+r.substr(4,2)+"/"+r.substr(6,2),t.url=O+"/jpg/"+r+"/240_F_"+s+"_"+i+".jpg",t.width=a&&a.width||320,t.height=a&&a.height||240}return t},generateRenditionByHeight:function(e,t){var a=this,i=a.useStockThumbnails(e),s=l.findStockRendition(e);if(null==i&&s){var r=t,o=l.findStockSize(e);if(i={width:320,height:240},null!=o){var c=o.height,u=o.width;u>c&&(r=u*t/c,r=r.toFixed()),i.width=Math.round(o.width/o.height*240)}i.url=s.href+"/:rendition;size="+r+";version=0?accept=image/jpeg&api_key="+n.SUSI.CLIENT_ID+"&user_token="+v}return i},generateRenditionFill:function(e,t,a){var i,s=this,r=s.useStockThumbnails(e),o=l.findStockRendition(e);if(null==r&&o){var c=a,u=l.findStockSize(e);if(null!=u){var d=u.height,p=u.width,h=p/d,m=t/a;m>=1?c=h<=m&&h>=1?t:h>m&&h>=1?h*a:t/h:m<1&&(c=h>=m&&h<=1?a:h>m&&h<=1?h/t:a*h)}c=c.toFixed(),i=o.href+"/:rendition;size="+c+";version=0?accept=image/jpeg&api_key="+n.SUSI.CLIENT_ID+"&user_token="+v}else i=r.url;return i},processLibraryData:function(e){var t=e.libraries.map(function(e){return new s(e)}),n={};return n.libraries=t,t.length>0&&(n.newestLibrary=t[t.length-1]),t.sort(function(e,t){return e.name.localeCompare(t.name)}),n},generateLibraryThumbnails:function(e){var t=this;return e.length>=4?[t.generateRenditionFill(e[0],280,266),t.generateRenditionFill(e[1],94,84),t.generateRenditionFill(e[2],94,84),t.generateRenditionFill(e[3],94,84)]:e.length>=3?[t.generateRenditionFill(e[0],280,175),t.generateRenditionFill(e[1],140,175),t.generateRenditionFill(e[2],140,175)]:e.length>=2?[t.generateRenditionFill(e[0],280,175),t.generateRenditionFill(e[1],280,175)]:e.length>=1?[t.generateRenditionFill(e[0],280,350)]:void 0},fixUrlForLibraries:function(t){if(-1!=t.indexOf(".loc")){var n=e("<a>",{href:t})[0];n.hostname="primary.stock.stage.adobe.com",t=n.href}var a=t.split("/");return"Download"!==a[3]&&(a.splice(3,1),t=a.join("/")),t=t.replace("/Download/Watermarked/","/Rest/Libraries/Watermarked/Download/"),t=t.replace("/Download/DownloadFileDirectly/","/Rest/Libraries/Download/")},createANSNotificationMessage:function(t,a,s,r,l,o){var u=e.Deferred(),h=this,m=d.getSearchObject(),f="";f=s&&-1!=s.indexOf("video")?p.VIDEO_ELEMENT:s===p.ILLUSTRATOR_TEMPLATE||s===p.INDESIGN_TEMPLATE||s===p.PHOTOSHOP_TEMPLATE?p.TEMPLATE_ELEMENT:p.IMAGE_ELEMENT;var g="",E="",v="";o&&"OpenInPs"===o?(E="PHXS",g="17.0"):o&&"OpenInId"===o?(E="IDSN",g="11.4.0"):o&&"OpenInAi"===o?(E="ILST",g="20.0.0"):o&&"OpenInPr"===o?(E="PPRO",g="10.3"):o&&"OpenInAe"===o&&(E="AEFT",g="13.8.0"),t&&a&&(v="cloud-asset://"+C+"/assets/adobe-libraries/"+t+";node="+a);var b=c.getDunamisContextGuid(),T=new Date,S={appCode:E,appVersion:g,contextGuid:b,elementId:a,content_id:r,event_dts_start:T.toISOString(),appAction:o,license:l},I={protocolVersion:"1",appCode:E,appVersion:g,elementType:f,elementRef:v,context_guid:b,search_keyword:m.k||""};y&&(I.cloudID=y);var O={notifications:{notification:[{"user-id":i.getGuid(),type:"com.adobe.designlibrary.v1","sub-type":"stock.open.request",priority:"20",state:"NEW",payload:JSON.stringify(I)}]}},k=n.ans_endpoint_url;e.ajax({url:k,type:"POST",contentType:"application/json",data:JSON.stringify(O),headers:_()}).then(function(e){var t=e.notifications.notification[0]["notification-id"];t&&h.getCCAcknowledgementThroughANS(k,t,0,S),u.resolve(e)},function(){h.sendOpenInAnalyticsData(S,{"event.error_type":"openin-ans-request-failed","event.error_desc":"ans service error"}),u.reject()})},getCCAcknowledgementThroughANS:function(t,n,a,i){var s=e.Deferred(),r=this;a<4?e.ajax({url:t+"&page_size=10",type:"GET",contentType:"application/json",headers:_()}).then(function(e){for(var l=e.notifications.notification,o=!1,c=0;c<l.length;c++){if(l[c]["notification-id"]===n&&"received"==l[c].state){o=!0,s.resolve(e),r.sendOpenInAnalyticsData(i);break}}o||setTimeout(function(){r.getCCAcknowledgementThroughANS(t,n,a+1,i)},1e3)},function(){s.reject()}):(o.show("openInNoAcknowledgement",{}),r.cancelOpenInANSMessage(t,n),r.sendOpenInAnalyticsData(i,{"event.error_type":"openin-no-ans-acknowledgement","event.error_desc":"timed out waiting for ans acknowledgement"}))},cancelOpenInANSMessage:function(t,n){var a=e.Deferred(),i={notifications:{notification:[{"notification-id":n,state:"CANCELED"}]}};e.ajax({url:t,type:"PUT",contentType:"application/json",data:JSON.stringify(i),headers:_()}).then(function(e){a.resolve(e)},function(){a.reject()})},sendOpenInAnalyticsData:function(t,a){var i=e.Deferred(),s=new Date,r=s.toISOString(),l=d.getSearchObject(),o={"event.dts_start":t.event_dts_start,"event.dts_end":r,"event.type":"openin","event.subtype":t.appAction.toLowerCase(),"event.category":"STOCK","event.subcategory":"openin-workflow","event.cloud_id":y||"","event.context_guid":t.contextGuid,"content.id":t.content_id,"content.status":t.license?"licensed":"free","ui.search_keyword":l.k,"consumer.name":t.appCode,"consumer.version":t.appVersion,"stock_openin.element_id":t.elementId};a&&(o=Object.assign(o,a)),e.ajax({url:n.base_url+"/Ajax/Ingest/LogEvent",type:"POST",data:{event:JSON.stringify(o)}}).then(function(e){i.resolve(e)},function(){i.reject()})},LIBRARY_DESKTOP_ID:"desktop"}}),define("lib/librariesV2",["jquery","lodash","page_config","lib/cookie","lib/member","lib/analytics/dunamis","lib/modal-window","lib/window","lib/libraryutil","models/AssetLibraryItem","app/constants/index","app/constants/mediaTypes"],function(e,t,n,a,i,s,r,l,o,c,u,d){"use strict";function p(){return window.__stock_portal_exports__.packages.coreClientCCLibraries}function h(){return{deviceId:"AdobeStock-"+a(R),device:navigator.userAgent,app:n.SUSI.CLIENT_ID}}function m(){return{"X-Request-Id":n.x_request_id+"-"+Date.now()}}function f(){return{"x-user-token":"Bearer "+v,"X-adobe-app-id":n.ans_app_id,"X-api-key":n.SUSI.CLIENT_ID}}function _(){var t=document.createElement("a");t.href=T;var a=t.protocol+"//"+t.host+"/libs/granite/csrf/token.json",i={Authorization:"Bearer "+v,"X-api-key":n.SUSI.CLIENT_ID};return e.ajax({url:a,type:"GET",headers:Object.assign(i,m())}).then(function(e){return e.token})}function g(t){var n=e.Deferred(),a=m();return t?_().then(function(e){a["CSRF-Token"]=e,n.resolve(a)}):n.resolve(a),n.promise()}function E(e){return e=e||{},g(y).then(function(t){var a={accessToken:v,baseUrl:n.libraries_service_url_v2,clientId:n.SUSI.CLIENT_ID,extraHeaders:t};return Object.assign({},a,e)})}var v=i.fetchAccessToken(),b=i.getPrivateCloudUrlForLibraries(),T=t.get(b,"libraryServiceURL",n.libraries_service_url),y=t.get(b,"isPrivateCloud",!1),C=t.get(b,"privateCloudId",""),S=t.get(b,"storageHost",n.libraries_storage_host),I={},O=n.libraries_use_stock_thumbnails,k=n.libraries_stock_base_url,A="application/vnd.adobe.library.link+dcx",R="isid";return{getLibrariesClient:p,refreshAccessToken:function(){v=i.fetchAccessToken()},getLibraries:function(t){var n=e.Deferred();if(!i.checkAccessToken(n,v))return n;var a=!1,s=!1,r={isLibrariesV2ApiEnabled:!0,parameters:t};t&&(a=t.page>0,s=t.owner===p().LIBRARIES_OWNER_PUBLIC,r.withRenditionGrid=t.withRenditionGrid);var l=p().getLibraries;return s?l=p().getPublicLibraries:a&&(l=p().getPaginatedLibraries),E(r).then(function(e){l(e).then(function(e){var t=e.libraries.sort(function(e,t){return e.name.localeCompare(t.name)});n.resolve(t)},function(){n.reject()})}).fail(function(){n.reject()}),n},getLibraryById:function(t){var n=e.Deferred();if(!i.checkAccessToken(n,v))return n;var a={isLibrariesV2ApiEnabled:!0,libId:t},s=I[t];return s&&"pending"===s.state()?s:(I[t]=n,E(a).then(function(e){p().getLibraryById(e).then(function(e){n.resolve(e)},function(e){e.response&&404==e.response.status?n.resolve(null):n.reject(e)})}).fail(function(){n.reject()}),n)},getLibraryByName:function(t){var n=e.Deferred();if(!i.checkAccessToken(n,v))return n;var a={isLibrariesV2ApiEnabled:!0,name:t},s=I[t];return s&&"pending"===s.state()?s:(I[t]=n,E(a).then(function(e){p().getLibrariesByName(e).then(function(e){var t;e&&e.libraries&&e.libraries.length&&(t=e.libraries.find(function(e){return!e.readOnly})),t?n.resolve(t):n.resolve(null)},function(e){e.response&&404==e.response.status?n.resolve(null):n.reject(e)})}).fail(function(){n.reject()}),n)},createLibrary:function(t){var n=e.Deferred();return i.checkAccessToken(n,v)?(E({libName:t,isLibrariesV2ApiEnabled:!0}).then(function(e){p().createLibrary(e).then(function(e){n.resolve(e)},function(){n.reject()})}).fail(function(){n.reject()}),n):n},deleteLibrary:function(t){var n=e.Deferred();return i.checkAccessToken(n,v)?(E({id:t}).then(function(e){p().deleteLibrary(e).then(function(){n.resolve(t)},function(){n.reject()})}).fail(function(){n.reject()}),n):n},renameLibrary:function(t,n){var a=e.Deferred();return i.checkAccessToken(a,v)?(E({libId:t,newLibName:n}).then(function(e){p().renameLibrary(e).then(function(e){a.resolve(e)},function(){a.reject()})}).fail(function(){a.reject()}),a):a},isStockElement:function(e){return e.representations&&Array.isArray(e.representations)&&e.representations.some(function(e){return null!=e["adobestock#trackingdata"]})},getLibraryElements:function(t,n){var a=e.Deferred(),s=this,r=n&&n.owner===p().LIBRARIES_OWNER_PUBLIC;if(!i.checkAccessToken(a,v))return a;var l={libraryId:t,isLibrariesV2ApiEnabled:!0,parameters:n,isPublicLibrary:r},u=r?p().getLibraryElements:p().getPaginatedLibraryElements;return E(l).then(function(e){u(e).then(function(e){var n=e.elements.filter(s.isStockElement).map(function(e){var n=o.transformMelvilleElement(e),a=s.generateRenditionByHeight(n,240);return new c(t,n,a.url,a.width,a.height)});a.resolve(n)},function(){a.reject()
})}).fail(function(){a.reject()}),a},getLibraryThumbnails:function(t){var a=e.Deferred(),i=[];if(t.renditionGrid){if(t.renditionGrid.main&&"href"===t.renditionGrid.main.type&&t.renditionGrid.main.rendition){var s=t.renditionGrid.main.rendition.replace(/size=\d+/g,"size=400");i.push(s+";version=0?accept=image/jpeg&api_key="+n.SUSI.CLIENT_ID+"&user_token="+v)}t.renditionGrid.tiles&&t.renditionGrid.tiles.length&&(i=i.concat(t.renditionGrid.tiles.filter(function(e){return"href"===e.type}).map(function(e){return e.rendition+";version=0?accept=image/jpeg&api_key="+n.SUSI.CLIENT_ID+"&user_token="+v})))}return a.resolve(i,t.id,t.totalCount),a},libraryContains:function(t,n){var a=e.Deferred();return i.checkAccessToken(a,v)&&t&&"desktop"!==t?(E({libraryId:t,assetId:n,isLibrariesV2ApiEnabled:!0}).then(function(e){p().libraryContainsAsset(e).then(function(e){e.total_items>0?a.resolve(e.elements[0]):a.resolve(null)},function(){a.reject()})}).fail(function(){a.reject()}),a):a},deleteLibraryElement:function(t,n){var a=e.Deferred();return i.checkAccessToken(a,v)?(E({libraryId:t,elementId:n}).then(function(e){p().deleteLibraryElement(e).then(function(){a.resolve(n)},function(){a.reject()})}).fail(function(){a.reject()}),a):a},createDataForReferences:function(t){var a,i,r,l,o,c=this,p=s.getDunamisContextGuid(),h=t.contentId,m=t.instanceId,f=t.state,_=t.license,g=t.name,E=t.mimeType,v=c.fixUrlForLibraries(t.compMeta.url),b=t.compMeta.width,T=t.compMeta.height,y=t.licenseMeta.url,C=t.licenseMeta.width,S=t.licenseMeta.height,I=t.thumbnailMeta.url,O=t.thumbnailMeta.width,k=t.thumbnailMeta.height,R=t.contentLength,x=t.framerate,P=t.duration,L=t.resolution,D=t.librariesMetadata3d;return-1!=E.indexOf("video")?(a=d.VIDEO_ELEMENT,b=C,T=S):E===d.ILLUSTRATOR_TEMPLATE||E===d.INDESIGN_TEMPLATE||E===d.PHOTOSHOP_TEMPLATE?a=d.TEMPLATE_ELEMENT:E===d.EUCLID_MODELS?(a=d.MODEL_3D_ELEMENT,i=!0):E===d.EUCLID_MATERIALS?(a=d.MATERIAL_3D_ELEMENT,i=!0):E===d.EUCLID_LIGHTS?(a=d.LIGHTS_3D_ELEMENT,i=!0):a=E===d.AFTEREFFECTS_TEMPLATE||E===d.PREMIER_TEMPLATE?d.MOGRT:d.IMAGE_ELEMENT,l={type:a},null!=g&&(l.name=g),null!=_?(y=c.fixUrlForLibraries(y),a===d.MOGRT?(o=n.api_gateway_url+u.routes.DOWNLOAD_API+h+"/1",l.representations=[{is_external_link:!0,relationship:"primary",width:C,height:S,type:A,linktype:E,linkurl:o,"adobestock#trackingdata":{content_id:String(h),stock_id:String(m),license:_,state:f,context_guid:p}},{relationship:"rendition",type:d.JPEG,storage_href:I,width:O,height:k},{relationship:"rendition",type:d.PNG,storage_href:o+"?"+e.param({format:"png"}),width:O,height:k},{relationship:"alternate",is_external_link:!0,type:A,linktype:d.MOGRT_JSON,linkurl:o+"?"+e.param({format:"json"}),"adobestock#trackingdata":{content_id:String(h),stock_id:String(m),license:_,state:f,context_guid:p}}]):a===d.TEMPLATE_ELEMENT||i?l.representations=[{is_external_link:!0,relationship:"primary",width:C,height:S,type:A,linktype:E,linkurl:y,"adobestock#trackingdata":{content_id:String(h),stock_id:String(m),license:_,state:f,context_guid:p}},{relationship:"rendition",type:"image/jpeg",storage_href:I,width:O,height:k}]:l.representations=[{is_external_link:!0,relationship:"primary",width:C,height:S,type:A,linktype:E,linkurl:y,"adobestock#trackingdata":{content_id:String(h),stock_id:String(m),license:_,state:f,context_guid:p}},{is_external_link:!0,relationship:"rendition",width:b,height:T,type:A,linktype:E,linkurl:v,"adobestock#trackingdata":{content_id:String(h),stock_id:String(m),state:"not_purchased",context_guid:p}},{relationship:"rendition",type:"image/jpeg",storage_href:I,width:O,height:k}]):l.representations=[{is_external_link:!0,relationship:"primary",width:b,height:T,type:A,linktype:E,linkurl:v,"adobestock#trackingdata":{content_id:String(h),stock_id:String(m),state:"not_purchased",context_guid:p}},{relationship:"rendition",type:"image/jpeg",storage_href:I,width:O,height:k}],-1!=E.indexOf("video")&&(null!=R&&(l.representations[0]["content-length"]=R),r={framerate:x,duration:P,resolution:L},l.representations[0]["video#data"]=r,_&&(l.representations[1]["video#data"]=r)),i&&D&&(l.representations[0]["3d#data"]=D),l},fixUrlForLibraries:function(t){if(-1!=t.indexOf(".loc")||-1!=t.indexOf("adobestock.dev.stage.adobe.com")){var n=e("<a>",{href:t})[0];n.hostname="primary.stock.stage.adobe.com",t=n.href}var a=t.split("/");return"Download"!==a[3]&&(a.splice(3,1),t=a.join("/")),t=t.replace("/Download/Watermarked/","/Rest/Libraries/Watermarked/Download/"),t=t.replace("/Download/DownloadFileDirectly/","/Rest/Libraries/Download/")},getCCAcknowledgementThroughANS:function(t,n,a,i){var s=e.Deferred(),l=this;a<4?e.ajax({url:t+"&page_size=10",type:"GET",contentType:"application/json",headers:f()}).then(function(e){for(var r=e.notifications.notification,o=!1,c=0;c<r.length;c++){if(r[c]["notification-id"]===n&&"received"==r[c].state){o=!0,s.resolve(e),l.sendOpenInAnalyticsData(i);break}}o||setTimeout(function(){l.getCCAcknowledgementThroughANS(t,n,a+1,i)},1e3)},function(){s.reject()}):(r.show("openInNoAcknowledgement",{}),l.cancelOpenInANSMessage(t,n),l.sendOpenInAnalyticsData(i,{"event.error_type":"openin-no-ans-acknowledgement","event.error_desc":"timed out waiting for ans acknowledgement"}))},cancelOpenInANSMessage:function(t,n){var a=e.Deferred(),i={notifications:{notification:[{"notification-id":n,state:"CANCELED"}]}};e.ajax({url:t,type:"PUT",contentType:"application/json",data:JSON.stringify(i),headers:f()}).then(function(e){a.resolve(e)},function(){a.reject()})},sendOpenInAnalyticsData:function(t,a){var i=e.Deferred(),s=new Date,r=s.toISOString(),o=l.getSearchObject(),c={"event.dts_start":t.event_dts_start,"event.dts_end":r,"event.type":"openin","event.subtype":t.appAction.toLowerCase(),"event.category":"STOCK","event.subcategory":"openin-workflow","event.cloud_id":C||"","event.context_guid":t.contextGuid,"content.id":t.content_id,"content.status":t.license?"licensed":"free","ui.search_keyword":o.k,"consumer.name":t.appCode,"consumer.version":t.appVersion,"stock_openin.element_id":t.elementId};a&&(c=Object.assign(c,a)),e.ajax({url:n.base_url+"/Ajax/Ingest/LogEvent",type:"POST",data:{event:JSON.stringify(c)}}).then(function(e){i.resolve(e)},function(){i.reject()})},createANSNotificationMessage:function(t,a,r,o,c,u){var p=e.Deferred(),h=this,m=l.getSearchObject(),_="";_=r&&-1!=r.indexOf("video")?d.VIDEO_ELEMENT:r===d.ILLUSTRATOR_TEMPLATE||r===d.INDESIGN_TEMPLATE||r===d.PHOTOSHOP_TEMPLATE?d.TEMPLATE_ELEMENT:d.IMAGE_ELEMENT;var g="",E="",v="";u&&"OpenInPs"===u?(E="PHXS",g="17.0"):u&&"OpenInId"===u?(E="IDSN",g="11.4.0"):u&&"OpenInAi"===u?(E="ILST",g="20.0.0"):u&&"OpenInPr"===u?(E="PPRO",g="10.3"):u&&"OpenInAe"===u&&(E="AEFT",g="13.8.0"),t&&a&&(v="cloud-asset://"+S+"/assets/adobe-libraries/"+t+";node="+a);var b=s.getDunamisContextGuid(),T=new Date,y={appCode:E,appVersion:g,contextGuid:b,elementId:a,content_id:o,event_dts_start:T.toISOString(),appAction:u,license:c},I={protocolVersion:"1",appCode:E,appVersion:g,elementType:_,elementRef:v,context_guid:b,search_keyword:m.k||""};C&&(I.cloudID=C);var O={notifications:{notification:[{"user-id":i.getGuid(),type:"com.adobe.designlibrary.v1","sub-type":"stock.open.request",priority:"20",state:"NEW",payload:JSON.stringify(I)}]}},k=n.ans_endpoint_url;e.ajax({url:k,type:"POST",contentType:"application/json",data:JSON.stringify(O),headers:f()}).then(function(e){var t=e.notifications.notification[0]["notification-id"];t&&h.getCCAcknowledgementThroughANS(k,t,0,y),p.resolve(e)},function(){h.sendOpenInAnalyticsData(y,{"event.error_type":"openin-ans-request-failed","event.error_desc":"ans service error"}),p.reject()})},generateRenditionByHeight:function(e,t){var a=this,i=a.useStockThumbnails(e),s=o.findStockRendition(e);if(null==i&&s){var r=t,l=o.findStockSize(e);if(i={width:320,height:240},null!=l){var c=l.height,u=l.width;u>c&&(r=u*t/c,r=r.toFixed()),i.width=Math.round(l.width/l.height*240)}i.url=s.href+"/:rendition;size="+r+";version=0?accept=image/jpeg&api_key="+n.SUSI.CLIENT_ID+"&user_token="+v}return i},useStockThumbnails:function(e){var t=null,n=o.findStockRepresentation(e),a=o.findStockRendition(e);if(O&&n&&void 0!==n["adobestock#trackingdata"].stock_id&&n["adobestock#trackingdata"].stock_id.length>=32){var i,s;t={},i=-1==n["adobestock#trackingdata"].stock_id.indexOf(",")?n["adobestock#trackingdata"].stock_id.substr(0,32):n["adobestock#trackingdata"].stock_id.substr(0,n["adobestock#trackingdata"].stock_id.indexOf(",")),s=n["adobestock#trackingdata"].content_id;var r=Math.floor(Number(s)/100);r=String("00000000"+r).slice(-8),r=r.substr(0,2)+"/"+r.substr(2,2)+"/"+r.substr(4,2)+"/"+r.substr(6,2),t.url=k+"/jpg/"+r+"/240_F_"+s+"_"+i+".jpg",t.width=a&&a.width||320,t.height=a&&a.height||240}return t},addLibraryElementUsingReferences:function(t,n,a,s){var r=e.Deferred(),l=this,o=s||"async";return i.checkAccessToken(r,v)?(n&&(o="sync"),E({libraryClient:h(),libraryId:t,invocationMode:o,assetId:a.contentId,asset:l.createDataForReferences(a)}).then(function(e){p().addLibraryElement(e).then(function(e){n&&l.createANSNotificationMessage(t,e.id,a.mimeType,a.contentId,a.license,n),r.resolve(e)},function(e){r.reject()})}).fail(function(){r.reject()}),r):r},updateLibraryElementUsingReferences:function(t,n){var a=e.Deferred(),r=this;return i.checkAccessToken(a,v)?(t&&"sync",E({libraryClient:h(),asset:n,contextGuid:s.getDunamisContextGuid()}).then(function(e){p().updateElementInAllLibraries(e).then(function(e){if(t){var i,s;e[0]&&e[0].parent_id&&(i=e[0].parent_id),e[0]&&e[0].id&&(s=e[0].id),i&&s&&r.createANSNotificationMessage(i,s,n.mimetype,n.contentId,n.license,t)}a.resolve({elements:e})},function(e){a.reject()})}).fail(function(){a.reject()}),a):a}}}),define("lib/hbsBasicHelpersFunctions",["page_config","Handlebars"],function(e,t){"use strict";function n(t,n){var a=e[t];return n.fn||n.inverse?a?n.fn(this):n.inverse(this):a}function a(n,a){var i=n,s=[];return["class","target","data-k","download"].forEach(function(e){a.hash[e]&&s.push(e+'="'+t.escapeExpression(a.hash[e])+'"')}),a.hash["gotourl-localize"]&&e.base_url.length&&-1!==n.toLowerCase().indexOf("adobe.com/go/")&&(i=("/"===n.slice(-1)?n.slice(0,-1):n)+e.base_url.replace("/","_")),s.push('href="'+t.escapeExpression(i)+'"'),new t.SafeString("<a "+s.join(" ")+">")}function i(){return"</a>"}function s(e,n){var s,r;return s=e,n.hash.text&&(s=n.hash.text),r="",s&&(r=a(e,n)+t.escapeExpression(s)+i()),r}function r(e,t){return t||(t=15),e&&e.length>t&&(e=e.substr(0,t-"...".length)+"..."),e}return{featureFlag:n,linkOpenTag:a,linkCloseTag:i,linkBuilder:s,truncate:r}}),define("lib/librariesStore",["jquery","lib/ajax","lib/libraries","lib/librariesV2","page_config","lib/uiEvents","lib/member","i18n-config","lib/localStorage","lib/error","lib/license","lib/utils","app/stock-portal","app/utils/observer","lib/hbsBasicHelpersFunctions","lib/cookie","app/constants/cookies"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_){"use strict";function g(e){return"library"+e}function E(e,t){var n=e.librariesToast.libraries,a=t.librariesToast.libraries;if(n&&a&&n.length!==a.length){var i=n.filter(function(e){return e.isNew})[0]||{},s=a.filter(function(e){return e.isNew})[0]||{};s.id&&i.id!==s.id&&b.addNewLibToCache(s)}}var v=e("#library-list-wrapper"),b={libraries:o.retrieveData(r.getMemberId(),"LibraryData",[]),librariesByName:{},getLibraries:function(t,u,d){function p(e){!t||!m.shouldCreateDefaultLibrary(e)||g&&1!==u.page?e.length>=1&&!r.getDefaultCloudId()&&!r.getDefaultLibraryId()&&!r.getDefaultOpenInAppCode()?(m.libraries=e,m.getLibraryByName(l.gettext("LIBRARY::MYLIBRARY::My Library"),e).then(function(t){t&&t.id&&m.saveDefaultLibrary(t,null,!1).then(function(){f.resolve(e),o.storeData(r.getMemberId(),"LibraryData",e),s.trigger(s.DEFAULT_LIBRARY_UPDATED,t.libraryUrn||t.id)})})):(g&&u.page>1||u.owner===a.getLibrariesClient().LIBRARIES_OWNER_PUBLIC?m.libraries=m.libraries.concat(e):m.libraries=e,f.resolve(e),o.storeData(r.getMemberId(),"LibraryData",m.libraries),s.trigger(s.LIBRARIES_UPDATED)):(m.setIsFirstLibraryCreating(),m.createLibrary(l.gettext("LIBRARY::MYLIBRARY::My Library")).then(function(e){m.libraries=e.libraries,r.getDefaultLibraryId()?(f.resolve(m.libraries),o.storeData(r.getMemberId(),"LibraryData",m.libraries),s.trigger(s.LIBRARIES_UPDATED)):m.saveDefaultLibrary(e.newestLibrary,null,!1).then(function(){f.resolve(m.libraries),o.storeData(r.getMemberId(),"LibraryData",m.libraries),s.trigger(s.DEFAULT_LIBRARY_UPDATED,e.newestLibrary.libraryUrn||e.newestLibrary.id)})}))}function h(){f.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARIES::Could not load libraries.")))}var m=this,f=e.Deferred(),_=b.getLibrariesApiVersion(),g=u&&u.page>0;return d&&(n.refreshAccessToken(),a.refreshAccessToken()),_.getLibraries(u).done(function(e){!i.isLibrariesV2ApiEnabled||!m.shouldCreateDefaultLibrary(e)||g&&1!==u.page?p(e):_.getLibraries(u).done(p).fail(h)}).fail(h),f.promise()},shouldCreateDefaultLibrary:function(e){var t=e.filter(function(e){return e.readOnly}),n=e.length>0&&t.length<e.length,a=f(_.FIRST_LIBRARY_CREATING);return n&&a&&f(_.FIRST_LIBRARY_CREATING,null,{path:"/"}),!n&&!a},getLibraryById:function(t,n){var a=e.Deferred();if("desktop"===t)return a.resolve(null);var i;if(n||(i=o.retrieveData(r.getMemberId(),g(t),null,!0)),i)a.resolve(i);else{b.getLibrariesApiVersion().getLibraryById(t).then(function(e){null!==e&&o.storeData(r.getMemberId(),g(t),e,!0),a.resolve(e)},function(){a.resolve(null)})}return a},getLibraryByName:function(t,a){var s=this,r=e.Deferred(),l={id:n.LIBRARY_DESKTOP_ID},o=s.librariesByName[t];if(o)return r.resolve(o);if(i.isLibrariesV2ApiEnabled){var c=function(e){s.librariesByName[t]=e,r.resolve(e)};b.getLibrariesApiVersion().getLibraryByName(t).then(function(e){e||(e=l),c(e)}).fail(function(){c(l)})}else{var u;if(!a)return r.resolve(l);for(u=0;u<a.length;u++)if(a[u].name===t)return r.resolve(a[u]);r.resolve(l)}return r},addNewLibToCache:function(e){this.libraries||(this.libraries=[]);var t=this.libraries.filter(function(t){return t.id===e.id});if(!(t&&t.length>0))return this.libraries.push(e),this.libraries.sort(function(e,t){return e.name.localeCompare(t.name)}),o.storeData(r.getMemberId(),"LibraryData",this.libraries),{libraries:this.libraries,newestLibrary:e}},createLibrary:function(t){var n=this,a=e.Deferred(),i=b.getLibrariesApiVersion();return t=t&&t.trim(),t&&t.length?i.createLibrary(t).done(function(e){var t=n.addNewLibToCache(e);a.resolve(t)}).fail(function(){a.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARIES::Failed to create library.")))}):(a.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARY::Your library's name can't be empty."))),c.displayErrorMsgModal()),a.promise()},deleteLibrary:function(t){var n=this,a=e.Deferred();return b.getLibrariesApiVersion().deleteLibrary(t).done(function(){o.removeData(r.getMemberId(),g(t),!0);for(var e=0;e<n.libraries.length;e++)n.libraries[e].id==t&&(n.libraries.splice(e,1),o.storeData(r.getMemberId(),"LibraryData",n.libraries));a.resolve()}).fail(function(){a.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARIES::Could not delete library.")))}),a},renameLibrary:function(t,n){var a=this,i=e.Deferred(),s=b.getLibrariesApiVersion();return n=n&&n.trim(),n&&n.length?s.renameLibrary(t,n).done(function(){for(var e=0;e<a.libraries.length;e++)a.libraries[e].id==t&&(a.libraries[e].name=n,o.storeData(r.getMemberId(),"LibraryData",a.libraries));a.getLibraryById(t).then(function(e){null!==e&&(e.name=n,o.storeData(r.getMemberId(),g(t),e,!0)),i.resolve(e)})}).fail(function(){i.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARIES::Could not rename library.")))}):(i.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARY::Your library's name can't be empty."))),c.displayErrorMsgModal()),i},getLibraryElements:function(t,n){var a=e.Deferred();return b.getLibrariesApiVersion().getLibraryElements(t,n).done(function(e){a.resolve(e)}).fail(function(){a.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARIES::Could not retrieve library items.")))}),a},getLibraryThumbnails:function(e){return b.getLibrariesApiVersion().getLibraryThumbnails(i.isLibrariesV2ApiEnabled?e:e.id)},libraryContains:function(t,n){var a=e.Deferred();return b.getLibrariesApiVersion().libraryContains(t,n).done(function(e){a.resolve(e)}).fail(function(e){a.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARIES::Could not retrieve library items.")))}),a},deleteLibraryElement:function(t,n){var a=e.Deferred();return b.getLibrariesApiVersion().deleteLibraryElement(t,n).done(function(e){a.resolve(e)}).fail(function(){a.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARIES::Could not delete library item.")))}),a},analyticsLibraryElement:function(t,a){var i=e.Deferred();return n.analyticsLibraryElement(t,a).done(function(){i.resolve()}).fail(function(){i.resolve()}),i},buildElementData:function(e,t){var n=this.updateAssetHelper(e),a=e.comp_file_path,i=e.content_thumb_url.substring(e.content_thumb_url.lastIndexOf("_")+1,e.content_thumb_url.lastIndexOf("."))+","+r.getMemberId();return t&&(a=e.comp_file_path+"/"+t),{compMeta:{height:e.content_height,url:a,width:e.content_width},contentId:e.content_id,contentLength:e.content_length,contentType:e.content_type,contentTypeId:e.content_type_id,downloadUrl:e.licensed_file_path,duration:e.duration,framerate:e.framerate,instanceId:i,librariesMetadata3d:e.libraries_metadata,license:e.license,licenseMeta:{height:e.content_original_height,url:e.licensed_file_path,width:e.content_original_width},mimeType:n.mimetype,name:e.title,resolution:e.resolution,state:e.state,thumbnailMeta:{height:e.thumbnail_height,url:e.thumbnail_url,width:e.thumbnail_width}}},addLibraryElement:function(t,n,a,s,r){var o=this,u=e.Deferred(),d=b.getLibrariesApiVersion();o.setHDDimensions(n);var p=function(){o.getCCLibrariesData(n).then(function(e){var n=o.buildElementData(e,s);d.addLibraryElementUsingReferences(t,a,n,r).done(function(e){u.resolve(e)}).fail(function(){u.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARIES::Could not add to library.")))})})};return i.isLibrariesV2ApiEnabled?p():this.libraryContains(t,n.content_id).done(function(e){null!=e?u.resolve(e):p()}).fail(function(){u.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARIES::Could not add to library.")))}),u.promise()},hasCCLibrariesData:function(e){return!!(e&&e.state&&e.downloaded&&e.license&&e.licensed_file_path)},getCCLibrariesData:function(n){var a,i,s,r=e.Deferred();return a=n&&n.content_id,s=u.getLicenseIdIfLicensed(n),i=d.computeDownloadUrl(a,s),a&&!this.hasCCLibrariesData(n)&&u.isAlreadyLicensed(a,n,s)?(t.post(i).then(function(e){n.state=e.purchased_state,n.downloaded=!0,n.license=e.license_name,n.licensed_file_path=e.download_url,r.resolve(n)}).fail(function(){r.resolve(n)}),r.promise()):(r.resolve(n),r.promise())},updateElementInAllLibraries:function(t,n,a){var i=this,s=e.Deferred(),r=b.getLibrariesApiVersion();return i.getCCLibrariesData(t).then(function(e){var t=i.buildElementData(e,a);return i.setHDDimensions(e),r.updateLibraryElementUsingReferences(n,t).done(function(e){s.resolve(e)}).fail(function(){s.reject(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARIES::Could not add to library.")))}),s}),s.promise()},updateAssetHelper:function(e){var t=new Object;return-1!=e.format.indexOf("jpeg")?t.mimetype="image/jpeg":"ai"===e.format?t.mimetype="application/illustrator":"ait"===e.format?t.mimetype="application/illustrator.template":e.content_type?t.mimetype=e.content_type:e.representations&&e.representations[0].type?t.mimetype=e.representations[0].type:t.mimetype=null,e.downloaded?(t.downloadURL=e.licensed_file_path,t.width=e.content_original_width,t.height=e.content_original_height):(t.downloadURL=e.comp_file_path,t.width=e.content_width,t.height=e.content_height,e.license=null),t},saveDefaultLibrary:function(t,a,l,o){var c,u={},d=t;return t&&"object"==typeof t&&(d=i.isLibrariesV2ApiEnabled&&t.libraryUrn?t.libraryUrn:t.id),r.isLoggedIn()?d&&d!==n.LIBRARY_DESKTOP_ID?(d&&(u.default_library_id=d),o&&(u.default_openin_appcode=o),r.isCCEPrivateUser()&&(a||l)?u.default_cloud_id=a:r.isCCEPrivateUser()&&!l||(u.default_cloud_id=""),e.ajax({url:i.base_url+"/Ajax/Library/SaveDefaultLibrary",method:"POST",data:u}).then(function(){c=d||o,s.trigger(s.DEFAULT_LIBRARY_UPDATED,c,o)})):e.Deferred().resolve("Invalid library ID").promise():e.Deferred().resolve("No member to save default library to").promise()},setHDDimensions:function(e){var t=u.getLicenseId(e.content_id);e.is_video&&"HD"===e.resolution&&e.possible_data_video&&Object.keys(e.possible_data_video).length>1&&e.possible_data_video.hasOwnProperty(t)&&e.possible_data_video[t].video_height&&e.possible_data_video[t].video_width&&(e.content_original_width=e.possible_data_video[t].video_width,e.content_original_height=e.possible_data_video[t].video_height)},setIsFirstLibraryCreating:function(){var e=new Date;e.setTime(e.getTime()+3e5),f(_.FIRST_LIBRARY_CREATING,!0,{path:"/",expires:e})},getLibraryIdForOpenIn:function(t){var n=this,a=e.Deferred(),i=function(e){for(var t="",i=!1,s=d.getOpenInLibraryName(e,{templateString:l.gettext("LIBRARY::TEMPLATES::Stock Templates"),defaultString:l.gettext("LIBRARY::DOWNLOADS::Downloads")}),r=0;r<n.libraries.length;r++)if(n.libraries[r].name==s){t=n.libraries[r].id,i=!0,a.resolve(t);break}i||n.createLibrary(s).done(function(e){t=e.newestLibrary.id,a.resolve(t)})};return!n.libraries||n.shouldCreateDefaultLibrary(n.libraries)?n.getLibraries(!0).then(function(){i(t)}):i(t),a},LIBRARY_DESKTOP_ID:n.LIBRARY_DESKTOP_ID,openAssetInSelectedApp:function(t,n){return n?b.getLibraryIdForOpenIn(t.content_id).then(function(e){b.addLibraryElement(e,t,n)}):e.Deferred().reject()},isLibraryNameValid:function(e){return(e=e&&e.trim())&&e.length},renameLibraryPageSuccessHandler:function(t,n){if(t.hide(),t.siblings("h1").show().find("a").text(n),!i.isLibrariesV2ApiEnabled){var a=v.children();a.sort(function(t,n){var a=e(t).find("h1.library-name-header").find("a").text(),i=e(n).find("h1.library-name-header").find("a").text();return a.localeCompare(i)}),a.detach().appendTo(v)}},renameLibraryTitleSuccessHandler:function(t,n){e("#titleRenameContainer").html(e("<p/>").text(m.truncate(n,80)))},renameLibraryPageErrorHandler:function(e){c.displayErrorMsgModal(e,l.gettext("GENERIC::Something Went Wrong"),l.gettext("GENERIC::There was an error processing your request."))},renameLibraryHandler:function(e,t,n){var a=e.serializeArray().reduce(function(e,t){return e[t.name]=t.value,e},{});if(!this.isLibraryNameValid(a.name))return void c.displayErrorMsgModal(c.errorMsg(l.gettext("GENERIC::Something Went Wrong"),l.gettext("LIBRARY::Your library's name can't be empty.")));b.renameLibrary(a.libraryUrn||a.id,a.name).done(function(n){t(e,n.name)}).fail(function(e){n(e)})},deleteLibraryHandler:function(e,t,n,a){b.deleteLibrary(t).done(function(){n(e)}).fail(function(t){a(e,t)})},getLibrariesApiVersion:function(){return i.isLibrariesV2ApiEnabled?a:n}};return h.listenForPortalStateChange(E),b}),define("hbs!templates/licenseBadge",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Standard:i,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Universal:i,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Premium:i,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.program(14,a,0),data:a}))?i:"")+"\n"},2:function(e,t,n,a){var i;return'        <span class="badge badge_credits">\n            <span class="quota">\n                '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Standard:i,{name:"number",hash:{},data:a}))+"\n            </span>\n            "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Standard Credit","HEADER::MEMBER::Standard Credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Standard:i,{name:"ngettext",hash:{},data:a}))+"\n        </span>\n"},4:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.organization:i)?i.hasAgencyCreditsStandard:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:""},5:function(e,t,n,a){return'            <span class="badge badge_credits"><span class="quota">0</span> '+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Standard Credit","HEADER::MEMBER::Standard Credits",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},7:function(e,t,n,a){var i;return'        <span class="badge badge_credits">\n            <span class="quota">\n                '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Universal:i,{name:"number",hash:{},data:a}))+"\n            </span>\n            "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Universal Credit","HEADER::MEMBER::Universal Credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Universal:i,{name:"ngettext",hash:{},data:a}))+"\n        </span>\n"},9:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.organization:i)?i.hasAgencyCreditsUniversal:i,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},10:function(e,t,n,a){return'            <span class="badge badge_credits"><span class="quota">0</span> '+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Universal Credit","HEADER::MEMBER::Universal Credits",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},12:function(e,t,n,a){var i;return'        <span class="badge badge_credits">\n            <span class="quota">\n                '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Premium:i,{name:"number",hash:{},data:a}))+"\n            </span>\n            "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Premium Credit","HEADER::MEMBER::Premium Credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Premium:i,{name:"ngettext",hash:{},data:a}))+"\n        </span>\n"},14:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.organization:i)?i.hasAgencyCreditsPremium:i,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:""},15:function(e,t,n,a){return'            <span class="badge badge_credits"><span class="quota">0</span> '+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Premium Credit","HEADER::MEMBER::Premium Credits",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},17:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.hasCreditModel:i,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.program(29,a,0),data:a}))?i:"")+"\n"},18:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Images:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.program(21,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Generic:i,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.program(26,a,0),data:a}))?i:"")},19:function(e,t,n,a){var i;return'            <span class="badge badge_credits"><span class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Images:i,{name:"number",hash:{},data:a}))+"</span> "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Images:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},21:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.organization:i)?i.hasCreditsCore:i,{name:"if",hash:{},fn:this.program(22,a,0),inverse:this.noop,data:a}))?i:""},22:function(e,t,n,a){return'                <span class="badge badge_credits"><span class="quota">0</span> '+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},24:function(e,t,n,a){var i;return'            <span class="badge badge_credits"><span class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Generic:i,{name:"number",hash:{},data:a}))+"</span> "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Generic:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},26:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.organization:i)?i.hasCreditsGeneric:i,{name:"if",hash:{},fn:this.program(27,a,0),inverse:this.noop,data:a}))?i:""},27:function(e,t,n,a){return'                <span class="badge badge_credits"><span class="quota">0</span> '+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},29:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Video_HD:i,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Standard:i,{name:"if",hash:{},fn:this.program(35,a,0),inverse:this.program(37,a,0),data:a}))?i:"")},30:function(e,t,n,a){var i
;return'            <span class="badge"><span class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Video_HD:i,{name:"number",hash:{},data:a}))+"</span>&nbsp;"+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Video","HEADER::MEMBER::Videos",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Video_HD:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},32:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.is_cce:i,{name:"if",hash:{},fn:this.program(33,a,0),inverse:this.noop,data:a}))?i:""},33:function(e,t,n,a){return'                <span class="badge"><span class="quota">0</span>&nbsp;'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Video","HEADER::MEMBER::Videos",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},35:function(e,t,n,a){var i;return'            <span class="badge"><span class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Standard:i,{name:"number",hash:{},data:a}))+"</span> "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},37:function(e,t,n,a){return'            <span class="badge"><span class="quota">0</span>&nbsp;'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.hasAgencyModel:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(17,a,0),data:a}))?i:""},useData:!0})}),define("hbs!templates/components/coachMark",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <div class="container-absolute container-none js-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+" onboarding-step-"+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'" style="width: 0;" data-t="coach-mark-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n        <div class="coach-mark-indicator container-relative coach-mark-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n            <div class="coach-mark-indicator__ring container-block container-absolute circle border-solid border-2 '+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'"></div>\n            <div class="coach-mark-indicator__ring container-block container-absolute circle border-solid border-2 '+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'"></div>\n            <div class="coach-mark-indicator__ring container-block container-absolute circle border-solid border-2 '+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'"></div>\n        </div>\n\n        <div class="coach-mark-widget theme white silver-sand-border container-relative coach-mark-widget-med-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+" border-1 border-radius-4 border-solid coach-widget-step-"+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:3},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'\n            <div class="coach-mark-widget__header margin-bottom-medium padding-left-xlarge padding-right-xlarge padding-top-xlarge">\n                <div class="grey heavy-metal-text text-regular no-margin font-bold" data-t="coach-mark-title-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:1},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:2},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:3},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+'\n                </div>\n                <div class="grey dove-text text-sregular">\n                    '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::%s of %s",{name:"_",hash:{},data:a}),null!=e?e.step:e,null!=e?e.totalSteps:e,{name:"sprintf",hash:{},data:a}))+'\n                </div>\n            </div>\n            <div class="grey gravel-text margin-bottom-medium padding-left-xlarge padding-right-xlarge coach-widget-text" data-t="coach-mark-text-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:1},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:2},fn:this.program(30,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:3},fn:this.program(32,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(34,a,0),inverse:this.noop,data:a}))?i:"")+'            </div>\n            <div class="right-align padding-bottom-xlarge padding-left-xlarge padding-right-xlarge">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(36,a,0),inverse:this.program(38,a,0),data:a}))?i:"")+"            </div>\n        </div>\n    </div>\n"},2:function(e,t,n,a){return"blue picton-border"},4:function(e,t,n,a){return"white-border"},6:function(e,t,n,a){return'                <img src="'+this.escapeExpression((t.staticCdnPics||e&&e.staticCdnPics||t.helperMissing).call(e,"onboarding/tutorial-libraries.jpg",{name:"staticCdnPics",hash:{},data:a}))+'" alt="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Libraries Tutorial",{name:"_",hash:{},data:a}))+'" width="100%" />\n'},8:function(e,t,n,a){return'                <img src="'+this.escapeExpression((t.staticCdnPics||e&&e.staticCdnPics||t.helperMissing).call(e,"onboarding/tutorial-visual-search.gif",{name:"staticCdnPics",hash:{},data:a}))+'" alt="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Visual Search Tutorial",{name:"_",hash:{},data:a}))+'" width="100%" />\n'},10:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,value:null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,logic:"and"},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(t.not||e&&e.not||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"not",hash:{},data:a}),value:null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,logic:"and"},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,value:(t.not||e&&e.not||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,{name:"not",hash:{},data:a}),logic:"and"},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")},11:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Your credits and licenses at a glance",{name:"_",hash:{},data:a}))+"\n"},13:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Your credits at a glance",{name:"_",hash:{},data:a}))+"\n"},15:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Your licenses at a glance",{name:"_",hash:{},data:a}))+"\n"},17:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Access your license history",{name:"_",hash:{},data:a}))+"\n"},19:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Your lightboxes are now libraries",{name:"_",hash:{},data:a}))+"\n"},21:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Ready for your first search?",{name:"_",hash:{},data:a}))+"\n"},23:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,value:null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,logic:"and"},fn:this.program(24,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(t.not||e&&e.not||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"not",hash:{},data:a}),value:null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,logic:"and"},fn:this.program(26,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,value:(t.not||e&&e.not||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,{name:"not",hash:{},data:a}),logic:"and"},fn:this.program(28,a,0),inverse:this.noop,data:a}))?i:"")},24:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Remember, Adobe Stock credits are worth more than on Fotolia, and for every 1 Fotolia download you had, you now have 2 Adobe Stock licenses.",{name:"_",hash:{},data:a}))+"\n"},26:function(e,t,n,a){var i;return"                        "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MEMBER::ONBOARDING::You now have %s credit. Remember, Adobe Stock credits are worth more than on Fotolia.","MEMBER::ONBOARDING::You now have %s credits. Remember, Adobe Stock credits are worth more than on Fotolia.",null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"sprintf",hash:{},data:a}))+"\n"},28:function(e,t,n,a){var i;return"                        "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MEMBER::ONBOARDING::You now have %s license. Remember, for every 1 Fotolia download you had, you now have 2 Adobe Stock licenses.","MEMBER::ONBOARDING::You now have %s licenses. Remember, for every 1 Fotolia download you had, you now have 2 Adobe Stock licenses.",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"sprintf",hash:{},data:a}))+"\n"},30:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::You'll find your transferred licence history under your profile.",{name:"_",hash:{},data:a}))+"\n"},32:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Libraries are a powerful tool that you can use across all Adobe products. Use libraries to save and organize assets.",{name:"_",hash:{},data:a}))+"\n"},34:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::In addition to classic keywords search, visual search enables you to drop an image into the search bar to instantly find similar results.",{name:"_",hash:{},data:a}))+"\n"},36:function(e,t,n,a){return'                    <button class="button button--primary button--silent js-coach-mark-finish-button" data-t="finish-onboarding-button-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n                        <span class="padding-right-small padding-left-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Got it",{name:"_",hash:{},data:a}))+"</span>\n                    </button>\n"},38:function(e,t,n,a){return'                    <button class="button button--flat margin-right-medium js-coach-mark-finish-button" data-t="finish-onboarding-button-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n                        <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Skip Tour",{name:"_",hash:{},data:a}))+'</span>\n                    </button>\n                    <button class="button button--primary button--silent js-coach-mark-next-button" data-t="next-onboarding-button-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n                        <span class="padding-right-small padding-left-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Next",{name:"_",hash:{},data:a}))+"</span>\n                    </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.page_config:e)?i.member:i)?i.can_launch_onboarding:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("hbs!templates/components/licensebadgeCounter",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.display_counters:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return'        <li class="nav__item">\n'+(null!=(i=t.with.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.quotas_labels_by_license_type_id:i,{name:"with",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.member:e)?i.default_entitlement:i,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+"        </li>\n"},3:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"unlimited_images",logic:"notEq",value:null!=e?e.label_type:e},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:""},4:function(e,t,n,a){return'                    <span class="hide-on-med-and-down">\n                        <span class="nav__text grey silver-sand-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Available:",{name:"_",hash:{},data:a}))+"</span>\n                    </span>\n"},6:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/licenseBadge-v1"],e,{name:"components/licenseBadge-v1",data:a,indent:"                ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.member:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/licenseBadge-v1",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/enterpriseLicenseBadgeTemplate"],e,{name:"components/enterpriseLicenseBadgeTemplate",data:a,indent:"    ",helpers:t,partials:n}))?i:""},3:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.program(8,a,0),data:a}))?i:"")+"\n"+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.is_cce:i,{name:"if-or",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=(i=null!=e?e.member:e)?i.has_cct_pro:i,null!=(i=null!=e?e.member:e)?i.hasStockBundle:i,{name:"if-or",hash:{},fn:this.program(14,a,0),inverse:this.program(16,a,0),data:a}))?i:"")},4:function(e,t,n,a){var i;return'        <span class="badge nav__badge blue bleu-de-france">\n            <span data-t="credit-pack-quota" class="quota">\n                '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"number",hash:{},data:a}))+'\n            </span>\n            <span data-t="credit-pack-quota-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"ngettext",hash:{},data:a}))+"</span>\n        </span>\n"},6:function(e,t,n,a){var i;return'        <span class="badge nav__badge blue bleu-de-france">\n            <span data-t="quota-videos-hd" class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Video_HD:i,{name:"number",hash:{},data:a}))+'</span>\n            <span data-t="quota-videos-hd-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Video","HEADER::MEMBER::Videos",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,{name:"ngettext",hash:{},data:a}))+"</span>\n        </span>\n"},8:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.is_cce:i,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:""},9:function(e,t,n,a){return'            <span class="badge nav__badge blue bleu-de-france">\n                <span data-t="quota-videos-cce" class="quota">0</span>\n                <span data-t="quota-videos-cce-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Video","HEADER::MEMBER::Videos",0,{name:"ngettext",hash:{},data:a}))+"</span>\n            </span>\n"},11:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.breakItems:e,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:""},12:function(e,t,n,a){return'            <div class="padding-xsmall"></div>\n'},14:function(e,t,n,a){return'        <span class="badge nav__badge blue bleu-de-france">\n            <span data-t="quota-cct-pro-unlimited-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Unlimited images",{name:"_",hash:{},data:a}))+"</span>\n        </span>\n"},16:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.program(22,a,0),data:a}))?i:""},17:function(e,t,n,a){var i;return'            <span class="badge nav__badge blue bleu-de-france">\n                <span data-t="quota-images-standard" class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"number",hash:{},data:a}))+"</span>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.page_config:e)?i.isAudioWebSearchEnabled:i,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.program(20,a,0),data:a}))?i:"")+"            </span>\n"},18:function(e,t,n,a){var i;return'                    <span data-t="quota-assets-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Asset","HEADER::MEMBER::Assets",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},20:function(e,t,n,a){var i;return'                    <span data-t="quota-images-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},22:function(e,t,n,a){var i;return null!=(i=t.unless.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,{name:"unless",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:""},23:function(e,t,n,a){var i;return'                <span class="badge nav__badge blue bleu-de-france">\n                    <span data-t="quota-images-0" class="quota">0</span>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.page_config:e)?i.isAudioWebSearchEnabled:i,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.program(26,a,0),data:a}))?i:"")+"                </span>\n"},24:function(e,t,n,a){return'                        <span data-t="quota-assets-0-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Asset","HEADER::MEMBER::Assets",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},26:function(e,t,n,a){return'                        <span data-t="quota-images-0-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.quotas_labels_by_license_type_id:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/signinLink",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'    <li class="nav__item">\n        <a class="nav__link js-susi-login js-signin-nav" href="#" data-t="navbar-sign-in-button" data-ingest-clicktype="sign-in">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::Sign in",{name:"_",hash:{},data:a}))+"</a>\n    </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.unless.call(e,null!=e?e.member:e,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("hbs!templates/components/avatar",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <ul class="nav nav--inline nav-silver-sand-text nav--animation nav--secondary">\n        <li class="avatar avatar--secondary nav__item" id="user-settings">\n            <a href="#" class="nav__link js-profile-expand" id="profile-expand-link" data-t="navbar-profile-dropdown-button">\n                <span class="avatar-img border-radius-4 v-align-middle" '+(null!=(i=t.if.call(e,null!=e?e.avatar:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+' data-t="navbar-profile-icon">&nbsp;</span>\n                <span class="container-inline-block padding-left-xsmall v-align-top">\n                    <span class="nav__avatar">\n                        <span class="avatar-username truncate" data-t="navbar-profile-username-text">\n'+(null!=(i=t.if.call(e,null!=e?e.profile_name:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+'                        </span>\n                    </span>\n                </span>\n                <i data-t="navbar-profile-dropdown-caret-icon" class="icon-down nav__avatar"></i>\n            </a>\n            <div class="header-dropdown-menu header-dropdown-menu--primary" data-t="navbar-profile-dropdown-menu">\n                <div class="black border-bottom-left-radius-4 border-bottom-right-radius-4">\n'+(null!=(i=this.invokePartial(n["components/avatarDropdownProfile"],e,{name:"components/avatarDropdownProfile",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+(null!=(i=this.invokePartial(n["components/avatarDropdownProfiles"],e,{name:"components/avatarDropdownProfiles",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+'                    <div id="avatar-dropdown-license">\n'+(null!=(i=this.invokePartial(n["components/avatarDropdownLicense"],e,{name:"components/avatarDropdownLicense",data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+"                    </div>\n"+(null!=(i=this.invokePartial(n["components/avatarDropdownSignout"],e,{name:"components/avatarDropdownSignout",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+'                </div>\n            </div>\n            <div class="container-absolute">\n                <div class="tooltip tooltip--secondary tooltip--bottom tooltip--avatar" id="avatar-tooltip" data-is-hidden="true">\n                    <div class="container-table">\n                        <div class="container-table-cell">\n                            <i class="mti-icon icon-infofull blue bleu-de-france-text"></i>\n                        </div>\n                        <div class="container-table-cell">\n                            <div class="padding-left-small text-sregular normal-whitespace">\n                                '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"AVATAR::You are now logged in as %sPersonal%s",{name:"_",hash:{},data:a}),"<strong>","</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+"\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </li>\n    </ul>\n"},2:function(e,t,n,a){var i;return'style="background-image: url('+this.escapeExpression((i=null!=(i=t.avatar||(null!=e?e.avatar:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"avatar",hash:{},data:a}):i))+')" data-has-avatar="true"'},4:function(e,t,n,a){var i;return"                                "+this.escapeExpression((i=null!=(i=t.profile_name||(null!=e?e.profile_name:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"profile_name",hash:{},data:a}):i))+"\n"},6:function(e,t,n,a){var i;return"                                "+this.escapeExpression((i=null!=(i=t.username||(null!=e?e.username:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"username",hash:{},data:a}):i))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.member:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},usePartial:!0,useData:!0})}),define("hbs!templates/components/avatarDropdownLicense",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.member:e)?i.default_entitlement:i,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return'                <h4 class="grey silver-sand-text text-small text-up light" data-t="avatar-member-available-label">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Available:",{name:"_",hash:{},data:a}))+'\n                </h4>\n                <div class="padding-bottom-small"></div>\n                <div id="avatar-licenses-counter" data-t="avatar-licenses-counter">\n'+(null!=(i=this.invokePartial(n["components/licenseBadge-v1"],e,{name:"components/licenseBadge-v1",hash:{breakItems:!0},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["components/coachMark"],e,{name:"components/coachMark",hash:{totalSteps:4,step:1},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n"},4:function(e,t,n,a){return" padding-top-small"},6:function(e,t,n,a){return'            <div class="padding-bottom-small">\n                <span class="nav nav-silver-sand-text nav-bleu-de-france-hover">\n                    <a\n                            href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{route:"Member/BillingOptions"},data:a}))+'"\n                            class="js-billing-options-nav nav__link no-padding"\n                            data-t="avatar-member-billing-options-link"\n                    >\n                        <span class="text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Billing Options",{name:"_",hash:{},data:a
}))+"</span>\n                    </a>\n                </span>\n            </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="border-bottom-1 heavy-metal-border border-solid" data-t="avatar-available-licenses-section">\n    <div class="padding-left-large padding-top-small">\n'+(null!=(i=t.if.call(e,null!=e?e.display_counters:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'        <div class="padding-bottom-small'+(null!=(i=t.if.call(e,null!=e?e.display_counters:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+'">\n            <span class="nav nav-silver-sand-text nav-bleu-de-france-hover">\n                <a\n                    href="'+this.escapeExpression((s=null!=(s=t.license_history_url||(null!=e?e.license_history_url:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"license_history_url",hash:{},data:a}):s))+'"\n                    class="js-license-history-nav nav__link no-padding"\n                    data-ingest-clicktype="license-history"\n                    data-t="avatar-member-license-history-link"\n                >\n                    <span class="text-sregular" data-t="avatar-member-license-history-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::License History",{name:"_",hash:{},data:a}))+"</span>\n                </a>\n            </span>\n"+(null!=(i=this.invokePartial(n["components/coachMark"],e,{name:"components/coachMark",hash:{totalSteps:4,step:2},data:a,indent:"            ",helpers:t,partials:n}))?i:"")+"        </div>\n"+(null!=(i=t.if.call(e,null!=e?e.member_has_billing_options_access:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/components/avatarDropdownProfile",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return this.escapeExpression((i=null!=(i=t.avatar||(null!=e?e.avatar:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"avatar",hash:{},data:a}):i))},3:function(e,t,n,a){var i;return"                        "+this.escapeExpression((i=null!=(i=t.profile_name||(null!=e?e.profile_name:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"profile_name",hash:{},data:a}):i))+"\n"},5:function(e,t,n,a){var i;return"                        "+this.escapeExpression((i=null!=(i=t.username||(null!=e?e.username:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"username",hash:{},data:a}):i))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="border-bottom-1 heavy-metal-border border-solid">\n    <div class="padding-top-medium padding-left-large padding-right-large padding-bottom-large">\n        <div class="container-table">\n            <div class="container-table-cell v-align-top">\n                <div class="padding-right-medium padding-top-xsmall">\n                    <img class="js-avatar-img avatar-img avatar-img--large border-radius-4" data-t="avatar-image" src="'+(null!=(i=t.if.call(e,null!=e?e.avatar:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'"/>\n                </div>\n            </div>\n            <div class="container-table-cell normal-whitespace break-all-words">\n                <p class="grey silver-sand-text text-medium no-margin font-bold" data-t="avatar-profile-name-label">\n'+(null!=(i=t.if.call(e,null!=e?e.profile_name:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+'                </p>\n                <div class="padding-top-xsmall">\n                    <span class="grey dove-text text-sregular" data-t="avatar-profile-email-label">'+this.escapeExpression((s=null!=(s=t.email||(null!=e?e.email:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"email",hash:{},data:a}):s))+'</span>\n                </div>\n                <div class="padding-bottom-small"></div>\n                    <span class="js-manage-my-adobe-id">\n                        <a data-t="avatar-manage-account-link" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.page_config:e)?i.accounts_url:i,e))+'" class="js-my-adobe-id-section" data-ingest-clicktype="manage-account">\n                            <span class="grey silver-sand-text decoration-underline" data-t="avatar-manage-account-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Manage account",{name:"_",hash:{},data:a}))+"</span>\n                        </a>\n                    </span>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/components/avatarDropdownProfiles",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r;return null!=(r=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.org_entitlements:e,null!=e?e.personal_entitlement:e,null!=e?e.team_entitlements:e,null!=e?e.account_cluster:e,{name:"if-or",hash:{},fn:this.program(2,a,0,i,s),inverse:this.noop,data:a}))?r:""},2:function(e,t,n,a,i,s){var r;return'            <li class="padding-top-small padding-left-large">\n                <span data-t="avatar-profiles-label" class="grey silver-sand-text text-small light text-up">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Profiles",{name:"_",hash:{},data:a}))+'</span>\n                <ul class="list-team js-list-team" data-t="avatar-profiles-team-list-section">\n'+(null!=(r=t.if.call(e,null!=e?e.org_entitlements:e,{name:"if",hash:{},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"\n"+(null!=(r=t.if.call(e,null!=e?e.personal_entitlement:e,{name:"if",hash:{},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a}))?r:"")+(null!=(r=t.if.call(e,null!=e?e.team_entitlements:e,{name:"if",hash:{},fn:this.program(11,a,0,i,s),inverse:this.noop,data:a}))?r:"")+(null!=(r=t.if.call(e,null!=e?e.account_cluster:e,{name:"if",hash:{},fn:this.program(15,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                </ul>\n            </li>\n"},3:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.org_entitlements:e,{name:"each",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:""},4:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/profileDropdown/orgEntitlement"],e,{name:"components/profileDropdown/orgEntitlement",hash:{"data-t_prefix":"avatar-enterprise",profile_index:(t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a})},data:a,indent:"                            ",helpers:t,partials:n}))?i:""},6:function(e,t,n,a,i,s){var r;return'                        <li data-t="avatar-personal-entitlement-section">\n                            <a class="js-switch-team '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[2]?s[2].member:s[2])?r.default_entitlement_id:r,logic:"eq",value:null!=(r=null!=e?e.personal_entitlement:e)?r.id:r},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{route:"Member/SwitchPersonal"},data:a}))+'" data-t="avatar-personal-entitlement-switch-team-link">\n                                <i data-t="personal-icon" class="icon-user"></i>\n                                <span data-t="avatar-personal-entitlement-switch-team-label">'+this.escapeExpression((t.truncate||e&&e.truncate||t.helperMissing).call(e,null!=(r=null!=e?e.personal_entitlement:e)?r.label:r,{name:"truncate",hash:{max_char:34},data:a}))+"</span>\n"+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[2]?s[2].member:s[2])?r.default_entitlement_id:r,logic:"eq",value:null!=(r=null!=e?e.personal_entitlement:e)?r.id:r},fn:this.program(9,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                            </a>\n                        </li>\n"},7:function(e,t,n,a){return"active"},9:function(e,t,n,a){return'                                    <i class="icon-checkmark-plain"></i>\n'},11:function(e,t,n,a,i,s){var r;return null!=(r=t.each.call(e,null!=e?e.team_entitlements:e,{name:"each",hash:{},fn:this.program(12,a,0,i,s),inverse:this.noop,data:a}))?r:""},12:function(e,t,n,a,i,s){var r;return'                            <li data-t="avatar-profiles-team-entitlements-section">\n                                <a class="js-switch-team '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[2]?s[2].member:s[2])?r.default_entitlement_id:r,logic:"eq",value:null!=e?e.id:e},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{guid:null!=e?e.guid:e,route:"Member/SwitchTeam"},data:a}))+'" data-t="avatar-team-entitlements-switch-team-link-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n                                    <i data-t="team-icon-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'" class="icon-team"></i>\n                                    <span data-t="avatar-team-entitlements-switch-team-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.truncate||e&&e.truncate||t.helperMissing).call(e,null!=e?e.label:e,{name:"truncate",hash:{max_char:34},data:a}))+"</span>\n"+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[2]?s[2].member:s[2])?r.default_entitlement_id:r,logic:"eq",value:null!=e?e.id:e},fn:this.program(13,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                                </a>\n                            </li>\n"},13:function(e,t,n,a){return'                                        <i class="icon-checkmark-plain"></i>\n'},15:function(e,t,n,a,i,s){var r;return null!=(r=t.each.call(e,null!=e?e.account_cluster:e,{name:"each",hash:{},fn:this.program(16,a,0,i,s),inverse:this.noop,data:a}))?r:""},16:function(e,t,n,a,i,s){var r;return'                            <li data-t="avatar-profiles-account-cluster-section">\n'+(null!=(r=t.if.call(e,null!=e?e.org_entitlements:e,{name:"if",hash:{},fn:this.program(17,a,0,i,s),inverse:this.program(20,a,0,i,s),data:a}))?r:"")+"                            </li>\n"},17:function(e,t,n,a,i,s){var r;return null!=(r=t.each.call(e,null!=e?e.org_entitlements:e,{name:"each",hash:{},fn:this.program(18,a,0,i,s),inverse:this.noop,data:a}))?r:""},18:function(e,t,n,a,i,s){var r;return null!=(r=this.invokePartial(n["components/profileDropdown/orgEntitlement"],e,{name:"components/profileDropdown/orgEntitlement",hash:{switch_team_query:null!=s[1]?s[1].switch_team_query:s[1],"data-t_prefix":"avatar-account-cluster-enterprise",profile_index:(t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?r:""},20:function(e,t,n,a,i,s){var r;return'                                    <a class="js-switch-team '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[2]?s[2].member:s[2])?r.guid:r,logic:"eq",value:null!=e?e.guid:e},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{guid:null!=e?e.guid:e,route:"Member/SwitchAccount"},data:a}))+'" data-t="avatar-account-cluster-switch-team-link-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n'+(null!=(r=t.if.call(e,null!=e?e.is_entitlement_only:e,{name:"if",hash:{},fn:this.program(21,a,0,i,s),inverse:this.program(23,a,0,i,s),data:a}))?r:"")+'                                        <span data-t="avatar-account-cluster-switch-team-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.truncate||e&&e.truncate||t.helperMissing).call(e,null!=e?e.label:e,{name:"truncate",hash:{max_char:34},data:a}))+"</span>\n"+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[2]?s[2].member:s[2])?r.guid:r,logic:"eq",value:null!=e?e.guid:e},fn:this.program(25,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                                    </a>\n"},21:function(e,t,n,a){return'                                            <i data-t="account-cluster-team-icon-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'" class="icon-team"></i>\n'},23:function(e,t,n,a){return'                                            <i data-t="account-cluster-personal-icon" class="icon-user"></i>\n'},25:function(e,t,n,a){return'                                            <i class="icon-checkmark-plain"></i>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<ul class="border-bottom-1 heavy-metal-border border-solid">\n'+(null!=(r=t.if.call(e,null!=e?e.member:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"</ul>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("hbs!templates/components/avatarDropdownSignout",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="padding-left-medium padding-top-large padding-bottom-large">\n    <div class="nav nav-silver-sand-text nav-bleu-de-france-hover" data-t="susi-logout-button">\n        <a\n                href="#"\n                class="js-susi-logout js-susi-logout nav__link no-padding"\n                id="sign-out-link"\n                data-ingest-clicktype="sign-out"\n                data-t="susi-logout-link"\n        >\n            <i data-t="susi-logout-icon" class="mti-icon icon-logout-thin mti-large"></i>\n            <span data-t="susi-logout-label" class="text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Sign Out",{name:"_",hash:{},data:a}))+"</span>\n        </a>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/components/enterpriseIcon",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<svg version="1.1" id="iOS_enterpise_16_lt-fi"\n     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="16" height="16"\n     viewBox="0 0 16 16"\n     data-t="enterprise-icon"\n     enable-background="new 0 0 16 16" xml:space="preserve">\n        <path fill="currentColor" d="M12.6875,2h-9.375C3.1399,2,3,2.1492,3,2.3333V15h3v-3h4v3h3V2.3333C13,2.1492,12.8601,2,12.6875,2z M6,11H4\n    V9h2V11z M6,8H4V6h2V8z M6,5H4V3h2V5z M9,11H7V9h2V11z M9,8H7V6h2V8z M9,5H7V3h2V5z M12,11h-2V9h2V11z M12,8h-2V6h2V8z M12,5h-2V3h2\n    V5z" data-t="enterprise-icon-path"></path>\n</svg>\n'},useData:!0})}),define("hbs!templates/components/profileDropdown/orgEntitlement",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r;return(null!=(r=this.invokePartial(n["components/enterpriseIcon"],e,{name:"components/enterpriseIcon",data:a,indent:"        ",helpers:t,partials:n}))?r:"")+'        <span class="truncate list-team-organization" data-t="'+this.escapeExpression(this.lambda(null!=e?e["data-t_prefix"]:e,e))+'-stock-entitlement-org-label" title='+this.escapeExpression(this.lambda(null!=e?e.organization_name:e,e))+">"+this.escapeExpression(this.lambda(null!=e?e.organization_name:e,e))+'</span>\n        <ul class="js-org-list padding-left-large">\n'+(null!=(r=t.each.call(e,null!=e?e.stock_entitlements:e,{name:"each",hash:{},fn:this.program(2,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"        </ul>\n"},2:function(e,t,n,a,i,s){var r;return'                <li>\n                    <a class="js-switch-team '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=(r=a&&a.root)&&r.member)&&r.default_entitlement_id,logic:"eq",value:null!=e?e.getEntitlementId:e},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{query:(t.json||e&&e.json||t.helperMissing).call(e,null!=s[1]?s[1].switch_team_query:s[1],{name:"json",hash:{},data:a}),guid:null!=e?e.guid:e,route:"Member/SwitchTeam"},data:a}))+'" data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+"-stock-entitlement-org-switch-team-link-group-"+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+"-"+this.escapeExpression(this.lambda(null!=e?e.guid:e,e))+'">\n                        <span data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+"-stock-entitlement-org-switch-team-label-group-"+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+"-"+this.escapeExpression(this.lambda(null!=e?e.guid:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+"</span>\n                    </a>\n                </li>\n"},3:function(e,t,n,a){return"active"},5:function(e,t,n,a,i,s){var r;return null!=(r=t.if.call(e,null!=e?e.bundle_entitlement:e,{name:"if",hash:{},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a}))?r:""},6:function(e,t,n,a,i,s){var r;return(null!=(r=t.with.call(e,null!=e?e.bundle_entitlement:e,{name:"with",hash:{},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"    "},7:function(e,t,n,a,i,s){var r;return'            <a class="js-switch-team'+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=(r=a&&a.root)&&r.member)&&r.default_entitlement_id,logic:"eq",value:null!=e?e.getEntitlementId:e},fn:this.program(8,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'"\n                href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{query:(t.json||e&&e.json||t.helperMissing).call(e,null!=s[1]?s[1].switch_team_query:s[1],{name:"json",hash:{},data:a}),guid:null!=e?e.guid:e,route:"Member/SwitchTeam"},data:a}))+'"\n                data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+"-bundle-entitlement-org-switch-team-link-"+this.escapeExpression(this.lambda(null!=e?e.guid:e,e))+'">\n'+(null!=(r=this.invokePartial(n["components/enterpriseIcon"],e,{name:"components/enterpriseIcon",data:a,indent:"                ",helpers:t,partials:n}))?r:"")+'                <span data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+'-bundle-entitlement-org-switch-team-label">'+this.escapeExpression(this.lambda(null!=s[1]?s[1].organization_name:s[1],e))+"</span>\n            </a>\n"},8:function(e,t,n,a){return" active"},10:function(e,t,n,a,i,s){var r;return null!=(r=t.with.call(e,null!=e?e.credit_card_purchase_entitlement:e,{name:"with",hash:{},fn:this.program(11,a,0,i,s),inverse:this.noop,data:a}))?r:""},11:function(e,t,n,a,i,s){var r;return'            <a class="js-switch-team'+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=(r=a&&a.root)&&r.member)&&r.default_entitlement_id,logic:"eq",value:null!=e?e.getEntitlementId:e},fn:this.program(8,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'"\n                href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{query:(t.json||e&&e.json||t.helperMissing).call(e,null!=s[1]?s[1].switch_team_query:s[1],{name:"json",hash:{},data:a}),guid:null!=e?e.guid:e,route:"Member/SwitchTeam"},data:a}))+'"\n                data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+"-credit-card-entitlement-org-switch-team-link-"+this.escapeExpression(this.lambda(null!=e?e.guid:e,e))+'">\n'+(null!=(r=this.invokePartial(n["components/enterpriseIcon"],e,{name:"components/enterpriseIcon",data:a,indent:"                ",helpers:t,partials:n}))?r:"")+'                <span data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+'-credit-card-entitlement-org-switch-team-label">'+this.escapeExpression(this.lambda(null!=s[1]?s[1].organization_name:s[1],e))+"</span>\n            </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<li data-t="'+this.escapeExpression(this.lambda(null!=e?e["data-t_prefix"]:e,e))+"-org-entitlements-section-"+this.escapeExpression(this.lambda(null!=e?e.profile_index:e,e))+'">\n'+(null!=(r=t.if.call(e,null!=e?e.stock_entitlements:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.program(5,a,0,i,s),data:a}))?r:"")+(null!=(r=t.if.call(e,null!=e?e.credit_card_purchase_entitlement:e,{name:"if",hash:{},fn:this.program(10,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"</li>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("hbs!templates/components/enterpriseLicenseBadgeTemplate",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <span class="badge nav__badge blue bleu-de-france" data-t="quota-by-license-badge-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n        <span data-t="quota-by-license-value-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'" class="quota">\n            '+this.escapeExpression(this.lambda(null!=e?e.quota:e,e))+"\n        </span>\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"unlimited_images",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"credits",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"images",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"premium_credits",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+"    </span>\n"},2:function(e,t,n,a){return'            <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Unlimited images",{name:"_",hash:{},data:a}))+"</span>\n"},4:function(e,t,n,a){return'            <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},6:function(e,t,n,a){return'            <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},8:function(e,t,n,a){return'            <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Premium Credit","HEADER::MEMBER::Premium Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.quotas_labels_by_license_type_id:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("lib/polyfill",[],function(){"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t})}),define("lib/globalnav",["jquery","lib/ajax","lib/error","lib/uiEvents","lib/member","lib/librariesStore","lib/window","app/utils/observer","app/utils/routes","app/utils/url","hbs!templates/licenseBadge","hbs!templates/components/coachMark","hbs!templates/components/licensebadgeCounter","hbs!templates/components/licenseBadge-v1","i18n-config","page_config","lib/susi","hbs!templates/components/signinLink","hbs!templates/components/avatar","hbs!templates/components/avatarDropdownLicense","hbs!templates/components/avatarDropdownProfile","hbs!templates/components/avatarDropdownProfiles","hbs!templates/components/avatarDropdownSignout","lodash","hbs!templates/components/enterpriseIcon","hbs!templates/components/profileDropdown/orgEntitlement","hbs!templates/components/enterpriseLicenseBadgeTemplate","lib/polyfill"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C,S,I,O){"use strict";function k(){n.displayErrorModal(m.gettext("GENERIC::Something Went Wrong"),m.gettext("ACCOUNT_CLUSTER::ERROR::An error occurred when displaying your team profiles. Please refresh the page to try again, or you can continue to use Adobe Stock with your current profile."))}function A(){e("body").on("click",function(){e(".avatar").removeClass("avatar-active")}),e("#profile-expand-link").on("click",function(t){t.preventDefault(),t.stopPropagation(),e("#user-settings").toggleClass("avatar-active"),e("#js-mobile-menu-nav").addClass("hidden")}),e(".js-switch-team").on("click",function(){var t=e("#details-wrapper"),n=e(this),a=decodeURIComponent(r.getPath()),i=n.attr("href");t.is(":visible")&&(a+=e.isEmptyObject(r.getSearchObject())?"?":"&",a+="return_id="+t.find(".js-details").data("content_id")),n.attr("href",i+c.buildQueryString({referrer_uri:a},i))}),i.shouldDisplayTeamEntitlementErrorModal()&&k()}function R(){var n,a=e(".avatar-img"),s=e(".js-avatar-img"),r=i.getResolvedImsProfile();a.length&&!a.data("has-avatar")&&r&&e.ajax({url:f.behance_service_url+"/v2/users/"+r.userId,data:{api_key:f.SUSI.CLIENT_ID}}).then(function(e){n=e.user.images[138],a.css("background-image","url("+n+")").data("has-avatar","true"),s.attr("src",n),t.post(f.base_url+"/Ajax/Member/SaveAvatar",{avatar:n})})}return a.on(a.ENTITLEMENT_UPDATED,function(){var t,n,a=i.getDefaultEntitlement();t={quotas_labels_by_license_type_id:i.getQuotaDataByLicenseTypeId(a),member:{default_entitlement:a,has_cct_pro:i.hasCCTPro(),hasStockBundle:i.hasStockBundle()},display_counters:i.shouldDisplayLicenseCounter(a),page_config:{isAudioWebSearchEnabled:f.isAudioWebSearchEnabled}},n={partials:{"components/licenseBadge-v1":h,"components/coachMark":d,"components/enterpriseLicenseBadgeTemplate":O}},a.hasCreditModel=a.has_credit_model,a.hasAgencyModel=a.has_agency_model,void 0!==a.organization&&(a.hasAgencyModel?(a.organization.hasAgencyCreditsStandard=a.organization.has_credits_agency_standard,a.organization.hasAgencyCreditsPremium=a.organization.has_credits_agency_premium,a.organization.hasAgencyCreditsUniversal=a.organization.has_credits_agency_universal):(a.organization.hasCreditsCore=a.organization.has_credits_core,a.organization.hasCreditsGeneric=a.organization.has_credits_generic)),e("#memberLicensesCounter").html(p(t,n));var s=C.get(t,"member.default_entitlement.is_admin");t.license_history_url=o.getLicenseHistoryURL(s),t.breakItems=!0,e("#avatar-dropdown-license").html(v(t,n)),i.shouldDisplayTeamEntitlementErrorModal()&&k()}),l.observe(function(e){return e.member},function(t){if(t.imsProfile&&t.stockProfile){var n=e("#sign-in-link"),a=e("#member-avatar"),s=t.stockProfile.default_entitlement||{},t=e.extend(t,{guid:t.imsProfile.userId,hasTeams:t.stockProfile.has_teams,default_entitlement:s,default_entitlement_id:s.id}),r={avatar:t.avatar,username:t.username,profile_name:t.stockProfile.profile_name,member:t,org_entitlements:t.stockProfile.org_entitlements,team_entitlements:t.stockProfile.team_entitlements,personal_entitlement:t.stockProfile.personal_entitlement,account_cluster:t.stockProfile.account_cluster,quotas_labels_by_license_type_id:i.getQuotaDataByLicenseTypeId(s),display_counters:i.shouldDisplayLicenseCounter(s),page_config:{accounts_url:f.accounts_url,isAudioWebSearchEnabled:f.isAudioWebSearchEnabled}},l={partials:{"components/coachMark":d,"components/licenseBadge-v1":h,"components/avatarDropdownLicense":v,"components/avatarDropdownProfile":b,"components/avatarDropdownProfiles":T,"components/avatarDropdownSignout":y,"components/enterpriseIcon":S,"components/profileDropdown/orgEntitlement":I,"components/enterpriseLicenseBadgeTemplate":O}};n.html(g(r)),a.html(E(r,l)),A(),R()}}),_.ready.then(function(){e(".avatar-username").html(i.getProfileName())}),A(),e("#js-mobile-menu-button").on("click",function(t){t.preventDefault(),t.stopPropagation(),e("#js-mobile-menu-nav").toggleClass("hidden"),e("#user-settings").removeClass("avatar-active")}),e("#header-cloud-selector").find("a").on("click",function(t){t.preventDefault(),t.stopPropagation();var n=e(this),a=n.find(".spinner");n.hasClass("selected")||(a.show(),s.saveDefaultLibrary("",n.data("cloud-id"),!0).then(function(){location.pathname.startsWith(f.base_url+"/Library/")?window.location.href=f.base_url+"/Libraries":location.reload(!0)}).fail(function(){a.hide()}))}),{initGlobalNav:R}}),define("lib/checkout",["jquery","lib/member","lib/susi","page_config","app/constants/analytics","lib/analytics"],function(e,t,n,a,i,s){"use strict";function r(){c=!0,require(["anyware"])}var l,o=a.ANYWARE.anyware_tracking_enabled,c=!1;return{_container:null,_initialized:null,setup:function(e){l=e},init:function(n){var i=n||a.ANYWARE;if(!i)throw new Error("Anyware Config Options are not set");if(this._initialized||(this._initialized=new e.Deferred),!e.fn.anyware_checkout)return c||r(),setTimeout(this.init.bind(this,i),100),this._initialized;this._container=e("<div>"),this._container.anyware_checkout({clientId:i.CLIENT_ID,countryCode:t.getCountryCode(),universalMode:!0,landscape:i.LANDSCAPE});var s=this;return this._container.on("configured",function(){setTimeout(s._initialized.resolve,2500)}),this._initialized},destroy:function(){this._container&&(this._container.remove(),this._container=null),this._initialized=null},purchase:function(r){var c=this,u=(r.productKey,e.Deferred()),d=e(".js-fmf-params"),p={is_fotolia_migration:!!r.isFotoliaMigration,fotolia_segment:r.fotoliaMigrationSegment,fotolia_ab_testing_segment:r.fotoliaMigrationAbTestingSegment,finding_method:s.determineFindingMethod(),selection_method:i.SELECTION_DIRECT};return l?(d.length>0&&(p.is_fmf_enabled=d.data("fmf-enabled")),l.start(r.productKey,{contentId:r.imageId,extrasOptions:p})):(this._initialized||this.init(),e.when(n.ready,this._initialized).done(function(){if(!r.forcePurchaseValidation&&t.isLoggedIn()){var n=window.location.protocol+"//"+window.location.host+a.base_url,i=window.encodeURIComponent(r.fulfillmentMethod),s=window.encodeURIComponent(r.productKey),l=n+"/Orderconfirmation?order_number={{orderNumber}}&fulfillment_method="+i+"&product_key="+s,d=n+"/Error/Checkout";o&&(l+="&nb={{isNewBuyer}}&products={{productList}}&currency={{currency}}&payment={{payment}}");var p={};r.imageId&&(p.image_id=r.imageId),r.libraryId&&(p.library_id=r.libraryId),r.action&&(p.action=r.action),r.licenseId&&(p.license_id=r.licenseId);var h=e.param(p);""!==h&&(h="&"+h),l+=h;var m="GB"===t.getCountryCode()?"EN":"MULT";window.setTimeout(function(){window.location=d},1e3*a.ANYWARE.TIMEOUT);var f={imsContextId:a.ANYWARE.DEFAULT_IMS_CONTEXT_ID,confirmPageUrl:l,cancelPageUrl:d,countryCode:t.getCountryCode(),
marketSegment:r.marketSegment,items:[{productKey:r.productKey,quantity:1,languageCode:m,serviceCommitment:r.serviceCommitment,fulfillmentMethod:r.fulfillmentMethod}]};c._container.anyware_checkout("startUniversalCheckout",f)}else{var _={product_key:r.productKey,country_code:t.getCountryCode(),service_commitment:r.serviceCommitment,fulfillment_method:r.fulfillmentMethod};r.imageId&&(_.image_id=r.imageId),r.libraryId&&(_.library_id=r.libraryId),r.action&&(_.action=r.action),r.licenseId&&(_.license_id=r.licenseId);var g=a.base_url+"/Purchase/Validate";g+="?"+e.param(_),window.location=g}u.resolve()}),u.promise())}}}),define("lib/hamburgerMenu",["jquery"],function(e){"use strict";function t(){n.on("click",function(){a.attr("opened","")}),i.on("click",function(){a.removeAttr("opened")})}var n=e("#hamburger-button"),a=e("#hamburger-menu"),i=e("#hamburger-overlay");return{init:t,button:n,menu:a,overlay:i}}),define("hbs!templates/components/librariesDropdownLoggedIn",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                    <li class="nav__item">\n                        <a href="'+this.escapeExpression((t.baseUrl||e&&e.baseUrl||t.helperMissing).call(e,"Library",{name:"baseUrl",hash:{},data:a}))+"/"+this.escapeExpression((i=null!=(i=t.id||(null!=e?e.id:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"id",hash:{},data:a}):i))+'" title="'+this.escapeExpression((i=null!=(i=t.name||(null!=e?e.name:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"name",hash:{},data:a}):i))+'" class="nav__link truncate" data-t="libraries-logged-in-dropdown-custom-button-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'-text">'+this.escapeExpression((i=null!=(i=t.name||(null!=e?e.name:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"name",hash:{},data:a}):i))+"</a>\n                    </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-xsmall-width" data-t="libraries-logged-in-dropdown-section">\n    <div class="padding-top-small padding-bottom-small">\n        <div class="tabs menu__tabs">\n            <ul class="nav nav-gravel-text nav-black-hover container-small-height-max overflow-y-scroll">\n                <li class="nav__item">\n                    <a href="'+this.escapeExpression((t.baseUrl||e&&e.baseUrl||t.helperMissing).call(e,"Libraries",{name:"baseUrl",hash:{},data:a}))+'" class="nav__link" data-t="libraries-logged-in-dropdown-view-all-button-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TOOLBAR::View all",{name:"_",hash:{},data:a}))+"</a>\n                </li>\n"+(null!=(i=t.each.call(e,null!=e?e.libraries:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"            </ul>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/components/librariesDropdownLoggedOut",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-small-width" data-t="libraries-logged-out-dropdown-section">\n    <div class="padding-xlarge">\n        <div class="padding-small">\n            <div class="normal-whitespace">\n                <div class="padding-bottom-medium">\n                    <p class="no-margin">\n                        <span class="grey gravel-text text-medium" data-t="libraries-logged-out-dropdown-title">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TOOLBAR::Use your Adobe ID to sign into Stock and view your libraries.",{name:"_",hash:{},data:a}))+'</span>\n                    </p>\n                </div>\n                <button class="js-susi-login button button--action">\n                    <i class="mti-icon icon-adobe"></i>\n                    <span class="v-align-middle" data-t="libraries-logged-out-dropdown-sign-in-button-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TOOLBAR::Sign in",{name:"_",hash:{},data:a}))+'</span>\n                </button>\n                <button class="js-susi-signup button button--flat" data-t="libraries-logged-out-dropdown-get-free-adobe-id-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TOOLBAR::Get free Adobe ID",{name:"_",hash:{},data:a}))+'</button>\n\n                <hr class="grey bon-jour-border" />\n\n                <h4><strong data-t="libraries-logged-out-dropdown-faq-title">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TOOLBAR::What's a Library?",{name:"_",hash:{},data:a}))+'</strong></h4>\n                <div class="grey gravel-text">\n                    <p data-t="libraries-logged-out-dropdown-faq-paragraph1-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TOOLBAR::Libraries help you save and organize assets for your creative projects.",{name:"_",hash:{},data:a}))+'</p>\n                    <p data-t="libraries-logged-out-dropdown-faq-paragraph2-text">'+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"SEARCH::TOOLBAR::When you save items on Adobe Stock to a Library, you can access them directly in the %sLibraries panel%s of many of your desktop and mobile Creative Cloud applications.",{name:"_",hash:{},data:a}),"<strong>","</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+'</p>\n                    <p class="no-margin" data-t="libraries-logged-out-dropdown-faq-paragraph3-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TOOLBAR::You can even buy high-res version of watermarked files within your comps.",{name:"_",hash:{},data:a}))+"</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/ccePlanChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r;return null!=(r=t.each.call(e,null!=e?e.possible_licenses:e,{name:"each",hash:{},fn:this.program(2,a,1,i,s),inverse:this.noop,data:a,blockParams:i}))?r:""},2:function(e,t,n,a,i,s){var r;return null!=(r=t.with.call(e,t.lookup.call(e,null!=s[1]?s[1].license_details:s[1],i[0][0],{name:"lookup",hash:{},data:a,blockParams:i}),{name:"with",hash:{},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:""},3:function(e,t,n,a,i,s){var r,l;return'            <div class="padding-top-medium" data-t="modal-multiple-choices-plan-'+this.escapeExpression(this.lambda(i[1][0],e))+'">\n                <label class="switch switch--card" '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=a&&a.root)&&r.default_license_id,logic:"eq",value:i[1][0]},fn:this.program(4,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:"")+'>\n                    <div class="row">\n                        <div class="column on-medium-8 on-large-8 on-small-8">\n                            <input\n                                class="js-cce-multiple-choices-plan"\n                                type="radio" name="options"\n                                title="'+this.escapeExpression((l=null!=(l=t.user_facing_detail_panel_license_tab_label||(null!=e?e.user_facing_detail_panel_license_tab_label:e))?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"user_facing_detail_panel_license_tab_label",hash:{},data:a,blockParams:i}):l))+'"\n                                value="'+this.escapeExpression(this.lambda(i[1][0],e))+'"\n'+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=a&&a.root)&&r.default_license_id,logic:"eq",value:i[1][0]},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:"")+"                            />\n                            <span>\n                                <strong>"+this.escapeExpression((l=null!=(l=t.user_facing_detail_panel_license_tab_label||(null!=e?e.user_facing_detail_panel_license_tab_label:e))?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"user_facing_detail_panel_license_tab_label",hash:{},data:a,blockParams:i}):l))+"</strong>\n                                <span>"+this.escapeExpression(this.lambda(null!=(r=null!=e?e.asset_details:e)?r.resolution:r,e))+'</span>\n                            </span>\n                            <div class="switch__content">\n'+(null!=(r=t.if.call(e,null!=e?e.license_price:e,{name:"if",hash:{},fn:this.program(8,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:"")+'                            </div>\n                        </div>\n                        <div class="column on-medium-4 on-large-4 on-small-4">\n                            <div class="margin-left-small">\n                                <img alt="'+this.escapeExpression(this.lambda(null!=s[2]?s[2].title:s[2],e))+'" src="'+this.escapeExpression(this.lambda(null!=s[2]?s[2].thumbnail_url:s[2],e))+'" class="responsive-img"/>\n                            </div>\n                        </div>\n                    </div>\n                </label>\n            </div>\n'},4:function(e,t,n,a){return'data-active="true"'},6:function(e,t,n,a){return'                                    checked="true"\n'},8:function(e,t,n,a){var i,s;return'                                    <p class="blue bleu-de-france-text text-medium font-semibold">\n                                        '+this.escapeExpression((s=null!=(s=t.license_price||(null!=e?e.license_price:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"license_price",hash:{},data:a}):s))+"\n                                    </p>\n"+(null!=(i=t.if.call(e,null!=e?e.facing_price:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")},9:function(e,t,n,a){var i;return"                                        <p>\n                                            "+this.escapeExpression((i=null!=(i=t.facing_price||(null!=e?e.facing_price:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"facing_price",hash:{},data:a}):i))+"\n                                        </p>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return null!=(r=t.with.call(e,null!=e?e.content:e,{name:"with",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:""},useData:!0,useDepths:!0,useBlockParams:!0})}),define("hbs!templates/modalWindow/planChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <div class="content-type-block">\n        <div class="content">\n            <span>'+this.escapeExpression((s=null!=(s=t.width||(null!=e?e.width:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"width",hash:{},data:a}):s))+"</span>&nbsp;x&nbsp;<span>"+this.escapeExpression((s=null!=(s=t.height||(null!=e?e.height:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"height",hash:{},data:a}):s))+"&nbsp;</span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::px",{name:"_",hash:{},data:a}))+"\n        </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.has_quota:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'\n        <button class="rounded-button rounded-blue button-tall buy-button js-modal-window-multiple-choice-button\n'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.saved_comp,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.program(16,a,0),data:a}))?i:"")+'        " data-type-id="'+this.escapeExpression((s=null!=(s=t.license_id||(null!=e?e.license_id:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"license_id",hash:{},data:a}):s))+'">'+this.escapeExpression((s=null!=(s=t.button_label||(null!=e?e.button_label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"button_label",hash:{},data:a}):s))+"</button>\n    </div>\n"},2:function(e,t,n,a){return'            <div class="content bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PURCHASE::LICENSE::Free",{name:"_",hash:{},data:a}))+"</div>\n"},4:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.locale_price:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:""},5:function(e,t,n,a){var i,s;return'                <div class="content bold">\n                    '+this.escapeExpression((s=null!=(s=t.locale_price||(null!=e?e.locale_price:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"locale_price",hash:{},data:a}):s))+"\n                </div>\n"+(null!=(i=t.if.call(e,null!=e?e.facing_price:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")},6:function(e,t,n,a){var i;return'                    <div class="content">\n                        ('+this.escapeExpression((i=null!=(i=t.facing_price||(null!=e?e.facing_price:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"facing_price",hash:{},data:a}):i))+")\n                    </div>\n"},8:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"4K",logic:"eq",value:(i=a&&a.root)&&i.saved_comp},fn:this.program(9,a,0),inverse:this.program(12,a,0),data:a}))?i:""},9:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"4",logic:"eq",value:null!=e?e.license_id:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},10:function(e,t,n,a){return"                        selected\n"},12:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"HD",logic:"eq",value:(i=a&&a.root)&&i.saved_comp},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:""},13:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"3",logic:"eq",value:null!=e?e.license_id:e},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:""},14:function(e,t,n,a){return"                            selected\n"},16:function(e,t,n,a){var i;return null!=(i=(t["in-array"]||e&&e["in-array"]||t.helperMissing).call(e,{name:"in-array",hash:{array:(i=a&&a.root)&&i.licenseIds,value:null!=e?e.license_id:e},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:""},17:function(e,t,n,a){return"                    selected\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.content:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("hbs!templates/modalWindow/saveChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <div class="content-type-block">\n        <div class="content">\n            <span>'+this.escapeExpression((s=null!=(s=t.width||(null!=e?e.width:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"width",hash:{},data:a}):s))+"</span>&nbsp;x&nbsp;<span>"+this.escapeExpression((s=null!=(s=t.height||(null!=e?e.height:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"height",hash:{},data:a}):s))+"&nbsp;</span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::px",{name:"_",hash:{},data:a}))+'\n        </div>\n        <div class="content bold"></div>\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"3",logic:"eq",value:null!=e?e.license_id:e},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+"    </div>\n"},2:function(e,t,n,a){var i;return'            <button class="rounded-button rounded-blue button-tall buy-button js-modal-window-multiple-choice-button" data-type-id="'+this.escapeExpression((i=null!=(i=t.license_id||(null!=e?e.license_id:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"license_id",hash:{},data:a}):i))+'">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMP::VIDEO::MODAL::Save HD",{name:"_",hash:{},data:a}))+"</button>\n"},4:function(e,t,n,a){var i;return'            <button class="rounded-button rounded-blue button-tall buy-button js-modal-window-multiple-choice-button selected" data-type-id="'+this.escapeExpression((i=null!=(i=t.license_id||(null!=e?e.license_id:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"license_id",hash:{},data:a}):i))+'">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMP::VIDEO::MODAL::Save 4K",{name:"_",hash:{},data:a}))+"</button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.each.call(e,e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("lib/librariesWidget",["jquery","i18n-config","page_config","lib/modal-window","lib/checkout","lib/analytics","lib/ajax","lib/utils","lib/member","lib/license","hbs!templates/modalWindow/ccePlanChoice","hbs!templates/modalWindow/planChoice","hbs!templates/modalWindow/saveChoice","i18n","lib/librariesStore"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m){"use strict";return{computeLibrariesData:function(e){return m.getLibraryById(e).then(function(e){var t={};return t.defaultLib=e||{id:"desktop",name:l.getSaveToDeviceI18nText()},t.libraryForBuying=t.defaultLib,t})},purchaseVideoMessage:function(e,n,s,r,l){var s=s;a.showPurchaseVideoMessage({subject:t.gettext("PURCHASE::VIDEO::MODAL::SUBJECT::Confirm Purchase"),question:s.message,cancel_button_label:t.gettext("MODAL::Cancel"),confirm_button_label:t.gettext("MODAL::Buy video")}).then(function(){if("STOCK_DEMAND"===s.orderInfo.fulfillment_method){var a={productKey:s.orderInfo.product_key,serviceCommitment:s.orderInfo.service_commitment,fulfillmentMethod:s.orderInfo.fulfillment_method,imageId:e,libraryId:n,action:"Save"};i.purchase(a).then(function(){r.resolve(),l()}).fail(function(){r.reject()})}else s.next().then(function(e){r.resolve(e),l()}).fail(function(e){var n,a,i=e.responseJSON;i&&(n=i.error,a=i.action),n||(n=t.gettext("API::LIBRARIES::We are experiencing technical difficulties. Please try again later.")),r.reject({error:n,action:a})});return r},function(e){l(e)})},modalMultipleChoices:function(i,s,l){var m,f,_,g,E,v,b,T=i,y=n.base_url+"/Order/Video/"+T,C="License"===s,S=C&&o.isDefaultEntitlementCCE(),I=[c.LICENSE_ID_STANDARD,c.LICENSE_ID_4K];if(l.representations&&l.representations[0]["adobestock#trackingdata"]&&l.representations[0]["video#data"]&&"not_purchased"==l.representations[0]["adobestock#trackingdata"].state&&(_=l.representations[0]["video#data"].resolution),l.is_video?(g=o.hasVideoQuota(),E=h.sprintf(t.gettext("PURCHASE::VIDEO::MODAL::SUBJECT::License the %sHD%s or %s4K%s version?"),"<strong>","</strong>","<strong>","</strong>"),v=h.sprintf(t.gettext("PURCHASE::VIDEO::MODAL::SUBJECT::Buy the %sHD%s or %s4K%s version?"),"<strong>","</strong>","<strong>","</strong>")):l.is_premium&&(g=o.hasStandardQuota(),E=h.sprintf(t.gettext("PURCHASE::IMAGE::MODAL::SUBJECT::License the %sLarge%s or %sSmall%s version?"),"<strong>","</strong>","<strong>","</strong>"),v=h.sprintf(t.gettext("PURCHASE::IMAGE::MODAL::SUBJECT::Buy the %sLarge%s or %sSmall%s version?"),"<strong>","</strong>","<strong>","</strong>")),C?m=g?E:v:"Save"===s&&(m=h.sprintf(t.gettext("COMP::VIDEO::MODAL::SUBJECT::Save the %sHD%s or %s4K%s version?"),"<strong>","</strong>","<strong>","</strong>"),f=t.gettext("COMP::VIDEO::MODAL::SUBTEXT::You can license either version later"),y+="?watermarked=1"),S)return a.show("cceMultipleChoices",l),b=c.getLicenseIdByLicenseAbbr(_),void e("#js-container-multiple-choices").html(u({content:l,default_license_id:b||c.getContentDefaultLicenseId(l,I)}));a.show("multipleChoices",{subject:m,subtext:f}),r.get(y).then(function(t){C?e("#js-container-multiple-choices").html(d({content:t,saved_comp:_,licenseIds:I})):"Save"===s&&e("#js-container-multiple-choices").html(p(t))},function(n){e("#js-container-multiple-choices").html(t.gettext("MODAL::MULTIPLE::CHOICES::ERROR::There is an error, please try again later."))})},switchVideoFormat:function(t,n,a){e("#library-items-wrapper").length>0&&"Save"===a&&4==n&&(t.find(".video_4k").removeClass("hidden"),t.find(".video_hd").addClass("hidden"))},modalExtended:function(e,n,i){a.show("extendedConfirmation",{question:h.sprintf(t.gettext("PURCHASE::IMAGE::MODAL::Purchase an extended license for %s?"),i.extended_license_price)})}}}),define("components/librariesDropdown",["jquery","page_config","i18n","i18n-config","app/client","lib/member","lib/librariesStore","hbs!templates/components/librariesDropdownLoggedIn","hbs!templates/components/librariesDropdownLoggedOut","lib/susi","lib/utils","lib/librariesWidget","lib/contentDetails","lib/assetsStore","lib/contentHelper","app/stock-portal"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f){"use strict";function _(){A.attr("data-is-hidden","false")}function g(){A.attr("data-is-hidden","true")}function E(){return"true"===A.attr("data-is-hidden")}function v(){s.isLoggedIn()?A.html(l({libraries:r.libraries})):A.html(o)}function b(){k.on("click",function(e){e.stopPropagation(),E()?(_(),v()):g()}),e("body").on("click",function(){g()})}function T(e){var t=e&&e.isDownloading||!1,n=e&&e.isSaving||!1,a=e&&e.isLicensing||!1,i=e&&e.saved||!1;return t||n||a||i}function y(e){e.find(".js-hover-menu-pre-library-loading-state").addClass("not-saving hidden"),e.find(".js-hover-menu-savinglibrary-spinner-state").addClass("not-saving hidden"),e.find(".js-hover-menu-creatinglibrary-spinner-state").addClass("not-saving hidden"),e.find(".js-hover-menu-active-state").removeClass("hidden"),e.find(".js-hover-menu-saved-state").addClass("hidden"),e.find(".js-post-saving-data-div").addClass("hidden"),e.find(".js-hover-menu").removeClass("must-show")}function C(e){e.find(".js-hover-menu-pre-library-loading-state").addClass("hidden"),y(e)}function S(t,n,a){var i=[],s=O.getState();e(a?".js-hover-container[data-content-id="+a+"]":".js-hover-container").each(function(){var t=e(this),a=t.attr("data-content-id");T(u.arrayFindByKeyValue(s.content,"content_id",parseInt(a)))||n||C(t)}),i.forEach(function(e){u.enforceLibraryMenuText(e)})}function I(e,t,n){f.setLibraries(e),S(e,t,n)}var O=i.getInstance(),k=e(document.getElementById("libraries-button")),A=e(document.getElementById("libraries-dropdown"));return t.isNewLibrariesDropdownEnabled||c.ready.then(function(){s.isLoggedIn()&&r.getLibraries(!0).done(I)}),{setup:b,updateLibrariesDisplay:S,enterActiveState:y,exitLoadingState:C,isSpinnerVisibleOnAsset:T}}),define("hbs!templates/landingPages/video/heroVideo",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div itemscope itemtype="http://schema.org/VideoObject">\n    <meta itemprop="thumbnailUrl" content="'+this.escapeExpression((i=null!=(i=t.thumbnailUrl||(null!=e?e.thumbnailUrl:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbnailUrl",hash:{},data:a}):i))+'">\n    <meta itemprop="expires" content="2019-02-10">\n    <meta itemprop="contentUrl" content="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/landing/video/LP-Video-Hero-July-2020.mp4",{name:"staticCdn",hash:{},data:a}))+'">\n    <meta itemprop="expires" content="2019-02-10">\n\n    <meta itemprop="name" content="Hero Video">\n    <meta itemprop="description" content="Video at the top of the page to make everything look really cool.">\n    <meta itemprop="width" content="1000">\n    <meta itemprop="height" content="300">\n    <meta itemprop="duration" content="PT15S">\n    <meta itemprop="uploadDate" content="2019-02-09">\n\n    <video\n        preload="none"\n        class="container-full-expand container-absolute to-the-bottom to-the-right"\n        poster="'+this.escapeExpression((i=null!=(i=t.thumbnailUrl||(null!=e?e.thumbnailUrl:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbnailUrl",hash:{},data:a}):i))+'"\n        muted="muted"\n        autoplay="autoplay"\n        loop="loop">\n        <source src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/landing/video/LP-Video-Hero-July-2020.mp4",{name:"staticCdn",hash:{},data:a}))+'" type="video/mp4" />\n    </video>\n</div>\n'},useData:!0})}),define("hbs!templates/landingPages/video/pricingBladeVideo",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<video\n    class="responsive-img"\n    preload="none"\n    poster="'+this.escapeExpression((i=null!=(i=t.thumbnailUrl||(null!=e?e.thumbnailUrl:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbnailUrl",hash:{},data:a}):i))+'"\n    muted="muted"\n    autoplay="autoplay"\n    loop="loop"\n    data-t="pricing-blade-video"\n>\n    <source src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/landing/video_pricing_blade.mp4",{name:"staticCdn",hash:{},data:a}))+'" type="video/mp4" />\n</video>\n'},useData:!0})}),define("components/videoLandingPage",["jquery","page_config","hbs!templates/landingPages/video/heroVideo","hbs!templates/landingPages/video/pricingBladeVideo"],function(e,t,n,a){"use strict";function i(){t.is_mobile||s()}function s(){r(),l()}function r(){var t=e(o),a=t.find("img").attr("src");t.html(n({thumbnailUrl:a}))}function l(){var t=e(c),n=t.find("img").attr("src");t.html(a({thumbnailUrl:n}))}var o=".js-hero-video",c=".js-pricing-blade-video";return{init:i,setUpHeroVideo:r,setUpPricingBladeVideo:l,heroVideoSelector:o,pricingBladeVideoSelector:c}}),define("hbs!templates/motMotModal/partials/dpcUsersRetentionMessage",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalWithHeaderFooterAndButton,e,{name:"modalWithHeaderFooterAndButton",hash:{footer_link:null!=(i=null!=e?e.properties:e)?i.button_link:i,footer_link_label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::See plans & pricing",{name:"_",hash:{},data:a}),body:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Your %s unused download from Dollar Photo Club has expired. Get your unused download back by simply subscribing to one of many Adobe Stock plans. Re-activated downloads are yours to keep for an additional year. Act now to get this limited-time offer.","MODAL::DPC_MIGRATION::Your %s unused downloads from Dollar Photo Club have expired. Get all the unused downloads back by simply subscribing to one of many Adobe Stock plans. Re-activated downloads are yours to keep for an additional year. Act now to get this limited-time offer.",null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"sprintf",hash:{},data:a}),subtitle:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Offer expires on %s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),title:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Re-activate your expired downloads today",{name:"_",hash:{},data:a})},data:a,indent:"    ",helpers:t,partials:n}))?i:""},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.show_no_plan_segment_message:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:""},4:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalWithHeaderFooterAndButton,e,{name:"modalWithHeaderFooterAndButton",hash:{footer_link:null!=(i=null!=e?e.properties:e)?i.button_link:i,footer_link_label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::See plans & pricing",{name:"_",hash:{},data:a}),body:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club download will expire soon. Subscribe to one of many Adobe Stock subscription plans before %2$s to keep your unused download for an additional year. Act now to get this limited-time offer.","MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club downloads will expire soon. Subscribe to one of many Adobe Stock subscription plans before %2$s to keep your unused downloads for an additional year. Act now to get this limited-time offer.",null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),subtitle:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Valid until %s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),title:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Limited-time offer",{name:"_",hash:{},data:a})},data:a,indent:"        ",helpers:t,partials:n}))?i:""},6:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.show_promo_plan_segment_message:i,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:""},7:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalWithHeaderFooterAndButton,e,{name:"modalWithHeaderFooterAndButton",hash:{footer_link:null!=(i=null!=e?e.properties:e)?i.button_link:i,footer_link_label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Ok, got it",{name:"_",hash:{},data:a}),body:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club download is set to expire on %2$s. But, we have some great news! As long as you renew your current Adobe Stock subscription, you can keep your unused downloads for an additional year.","MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club downloads are set to expire on %2$s. But, we have some great news! As long as you renew your current Adobe Stock subscription, you can keep your unused downloads for an additional year.",null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),subtitle:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Valid until %s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),title:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Special offer for you",{name:"_",hash:{},data:a})},data:a,indent:"            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.is_expired_license:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/motMotModal/partials/modalWithHeaderFooterAndButton",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <div class="modal__footer">\n        <a href="'+this.escapeExpression((s=null!=(s=t.footer_link||(null!=e?e.footer_link:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"footer_link",hash:{},data:a}):s))+'" '+(null!=(i=t.if.call(e,null!=e?e.target_blank:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'>\n            <button class="button button--dialog">\n                <span>'+this.escapeExpression((s=null!=(s=t.footer_link_label||(null!=e?e.footer_link_label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"footer_link_label",hash:{},data:a}):s))+"</span>\n            </button>\n        </a>\n    </div>\n"},2:function(e,t,n,a){return'target="_blank"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s
;return'<div class="modal__header">\n    <div class="text-sregular">\n        '+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"title",hash:{},data:a}):s))+"\n        <br>\n        "+this.escapeExpression((s=null!=(s=t.subtitle||(null!=e?e.subtitle:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"subtitle",hash:{},data:a}):s))+'\n    </div>\n</div>\n<div class="modal__content">\n  <p>'+this.escapeExpression((s=null!=(s=t.body||(null!=e?e.body:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"body",hash:{},data:a}):s))+"</p>\n</div>\n"+(null!=(i=t.if.call(e,null!=e?e.footer_link:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")},useData:!0})}),define("lib/analytics/performance",["jquery","lodash","lib/analytics"],function(e,t,n){"use strict";function a(e){l=e||window,l.onload=function(){setTimeout(i,0)}}function i(){var t=r();e.isEmptyObject(t)||n.setDigitalData("performance",t,{eventName:"stockperformance"})}function s(){return t.get(l,"performance.timing.navigationStart")&&t.get(l,"performance.getEntriesByType")}function r(){var e,t,n,a,i,r={};if(s()&&(e=l.performance.timing,t=e.navigationStart,e.domInteractive&&(r.domInteractive=e.domInteractive-t),e.domComplete&&(r.domComplete=e.domComplete-t),e.domLoading&&(r.domLoading=e.domLoading-t),e.responseStart&&(r.timeFirstByte=e.responseStart-t),e.loadEventEnd&&(r.loadEventEnd=e.loadEventEnd-t),e.domContentLoadedEventEnd&&(r.domContentLoaded=e.domContentLoadedEventEnd-t),n=l.performance.getEntriesByType("paint"),n.length>0))for(a=0;a<n.length;a++)i=n[a],"first-paint"==i.name?r.firstPaint=Math.round(i.startTime):"first-contentful-paint"==i.name&&(r.firstContentfulPaint=Math.round(i.startTime));return r}var l;return{init:a,initHelper:i,getPagePerformanceMetrics:r}}),define("app/utils/dunamis/dunamisBannedCountry",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lodash","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i,s,r){t.execFunction(function(){var t=s?e.constants.CLICK:e.constants.VISIT,l={"event.workflow":"stock-checkout","event.subcategory":"banned-country"};r&&(l["content.id"]=r.content_id,l[e.constants.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=r.product_key),a.trackWrapper(t,i,l,null,n.get(r,"extras.options"))},"error-banned-country","banned-country-modal")}return{send:i}}),function(){var e,t=this,n=Array.prototype.forEach,a=Object.prototype.hasOwnProperty,i=Array.prototype.slice,s=0,r=function(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++s+"";return e?e+t:t},has:function(e,t){return a.call(e,t)},each:function(e,t,a){if(null!=e)if(n&&e.forEach===n)e.forEach(t,a);else if(e.length===+e.length)for(var i=0,s=e.length;i<s;i++)t.call(a,e[i],i,e);else for(var r in e)this.has(e,r)&&t.call(a,e[r],r,e)},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}();e={on:function(e,t,n){return o(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!o(this,"once",e,[t,n])||!t)return this;var a=this,i=r.once(function(){a.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var a,i,s,l,c,u,d,p;if(!this._events||!o(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(l=e?[e]:r.keys(this._events),c=0,u=l.length;c<u;c++)if(e=l[c],s=this._events[e]){if(this._events[e]=a=[],t||n)for(d=0,p=s.length;d<p;d++)i=s[d],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&a.push(i);a.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!o(this,"trigger",e,t))return this;var n=this._events[e],a=this._events.all;return n&&c(n,t),a&&c(a,arguments),this},stopListening:function(e,t,n){var a=this._listeners;if(!a)return this;var i=!t&&!n;"object"==typeof t&&(n=this),e&&((a={})[e._listenerId]=e);for(var s in a)a[s].off(t,n,this),i&&delete this._listeners[s];return this}};var l=/\s+/,o=function(e,t,n,a){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(a));return!1}if(l.test(n)){for(var s=n.split(l),r=0,o=s.length;r<o;r++)e[t].apply(e,[s[r]].concat(a));return!1}return!0},c=function(e,t){var n,a=-1,i=e.length,s=t[0],r=t[1],l=t[2];switch(t.length){case 0:for(;++a<i;)(n=e[a]).callback.call(n.ctx);return;case 1:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s);return;case 2:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s,r);return;case 3:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s,r,l);return;default:for(;++a<i;)(n=e[a]).callback.apply(n.ctx,t)}},u={listenTo:"on",listenToOnce:"once"};r.each(u,function(t,n){e[n]=function(e,n,a){return(this._listeners||(this._listeners={}))[e._listenerId||(e._listenerId=r.uniqueId("l"))]=e,"object"==typeof n&&(a=this),e[t](n,a,this),this}}),e.bind=e.on,e.unbind=e.off,e.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return r.each(t,function(t){e[t]=this[t]},this),e},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.BackboneEvents=e):"function"==typeof define?define("quickerCheckoutRepo/backbone-events-standalone",[],function(){return e}):t.BackboneEvents=e}();define("quickerCheckoutRepo/events/quickerEvents",["quickerCheckoutRepo/backbone-events-standalone"],function(e){"use strict";var t={CHANGE_STATE:"changeState",DISPATCH:"dispatch",RAW_DISPATCH:"rawDispatch",DISPATCH_UPDATE:"dispatchUpdate",DONE:"done",ERROR:"error",CLOSE:"close",HALT:"halt",LOGIN:"login",OPEN:"open",ABORT_REQUEST:"abortRequest",FINISH_PURCHASE:"finishPurchase"};return e.mixin(t)}),define("quickerCheckoutRepo/lib/storage/data",[],function(){"use strict";function e(e){if(!e)throw new Exception("Data must not be falsey");window.localStorage.setItem(i,JSON.stringify(e))}function t(e){return(!e||!a())&&window.JSON.parse(window.localStorage.getItem(i))}function n(){window.localStorage.removeItem(i)}function a(){var e,a=t(),i=Date.now(),r=!1;return!(a&&a.extras&&a.extras.start_timestamp)||(e=a.extras.start_timestamp,i-e>s&&(n(),r=!0),r)}var i="QUICKER_CHECKOUT",s=6048e5;return{setData:e,getData:t,clear:n,isExpired:a}}),define("quickerCheckoutRepo/lib/utils/config",["jquery"],function(e){"use strict";function t(e){return i[e]}function n(t){i=e.extend(i,t)}function a(e,t){if(!i)throw new Error("Unable to update before setting anything");if(!e||!t)throw new Error("Update takes Key and Value");i[e]=t}var i={};return{get:t,set:n,update:a}}),define("quickerCheckoutRepo/lib/utils/utils",[],function(){"use strict";function e(e){var t,n,a=window.location.search.replace(/^\?/,"").split("&");for(t=0;t<a.length;t++)if(n=a[t].split("="),2===n.length&&n[0]===e)return n[1];return null}function t(e){var t=n(e)?Object.prototype.toString.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e,t,n){e&&e.setAttribute(t,n)}function i(e,t){if(!e||!t)throw new Error("invalid argument");s(e,t)||(e.className+=" "+t)}function s(e,t){if(!e||!t)throw new Error("invalid argument");return l(t).test(e.className)}function r(e,t){e.className=e.className.replace(l(t),"")}function l(e){var t;if(!e)throw new Error("invalid argument");return t="(^|\\s)"+e+"(\\s|$)",new RegExp(t)}function o(e){e instanceof Error||(e=new Error(e)),window.newrelic&&window.newrelic.noticeError(e)}function c(e){var t=$.Deferred();return setTimeout(function(){t.resolve(),e()},0),t.promise()}return{getQueryParam:e,updateAttribute:a,isFunction:t,isObject:n,addClass:i,removeClass:r,hasClass:s,reportError:o,nextTick:c}}),define("quickerCheckoutRepo/lib/utils/testAndTarget",["quickerCheckoutRepo/lib/utils/config","quickerCheckoutRepo/lib/utils/utils"],function(e,t){"use strict";function n(n,i,s,r,l){function o(e){t.isFunction(s)&&s(e)}var c,u=o,d=l||{};return e.get("isTestAndTargetDisabled")?s:(n&&window.adobe&&window.adobe.target&&window.adobe.target.getOffer&&(c=a(n),u=function(){try{window.adobe.target.getOffer({mbox:c,success:function(e){d.isApplyOffersSkipped||window.adobe.target.applyOffer({mbox:c,offer:e});try{o(e)}catch(e){t.isFunction(r)&&r(e)}},params:i,error:o})}catch(e){o()}}),u)}function a(t){var n=e.get("base_url")||"en";return n=n.replace("/",""),"adbe_"+n.toLowerCase()+"_stock_"+t}return{getTargetFunction:n,getFullMboxName:a}}),define("quickerCheckoutRepo/checkout/displayState",["quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/lib/storage/data","quickerCheckoutRepo/lib/utils/testAndTarget","quickerCheckoutRepo/lib/utils/config","quickerCheckoutRepo/lib/utils/utils"],function(e,t,n,a,i){"use strict";function s(e,t,n){if(p=e,d=t,h=n||"",!d.error)throw new Error("An Error State is required");o()}function r(e){var t;if(d[e.id]||(e={id:"error",message:"Invalid state with id: "+e.id}),(t=d[e.id].shortCircuitFn)&&i.isFunction(t)&&t(e))return void(p&&p.close());l(e)}function l(a){function i(e){p.enableMediumLayout(d.error.page.isMediumModal),_&&(a.message=e.message),a.error_message=e.message,a.user_message="Display of State: "+a.id+" has a javascript issue",d.error.page.displayPage(a,p,m(d.error,a),f(d.error,a))}var s,r;a&&a.id&&(s=d[a.id],function(s){var l,o,c;this.skipDataSave||t.setData(a);try{p.enableSpinner(!0),p.enableMediumLayout(this.isMediumModal),p.enableSecondaryLayout(this.isSecondaryModal),p.setDataAttributeStateId(s.toLowerCase()),r=function(t){function n(n){t.page.handleDataUpdate instanceof Function&&(e.off(e.DISPATCH_UPDATE+s),e.on(e.DISPATCH_UPDATE+s,t.page.handleDataUpdate)),l=t.page.displayPage(a,p,m(t,a),f(t,a),n)}return n},c=r(this),this.hasTestAndTarget?(o=n.getTargetFunction(this.hasTestAndTarget,a.test_and_target,c,i),this.isTestAndTargetManuallyTriggered?c(o):o()):c()}catch(e){i(e)}l&&l.then instanceof Function?l.then(function(){p.enableSpinner(!1)}):p.enableSpinner(!1)}.call(s,a.id))}function o(){e.on(e.CHANGE_STATE,r)}function c(){e.off(e.CHANGE_STATE)}function u(){_=!0}var d,p,h,m,f,_=!1;return m=function(e,t){return typeof e.analyticsFn==typeof Function?e.analyticsFn(t):function(){}},f=function(e,t){return typeof e.dunamisAnalyticsFn==typeof Function?e.dunamisAnalyticsFn(t):function(){}},{init:s,enableListeners:o,destroyListeners:c,enableDebugMode:u}}),define("quickerCheckoutRepo/lib/generic/cookie",[],function(){"use strict";return function(e,t,n){var a,i,s,r,l,o,c,u,d="";if(void 0===t){if(l=null,document.cookie&&""!==document.cookie)for(u=document.cookie.split(";"),c=0;c<u.length;c++)if(o=u[c].trim(),o.substring(0,e.length+1)===e+"="){l=decodeURIComponent(o.substring(e.length+1));break}return l}n=n||{},null===t&&(t="",n.expires=-1),n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(a=new Date,a.setTime(a.getTime()+24*n.expires*60*60*1e3)):a=n.expires,d="; expires="+a.toUTCString()),i=n.path?"; path="+n.path:"",s=n.domain?"; domain="+n.domain:"",r=n.secure?"; secure":"",document.cookie=[e,"=",encodeURIComponent(t),d,i,s,r].join("")}}),define("quickerCheckoutRepo/lib/generic/ajax",["jquery","quickerCheckoutRepo/lib/generic/cookie","quickerCheckoutRepo/lib/utils/config"],function(e,t,n){"use strict";var a=["s_sess"],i={ajax:function(i,s){var r,l,o,c,u=[];e.each(a,function(e,n){u[n]=t(n),u[n]&&t(n,null)});try{l=n.get("x-api-key"),o=n.get("authToken"),l&&o&&(i.beforeSend=function(e){e.setRequestHeader("x-api-key",l),e.setRequestHeader("Authorization","Bearer "+o),e.setRequestHeader("X-Requested-With","XMLHttpRequest")}),n.get("isDebugMode")&&(i.data=i.data||{},i.data.XDEBUG_SESSION_START=n.get("xDebugIdeKey")),c=e.ajax(i,s)}catch(e){}return r=window.location.host.split(".").slice(-2).join("."),e.each(a,function(e,n){u[n]&&t(n,u[n],{path:"/",domain:r})}),c}};return e.each(["get","post"],function(t,n){i[n]=function(t,a,s,r){return e.isFunction(a)&&(r=r||s,s=a,a=void 0),i.ajax({url:t,type:n,dataType:r,data:a,success:s})}}),i}),define("quickerCheckoutRepo/lib/generic/i18n-config",["i18n","Handlebars","quickerCheckoutRepo/lib/utils/utils"],function(e,t,n){"use strict";function a(t){var n,a,i;if(a={adobestock:{"":{domain:"adobestock","plural-forms":"nplurals=2; plural=n != 1;",lang:""}}},!t){try{n=pageConfig.locale_code,n||(n=document.querySelector("[data-locale]").dataset.locale)}catch(e){}t=n||_}E=t,i=window.i18ndata&&window.i18ndata[t]||a,h=new e({locale_data:i,domain:"adobestock"}),g=!0,m=h.gettext,f=h.ngettext,h._=h.gettext=s,h.ngettext=r,l(t)}function i(){g=!1,h=void 0,t.helpers&&(t.helpers.ngettext=void 0,t.helpers.sprintf=void 0,t.helpers.escape_sprintf=void 0,t.helpers.number=void 0,t.helpers._=void 0)}function s(e){var t=m.call(h,e);return t===e&&(t=c(t)),t}function r(e,t,n){var a=f.call(h,e,t,n);return a!==e&&a!==t||(a=c(a)),a}function l(n){o("_",s),o("ngettext",r),o("sprintf",function(){var t=Array.prototype.slice.call(arguments,0,arguments.length-1),n=t.shift();return e.sprintf(n,t)}),o("escape_sprintf",function(){var n=Array.prototype.slice.call(arguments,0,arguments.length-1),a=t.escapeExpression(n.shift());return new t.SafeString(e.sprintf(a,n))}),o("number",function(e){return new Intl.NumberFormat(n.replace("_","-")).format(e)}),o("linkOpenTag",function(e,n){var a=e,i=[];return["class","target"].forEach(function(e){n.hash[e]&&i.push(e+'="'+t.escapeExpression(n.hash[e])+'"')}),n.hash["gotourl-localize"]&&pageConfig.base_url.length&&-1!==e.toLowerCase().indexOf("adobe.com/go/")&&(a=("/"===e.slice(-1)?e.slice(0,-1):e)+pageConfig.base_url.replace("/","_")),i.push('href="'+t.escapeExpression(a)+'"'),new t.SafeString("<a "+i.join(" ")+">")}),o("linkCloseTag",function(){return"</a>"})}function o(e,n){t.helpers&&!t.helpers[e]&&t.registerHelper(e,n)}function c(e){return e.replace(/^(?:[a-zA-Z0-9_]+::)+/,"")}function u(e,t){if(!g||!h[e]&&n.isFunction(h[e]))throw new Error("i18n has not yet been initialized");return h[e](t)}function d(){var e=E;return E&&!v[E]&&(e=E.split("_")[0]),e}function p(e){E=e}var h,m,f,_="en_US",g=!1,E=null,v={zh_HK:!0};return{init:a,destroy:i,callJedFunction:u,getLanguageCode:d,setInitializedLanguageTag:p}}),define("quickerCheckoutRepo/checkout/dispatcher",["jquery","quickerCheckoutRepo/lib/generic/ajax","quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/lib/generic/i18n-config","quickerCheckoutRepo/lib/utils/config"],function(e,t,n,a,i){"use strict";function s(e,t){y=e,v(),C=t}function r(e){T=e}function l(t){if(!e.isPlainObject(t))throw new Error("SendEvent only takes an object");O=t,h(t).complete(u)}function o(e,t){if(!(e&&e.state&&e.modifier&&e.state.id))throw new Error("State with ID and Modifier are required for Raw Dispatch");if(!t&&A[e.state.id])return void(k[e.state.id]=e);O=e,A[e.state.id]=!0,h(e).complete(c)}function c(e,t){var a;if(a=m(e),A[O.state.id]=!1,!d(e,t,!0)){if(!a||!a.id)throw new Error("Trigger Update Event needs state.id");if(O.state.id!=a.id)return k[a.id]=null,void n.trigger(n.CHANGE_STATE,a);n.trigger(n.DISPATCH_UPDATE+a.id,a,!!k[a.id]),k[a.id]&&(!function(e){setTimeout(function(){o(e,!0)},0)}(k[a.id]),k[a.id]=null)}}function u(e,t){d(e,t,!1)||f(m(e))}function d(e,t,n){var a=!0,i=n?o:l;switch(t){case"success":a=!1;break;case"timeout":if(!O.retry_used){O.retry_used=!0,i(O);break}default:e.complete(p)}return a}function p(e){var t,a;t=m(e),a={error:{errorCode:t.error_code,userMessage:t.user_message,errorMessage:t.error_message,caseCode:t.case_code}},O.state.id&&y[O.state.id]&&y[O.state.id].page&&y[O.state.id].page.handleDataUpdate instanceof Function?("error"===t.id&&(t.lastStateId=O.state.id),C(t),n.trigger(n.DISPATCH_UPDATE+O.state.id,a)):(a=a.error,a.id="error",f(a))}function h(e){var n=i.get("isSherlockEnabled"),a=n?{"x-adobe-fingerprint-token":x,"x-current-page-url":window.location,"x-checkout-state-id":e.state.id,"x-quicker-checkout":1}:{"x-current-page-url":window.location,"x-checkout-state-id":e.state.id,"x-quicker-checkout":1};return S=t.ajax({type:"POST",url:T,headers:a,data:{state:JSON.stringify(e.state),modifier:JSON.stringify(e.modifier)}})}function m(e){var t={};if(!e.responseText)return e;try{t=JSON.parse(e.responseText)}catch(e){t={id:"error",user_message:a.callJedFunction("gettext","CHECKOUT::Malformed response from server.")}}return t}function f(e){if(!e)throw new Error("Must pass a state to dispatch");_(e),n.trigger(n.CHANGE_STATE,e)}function _(t){var n=i.get("sherlockUrl"),a=i.get("isSherlockEnabled");if(window.SherlockSdk||R||!a||(R=!0,e.ajax({url:n,success:g(t),dataType:"script",cache:!0}).fail(function(e){window&&window.newrelic&&window.newrelic.noticeError(new Error("Sherlock: "+err.name+" error loading Sherlock script for state id: "+t.id+", for page: "+P+". Error message: "+err.message))})),I)try{I.reportPageChange({pageName:t.id})}catch(e){window&&window.newrelic&&window.newrelic.noticeError(new Error("Sherlock: "+e.name+" error with reportPageChange for state id: "+t.id+", for page: "+P+". Error message: "+e.message))}}function g(e){return x="",function(){function t(t){!(x=t)&&window&&window.newrelic&&window.newrelic.noticeError(new Error("Sherlock: No token from callback for state id: "+e.id+" on page: "+P))}var n;n={prodEnv:i.get("isProductionServer"),tokenCallback:t,pageName:e.id};try{I=window.SherlockSdk.init(n)}catch(t){window&&window.newrelic&&window.newrelic.noticeError(new Error("Sherlock: "+t.name+" error initializing SDK for state id: "+e.id+", on page: "+P+". Error message: "+t.message))}}}function E(){S&&S.abort()}function v(){n.on(n.DISPATCH,l),n.on(n.RAW_DISPATCH,o),n.on(n.ABORT_REQUEST,E)}function b(){n.off(n.DISPATCH),n.off(n.RAW_DISPATCH),A={}}var T,y,C,S,I,O={},k={},A={},R=!1,x="undefined",P=window.location;return{init:s,enableListeners:v,destroyListeners:b,setApiEndpoint:r,getLoadSherlockCallback:g}}),define("hbs!quickerCheckoutRepo/templates/modal/modal",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"no-top-space"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div id="'+this.escapeExpression((s=null!=(s=t.modalId||(null!=e?e.modalId:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"modalId",hash:{},data:a}):s))+'" class="mti-modal modal--with-header animated fade-in" data-is-hidden="'+this.escapeExpression((s=null!=(s=t.hiddenState||(null!=e?e.hiddenState:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"hiddenState",hash:{},data:a}):s))+'" data-is-medium-modal="false" data-ingest-workflow="stock-checkout">\n        <div class="modal__body '+(null!=(i=t.if.call(e,null!=e?e.isCheckoutModalOnTop:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'">\n            <i id="js-modal-close" class="modal__close mti-icon icon-close hide-modal"></i>\n            <div id="js-modal-container">\n            </div>\n            <div id="js-modal-spinner" class="modal__spinner medium-heavy-metal-overlay container-absolute to-all" data-is-hidden="true">\n                <div class="c-align">\n                    <div class="spinner spinner--large"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div id="js-checkout-debug-errors" class="hidden"></div>\n</div>\n'},useData:!0})}),define("quickerCheckoutRepo/events/modalEvents",[],function(){"use strict";return{CLOSE:"close",SET_HTML:"set_html",DESTROY:"destroy"}}),define("quickerCheckoutRepo/modal/modal",["hbs!quickerCheckoutRepo/templates/modal/modal","quickerCheckoutRepo/lib/utils/utils","quickerCheckoutRepo/events/modalEvents","quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/lib/storage/data","quickerCheckoutRepo/lib/utils/config"],function(e,t,n,a,i,s){"use strict";function r(t){var n,a=s.get("isCheckoutModalOnTop");v&&p(),t&&(y=t),n=e({modalId:y,hiddenState:!0,isCheckoutModalOnTop:a}),window.document.body.insertAdjacentHTML("beforeend",n),v=window.document.getElementById(y),b=window.document.getElementById(C),T=window.document.getElementById(I),window.document.getElementById(S).addEventListener("click",u)}function l(e,t){k[e]=t}function o(e,t){k[e]?k[e](t):t(null)}function c(){var e;for(e in k)k[e]=null}function u(e){o(n.CLOSE,function(){h(""),t.updateAttribute(v,"data-is-hidden",!0),c(),e&&a.trigger(a.CLOSE,i.getData()),i.clear()})}function d(){v.removeAttribute("data-is-hidden")}function p(){if(!v)throw new Error("No Modal To Destroy");o(n.DESTROY,function(){window.document.getElementById(S).removeEventListener("click",u),v.parentNode.removeChild(v),v=null,c()})}function h(e){o(n.SET_HTML,function(){b.innerHTML=e,E()||d(),c()})}function m(e){t.updateAttribute(T,"data-is-hidden",!e)}function f(e){t.updateAttribute(v,"data-is-medium-modal",!!e)}function _(e){e?t.addClass(v,O):t.removeClass(v,O)}function g(e){var n=v.getAttribute("data-state-id");n&&n!==e&&t.removeClass(v,n),t.addClass(v,e),t.updateAttribute(v,"data-state-id",e)}function E(){return!!v&&!0===v.getAttribute("data-is-hidden")}var v,b,T,y="modal",C="js-modal-container",S="js-modal-close",I="js-modal-spinner",O="modal--secondary",k={};return{init:r,isVisible:E,display:d,destroy:p,setHtml:h,close:u,enableSpinner:m,enableMediumLayout:f,enableSecondaryLayout:_,setDataAttributeStateId:g,on:l}}),define("hbs!quickerCheckoutRepo/templates/loading",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="modal__header">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Please wait...",{name:"_",hash:{},data:a}))+'\n</div>\n<div class="bh-checkout-loading-state modal__content">\n    <div class="margin-large">\n        <div class="spinner"></div>\n    </div>\n</div>\n'},useData:!0})}),define("quickerCheckoutRepo/lib/generic/localStorage",[],function(){"use strict";return{storage:function(){var e,t=new Date;try{return localStorage.setItem(t,t),e=localStorage.getItem(t)==t,localStorage.removeItem(t),e&&localStorage}catch(e){}},storeData:function(e,t,n,a){var i,s=this;s.storage&&(i=a?sessionStorage:localStorage,e?i.setItem(e+t,JSON.stringify(n)):i.setItem(t,JSON.stringify(n)))},retrieveData:function(e,t,n,a){var i,s,r=this;return r.storage&&(s=a?sessionStorage:localStorage,i=e?JSON.parse(s.getItem(e+t)):JSON.parse(s.getItem(t)))?i:n}}}),define("quickerCheckoutRepo/services/countries",["require","exports","module","jquery","quickerCheckoutRepo/lib/generic/ajax"],function(e,t,n){"use strict";function a(e,t){return window.btoa(e+JSON.stringify(t))}function i(e){if(!e)throw new Error("You must pass a data endpoint");this._endpoint=e,this._pendingRequestPromises={}}var s=e("jquery"),r=e("quickerCheckoutRepo/lib/generic/ajax"),l=i.prototype;l.getCountry=function(e){var t=s.Deferred();return void 0!==i._cache.country[e]?(t.resolve(i._cache.country[e]),t.promise()):(this._makeRequest("/2/Country",{iso2_code:e}).then(function(n){i._cache.country[e]=n,t.resolve(i._cache.country[e])}).fail(function(e){t.reject(e)}),t.promise())},l.getCountries=function(e){var t,n=s.Deferred();return e=!!e,t=e?i.CACHE_KEY_COUNTRIES_VERBOSE:i.CACHE_KEY_COUNTRIES_NON_VERBOSE,void 0!==i._cache.countries[t]?(n.resolve(i._cache.countries[t]),n.promise()):(this._makeRequest("/1/Countries",{verbose:e}).then(function(e){i._cache.countries[t]=e,n.resolve(i._cache.countries[t])}).fail(function(e){n.reject(e)}),n.promise())},l.getWebSellableCountries=function(){var e,t=s.Deferred();return void 0!==i._cache.countries[i.CACHE_KEY_WEB_SELLABLE_COUNTRIES]?(t.resolve(i._cache.countries[i.CACHE_KEY_WEB_SELLABLE_COUNTRIES]),t.promise()):i._cache.countries[i.CACHE_KEY_COUNTRIES_VERBOSE]?(e=[],i._cache.countries[i.CACHE_KEY_COUNTRIES_VERBOSE].reduce(function(e,t){return"ADOBE"===t.merchant&&e.push({name:t.name,iso2_code:t.iso2_code,state_province_required:t.state_province_required}),e},e),i._cache.countries[i.CACHE_KEY_WEB_SELLABLE_COUNTRIES]=e,t.resolve(i._cache.countries[i.CACHE_KEY_WEB_SELLABLE_COUNTRIES]),t.promise()):(this._makeRequest("/1/WebSellableCountries").then(function(e){i._cache.countries[i.CACHE_KEY_WEB_SELLABLE_COUNTRIES]=e,t.resolve(e)}).fail(function(e,n,a){t.reject(a)}),t.promise())},l.findCountryName=function(e){var t,n;for(t=0;t<i._cache.countries[i.CACHE_KEY_WEB_SELLABLE_COUNTRIES].length;t++)if(n=i._cache.countries[i.CACHE_KEY_WEB_SELLABLE_COUNTRIES][t],n.iso2_code==e)return n.name;return null},l.pullFieldFromCountryData=function(e,t){var n=s.Deferred();return this.getCountry(e).then(function(e){n.resolve(e[t])}).fail(function(e){n.reject(e)}),n.promise()},l.isStateProvinceRequired=function(e){return this.pullFieldFromCountryData(e,"state_province_required")},l.isGstSupported=function(e){return this.pullFieldFromCountryData(e,"is_gst_supported")},l.isGstExcluded=function(e){return this.pullFieldFromCountryData(e,"is_gst_excluded")},l.getStateProvinces=function(e){var t=s.Deferred();return this.getCountry(e).then(function(e){t.resolve(e.state_provinces)}).fail(function(){t.reject("Could not retrieve states / provinces")}),t.promise()},l.isVatSupported=function(e){return this.pullFieldFromCountryData(e,"is_vat_supported")},l.isStrongAuthenticationCountry=function(e){return this.pullFieldFromCountryData(e,"strong_customer_authentication_required")},l._makeRequest=function(e,t){var n,i,l=a(e,t),o=this;return o._pendingRequestPromises[l]?o._pendingRequestPromises[l]:(n=s.Deferred(),i=n.promise(),r.ajax({type:"GET",url:o._endpoint+e,data:t||{}}).then(function(e){n.resolve(e),delete o._pendingRequestPromises[l]}).fail(function(e,t,a){n.reject(a)}),o._pendingRequestPromises[l]=i,i)},i._resetCache=function(){i._cache={country:{},countries:{verbose:void 0,nonVerbose:void 0}}},i._resetCache(),i.CACHE_KEY_COUNTRIES_VERBOSE="verbose",i.CACHE_KEY_COUNTRIES_NON_VERBOSE="nonVerbose",i.CACHE_KEY_WEB_SELLABLE_COUNTRIES="webSellable",n.exports=i}),define("quickerCheckoutRepo/services/paymentInstruments",["require","exports","module","jquery","quickerCheckoutRepo/lib/generic/ajax"],function(e,t,n){"use strict";function a(e,t){return window.btoa(encodeURIComponent(e+JSON.stringify(t)))}function i(e){if(!e)throw new Error("You must pass a data endpoint");this._endpoint=e,this._pendingRequestPromises={}}var s=e("jquery"),r=e("quickerCheckoutRepo/lib/generic/ajax"),l=i.prototype;l.getPaymentInstrumentsForCountry=function(e,t){var n,a=s.Deferred();return l._cache[t]?(a.resolve(l._cache[t].available_payment_instruments),a.promise()):(n={state:JSON.stringify(e),modifier:JSON.stringify({country_code:t})},this._makeRequest(this._endpoint,n).then(function(e){l._cache[t]=e,a.resolve(l._cache[t].available_payment_instruments)}).fail(function(e){a.reject(e)}),a.promise())},l.getUpdatedStateDataForCountry=function(e,t){var n,a=s.Deferred();return l._cache[t]?(a.resolve(l._cache[t]),a.promise()):(n={state:JSON.stringify(e),modifier:JSON.stringify({country_code:t})},this._makeRequest(this._endpoint,n).then(function(e){l._cache[t]=e,a.resolve(l._cache[t])}).fail(function(e){a.reject(e)}),a.promise())},l.setStateDataInCache=function(e,t){l._cache[e]=t},l._makeRequest=function(e,t){var n,i,l=a(e,t),o=this;return o._pendingRequestPromises[l]?o._pendingRequestPromises[l]:(n=s.Deferred(),i=n.promise(),r.ajax({url:e,type:"POST",data:t||{}}).then(function(e){n.resolve(e),o._pendingRequestPromises[l]=null}).fail(function(e,t,a){n.reject(a),o._pendingRequestPromises[l]=null}),o._pendingRequestPromises[l]=i,i)},l.resetCache=function(){l._cache={}},l.resetCache(),n.exports=i}),define("quickerCheckoutRepo/services/validation",["require","exports","module","quickerCheckoutRepo/lib/generic/i18n-config"],function(e,t,n,a){"use strict";function i(e,t,n,i,s){this._iso2Code=e,i&&"string"==typeof i&&(i=new RegExp(i)),this._fieldValidatorMap={firstName:{reject:l,lengthMax:24,errorMessage:a.callJedFunction("gettext","CHECKOUT::Please enter a valid First Name")},lastName:{reject:l,lengthMax:24,errorMessage:a.callJedFunction("gettext","CHECKOUT::Please enter a valid Last Name")},pronunciationFirstName:{reject:l,lengthMax:24},pronunciationLastName:{reject:l,lengthMax:24},company:{reject:r,lengthMax:35,isOptional:!0},street1:{reject:r,lengthMax:35,errorMessage:a.callJedFunction("gettext","CHECKOUT::Please enter a valid street address")},city:{reject:r,errorMessage:a.callJedFunction("gettext","CHECKOUT::Please enter a valid city")},postalCode:{custom:this.isPostalCodeValid.bind(this),errorMessage:s||a.callJedFunction("gettext","CHECKOUT::Please enter a valid Postal Code")},stateProvinceCode:{isOptional:!1,errorMessage:a.callJedFunction("gettext","CHECKOUT::Please enter a valid State or Province Code")},countryCode:{isOptional:!1,errorMessage:a.callJedFunction("gettext","CHECKOUT::Please enter a valid country / region")},vatId:{accept:i||o,lengthMax:255,isOptional:!t,errorMessage:n||a.callJedFunction("gettext","CHECKOUT::Please enter a valid VAT")},gstId:{accept:i||c,lengthMax:255,isOptional:!0,errorMessage:a.callJedFunction("gettext","CHECKOUT::Please enter a valid GST")}},"BR"===e&&(this._fieldValidatorMap.firstName=this._fieldValidatorMap.lastName={reject:u,lengthMax:30,isOptional:!1,errorMessage:a.callJedFunction("gettext","CHECKOUT::Invalid cardholder name. Please use letters only. Avoid numbers and special characters such as: ,,,$,/,#")},this._fieldValidatorMap.vatId.accept=i||d)}var s=i.prototype,r=/[\{\}<>]/,l=/(^[0-9.+E]+$)|([\{\}<>])/,o=/^[a-zA-Z0-9|\-|\.]+$/,c=/^\d{2,3}-?\d{3}-?\d{3}$/,u=/[^a-zA-Z0-9 ]/,d=/(^\d{3}(\.)?\d{3}(\.)?\d{3}-?\d{2}$)|(^\d{2}(\.)?\d{3}(\.)?\d{3}(\/)?\d{4}-?\d{2}$)/,p=function(e){return void 0===e||null===e||""===e};s.isPostalCodeValid=function(e){var t=/[\{\}<>]/,n=/^\d{4}$/,a={CA:/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$/i,JP:/^\d{1,3}-\d{1,4}$/,GB:/^[A-Za-z](\d|\d{2}|[A-Za-z]\d|[A-Za-z]\d{2}|[A-Za-z]\d[A-Za-z]|\d[A-Za-z])[ ]?\d[A-Za-z]{2}$/,GR:/^\d{3}([ ]?\d{2})$/,US:/^\d{5}(-\d{4})?$/,AT:n,LU:n,NO:n,MX:/^\d{5}$/,BE:n,CZ:/^\d{3}[ ]?\d{2}$/,CY:n,DK:n,DE:/^\d{5}$/,EE:/^\d{5}$/,ES:/^\d{5}$/,FR:/^\d{2}[ ]?\d{3}$/,IT:/^\d{5}$/,LV:n,LT:/^\d{5}$/,HU:n,MT:/^[A-Z]{3}[ ]?\d{2,4}$/,NL:/^\d{4}[ ]?[A-Z]{2}$/,PL:/^\d{2}-\d{3}$/,PT:/^\d{4}([\-]\d{3})?/,RO:/^\d{6}$/,RU:/^\d{6}$/,CH:n,SI:n,SK:/^\d{3}[ ]?\d{2}$/,FI:/^\d{5}$/,SE:/^\d{3}[ ]?\d{2}$/,UA:/^\d{5}$/,BG:n,AU:n,KR:/^\d{3}[\-]\d{3}$/,NZ:n,TH:/^\d{5}$/,BR:/^(\d{5}-?\d{3}|\d{5}|\d{8})$/,CR:/^\d{1,5}$/,IN:/^\d{6}$/};return void 0===e||null===e||""===e?{isValid:!1,error:i.ERROR_REQUIRED,errorMessage:this._fieldValidatorMap.postalCode.errorMessage}:t.test(e)?{isValid:!1,error:i.ERROR_INVALID,errorMessage:this._fieldValidatorMap.postalCode.errorMessage}:a.hasOwnProperty(this._iso2Code)?a[this._iso2Code].test(e)?{isValid:!0}:{isValid:!1,error:i.ERROR_INVALID,errorMessage:this._fieldValidatorMap.postalCode.errorMessage}:{isValid:!0}},s.setCountry=function(e){this._iso2Code=e},s.validateFullName=function(e,t){var n=e+t;return"BR"===this._iso2Code&&n.length<3?{isValid:!1,error:i.ERROR_INVALID,errorMessage:a.callJedFunction("gettext","CHECKOUT::The length of full name must be at least 3 characters long")}:{isValid:!0}},s.validateField=function(e,t){var n,a;if(!this._iso2Code)throw new Error("Cannot validate a field without a country context");if(!e||null===t||void 0===t)return{isValid:!0};if(t=String(t),!(n=this._fieldValidatorMap[e]))throw new Error("Field has no validation rules defined");if(n.custom)return n.custom(t);if(!n.isOptional&&p(t))return{isValid:!1,error:i.ERROR_REQUIRED,errorMessage:n.errorMessage};if(n.isOptional&&p(t))return{isValid:!0};if(n.lengthMin&&t.length<n.lengthMin)return{isValid:!1,error:i.ERROR_INVALID,errorMessage:n.errorMessage};if(n.lengthMax&&t.length>n.lengthMax)return{isValid:!1,error:i.ERROR_INVALID,errorMessage:n.errorMessage}
;if(void 0!==n.reject&&n.reject.test(t)||void 0!==n.accept&&!n.accept.test(t))return{isValid:!1,error:i.ERROR_INVALID,errorMessage:n.errorMessage};if(n.extra&&n.extra.length>0)for(a=0;a<n.extra.length;a++)if(!(0,n.extra[a])(t))return{isValid:!1,error:i.ERROR_INVALID,errorMessage:n.errorMessage};return{isValid:!0}},i.ERROR_REQUIRED="ERROR_REQUIRED",i.ERROR_INVALID="ERROR_INVALID",n.exports=i}),define("quickerCheckoutRepo/services/address",["require","exports","module"],function(e,t,n){"use strict";function a(){this._addressData=[]}var i=a.prototype,s={first_name:"firstName",pronunciation_first_name:"pronunciationFirstName",last_name:"lastName",pronunciation_last_name:"pronunciationLastName",company:"company",street_1:"street1",city:"city",postal_code:"postalCode",postal_code_1:"postalCode",postal_code_2:"postalCode",state_province_code:"stateProvinceCode",country_code:"countryCode",vat_id:"vatId",email:"primaryEmail",gst_id:"gstId"};i.setAddressData=function(e){this._addressData=e},i.getAddressData=function(){var e={};return this._addressData&&this._addressData.length?(this._addressData.map(function(t){e[t.name]||(e[t.name]=t.value)}),e):e},i.setAddressField=function(e,t){0===this._addressData.length&&this._addressData.push({name:e,value:t}),this._addressData.map(function(n,a){n.name===e&&(this._addressData[a].value=t)}.bind(this))},i.getAddressDataFormattedForExternalServices=function(){var e=this.getAddressData(),t={};return t[a.getFieldNameFormattedForExternalServices("street_1")]=e.street_1,t[a.getFieldNameFormattedForExternalServices("city")]=e.city,t[a.getFieldNameFormattedForExternalServices("postal_code")]=this._formatPostalCode(),t.contact={},t.contact[a.getFieldNameFormattedForExternalServices("first_name")]=e.first_name,t.contact[a.getFieldNameFormattedForExternalServices("last_name")]=e.last_name,t.contact[a.getFieldNameFormattedForExternalServices("pronunciation_first_name")]=e.pronunciation_first_name,t.contact[a.getFieldNameFormattedForExternalServices("pronunciation_last_name")]=e.pronunciation_last_name,t.contact[a.getFieldNameFormattedForExternalServices("email")]=e.email,t.contact[a.getFieldNameFormattedForExternalServices("vat_id")]=e.vat_id||e.gst_id,t.country={code:e.country_code},t.stateProvince={code:e.state_province_code},t},i._formatPostalCode=function(){var e=this.getAddressData();return"JP"===e.country_code?e.postal_code_1+"-"+e.postal_code_2:e.postal_code},a.getFieldNameFormattedForExternalServices=function(e){return s.hasOwnProperty(e)?s[e]:null},n.exports=a}),define("hbs!quickerCheckoutRepo/templates/partials/creditPackLabel",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                        <div class="container-relative container-inline-block full-width">\n                            <span class="full-width hover-trigger ellipsis blue picton-text js-product-subheading" style="height: 1.1em;">\n                                <span class="grey dove-text text-small">\n                                    '+this.escapeExpression((i=null!=(i=t.productSubheading||(null!=e?e.productSubheading:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"productSubheading",hash:{},data:a}):i))+'\n                                </span>\n                            </span>\n                            <div class="container-absolute h-align margin-top-small container-below hover-container in-front js-product-subheading-full" data-is-hidden="true">\n                                <div class="tooltip tooltip--primary tooltip--bottom">\n                                    <div class="padding-xsmall small-tooltip-body">\n                                        <span class="normal-whitespace text-small">\n                                            '+this.escapeExpression((i=null!=(i=t.productSubheadingFull||(null!=e?e.productSubheadingFull:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"productSubheadingFull",hash:{},data:a}):i))+"\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n"},3:function(e,t,n,a){var i;return'                        <div id="credit-pack-savings" data-t="credit-pack-savings" class="grey mountain-mist-text '+(null!=(i=t.if.call(e,null!=e?e.productSubheading:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+'">\n                            '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.savings:i,e))+"\n                        </div>\n"},4:function(e,t,n,a){return"text-small font-semibold"},6:function(e,t,n,a){return"text-sregular"},8:function(e,t,n,a){var i;return'                        <div id="credit-pack-for-team" data-t="credit-pack-for-team" class="grey mountain-mist-text text-sregular">\n                            '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.for_team:i,e))+"\n                        </div>\n"},10:function(e,t,n,a){return"                    <li>"+this.escapeExpression(this.lambda(e,e))+"</li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="nurse-border border-1 border-solid border-radius-2">\n    <div class="white padding-large">\n        <div class="row">\n            <div class="column on-small-10">\n                <div class="left-align">\n                    <strong id="credit-pack-label" data-t="credit-pack-label" class="padding-bottom-xsmall">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.label:i,e))+"</strong>\n"+(null!=(i=t.if.call(e,null!=e?e.productSubheading:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.savings:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.for_team:i,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'                </div>\n            </div>\n            <div class="column on-small-2">\n                <i class="mti-icon mti-3x '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.icon:i,e))+' grey mountain-mist-text"></i>\n            </div>\n        </div>\n        <div class="padding-left-medium padding-right-medium padding-top-small">\n            <ul id="credit-pack-info" data-t="credit-pack-info" class="list-style-disc left-align grey mountain-mist-text text-sregular">\n'+(null!=(i=t.each.call(e,null!=(i=null!=e?e.data:e)?i.info:i,{name:"each",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+"            </ul>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("quickerCheckoutRepo/services/changeCountryUpdater",["jquery","i18n","quickerCheckoutRepo/lib/generic/i18n-config","quickerCheckoutRepo/lib/utils/utils","hbs!quickerCheckoutRepo/templates/partials/creditPackLabel"],function(e,t,n,a,i){"use strict";function s(e,t){return t?(m=document.getElementById("checkout-fmf-subtotal"),f=document.getElementById("checkout-fmf-tax"),_=document.getElementById("checkout-fmf-savings"),g=document.getElementById("checkout-fmf-total")):(m=document.getElementById("js-checkout-subtotal"),f=document.getElementById("js-checkout-tax"),g=document.getElementById("js-checkout-total")),E=document.getElementById("js-checkout-annual-total"),!!(m||f||_||g||E&&r(e))}function r(e){return"DE"===e}function l(e,i,l,o,c,u){var d,p,h,v,b;s(l,i)&&(m&&(e&&e.template_text&&e.template_text.subtotal_is?m.textContent=e.template_text.subtotal_is:m.textContent=t.sprintf(n.callJedFunction("_",i?"CHECKOUT::SUBTOTAL: %s":"CHECKOUT::Subtotal: %s"),e.subtotal.formatted)),f&&(e&&e.template_text&&e.template_text.tax_is?f.textContent=e.template_text.tax_is:(d=o?e.tax.formatted?"CHECKOUT::GST: %s":"CHECKOUT::GST: Not Yet Calculated":c?e.tax.formatted?"CHECKOUT::VAT: %s":"CHECKOUT::VAT: Not Yet Calculated":e.tax.formatted?"CHECKOUT::Tax: %s":"CHECKOUT::Tax: Not Yet Calculated",f.textContent=t.sprintf(n.callJedFunction("_",d),e.tax.formatted)),i&&(b=!u,a.updateAttribute(f,"data-is-hidden",b))),_&&i&&(_.textContent=t.sprintf(n.callJedFunction("_","CHECKOUT::FIRST MONTH FREE: - %s"),e.savings.formatted)),g&&(i?(p="CHECKOUT::TOTAL DUE NOW: %s",h=e.total_due_now.formatted):(h=e.total.formatted,r(l)?p=e.tax_included?"CHECKOUT::Total (Incl. VAT): %s":"CHECKOUT::Total (Excl. VAT): %s":e&&e.template_text&&e.template_text.total_is?(p=e.template_text.total_is,h=null):p="CHECKOUT::Total: %s"),g.textContent=null===h?p:t.sprintf(n.callJedFunction("_",p),h)),E&&(a.updateAttribute(E,"data-is-hidden",!r(l)),e.annual_total&&e.annual_total.formatted&&(v=i?e.tax_included?"CHECKOUT::The annual total for your plan will be %s (incl. VAT)":"CHECKOUT::The annual total for your plan will be %s (excl. VAT)":e.tax_included?"CHECKOUT::Annual Total (Incl. VAT): %s":"CHECKOUT::Annual Total (Excl. VAT): %s",E.textContent=t.sprintf(n.callJedFunction("_",v),e.annual_total.formatted))))}function o(e,t,n){var a,i,s=document.getElementById("js-plan-info-name"),r=document.getElementById("js-plan-info-list");if(s)for(s.textContent=e.name,r.innerHTML="",a=0;a<e.info.length;a++)i=document.createElement("li"),i.textContent=e.info[a],r.appendChild(i)}function c(e){var t,n=document.getElementById("credit-pack-card");e&&n&&(t={data:e},n.innerHTML=i(t))}function u(t,n){var i=document.getElementById("js-us-terms-acceptance"),s=document.getElementById("js-german-terms-acceptance"),r=document.getElementById("js-default-terms-acceptance"),l="US"===n,o="DE"===n;(i||s||r)&&(l?(a.updateAttribute(r,"data-is-hidden",!0),a.updateAttribute(s,"data-is-hidden",!0),a.updateAttribute(i,"data-is-hidden",!1)):o?(a.updateAttribute(r,"data-is-hidden",!0),a.updateAttribute(s,"data-is-hidden",!1),a.updateAttribute(i,"data-is-hidden",!0)):(a.updateAttribute(r,"data-is-hidden",!1),a.updateAttribute(s,"data-is-hidden",!0),a.updateAttribute(i,"data-is-hidden",!0)),e("#js-terms-acceptance-wrapper").find("a.js-terms-url").attr("href",t))}function d(e){var i=document.getElementById("js-newpayment-change-region-message");a.updateAttribute(i,"data-is-hidden",!1),i.textContent=t.sprintf(n.callJedFunction("_","CHECKOUT::Changing Regions: We noticed that you're setting up an account in %s. We've updated your cart to show the appropriate currency."),e)}function p(e){var t=document.getElementById("foreign-charge-tooltip");v=document.getElementById("foreign-charge-text"),a.updateAttribute(v,"data-is-hidden",!e),t.addEventListener("mouseenter",h),t.addEventListener("mouseleave",h)}function h(e){var t=!0;switch(b=document.getElementById("foreign-charge-tooltip-text"),e.type){case"mouseenter":t=!1;break;case"mouseleave":t=!0}a.updateAttribute(b,"data-is-hidden",t)}var m,f,_,g,E,v,b;return{updatePricing:l,hasPriceToUpdate:s,updatePlanInformation:o,updateCreditPackInformation:c,updateTermsAndConditionsUrl:u,showChangeRegionMessage:d,showForeignChargeMessage:p}}),define("quickerCheckoutRepo/services/errorRenderer",["quickerCheckoutRepo/lib/generic/i18n-config","quickerCheckoutRepo/lib/utils/utils"],function(e,t){"use strict";function n(e){s(),t.updateAttribute(r,"data-is-hidden",!e)}function a(e){s(),r.innerHTML=e.userMessage,l.textContent="Error: "+e.errorMessage+" -- Case code: "+e.caseCode}function i(t){var n=[];s(),t&&t.errors&&t.errors.credit_card&&(Array.isArray(t.errors.credit_card.creditCardExpireDate)&&(-1!==t.errors.credit_card.creditCardExpireDate.indexOf("EXPIRATION_DATE_NO_VALUE")&&n.push(e.callJedFunction("gettext","CHECKOUT::Please enter expiration date.")),-1!==t.errors.credit_card.creditCardExpireDate.indexOf("CARD_EXPIRED")&&n.push(e.callJedFunction("gettext","CHECKOUT::Please enter a valid expiration date."))),Array.isArray(t.errors.credit_card.creditCardNumber)&&-1!==t.errors.credit_card.creditCardNumber.indexOf("CARD_NO_VALUE")&&n.push(e.callJedFunction("gettext","CHECKOUT::Please enter a valid card number."))),r.innerHTML=n.join("<br />")}function s(){r=document.getElementById("js-checkout-user-facing-errors"),l=document.getElementById("js-checkout-debug-errors")}var r=null,l=null;return{shouldShowErrors:n,updateErrors:a,updateErrorsByTokenizerError:i}}),define("quickerCheckoutRepo/lib/generic/paymentTokenizer",["jquery","quickerCheckoutRepo/lib/generic/i18n-config"],function(e,t){"use strict";function n(){return!!i}var a,i=null,s=null,r=!1;return{init:function(n,l,o,c){var u,d=new e.Deferred;if(a=n,s=document.getElementById(l),!n||!n.get("ANYWARE").CLIENT_ID||!n.get("ANYWARE").LANDSCAPE)throw new Error("Invalid configuration data passed. Make sure to supply CLIENT_ID and LANDSCAPE in the config");return window.TokenizerLib?(i=e(s),i.length||d.reject('Could not find element using selector "'+l+'" to mount tokenizer to'),s.innerHTML="",u={clientId:n.get("ANYWARE").CLIENT_ID,countryCode:c,container:s,cssOverridesUrl:n.get("ANYWARE").CSS_OVERRIDES_URL,landscape:n.get("ANYWARE").LANDSCAPE,languageCode:t.getLanguageCode(),additionalFeatureFlags:[]},window.TokenizerLib.initTokenizer(u),i.on("tokenizerLoaded",function(){d.resolve(i)}),i.on("tokenizerError",function(e,t){d.reject(t)}),d):(r||this.start(n.get("ANYWARE").EASY_XDM,n.get("ANYWARE").TOKENIZER_LIB),setTimeout(this.init.bind(this,n,l,o,c),100),d)},start:function(t,n){r=!0,e.getScript(t,function(){e.getScript(n)})},startAnyware:function(t){r=!0,e.getScript(t)},isInitialized:function(){return!!s},destroy:function(){i&&(window.TokenizerLib.destroyTokenizer(),i.remove(),i=null,s=null)},isEventSupported:function(e){return["configured","loaded","unloaded","resized","tokenReceived","errorEvent"].indexOf(e)>-1},setAddress:function(e){n()&&window.TokenizerLib.setTokenizerAddress(e)},clearData:function(){n()&&window.TokenizerLib.clearTokenizerData()},getToken:function(){var t;return t=new e.Deferred,n()?(i.on("tokenReceived",function(e,n){t.resolve(n)}),i.on("tokenizerError",function(e,n){t.reject(n)}),window.TokenizerLib.getToken(),t.promise()):t.reject().promise()},getBin:function(){var t;return t=new e.Deferred,n()?(i.on("getBin",function(e,n){t.resolve(n)}),i.on("tokenizerError",function(e,n){t.reject(n)}),window.TokenizerLib.getBin(),t.promise()):t.reject().promise()},unload:function(){var t;return t=e.Deferred(),n()?(window.TokenizerLib.destroyTokenizer(),t.resolve(),t.promise()):t.resolve().promise()},on:function(e,t){if(n()){if(!this.isEventSupported(e))throw new Error("Cannot register callback for unsupported event");i.on(e,t)}}}}),define("hbs!quickerCheckoutRepo/templates/newPayment",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'            <a id="js-checkout-goto-susi-button" class="blue picton-text">'+this.escapeExpression((i=null!=(i=t.headingLink||(null!=e?e.headingLink:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"headingLink",hash:{},data:a}):i))+"</a>\n"},3:function(e,t,n,a){return'style="padding-bottom: 0px;"'},5:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.customMessage,e,{name:"customMessage",hash:{message:null!=e?e.customMessage:e},data:a,indent:"            ",helpers:t,partials:n}))?i:""},7:function(e,t,n,a){var i;return'                        <h4 class="left-align margin-bottom-small js-free-trial-explanation" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.isUsPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.program(10,a,0),data:a}))?i:"")+'">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You will not be charged until after your free trial ends.",{name:"_",hash:{},data:a}))+"\n                        </h4>\n"},8:function(e,t,n,a){return"true"},10:function(e,t,n,a){return"false"},12:function(e,t,n,a){var i;return'                        <div class="column on-small-12" id="countries-select-paypal" data-is-hidden="true">\n'+(null!=(i=this.invokePartial(n.countriesSelect,e,{name:"countriesSelect",hash:{selectedCountryIso2Code:null!=e?e.countryIso2Code:e,countries:null!=e?e.countries:e},data:a,indent:"                            ",helpers:t,partials:n}))?i:"")+"                        </div>\n"},14:function(e,t,n,a){var i;return'                        <input type="hidden" id="current-country" name="country_code" value="'+this.escapeExpression((i=null!=(i=t.countryIso2Code||(null!=e?e.countryIso2Code:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"countryIso2Code",hash:{},data:a}):i))+'" />\n'},16:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.vatInput,e,{name:"vatInput",hash:{innTooltipText:null!=e?e.innTooltipText:e,hasInn:null!=e?e.hasInn:e},data:a,indent:"                            ",helpers:t,partials:n}))?i:""},18:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.rowNameInputs,e,{name:"rowNameInputs",data:a,indent:"                            ",helpers:t,partials:n}))?i:""},20:function(e,t,n,a){return"                                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Billing address",{name:"_",hash:{},data:a}))+"\n"},22:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.jpNameInputs,e,{name:"jpNameInputs",data:a,indent:"                                ",helpers:t,partials:n}))?i:""},24:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.stateProvincesInput,e,{name:"stateProvincesInput",hash:{stateProvinces:null!=e?e.stateProvinces:e},data:a,indent:"                                ",helpers:t,partials:n}))?i:""},26:function(e,t,n,a){var i;return'                                <div class="js-countries-select-column column '+(null!=(i=t.if.call(e,null!=e?e.isJapanese:e,{name:"if",hash:{},fn:this.program(27,a,0),inverse:this.program(29,a,0),data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n.countriesSelect,e,{name:"countriesSelect",hash:{selectedCountryIso2Code:null!=e?e.countryIso2Code:e,countries:null!=e?e.countries:e},data:a,indent:"                                    ",helpers:t,partials:n}))?i:"")+"                                </div>\n"},27:function(e,t,n,a){return"on-small-12"},29:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.hidePostalCode:e,{name:"if",hash:{},fn:this.program(27,a,0),inverse:this.program(30,a,0),data:a}))?i:""},30:function(e,t,n,a){return"on-small-6"},32:function(e,t,n,a){var i;return'                                <input type="hidden" name="country_code" value="'+this.escapeExpression((i=null!=(i=t.countryIso2Code||(null!=e?e.countryIso2Code:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"countryIso2Code",hash:{},data:a}):i))+'" />\n'},34:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.vatInput,e,{name:"vatInput",hash:{innTooltipText:null!=e?e.innTooltipText:e,hasInn:null!=e?e.hasInn:e},data:a,indent:"                                ",helpers:t,partials:n}))?i:""},36:function(e,t,n,a){return"grey mountain-mist-text"},38:function(e,t,n,a){var i;return'                            <a class="container-relative container-inline-block">\n                                <i class="mti-icon icon-info hover-trigger blue picton-text"></i>\n                                <div class="container-absolute h-align margin-top-small container-below hover-container in-front">\n                                    <div class="tooltip tooltip--primary tooltip--bottom">\n                                        <div class="padding-xsmall small-tooltip-body">\n                                            <span class="normal-whitespace text-small">\n                                                '+this.escapeExpression((i=null!=(i=t.productInfoTooltip||(null!=e?e.productInfoTooltip:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"productInfoTooltip",hash:{},data:a}):i))+"\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </a>\n"},40:function(e,t,n,a){var i;return'                        <div id="credit-pack-card">\n'+(null!=(i=this.invokePartial(n.creditPackLabel,e,{name:"creditPackLabel",hash:{data:null!=e?e.creditPackData:e},data:a,indent:"                            ",helpers:t,partials:n}))?i:"")+"                        </div>\n"+(null!=(i=this.invokePartial(n.orderTotals,e,{name:"orderTotals",hash:{isVATSupported:null!=e?e.isVATSupported:e,isGstExcluded:null!=e?e.isGstExcluded:e,isGSTSupported:null!=e?e.hasGst:e,total:null!=e?e.total:e,tax:null!=e?e.tax:e,subTotal:null!=e?e.subtotal:e},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")},42:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.assetSwitchCard,e,{name:"assetSwitchCard",data:a,indent:"                        ",helpers:t,partials:n}))?i:""},44:function(e,t,n,a){var i;return'            <div class="row">\n                <div class="column on-small-12">\n                    <div class="margin-xsmall">\n                        <div class="text-center text-small grey dove-text margin-top-large margin-bottom-'+(null!=(i=t.if.call(e,null!=e?e.isUsPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(45,a,0),inverse:this.program(47,a,0),data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n.termsAndConditions,e,{name:"termsAndConditions",data:a,indent:"                            ",helpers:t,partials:n}))?i:"")+"                        </div>\n                    </div>\n                </div>\n            </div>\n"},45:function(e,t,n,a){return"none"},47:function(e,t,n,a){return"medium"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="modal__header">\n    <span>\n        '+this.escapeExpression((s=null!=(s=t.heading||(null!=e?e.heading:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"heading",hash:{},data:a}):s))+"\n"+(null!=(i=t.if.call(e,null!=e?e.headingLink:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'    </span>\n</div>\n<form name="payment-information" class="margin-bottom-small">\n    <div class="modal__content js-checkout-new-payment-state" '+(null!=(i=t.if.call(e,null!=e?e.isUsPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="margin-top-medium margin-bottom-large">\n            <span id="js-checkout-user-facing-errors" class="red coral-text" data-is-hidden="true"></span>\n        </div>\n'+(null!=(i=t.if.call(e,null!=e?e.customMessage:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'        <div class="margin-large">\n            <span class="text-center text-regular red coral-text" id="js-newpayment-change-region-message" data-is-hidden="true">\n                '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Changing Regions: We noticed that you're setting up an account in %s. We've updated your cart to show the appropriate currency.",{name:"_",hash:{},data:a}),null!=e?e.country:e,{name:"sprintf",hash:{},data:a}))+'\n            </span>\n            <span class="text-center text-regular red coral-text" id="js-postlogin-change-region-message" data-is-hidden="true">\n                '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Changing Regions: We noticed that your Adobe ID is associated with %s. We've updated your cart to show the appropriate currency.",{name:"_",hash:{},data:a}),null!=e?e.country:e,{name:"sprintf",hash:{},data:a}))+'\n            </span>\n        </div>\n        <div class="row">\n            <div class="column on-small-12 on-medium-6">\n                <div class="padding-right-xlarge">\n'+(null!=(i=t.if.call(e,null!=e?e.isFmf:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'                    <h4 class="left-align margin-bottom-small">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Payment info",{name:"_",hash:{},data:a}))+'\n                    </h4>\n                    <input type="hidden" name="email" value="'+this.escapeExpression((s=null!=(s=t.email||(null!=e?e.email:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"email",hash:{},data:a}):s))+'">\n                    <div class="select-box container-full" id="js-new-payment-selection-wrapper" data-is-hidden="true">\n                        <select name="qe-new-payment-selection" class="input--full js-new-payment-selection" data-ignore-validation="true">\n                            <option value="" disabled="disabled">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Select payment type",{name:"_",hash:{},data:a}))+'</option>\n                            <option value="card" selected>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Credit or debit card",{name:"_",hash:{},data:a}))+'</option>\n                            <option value="paypal">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Paypal",{name:"_",hash:{},data:a}))+"</option>\n                        </select>\n                    </div>\n"+(null!=(i=t.if.call(e,null!=e?e.showCountries:e,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.program(14,a,0),data:a}))?i:"")+'                    <div class="js-vat-container" id="vat-container-paypal" data-is-hidden="true">\n'+(null!=(i=t.if.call(e,null!=e?e.isVatSupported:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+'                    </div>\n                    <div class="js-checkout-new-payment-hide-for-paypal js-row-name-inputs-container">\n'+(null!=(i=t.if.call(e,null!=e?e.isRow:e,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.noop,data:a}))?i:"")+'                    </div>\n                    <div class="js-checkout-new-payment-hide-for-paypal" id="js-checkout-parent-tokenizer-container">\n                        <div class="container-small-height" id="'+this.escapeExpression((s=null!=(s=t.tokenizerContainerId||(null!=e?e.tokenizerContainerId:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"tokenizerContainerId",hash:{},data:a}):s))+'">\n                            <div class="v-align-wrapper container-small-height">\n                                <div class="c-align">\n                                    <span class="spinner"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="js-checkout-new-payment-hide-for-paypal margin-top-medium">\n                        <h4 class="left-align margin-bottom-small">\n'+(null!=(i=t.if.call(e,null!=e?e.showBillingAddressLabel:e,{name:"if",hash:{},fn:this.program(20,a,0),inverse:this.noop,data:a}))?i:"")+'                        </h4>\n                        <div class="js-jp-name-inputs-container">\n'+(null!=(i=t.if.call(e,null!=e?e.isJapanese:e,{name:"if",hash:{},fn:this.program(22,a,0),inverse:this.noop,data:a}))?i:"")+'                        </div>\n                        <div class="js-street-inputs-container">\n'+(null!=(i=this.invokePartial(n.streetInputs,e,{name:"streetInputs",hash:{isSegmentedCountry:null!=e?e.isSegmentedCountry:e},data:a,indent:"                            ",helpers:t,partials:n}))?i:"")+'                        </div>\n                        <div class="js-state-provinces-container">\n'+(null!=(i=t.if.call(e,null!=e?e.isStateProvinceRequired:e,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.noop,data:a}))?i:"")+'                        </div>\n                        <div class="row">\n                            <div class="js-postal-inputs-container">\n'+(null!=(i=this.invokePartial(n.postalInputs,e,{name:"postalInputs",hash:{showCountries:null!=e?e.showCountries:e,isJapanese:null!=e?e.isJapanese:e},data:a,indent:"                                ",helpers:t,partials:n}))?i:"")+"                            </div>\n"+(null!=(i=t.if.call(e,null!=e?e.showCountries:e,{name:"if",hash:{},fn:this.program(26,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'                        </div>\n                        <div class="js-vat-container">\n'+(null!=(i=t.if.call(e,null!=e?e.isVatSupported:e,{name:"if",hash:{},fn:this.program(34,a,0),inverse:this.noop,data:a}))?i:"")+'                        </div>\n                        <div id="foreign-charge-text" data-is-hidden="'+this.escapeExpression((s=null!=(s=t.showForeignCharge||(null!=e?e.showForeignCharge:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"showForeignCharge",hash:{},data:a}):s))+'" class="column on-small-12 text-sregular left-align grey mountain-mist-text padding-top-small">\n                            '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Your card provider may charge you a %sforeign transaction fee%s.",{name:"_",hash:{},data:a}),'<span class="blue picton-text" id="foreign-charge-tooltip">',"</span>",{name:"sprintf",hash:{},data:a}))?i:"")+'\n                            <div class="tooltip tooltip--primary tooltip--bottom margin-top-small left" id="foreign-charge-tooltip-text" data-is-hidden="true">\n                                <span class="normal-whitespace text-small">\n                                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::By placing this order, you'll be making payments to a foreign entity (Adobe Systems Software Ireland Limited), and may be charged a foreign transaction fee. Please contact your card provider if you have questions.",{name:"_",hash:{},data:a}))+'\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="column on-small-12 on-medium-6">\n                <div class="border-left-1 bon-jour-border border-left-solid padding-left-large">\n                    <h4 class="left-align margin-bottom-small '+(null!=(i=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(36,a,0),inverse:this.noop,data:a}))?i:"")+'">\n                        '+this.escapeExpression((s=null!=(s=t.productInfoHeader||(null!=e?e.productInfoHeader:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"productInfoHeader",hash:{},data:a}):s))+"\n"+(null!=(i=t.if.call(e,null!=e?e.productInfoTooltip:e,{name:"if",hash:{},fn:this.program(38,a,0),inverse:this.noop,data:a}))?i:"")+"                    </h4>\n"+(null!=(i=t.if.call(e,null!=e?e.creditPackData:e,{name:"if",hash:{},fn:this.program(40,a,0),inverse:this.program(42,a,0),data:a}))?i:"")+"                </div>\n            </div>\n        </div>\n"+(null!=(i=t.if.call(e,null!=e?e.termsAndConditionsUrl:e,{name:"if",hash:{},fn:this.program(44,a,0),inverse:this.noop,data:a}))?i:"")+'        <div class="js-checkout-new-payment-confirm-info-message row" data-is-hidden="true">\n            <div class="column on-small-12">\n                <span class="text-center text-sregular grey dove-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Your order is almost ready, please confirm your info.",{name:"_",hash:{},data:a
}))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="js-checkout-new-payment-buttons-container modal__footer">\n        <div class="padding-left-xlarge padding-right-xlarge clear-fix">\n            <div class="padding-left-xlarge padding-right-small" id="checkout-button-container">\n                <div class="padding-left-small">\n                    <button id="js-checkout-continue-button" class="js-checkout-continue-button button button--dialog" type="submit" data-ignore-validation="true">\n                        <span class="js-checkout-new-payment-continue-button-standard-text" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.isUsPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.program(10,a,0),data:a}))?i:"")+'">\n                           '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Place Secure Order",{name:"_",hash:{},data:a}))+'\n                        </span>\n                        <span class="js-checkout-new-payment-agree-and-continue-button" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.isUsPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.program(8,a,0),data:a}))?i:"")+'">\n                           '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Agree and subscribe",{name:"_",hash:{},data:a}))+'\n                        </span>\n                        <span class="js-checkout-new-payment-continue-button-paypal-text" data-is-hidden="true">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue to PayPal",{name:"_",hash:{},data:a}))+'\n                        </span>\n                    </button>\n                    <i class="mti-icon mti-large icon-lock white-text"></i>\n                </div>\n            </div>\n\n            <div id="js-new-payment-tax-spinner" class="container-inline-block" data-is-hidden="true">\n            <span class="container-table">\n                <span class="container-table-row">\n                    <span class="container-table-cell">\n                        <span class="spinner spinner--small spinner--secondary"></span>\n                    </span>\n                    <span class="container-table-cell">\n                        <span class="white-text text-regular padding-left-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Updating your information...",{name:"_",hash:{},data:a}))+"</span>\n                    </span>\n                </span>\n            </span>\n            </div>\n        </div>\n    </div>\n</form>\n\n"+(null!=(i=this.invokePartial(n.binProfiling,e,{name:"binProfiling",data:a,helpers:t,partials:n}))?i:"")},usePartial:!0,useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/assetSwitchCard",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'style="border: none" '},3:function(e,t,n,a){return" switch--with-ribbon"},5:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.planInformation:e)?i.is_migration_promoted_plan:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:""},7:function(e,t,n,a){var i;return'                <div class="column on-small-12">\n                    <input class="js-buy-choice-plan hidden" type="radio" name="options" checked="checked" data-ignore-validation="true" />\n                    <span style="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.productTitleMarkup:e)?i.styles:i,e))+'"> '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.productTitleMarkup:e)?i.text:i,e))+" </span>\n                </div>\n"},9:function(e,t,n,a){var i;return'                <div class="column '+(null!=(i=t.if.call(e,null!=e?e.planInformation:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.program(12,a,0),data:a}))?i:"")+'">\n\n                    <input class="js-buy-choice-plan hidden" type="radio" name="options" checked="checked" data-ignore-validation="true" />\n\n                    <span>\n'+(null!=(i=t.if.call(e,null!=e?e.planInformation:e,{name:"if",hash:{},fn:this.program(14,a,0),inverse:this.program(16,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.assetDetail:e)?i.dimensions:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+"                    </span>\n\n"+(null!=(i=t.if.call(e,null!=e?e.productSubheading:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+'\n                    <div class="switch__content">\n'+(null!=(i=t.if.call(e,null!=e?e.planInformation:e,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.noop,data:a}))?i:"")+"                    </div>\n\n                </div>\n"+(null!=(i=t.unless.call(e,null!=e?e.planInformation:e,{name:"unless",hash:{},fn:this.program(29,a,0),inverse:this.noop,data:a}))?i:"")},10:function(e,t,n,a){return" on-small-12"},12:function(e,t,n,a){return" on-small-8"},14:function(e,t,n,a){var i;return'                            <strong id="js-plan-info-name">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.planInformation:e)?i.name:i,e))+"</strong>\n"},16:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.program(19,a,0),data:a}))?i:""},17:function(e,t,n,a){return""},19:function(e,t,n,a){var i;return"                                "+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetDetail:e)?i.asset_display_text:i,e))+"\n"},21:function(e,t,n,a){var i;return"                            <span>("+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetDetail:e)?i.dimensions:i,e))+")</span>\n"},23:function(e,t,n,a){var i;return'                        <div class="container-relative container-inline-block full-width">\n                            <span class="full-width hover-trigger ellipsis blue picton-text js-product-subheading">\n                                <span class="grey dove-text text-small margin-top-small">\n                                    '+this.escapeExpression((i=null!=(i=t.productSubheading||(null!=e?e.productSubheading:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"productSubheading",hash:{},data:a}):i))+'\n                                </span>\n                            </span>\n                            <div class="container-absolute h-align margin-top-small container-below hover-container in-front js-product-subheading-full" data-is-hidden="true">\n                                <div class="tooltip tooltip--primary tooltip--bottom">\n                                    <div class="padding-xsmall small-tooltip-body">\n                                        <span class="normal-whitespace text-small">\n                                            '+this.escapeExpression((i=null!=(i=t.productSubheadingFull||(null!=e?e.productSubheadingFull:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"productSubheadingFull",hash:{},data:a}):i))+"\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n"},25:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.planInformation:e)?i.info:i,{name:"if",hash:{},fn:this.program(26,a,0),inverse:this.noop,data:a}))?i:""},26:function(e,t,n,a){var i;return'                                <ul class="list-style-disc" id="js-plan-info-list">\n'+(null!=(i=t.each.call(e,null!=(i=null!=e?e.planInformation:e)?i.info:i,{name:"each",hash:{},fn:this.program(27,a,0),inverse:this.noop,data:a}))?i:"")+"                                </ul>\n"},27:function(e,t,n,a){return"                                        <li>\n                                            "+this.escapeExpression(this.lambda(e,e))+"\n                                        </li>\n"},29:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:""},30:function(e,t,n,a){var i;return'                        <div class="column on-small-12">\n                            <div class="padding-top-xsmall">\n                                <img style="width: 100%" alt="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetDetail:e)?i.title:i,e))+'" src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetDetail:e)?i.content_thumb_url:i,e))+'" class="responsive-img"/>\n                            </div>\n                        </div>\n'},32:function(e,t,n,a){var i;return'                        <div class="column on-small-4">\n                            <div>\n                                <img alt="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetDetail:e)?i.title:i,e))+'" src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetDetail:e)?i.content_thumb_url:i,e))+'" class="responsive-img"/>\n                            </div>\n                        </div>\n'},34:function(e,t,n,a){var i;return'            <strong class="mti-ribbon ribbon--top ribbon--left">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.planInformation:e)?i.best_value_text:i,{name:"if",hash:{},fn:this.program(35,a,0),inverse:this.program(37,a,0),data:a}))?i:"")+"            </strong>\n"},35:function(e,t,n,a){var i;return"                    "+this.escapeExpression(this.lambda(null!=(i=null!=e?e.planInformation:e)?i.best_value_text:i,e))+"\n"},37:function(e,t,n,a){var i;return'                    <span class="js-ribbon-risk-free-text" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.isUsPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(38,a,0),inverse:this.program(40,a,0),data:a}))?i:"")+'">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::One month trial, risk-free",{name:"_",hash:{},data:a}))+'\n                    </span>\n                    <span class="js-ribbon-text-free-trial" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.isUsPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(40,a,0),inverse:this.program(38,a,0),data:a}))?i:"")+'">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::One month free trial",{name:"_",hash:{},data:a}))+"\n                    </span>\n"},38:function(e,t,n,a){return"true"},40:function(e,t,n,a){return"false"},42:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.planInformation:e)?i.is_migration_promoted_plan:i,{name:"if",hash:{},fn:this.program(43,a,0),inverse:this.noop,data:a}))?i:""},43:function(e,t,n,a){return'            <strong class="mti-ribbon ribbon--top ribbon--left">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Get 33% off",{name:"_",hash:{},data:a}))+"</strong>\n        "},45:function(e,t,n,a){var i;return'            <div class="grey gravel-text margin-top-small margin-bottom-xsmall center-align">\n                <span class="text-sregular bold">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.selected_license:e)?i.asset_label:i,e))+'</span>\n                <span class="text-sregular">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.selected_license:e)?i.video_width:i,e))+" x "+this.escapeExpression(this.lambda(null!=(i=null!=e?e.selected_license:e)?i.video_height:i,e))+' px</span>\n            </div>\n            <hr class="margin-top-xsmall margin-bottom-xsmall">\n            <div>\n                <div class="row padding-top-xsmall">\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::License",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular right-align">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Enhanced",{name:"_",hash:{},data:a}))+'\n                        <span class="padding-left-xsmall">'+(null!=(i=this.invokePartial(n.infoTooltip,e,{name:"infoTooltip",hash:{list:null!=(i=null!=e?e.infoTooltipFormattedText:e)?i.list:i,title:null!=(i=null!=e?e.infoTooltipFormattedText:e)?i.title:i},data:a,helpers:t,partials:n}))?i:"")+'</span>\n                    </span>\n                </div>\n                <div class="row padding-top-xsmall">\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::File Type",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular text-uppercase right-align">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetDetail:e)?i.format:i,e))+'</span>\n                </div>\n                <div class="row padding-top-xsmall">\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::CODEC",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular right-align">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.selected_license:e)?i.video_codec:i,e))+'</span>\n                </div>\n                <div class="row padding-top-xsmall">\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Bit Rate",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular right-align">'+(null!=(i=(t.bitrate||e&&e.bitrate||t.helperMissing).call(e,null!=(i=null!=e?e.selected_license:e)?i.video_bitrate_in_kbps:i,{name:"bitrate",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+" "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Mbps",{name:"_",hash:{},data:a}))+'</span>\n                </div>\n                <div class="row padding-top-xsmall">\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Duration",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular right-align">'+this.escapeExpression((t.minutes||e&&e.minutes||t.helperMissing).call(e,null!=(i=null!=e?e.assetDetail:e)?i.duration:i,{name:"minutes",hash:{},data:a}))+'</span>\n                </div>\n                <div class="row padding-top-xsmall">\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Frame rate",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular right-align">'+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::%s FPS",{name:"_",hash:{},data:a}),(t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=e?e.assetDetail:e)?i.framerate:i,{name:"number",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))+"</span>\n                </div>\n            </div>\n"},47:function(e,t,n,a){var i;return"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.pricing:e)?i.subtotal:i)?i.formatted:i,{name:"if",hash:{},fn:this.program(48,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.annual_total:i,{name:"if",hash:{},fn:this.program(51,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},48:function(e,t,n,a){var i;return'            <div class="right-align padding-top-small">\n                <h3 class="grey dove-text" id="checkout-fmf-subtotal">\n                    '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::SUBTOTAL: %s",{name:"_",hash:{},data:a}),null!=(i=null!=(i=null!=e?e.pricing:e)?i.subtotal:i)?i.formatted:i,{name:"sprintf",hash:{},data:a}))+'\n                </h3>\n                <h3 class="grey dove-text"\n'+(null!=(i=t.unless.call(e,null!=e?e.shouldShowTax:e,{name:"unless",hash:{},fn:this.program(49,a,0),inverse:this.noop,data:a}))?i:"")+'                    id="checkout-fmf-tax">\n'+(null!=(i=this.invokePartial(n.orderTax,e,{name:"orderTax",hash:{isVatSupported:null!=e?e.isVatSupported:e,isGstExcluded:null!=e?e.isGstExcluded:e,hasGst:null!=e?e.hasGst:e,tax:null!=e?e.tax:e,taxText:null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.tax_is:i},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+'                </h3>\n                <h3 class="green apple-text" id="checkout-fmf-savings">\n                    '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::FIRST MONTH FREE: - %s",{name:"_",hash:{},data:a}),null!=(i=null!=(i=null!=e?e.pricing:e)?i.savings:i)?i.formatted:i,{name:"sprintf",hash:{},data:a}))+'\n                </h3>\n                <h3>\n                    <strong id="checkout-fmf-total">\n                        '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::TOTAL DUE NOW: %s",{name:"_",hash:{},data:a}),null!=(i=null!=(i=null!=e?e.pricing:e)?i.total_due_now:i)?i.formatted:i,{name:"sprintf",hash:{},data:a}))+"\n                    </strong>\n                </h3>\n            </div>\n"},49:function(e,t,n,a){return'                        data-is-hidden="true"\n'},51:function(e,t,n,a){var i;return'            <h4 class="margin-top-xxsmall margin-bottom-xxsmall right-align padding-bottom-medium">\n            <span class="grey dove-text">\n                <span id="js-checkout-annual-total" '+(null!=(i=t.unless.call(e,null!=e?e.isGerman:e,{name:"unless",hash:{},fn:this.program(52,a,0),inverse:this.noop,data:a}))?i:"")+">\n                    "+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.annual_total_is:i,e))+"\n                </span>\n            </span>\n            </h4>\n"},52:function(e,t,n,a){return'data-is-hidden="true"'},54:function(e,t,n,a){var i;return'\n        <div class="right-align '+(null!=(i=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(55,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(57,a,0),inverse:this.program(60,a,0),data:a}))?i:"")+"        </div>\n\n"},55:function(e,t,n,a){return"padding-top-large"},57:function(e,t,n,a){var i;return'                <h4 class="grey dove-text text-regular">\n                    <span id="js-checkout-subtotal">\n                        '+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.subtotal_is:i,e))+'\n                    </span>\n                </h4>\n                <h3 class="grey dove-text text-regular">\n                    <span id="js-checkout-tax">\n'+(null!=(i=this.invokePartial(n.orderTax,e,{name:"orderTax",hash:{isVatSupported:null!=e?e.isVatSupported:e,isGstExcluded:null!=e?e.isGstExcluded:e,hasGst:null!=e?e.hasGst:e,tax:null!=e?e.tax:e,taxText:null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.tax_is:i},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+'                    </span>\n                </h3>\n                <h4 class="text-regular margin-bottom-small">\n                    <strong>\n                        <span id="js-checkout-total">\n                            '+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.total_is:i,e))+"\n                        </span>\n                    </strong>\n                </h4>\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.annual_total:i,{name:"if",hash:{},fn:this.program(58,a,0),inverse:this.noop,data:a}))?i:"")},58:function(e,t,n,a){var i;return'                    <h3 class="grey dove-text text-regular">\n                        <span id="js-checkout-annual-total" '+(null!=(i=t.unless.call(e,null!=e?e.isGerman:e,{name:"unless",hash:{},fn:this.program(52,a,0),inverse:this.noop,data:a}))?i:"")+">\n                            "+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.annual_total_is:i,e))+"\n                        </span>\n                    </h3>\n"},60:function(e,t,n,a){var i;return'                <h3 class="grey dove-text">\n                    <span id="js-checkout-subtotal">\n                        '+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.subtotal_is:i,e))+'\n                    </span>\n                </h3>\n                <h3 class="grey dove-text">\n                    <span id="js-checkout-tax">\n'+(null!=(i=this.invokePartial(n.orderTax,e,{name:"orderTax",hash:{isVatSupported:null!=e?e.isVatSupported:e,isGstExcluded:null!=e?e.isGstExcluded:e,hasGst:null!=e?e.hasGst:e,tax:null!=e?e.tax:e,taxText:null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.tax_is:i},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+'                    </span>\n                </h3>\n                <h3>\n                    <strong>\n                        <span id="js-checkout-total">\n                            '+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.total_is:i,e))+"\n                        </span>\n                    </strong>\n                </h3>\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.annual_total:i,{name:"if",hash:{},fn:this.program(61,a,0),inverse:this.noop,data:a}))?i:"")},61:function(e,t,n,a){var i;return'                    <h3 class="grey dove-text">\n                        <span id="js-checkout-annual-total" '+(null!=(i=t.unless.call(e,null!=e?e.isGerman:e,{name:"unless",hash:{},fn:this.program(52,a,0),inverse:this.noop,data:a}))?i:"")+">\n                            "+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.annual_total_is:i,e))+"\n                        </span>\n                    </h3>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return"<div>\n    <label "+(null!=(i=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' class="switch switch--card'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.planInformation:e)?i.is_fmf:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+' margin-top-medium" data-active="true">\n        <div class="row">\n'+(null!=(i=t.if.call(e,null!=e?e.productTitleMarkup:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+"        </div>\n\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.planInformation:e)?i.is_fmf:i,{name:"if",hash:{},fn:this.program(34,a,0),inverse:this.program(42,a,0),data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(45,a,0),inverse:this.noop,data:a}))?i:"")+"    </label>\n\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.planInformation:e)?i.is_fmf:i,{name:"if",hash:{},fn:this.program(47,a,0),inverse:this.program(54,a,0),data:a}))?i:"")+"\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/address/jpNameInputs",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<input type="text" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Last name",{name:"_",hash:{},data:a}))+'" name="last_name" id="last_name" class="input--full" />\n<input type="text" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Name",{name:"_",hash:{},data:a}))+'" name="first_name" id="first_name" class="input--full" />\n<input type="text" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Last name phonetic",{name:"_",hash:{},data:a}))+'" name="pronunciation_last_name" class="input--full" />\n<input type="text" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::First name phonetic",{name:"_",hash:{},data:a}))+'" name="pronunciation_first_name" class="input--full" />\n'},useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/address/rowNameInputs",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'        <div class="column on-small-6">\n            <input type="text" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Last name",{name:"_",hash:{},data:a}))+'" name="last_name" id="last_name" class="input--full" />\n        </div>\n        <div class="column on-small-6">\n            <input type="text" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::First name",{name:"_",hash:{},data:a}))+'" name="first_name" id="first_name" class="input--full" />\n        </div>\n'},3:function(e,t,n,a){return'        <div class="column on-small-6">\n            <input type="text" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::First name",{name:"_",hash:{},data:a}))+'" name="first_name" id="first_name" class="input--full" />\n        </div>\n        <div class="column on-small-6">\n            <input type="text" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Last name",{name:"_",hash:{},data:a}))+'" name="last_name" id="last_name" class="input--full" />\n        </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n'+(null!=(i=t.if.call(e,null!=e?e.areNameFieldsInverted:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+"</div>\n"},useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/address/stateProvincesInput",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'            <option value="'+this.escapeExpression(this.lambda(null!=e?e.code:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.name:e,e))+"</option>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="select-box container-full">\n    <select name="state_province_code" id="state_province_code" class="input--full">\n        <option value="">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Select state / province",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(i=t.each.call(e,null!=e?e.stateProvinces:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"    </select>\n</div>"},useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/address/streetInputs",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <input type="text" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Street address 1",{name:"_",hash:{},data:a}))+'" name="street_1" id="street_1" class="input--full" />\n'+(null!=(i=t.if.call(e,null!=e?e.isCityFieldRequired:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")},2:function(e,t,n,a){return'        <input type="text" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::City",{name:"_",hash:{},data:a}))+'" name="city" id="city" class="input--full" />\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isSegmentedCountry:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/address/vatInput",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.showInfoTooltip:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:""},2:function(e,t,n,a){var i;return'        <div class="column on-small-10">\n            <input type="text" name="vat_id" id="vat_id" placeholder="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.tax_id_label:i,e))+'" class="input--full" />\n        </div>\n        <div class="column on-small-2">\n'+(null!=(i=this.invokePartial(n.infoTooltip,e,{name:"infoTooltip",hash:{widthClass:"container-small-width",text:null!=e?e.infoTooltipText:e},data:a,indent:"            ",helpers:t,partials:n}))?i:"")+"        </div>\n"},4:function(e,t,n,a){var i;return'        <input type="text" name="vat_id" id="vat_id" placeholder="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.tax_id_label:i,e))+'" class="input--full" />\n'},6:function(e,t,n,a){var i;return"    \x3c!--TODO Clean up the else part with STK-22721--\x3e\n"+(null!=(i=t.if.call(e,null!=e?e.hasGst:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")},7:function(e,t,n,a){return'        <input type="text" name="gst_id" id="gst_id" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::VAT Number",{name:"_",hash:{},data:a}))+'" class="input--full" />\n'},9:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.showInfoTooltip:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.program(15,a,0),data:a}))?i:""},10:function(e,t,n,a){var i;return'        <div class="column on-small-10">\n            <input type="text" name="vat_id" id="vat_id" placeholder="'+(null!=(i=t.if.call(e,null!=e?e.hasInn:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+'" class="input--full" />\n        </div>\n        <div class="column on-small-2">\n'+(null!=(i=this.invokePartial(n.infoTooltip,e,{name:"infoTooltip",hash:{widthClass:"container-small-width",text:null!=e?e.infoTooltipText:e},data:a,indent:"            ",helpers:t,partials:n}))?i:"")+"        </div>\n"},11:function(e,t,n,a){return this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::INN Number",{name:"_",hash:{},data:a}))},13:function(e,t,n,a){return this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::VAT Number",{name:"_",hash:{},data:a}))},15:function(e,t,n,a){return'        <input type="text" name="vat_id" id="vat_id" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::VAT Number",{name:"_",hash:{},data:a}))+'" class="input--full" />\n    '},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.pricing:e)?i.template_text:i)?i.tax_id_label:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(6,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/address/countriesSelect",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r;return'            <option value="'+this.escapeExpression(this.lambda(null!=e?e.iso2_code:e,e))+'" '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=s[1]?s[1].selectedCountryIso2Code:s[1],logic:"eq",value:null!=e?e.iso2_code:e},fn:this.program(2,a,0,i,s),inverse:this.noop,data:a}))?r:"")+">"+this.escapeExpression(this.lambda(null!=e?e.name:e,e))+"</option>\n"},2:function(e,t,n,a){return'selected="selected"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r
;return'<div class="select-box container-full">\n    <select name="country_code" class="js-country-code input--full">\n        <option value="">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Select Country / Region",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(r=t.each.call(e,null!=e?e.countries:e,{name:"each",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"    </select>\n</div>\n"},useData:!0,useDepths:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/address/postalInputs",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'    <div class="column on-small-12">\n        <div class="row">\n            <div class="column on-small-5">\n                <input type="text" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Postal code",{name:"_",hash:{},data:a}))+'" name="postal_code_1" id="postal_code_1" class="js-jp-postal-code-input input--full" />\n            </div>\n            <div class="column on-small-1"><span> - </span></div>\n            <div class="column on-small-6">\n                <input type="text" name="postal_code_2" id="postal_code_2" class="js-jp-postal-code-input input--full" />\n            </div>\n        </div>\n    </div>\n'},3:function(e,t,n,a){var i,s;return'    <div id="row-postal-input-container" data-is-hidden="'+this.escapeExpression((s=null!=(s=t.hidePostalCode||(null!=e?e.hidePostalCode:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"hidePostalCode",hash:{},data:a}):s))+'">\n        <div class="column '+(null!=(i=t.if.call(e,null!=e?e.showCountries:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+'">\n            <input type="text" placeholder="'+this.escapeExpression((s=null!=(s=t.postalCodePlaceholderText||(null!=e?e.postalCodePlaceholderText:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"postalCodePlaceholderText",hash:{},data:a}):s))+'" name="postal_code" id="postal_code" class="input--full" />\n        </div>\n    </div>\n'},4:function(e,t,n,a){return"on-small-6"},6:function(e,t,n,a){return"on-small-12"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isJapanese:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/orderTotals",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"                "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Cost per pack: %s",{name:"_",hash:{},data:a}),null!=e?e.real_subtotal:e,{name:"sprintf",hash:{},data:a}))+"\n"},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.hasGst:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:""},4:function(e,t,n,a){return"                    "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Subtotal: %s",{name:"_",hash:{},data:a}),null!=e?e.real_subtotal:e,{name:"sprintf",hash:{},data:a}))+"\n"},6:function(e,t,n,a){return"                    "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Subtotal: %s",{name:"_",hash:{},data:a}),null!=e?e.subTotal:e,{name:"sprintf",hash:{},data:a}))+"\n"},8:function(e,t,n,a){var i;return'            <span data-t="qc-tax" id="js-checkout-tax">'+(null!=(i=t.if.call(e,null!=e?e.tax:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.program(11,a,0),data:a}))?i:"")+"</span>\n"},9:function(e,t,n,a){return this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::GST: %s",{name:"_",hash:{},data:a}),null!=e?e.tax:e,{name:"sprintf",hash:{},data:a}))},11:function(e,t,n,a){return this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::GST: Not Yet Calculated",{name:"_",hash:{},data:a}))},13:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isVATSupported:e,{name:"if",hash:{},fn:this.program(14,a,0),inverse:this.program(19,a,0),data:a}))?i:""},14:function(e,t,n,a){var i;return'            <span data-t="qc-tax" id="js-checkout-tax">'+(null!=(i=t.if.call(e,null!=e?e.tax:e,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.program(17,a,0),data:a}))?i:"")+"</span>\n"},15:function(e,t,n,a){return this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::VAT: %s",{name:"_",hash:{},data:a}),null!=e?e.tax:e,{name:"sprintf",hash:{},data:a}))},17:function(e,t,n,a){return this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::VAT: Not Yet Calculated",{name:"_",hash:{},data:a}))},19:function(e,t,n,a){var i;return'            <span data-t="qc-tax" id="js-checkout-tax">'+(null!=(i=t.if.call(e,null!=e?e.tax:e,{name:"if",hash:{},fn:this.program(20,a,0),inverse:this.program(22,a,0),data:a}))?i:"")+"</span>\n        "},20:function(e,t,n,a){return this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Tax: %s",{name:"_",hash:{},data:a}),null!=e?e.tax:e,{name:"sprintf",hash:{},data:a}))},22:function(e,t,n,a){return this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Tax: Not Yet Calculated",{name:"_",hash:{},data:a}))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="right-align margin-top-medium">\n    <div>\n        <span data-t="qc-subtotal" id="js-checkout-subtotal">\n'+(null!=(i=t.if.call(e,null!=e?e.isTeamCreditPack:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+"        </span>\n    </div>\n    <div>\n"+(null!=(i=t.if.call(e,null!=e?e.isGSTSupported:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+'    </div>\n    <div>\n        <span data-t="qc-total" id="js-checkout-total">\n            <strong>\n                '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Total: %s",{name:"_",hash:{},data:a}),null!=e?e.total:e,{name:"sprintf",hash:{},data:a}))+"\n            </strong>\n        </span>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/orderTax",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return"    "+this.escapeExpression((i=null!=(i=t.taxText||(null!=e?e.taxText:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"taxText",hash:{},data:a}):i))+"\n"},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.hasGst:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(9,a,0),data:a}))?i:""},4:function(e,t,n,a){var i;return"        "+(null!=(i=t.if.call(e,null!=e?e.tax:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+"\n"},5:function(e,t,n,a){return this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::GST: %s",{name:"_",hash:{},data:a}),null!=e?e.tax:e,{name:"sprintf",hash:{},data:a}))},7:function(e,t,n,a){return this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::GST: Not Yet Calculated",{name:"_",hash:{},data:a}))},9:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isVatSupported:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.program(15,a,0),data:a}))?i:""},10:function(e,t,n,a){var i;return"        "+(null!=(i=t.if.call(e,null!=e?e.tax:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+"\n"},11:function(e,t,n,a){return this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::VAT: %s",{name:"_",hash:{},data:a}),null!=e?e.tax:e,{name:"sprintf",hash:{},data:a}))},13:function(e,t,n,a){return this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::VAT: Not Yet Calculated",{name:"_",hash:{},data:a}))},15:function(e,t,n,a){var i;return"        "+(null!=(i=t.if.call(e,null!=e?e.tax:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.program(18,a,0),data:a}))?i:"")+"\n    "},16:function(e,t,n,a){return this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Tax: %s",{name:"_",hash:{},data:a}),null!=e?e.tax:e,{name:"sprintf",hash:{},data:a}))},18:function(e,t,n,a){return this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Tax: Not Yet Calculated",{name:"_",hash:{},data:a}))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.taxText:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/customMessage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="margin-top-medium margin-bottom-large">\n  <span class="red coral-text">\n      '+this.escapeExpression((i=null!=(i=t.message||(null!=e?e.message:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"message",hash:{},data:a}):i))+"\n  </span>\n</div>"},useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/termsAndConditions",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return"        <span>\n"+(null!=(i=t.if.call(e,null!=e?e.enterpriseTermsUrl:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+"        </span>\n"},2:function(e,t,n,a){var i;return"                "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::This purchase will be made on behalf of your organization.%sUpon clicking this button you agree to the %sTerms & Conditions%s and the %sAdobe Stock PSLT%s, you also confirm you have the authority to make this purchase.",{name:"_",hash:{},data:a}),"</br>",(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.enterpriseTermsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},4:function(e,t,n,a){var i;return"                "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::This purchase will be made on behalf of your organization.%sUpon clicking this button you agree to the %sTerms & Conditions%s and the %sTerms of Use%s, you also confirm you have the authority to make this purchase.",{name:"_",hash:{},data:a}),"</br>",(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},6:function(e,t,n,a){var i;return'        <span id="js-default-terms-acceptance" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.isDefaultTerms:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+'">\n        '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::By clicking this button I agree to the %sTerms & Conditions%s",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text js-terms-url"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'\n        </span>\n\n        <span id="js-german-terms-acceptance" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.isGerman:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+'">\n            <span class="js-checkout-new-payment-confirm-info-message">\n                '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,'CHECKOUT::If everything on this page is correct, click "place secure order". By clicking, you agree to the %sSubscription and Cancellation Terms%s. These Terms will also be sent to your email.',{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text js-terms-url"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'\n            </span>\n        </span>\n\n        <span id="js-us-terms-acceptance" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.isUS:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+'">\n'+(null!=(i=t.if.call(e,null!=e?e.isPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.program(28,a,0),data:a}))?i:"")+"        </span>\n"},7:function(e,t,n,a){return"false"},9:function(e,t,n,a){return"true"},11:function(e,t,n,a){var i;return'                <h4 class="left-align">\n'+(null!=(i=t.if.call(e,null!=e?e.isFmf:e,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.program(17,a,0),data:a}))?i:"")+"                </h4>\n"},12:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isSignedIn:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.program(15,a,0),data:a}))?i:""},13:function(e,t,n,a){var i;return"                            "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,'CHECKOUT::By clicking "Agree and subscribe," you agree to the following: %sAfter your trial ends, you will be charged %s (plus tax) monthly and, at the end of your one-year term, your subscription will automatically renew monthly until you cancel (price subject to change). Cancel before your trial ends and you will not be charged. No annual commitment required after the first year. Cancel anytime via %sAdobe Account%s or %sCustomer Support%s.%s You also agree to the %sTerms of Use%s and the %sSubscription and Cancellation Terms%s.',{name:"_",hash:{},data:a}),"<b>",null!=e?e.subtotal:e,(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.adobeAccountUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.customerSupportUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),"</b>",(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text js-terms-url"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},15:function(e,t,n,a){var i;return"                            "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,'CHECKOUT::By clicking "Agree and subscribe," you agree to the following: %sAfter your trial ends, you will be charged %s (plus tax) monthly and, at the end of your one-year term, your subscription will automatically renew monthly until you cancel (price subject to change). Cancel before your trial ends and you will not be charged. No annual commitment required after the first year. Cancel anytime via Adobe Account or %sCustomer Support%s.%s You also agree to the %sTerms of Use%s and the %sSubscription and Cancellation Terms%s.',{name:"_",hash:{},data:a}),"<b>",null!=e?e.subtotal:e,(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.customerSupportUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),"</b>",(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text js-terms-url"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},17:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isAnnualCommitmentAndPaidMonthly:e,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.program(23,a,0),data:a}))?i:""},18:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isSignedIn:e,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.program(21,a,0),data:a}))?i:""},19:function(e,t,n,a){var i;return"                            "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,'CHECKOUT::By clicking "Agree and subscribe," you agree to the following: %sYou will be charged %s (plus tax) monthly and, at the end of your one-year term, your subscription will automatically renew monthly until you cancel (price subject to change). No annual commitment required after the first year. Cancel anytime via %sAdobe Account%s or %sCustomer Support%s.%s You also agree to the %sTerms of Use%s and the %sSubscription and Cancellation Terms%s.',{name:"_",hash:{},data:a}),"<b>",null!=e?e.subtotal:e,(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.adobeAccountUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.customerSupportUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),"</b>",(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text js-terms-url"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},21:function(e,t,n,a){var i;return"                            "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,'CHECKOUT::By clicking "Agree and subscribe," you agree to the following: %sYou will be charged %s (plus tax) monthly and, at the end of your one-year term, your subscription will automatically renew monthly until you cancel (price subject to change). No annual commitment required after the first year. Cancel anytime via Adobe Account or %sCustomer Support%s.%s You also agree to the %sTerms of Use%s and the %sSubscription and Cancellation Terms%s.',{name:"_",hash:{},data:a}),"<b>",null!=e?e.subtotal:e,(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.customerSupportUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),"</b>",(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text js-terms-url"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},23:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.isSignedIn:e,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.program(26,a,0),data:a}))?i:"")+"                    "},24:function(e,t,n,a){var i;return"                            "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,'CHECKOUT::By clicking "Agree and subscribe," you agree to the following: %sYou will be charged %s (plus tax) monthly and your subscription will automatically renew monthly until you cancel (price subject to change). Cancel anytime via %sAdobe Account%s or %sCustomer Support%s.%s You also agree to the %sTerms of Use%s and the %sSubscription and Cancellation Terms%s.',{name:"_",hash:{},data:a}),"<b>",null!=e?e.subtotal:e,(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.adobeAccountUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.customerSupportUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),"</b>",(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text js-terms-url"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},26:function(e,t,n,a){var i;return"                            "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,'CHECKOUT::By clicking "Agree and subscribe," you agree to the following: %sYou will be charged %s (plus tax) monthly and your subscription will automatically renew monthly until you cancel (price subject to change). Cancel anytime via Adobe Account or %sCustomer Support%s.%s You also agree to the %sTerms of Use%s and the %sSubscription and Cancellation Terms%s.',{name:"_",hash:{},data:a}),"<b>",null!=e?e.subtotal:e,(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.customerSupportUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),"</b>",(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text js-terms-url"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},28:function(e,t,n,a){var i;return"                "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::By clicking this button I agree to the %sTerms & Conditions%s",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text js-terms-url"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<span id="js-terms-acceptance-wrapper">\n'+(null!=(i=t.if.call(e,null!=e?e.isCceMemberPurchase:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+"</span>\n"},useData:!0})}),define("hbs!coreComponents/InfoTooltip/templates/infoTooltip",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'        <i class="mti-icon '+(null!=(i=t.if.call(e,null!=e?e.icon:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+" hover-trigger "+this.escapeExpression((s=null!=(s=t.iconColor||(null!=e?e.iconColor:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"iconColor",hash:{},data:a}):s))+'"></i>\n        <div class="container-absolute container-small-width c-align padding-right-xsmall hover-container in-front" style="transform:translate(-100%,-50%)">\n            <div class="tooltip tooltip--primary tooltip--left left-align">\n                <div class="padding-xsmall">\n'+(null!=(i=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'                    <div class="margin-left-medium">\n                        <ul class="list-style-disc text-small normal-whitespace">\n'+(null!=(i=t.each.call(e,null!=e?e.list:e,{name:"each",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+"                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n"},2:function(e,t,n,a){var i;return" "+this.escapeExpression((i=null!=(i=t.icon||(null!=e?e.icon:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"icon",hash:{},data:a}):i))+" "},4:function(e,t,n,a){return" icon-info "},6:function(e,t,n,a){var i;return'                        <div class="margin-bottom-medium text-small">\n                            <strong>'+this.escapeExpression((i=null!=(i=t.title||(null!=e?e.title:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"title",hash:{},data:a}):i))+"</strong>\n                        </div> \n"},8:function(e,t,n,a){return"                                <li>"+this.escapeExpression(this.lambda(e,e))+"</li>\n"},10:function(e,t,n,a){var i,s;return'        <i class="mti-icon '+(null!=(i=t.if.call(e,null!=e?e.icon:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(11,a,0),data:a}))?i:"")+" hover-trigger "+this.escapeExpression((s=null!=(s=t.iconColor||(null!=e?e.iconColor:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"iconColor",hash:{},data:a}):s))+'"></i>\n        <div class="container-absolute '+(null!=(i=t.if.call(e,null!=e?e.widthClass:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.program(15,a,0),data:a}))?i:"")+' container-above h-align padding-bottom-small hover-container in-front">\n            <div class="tooltip tooltip--primary tooltip--top left-align">\n                <div class="padding-xsmall">\n                    <span class="normal-whitespace text-small">\n'+(null!=(i=t.if.call(e,null!=e?e.textList:e,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.program(20,a,0),data:a}))?i:"")+"                    </span>\n                </div>\n            </div>\n        </div>\n"},11:function(e,t,n,a){return" icon-infofull "},13:function(e,t,n,a){var i;return" "+this.escapeExpression((i=null!=(i=t.widthClass||(null!=e?e.widthClass:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"widthClass",hash:{},data:a}):i))+" "},15:function(e,t,n,a){return" container-xsmall "},17:function(e,t,n,a){var i;return"                            <ul>\n"+(null!=(i=t.each.call(e,null!=e?e.textList:e,{name:"each",hash:{},fn:this.program(18,a,0),inverse:this.noop,data:a}))?i:"")+"                            </ul>\n"},18:function(e,t,n,a){return"                                    <li>"+this.escapeExpression(this.lambda(e,e))+"</li>\n"},20:function(e,t,n,a){var i;return"                            "+this.escapeExpression((i=null!=(i=t.text||(null!=e?e.text:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"text",hash:{},data:a}):i))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<a class="container-relative container-inline-block grey mountain-mist-text">\n'+(null!=(i=t.if.call(e,null!=e?e.list:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(10,a,0),data:a}))?i:"")+"</a>\n"},useData:!0})}),define("quickerCheckoutRepo/services/binProfile",["module","jquery","quickerCheckoutRepo/lib/generic/ajax","quickerCheckoutRepo/lib/generic/paymentTokenizer","quickerCheckoutRepo/lib/utils/config"],function(e,t,n,a,i){"use strict";function s(e,t){this._endpoint=i.get("base_url")+"/Ajax/Checkout/CardinalToken",this._isStrongAuthenticationCountry=e,this._state=t,this._cardinalOrigin=t.cardinal_origin}var r=s.prototype;r._getJWTFromCommerce=function(e,a,i){var s=t.Deferred();return n.ajax({type:"POST",url:this._endpoint,data:{order_number:e,total_amount:a,currency_code:i}}).then(function(e){s.resolve(e.json_web_token.web_token)}).fail(function(e,t,n){s.reject(n)}),s.promise()},r._postJWTToCardinal=function(e,n){var a=t.Deferred(),i=this._cardinalOrigin;return document.getElementById("authToken").value=e,document.getElementById("binNumber").value=n,document.getElementById("binProfileForm").submit(),window.addEventListener("message",function(e){var t;if(e.origin===i){try{t=JSON.parse(e.data)}catch(e){a.reject("unable to parse event.data payload from cardinal")}if("profile.completed"===t.MessageType)return void a.resolve(t.SessionId);a.reject("profile.completed message not received from cardinal")}},!1),a.promise()},r.getSessionId=function(e,n,i,s){var r=this;return t.when(this._getJWTFromCommerce(e,n,i),s||a.getBin()).then(function(e,t){return r._postJWTToCardinal(e,t)})},r.getSessionIdIfRequired=function(e,n){var a=t.Deferred(),i=this._isStrongAuthenticationCountry&&this._state.feature_flags.isTwoFactorAuthenticationForEUEnabled&&!n;return a.resolve(),i?this.getSessionId(this._state.order_number,this._state.pricing.total.number,this._state.pricing.total.currency,e):a},e.exports=s}),define("hbs!quickerCheckoutRepo/templates/partials/binProfiling",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<iframe height="0" width="0" name="binProfileIFrame" id="binProfileIFrame" src="">\n</iframe>\n\n<form id="binProfileForm" name="binProfileIFrame" method="post" action="'+this.escapeExpression((i=null!=(i=t.cruiseCollectEndpoint||(null!=e?e.cruiseCollectEndpoint:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"cruiseCollectEndpoint",hash:{},data:a
}):i))+'" target="binProfileIFrame">\n    <input type="hidden" name="JWT"  id="authToken"/>\n    <input type="hidden" name="AccountNumber" id="binNumber" />\n</form>\n'},useData:!0})}),define("quickerCheckoutRepo/states/newPayment",["jquery","quickerCheckoutRepo/lib/utils/config","quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/lib/storage/data","quickerCheckoutRepo/services/countries","quickerCheckoutRepo/services/paymentInstruments","quickerCheckoutRepo/services/validation","quickerCheckoutRepo/services/address","quickerCheckoutRepo/services/changeCountryUpdater","quickerCheckoutRepo/services/errorRenderer","quickerCheckoutRepo/lib/generic/paymentTokenizer","hbs!quickerCheckoutRepo/templates/newPayment","hbs!quickerCheckoutRepo/templates/partials/assetSwitchCard","hbs!quickerCheckoutRepo/templates/partials/address/jpNameInputs","hbs!quickerCheckoutRepo/templates/partials/address/rowNameInputs","hbs!quickerCheckoutRepo/templates/partials/address/stateProvincesInput","hbs!quickerCheckoutRepo/templates/partials/address/streetInputs","hbs!quickerCheckoutRepo/templates/partials/address/vatInput","hbs!quickerCheckoutRepo/templates/partials/address/countriesSelect","hbs!quickerCheckoutRepo/templates/partials/address/postalInputs","quickerCheckoutRepo/lib/utils/utils","quickerCheckoutRepo/events/modalEvents","hbs!quickerCheckoutRepo/templates/partials/creditPackLabel","hbs!quickerCheckoutRepo/templates/partials/orderTotals","hbs!quickerCheckoutRepo/templates/partials/orderTax","hbs!quickerCheckoutRepo/templates/partials/customMessage","hbs!quickerCheckoutRepo/templates/partials/termsAndConditions","hbs!coreComponents/InfoTooltip/templates/infoTooltip","quickerCheckoutRepo/services/binProfile","hbs!quickerCheckoutRepo/templates/partials/binProfiling","quickerCheckoutRepo/lib/utils/utils"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C,S,I,O,k,A,R,x){"use strict";function P(){return Ke}function L(e){Ke=e}function D(n,a,c,A){var P;return te=new i(t.get("endpoint")),ne=new l,ie=new s(t.get("apiEndpointWithVersion")),Re=a,Pe=n,Le=c,De=A,Me=!!n.plan_information,Ue=n.feature_flags&&n.feature_flags.isNewLegalCopyEnabled,P=function(e){ie.resetCache(),u.unload().then(function(){typeof e==typeof Function&&(e.call(null),u.destroy())}),Ke={}},ie.setStateDataInCache(n.country_iso2_code,n),Le(!1,!1,!1,He),De(n),e.when(te.getCountry(n.country_iso2_code),te.isStateProvinceRequired(n.country_iso2_code),te.isVatSupported(n.country_iso2_code),te.getStateProvinces(n.country_iso2_code),te.isStrongAuthenticationCountry(n.country_iso2_code),n.is_signed_in||n.is_ghost_user?[]:te.getWebSellableCountries(n.country_iso2_code)).then(function(t,i,s,l,c,u){var A,L,D="JP"===n.country_iso2_code,w=n.is_segmented_country,U=!n.is_signed_in&&!n.is_ghost_user,F=n.show_postal_code,j=null,H=null,V=n.is_gst_supported&&!n.is_gst_excluded||n.is_vat_supported&&n.is_vat_included;Be=u,we=c,ae=new r(n.country_iso2_code,t.is_vat_required,n.pricing&&n.pricing.template_text&&n.pricing.template_text.tax_id_error,n.pricing&&n.pricing.template_text&&n.pricing.template_text.tax_id_validation_regex,n.postal_code_text&&n.postal_code_text.validation);try{return A={heading:n.heading,headingLink:n.heading_link,productInfoHeader:n.product_info_header,productInfoTooltip:n.product_info_tooltip,productSubheading:n.product_subheading,productSubheadingFull:n.product_subheading_full,tokenizerContainerId:Ye,termsAndConditionsUrl:n.terms_and_conditions_url,countryIso2Code:n.country_iso2_code,country:n.country_name,email:n.email,isSegmentedCountry:w,isJapanese:D,isRow:!D,isGerman:"DE"===n.country_iso2_code,isUS:"US"===n.country_iso2_code,isDefaultTerms:"US"!==n.country_iso2_code&&"DE"!==n.country_iso2_code,hasGst:n.is_gst_supported,isGstExcluded:n.is_gst_excluded,shouldShowTax:V,hasInn:n.is_inn_supported,isStateProvinceRequired:i,isVatSupported:s,stateProvinces:l,showCountries:U,countries:u,assetDetail:n.asset_details,planInformation:n.plan_information,isFmf:n.plan_information&&n.plan_information.is_fmf,isAnnualCommitmentAndPaidMonthly:n.plan_information&&n.plan_information.is_annual_commitment&&n.plan_information&&n.plan_information.is_paid_monthly,pricing:n.pricing,subtotal:n.pricing.subtotal.formatted,tax:n.pricing.tax&&n.pricing.tax.formatted,total:n.pricing.total.formatted,productTitleMarkup:n.product_title,isUserMigratingFromFotolia:n.extras.options&&n.extras.options.is_fotolia_migration,transfer_url:n.transfer_url,isGhostUser:n.is_ghost_user,creditPackData:n.quicker_checkout_products&&n.quicker_checkout_products.credit_pack,customMessage:n.custom_message,hidePostalCode:!F,showForeignCharge:!n.show_foreign_charge_message,showBillingAddressLabel:D||w||i||U||F,areNameFieldsInverted:n.are_name_fields_inverted,isCityFieldRequired:n.is_city_field_required,infoTooltipText:n.info_tooltip_text,showInfoTooltip:n.show_info_tooltip,cruiseCollectEndpoint:n.cruise_collect_endpoint,isVideoAssetDetailEnabled:n.feature_flags&&n.feature_flags.isVideoAssetDetailEnabled&&n.asset_details&&n.asset_details.is_video,postalCodePlaceholderText:n.postal_code_text&&n.postal_code_text.placeholder,selected_license:n.asset_details&&n.asset_details.possible_data_video&&n.asset_details.possible_data_video[n.license_id],infoTooltipFormattedText:n.info_tooltip_formatted_text,isUsPlanLegalEnabled:Ue&&Me&&"US"===n.country_iso2_code,isPlanLegalEnabled:Ue&&Me,customerSupportUrl:n.customer_support_url,adobeAccountUrl:n.adobe_account_url,isSignedIn:n.is_signed_in,termsUrl:n.terms_url,isCceMemberPurchase:n.is_cce_member_purchase,enterpriseTermsUrl:n.enterprise_terms_url},L=d(A,{partials:{assetSwitchCard:p,jpNameInputs:h,rowNameInputs:m,streetInputs:_,stateProvincesInput:f,vatInput:g,countriesSelect:E,postalInputs:v,creditPackLabel:y,orderTotals:C,orderTax:S,customMessage:I,infoTooltip:k,termsAndConditions:O,binProfiling:R}}),a.setHtml(L),o.updatePricing(n.pricing,n.plan_information?n.plan_information.is_fmf:null,n.country_iso2_code,n.is_gst_supported,n.is_inn_supported,V),se=e(".js-checkout-continue-button"),re=e("#checkout-button-container"),le=e('form[name="payment-information"]'),oe=e(".js-country-code"),ce=e("#countries-select-paypal"),ue=e(".js-countries-select-column"),de=e("#current-country"),pe=e(".js-state-provinces-container"),fe=e(".js-vat-container"),_e=e("#vat-container-paypal"),he=e(".js-jp-name-inputs-container"),me=e(".js-row-name-inputs-container"),ge=e(".js-street-inputs-container"),Ee=e(".js-postal-inputs-container"),ve=e(".js-checkout-new-payment-continue-button-paypal-text"),be=e(".js-checkout-new-payment-continue-button-standard-text"),Te=e(".js-checkout-new-payment-agree-and-continue-button"),ye=e(".js-ribbon-text-free-trial"),Ce=e(".js-ribbon-risk-free-text"),Se=e(".js-free-trial-explanation"),Ie=e("#js-new-payment-tax-spinner"),Oe=e(".js-new-payment-selection"),ke=e(".js-checkout-new-payment-hide-for-paypal"),Ae=document.getElementById("js-new-payment-selection-wrapper"),M(),N(He),a.on(T.CLOSE,P),a.on(T.SET_HTML,P),a.on(T.DESTROY,P),n.message_change_country&&b.updateAttribute(document.getElementById("js-postlogin-change-region-message"),"data-is-hidden",!1),o.showForeignChargeMessage(n.show_foreign_charge_message),J(n),j=document.getElementsByClassName("js-product-subheading"),j&&j[0]&&j[0].offsetWidth<j[0].scrollWidth&&(H=document.getElementsByClassName("js-product-subheading-full")[0],x.updateAttribute(H,"data-is-hidden","false")),X(n.available_payment_instruments)}catch(t){return t.isInternal=!0,e.Deferred().reject(t)}}).fail(function(t){if(b.reportError(t),t.isInternal)return e.Deferred().reject(t);z(t)})}function N(e){switch(Ne=e,e){case Fe:Oe.val("card"),ke.show(),Re.enableSpinner(!1),Y(!1),b.updateAttribute(re[0],"data-is-hidden",!1),b.updateAttribute(Ie[0],"data-is-hidden",!0),b.updateAttribute(ce[0],"data-is-hidden",!0),b.updateAttribute(_e[0],"data-is-hidden",!0),xe=!1;break;case je:Re.enableSpinner(!1),c.shouldShowErrors(!1),Y(!0),b.updateAttribute(re[0],"data-is-hidden",!0),b.updateAttribute(Ie[0],"data-is-hidden",!1);break;case He:Re.enableSpinner(!1),Y(!1),G(!1),b.updateAttribute(Ie[0],"data-is-hidden",!0),b.updateAttribute(re[0],"data-is-hidden",!1);break;case Ve:Oe.val("paypal"),ke.hide(),Re.enableSpinner(!1),Y(!1),b.updateAttribute(Ie[0],"data-is-hidden",!0),b.updateAttribute(re[0],"data-is-hidden",!1),b.updateAttribute(ce[0],"data-is-hidden",!1),b.updateAttribute(_e[0],"data-is-hidden",!1);break;case qe:Re.enableSpinner(!0),c.shouldShowErrors(!1),Y(!0),G(!0),b.updateAttribute(Ie[0],"data-is-hidden",!0),b.updateAttribute(re[0],"data-is-hidden",!1);break;default:throw new Error("Invalid internal UI state")}w()}function w(){var e="paypal"===Oe.val(),t=de.val()||oe.val(),n=Ue&&Me&&"US"===t;ve.attr("data-is-hidden",!0),be.attr("data-is-hidden",!0),Te.attr("data-is-hidden",!0),Ce.attr("data-is-hidden",!0),ye.attr("data-is-hidden",!0),Se.attr("data-is-hidden",!0),e?ve.attr("data-is-hidden",!1):n?Te.attr("data-is-hidden",!1):be.attr("data-is-hidden",!1),n?ye.attr("data-is-hidden",!1):Ce.attr("data-is-hidden",!1),n||Se.attr("data-is-hidden",!1)}function M(){var e=window.document.getElementById("js-checkout-goto-susi-button");le.on("submit",function(e){e.preventDefault(),e.stopPropagation(),De(Pe,!0),V(!0)?B():Z()}),function(){var e;le.on("change input",":input",function(t){var n=this.value;ne.setAddressData(q()),o.hasPriceToUpdate(Pe.country_iso2_code,Pe.plan_information&&Pe.plan_information.is_fmf)&&U()||(t.target===Oe[0]?(xe="paypal"===n,N(xe?Ve:Fe)):n!==e&&(e=n,t.target===oe[0]||t.target===oe[1]?j(t.target.value):H(t.target,!0)))})}(),e&&e.addEventListener("click",function(e){n.trigger(n.LOGIN,Pe)})}function U(){var e,t,a,i,s,r,o=!1;if(i=ne.getAddressDataFormattedForExternalServices(),t=i.postalCode,e=ae.isPostalCodeValid(t),a=i.contact.vatId,e.isValid&&Ke.postalCode!=t&&(Ke.postalCode=t,o=!0),(a||Ke.vatId)&&(te.isVatSupported(Pe.country_iso2_code)&&ae.validateField(l.getFieldNameFormattedForExternalServices("vat_id"),a).isValid||te.isGstSupported(Pe.country_iso2_code)&&ae.validateField(l.getFieldNameFormattedForExternalServices("gst_id"),a).isValid)&&Ke.vatId!=a&&(Ke.vatId=a,o=!0),s=te.isStateProvinceRequired(Pe.country_iso2_code),o)return N(je),r={country_code:i.country&&i.country.code,vat_id:Ke.vatId,postal_code:Ke.postalCode},s&&(r.state_province_code=s&&i.stateProvince&&i.stateProvince.code),Q(n.RAW_DISPATCH,{state:Pe,modifier:r}),!0}function F(e){e?ue.removeClass("on-small-6").addClass("on-small-12"):ue.removeClass("on-small-12").addClass("on-small-6")}function j(t){var n=e.Deferred();return t?(ae.setCountry(t),Re.enableSpinner(!0),le[0].reset(),Oe.val(Ne===Ve?"paypal":"card"),oe.val(t),Ke={},e.when(te.getCountry(t),te.isStateProvinceRequired(t),te.isVatSupported(t),te.getStateProvinces(t),te.isStrongAuthenticationCountry(t),ie.getUpdatedStateDataForCountry(Pe,t)).then(function(e,i,s,l,u,d){var p,E,T;E=d.is_gst_supported&&!d.is_gst_excluded||d.is_vat_supported&&d.is_vat_included,Pe=d,ae=new r(d.country_iso2_code,e.is_vat_required,d.pricing&&d.pricing.template_text&&d.pricing.template_text.tax_id_error,d.pricing&&d.pricing.template_text&&d.pricing.template_text.tax_id_validation_regex,d.postal_code_text&&d.postal_code_text.validation),a.setData(d),we=u,Ee.html(v({isJapanese:"JP"===t,showCountries:!d.is_signed_in,postalCodePlaceholderText:d.postal_code_text&&d.postal_code_text.placeholder})),"JP"===t?(he.html(h()),me.empty(),F(!0)):(me.html(m({areNameFieldsInverted:d.are_name_fields_inverted})),he.empty(),F(!d.show_postal_code)),ge.html(_({isSegmentedCountry:d.is_segmented_country,isCityFieldRequired:d.is_city_field_required})),i?pe.html(f({stateProvinces:l})):pe.empty(),fe.empty(),s&&(T=g({hasGst:d.is_gst_supported,isGstExcluded:d.is_gst_excluded,shouldShowTax:E,hasInn:d.is_inn_supported,innTooltipText:d.inn_tooltip_text,pricing:d.pricing,infoTooltipText:d.info_tooltip_text,showInfoTooltip:d.show_info_tooltip},{partials:{infoTooltip:k}}),fe.html(T)),X(d.available_payment_instruments);try{o.updatePricing(d.pricing,d.plan_information?d.plan_information.is_fmf:null,d.country_iso2_code,d.is_gst_supported,d.is_inn_supported,E)}catch(e){}o.updatePlanInformation(d.plan_information,d.is_gst_supported,d.is_gst_excluded),o.updateTermsAndConditionsUrl(d.terms_and_conditions_url,d.country_iso2_code),o.showChangeRegionMessage(te.findCountryName(t)),o.showForeignChargeMessage(d.show_foreign_charge_message),d.quicker_checkout_products&&d.quicker_checkout_products.credit_pack&&o.updateCreditPackInformation(d.quicker_checkout_products.credit_pack),p=document.getElementById("row-postal-input-container"),p&&b.updateAttribute(p,"data-is-hidden",!d.show_postal_code),w(),Re.enableSpinner(!1),c.shouldShowErrors(!1),J(d),De(d),n.resolve()}),n.promise()):n.resolve()}function H(t,n){var a,i=t.name,s=e.trim(t.value),r=-1!==["postal_code_1","postal_code_2"].indexOf(i);return"true"===t.dataset.ignoreValidation?{isValid:!0}:(r&&(s=ne.getAddressDataFormattedForExternalServices().postalCode),a=ae.validateField(l.getFieldNameFormattedForExternalServices(i),s),r&&n?e.each(e(".js-jp-postal-code-input"),function(e,t){b.updateAttribute(t,"data-field-is-valid",a.isValid)}):n&&b.updateAttribute(t,"data-field-is-valid",a.isValid),a)}function V(t){var n,a,i,s="",r=!0,l=[];return ne.setAddressData(q()),e.each(le.find(":input:visible"),function(e,a){n=H(a,!!t),n.isValid||(r=!1,n.errorMessage&&(l.push(a.name),s+=n.errorMessage+"<br />"))}),a=le.find("#first_name:visible"),i=le.find("#last_name:visible"),a.length&&i.length&&(n=ae.validateFullName(a.val().trim(),i.val().trim()),n.isValid||(r=!1,n.errorMessage&&(s+=n.errorMessage+"<br />",l.push(a.attr("name")),l.push(i.attr("name")),t&&(a.attr("data-field-is-valid",!1),i.attr("data-field-is-valid",!1))))),s&&(c.shouldShowErrors(!0),c.updateErrors({userMessage:s},!0)),Le(null,!0,!1,"",!1,l),De(null,!1,null,null,l),r}function q(){var t,n,a=[];return G(!1),t=le.serializeArray(),e(t).each(function(t,i){n={name:i.name,value:e.trim(i.value)},a.push(n)}),a}function Y(e){se.attr("disabled",e)}function G(t){e("input, textarea, select",le).attr("disabled",t)}function B(){var e;N(qe),xe?(e=ne.getAddressData(),e.continue=1,e.payment_type="PAYPAL",e.paypal_return_url=t.get("paypalReturnUrl"),e.paypal_cancel_url=t.get("paypalCancelUrl"),K(),Q(n.DISPATCH,{state:Pe,modifier:e})):(u.setAddress(ne.getAddressDataFormattedForExternalServices()),u.getToken().then(function(e){var t,a=ne.getAddressData(),i=new A(we,Pe);a.postal_code=ne.getAddressDataFormattedForExternalServices().postalCode,t=a,i.getSessionIdIfRequired().then(function(a){t.continue=1,t.token_id=e.token_id,t.payment_type=e.payment_instrument.payment_type.replace(/ /,""),t.credit_card_expire_date=e.payment_instrument.credit_card_expire_date,t.credit_card_span=e.payment_instrument.credit_card_span,t.session_id=a,K(),Q(n.DISPATCH,{state:Pe,modifier:t})}).fail(function(e){z(e)})}).fail(function(e){z(e)}))}function K(){var e;"newPayment"!==Pe.id&&(e={errorType:"invalid state error",errorMessage:"newPayment state submitted with incorrect state id:"+Pe.id},Le(e),De(null,!1,e),Pe.id="newPayment")}function W(e,t){var n,i;if(i=e.is_gst_supported&&!e.is_gst_excluded||e.is_vat_supported&&e.is_vat_included,e.error)N(He),se.prop("disabled",!1),Re.enableSpinner(!1),c.shouldShowErrors(!0),c.updateErrors({userMessage:e.error.userMessage,errorMessage:e.error.errorMessage,caseCode:e.error.caseCode}),n={errorCode:e.error.errorCode,errorType:e.error.errorMessage,errorMessage:e.error.userMessage,caseCode:e.error.caseCode},Le(n,!0),De(null,!1,n);else{a.setData(e);try{o.updatePricing(e.pricing,e.plan_information?e.plan_information.is_fmf:null,e.country_iso2_code,e.is_gst_supported,e.is_inn_supported,i),t?N(je):(N(He),Le(!1,!0,xe,He,!0))}catch(e){throw N(He),new Error("Bad response when updating pricing")}}}function z(e){c.shouldShowErrors(!0),c.updateErrorsByTokenizerError(e),e&&(Le(e,!0,xe),De(null,!1,e)),N(He)}function Q(e,t){Le(!1,!0,xe,Ne),n.trigger(e,t)}function X(n){var a,i,s=!1,r=[];for(a=0;a<n.length;a++)i=n[a],"PAYPAL"===i.type?s=!Pe.extras.is_paypal_disabled:r.push(i.type);b.updateAttribute(Ae,"data-is-hidden",!s),s||N(Fe),u.isInitialized()?u.unload().then(function(){var n=e("#"+Ye),a=n.clone();u.destroy(),e("#"+Ge).append(a),u.init(t,Ye,r,Pe.country_iso2_code)}):u.init(t,Ye,r,Pe.country_iso2_code)}function Z(){b.updateAttribute(document.getElementById("js-postlogin-change-region-message"),"data-is-hidden",!0),b.updateAttribute(document.getElementById("js-newpayment-change-region-message"),"data-is-hidden",!0)}function J(e){var t;"JP"!==e.country_iso2_code&&(t=e.are_name_fields_inverted?document.getElementById("last_name"):document.getElementById("first_name"))&&t.focus()}function $(){return ie}function ee(){return ne}var te,ne,ae,ie,se,re,le,oe,ce,ue,de,pe,he,me,fe,_e,ge,Ee,ve,be,Te,ye,Ce,Se,Ie,Oe,ke,Ae,Re,xe,Pe,Le,De,Ne,we,Me,Ue,Fe="editing",je="updating",He="ready",Ve="paypal ready",qe="processing",Ye="js-tokenizer-container",Ge="js-checkout-parent-tokenizer-container",Be=null,Ke={};return{displayPage:D,handleDataUpdate:W,getPaymentInstrumentsService:$,hasTaxUpdate:U,getLastTaxValues:P,setLastTaxValues:L,getAddressService:ee,validateStateId:K,changeCountry:j,runFullFormValidation:V}}),define("quickerCheckoutRepo/states/error",["quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/lib/storage/data","jquery"],function(e,t,n){"use strict";function a(a,i,s){var r=t.getData();i.close(),a=n.extend({},r,a),e.trigger(e.ERROR,a),s()}return{displayPage:a}}),define("quickerCheckoutRepo/services/switchEvents",["jquery","quickerCheckoutRepo/lib/utils/utils"],function(e,t){"use strict";function n(t,n,s){var r,l,o;for(r=document.querySelectorAll(t+" "+i),o=function(e){var s,r;if(r=document.querySelectorAll(t+" "+i+'[data-active="true"]'))for(s=0;s<r.length;s++)a(r[s],!1);a(e.currentTarget,!0),"function"==typeof n&&n(e)},l=0;l<r.length;l++)r[l].addEventListener("click",o),!0!==e(r[l]).data("active")||s||e(r[l]).trigger("click")}function a(e,n){var a;e&&(e.dataset.active=n,a=e.querySelector("input"),a&&(a.checked=n),n?t.addClass(e,"active"):t.removeClass(e,"active"))}var i=".switch--card";return{init:n}}),define("hbs!quickerCheckoutRepo/templates/selectPayment",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'style="padding-bottom: 0px;"'},3:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.customMessage,e,{name:"customMessage",hash:{message:null!=e?e.customMessage:e},data:a,indent:"            ",helpers:t,partials:n}))?i:""},5:function(e,t,n,a){var i;return'                    <h4 class="left-align margin-bottom-medium">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Payment method",{name:"_",hash:{},data:a}))+"\n"+(null!=(i=this.invokePartial(n.infoTooltip,e,{name:"infoTooltip",hash:{iconColor:"blue picton-text",icon:"icon-info",text:null!=e?e.infoTooltipText:e},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+"                    </h4>\n"},7:function(e,t,n,a){return'                    <h4 class="left-align margin-bottom-medium">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Choose payment method",{name:"_",hash:{},data:a}))+"</h4>\n"},9:function(e,t,n,a){var i;return'                    <div>\n                        <label class="switch switch--card margin-bottom-medium" data-active="true">\n                      <span class="container-table">\n                          <span class="container-table-row">\n                              <span class="container-table-cell padding-right-small">\n                                  <input\n                                          title="'+this.escapeExpression(this.lambda(null!=e?e.type:e,e))+" ending in "+this.escapeExpression(this.lambda(null!=e?e.cc_number:e,e))+'"\n                                          class="js-saved-payment-instrument-input hidden"\n                                          type="radio"\n                                          name="credit_card"\n                                          value="'+this.escapeExpression(this.lambda(null!=e?e.hash:e,e))+'"\n                                          data-span="'+this.escapeExpression(this.lambda(null!=e?e.credit_card_span:e,e))+'"\n                                          data-is-paypal="'+this.escapeExpression(this.lambda(null!=e?e.is_paypal:e,e))+'"\n                                  />\n                                <i class="mti-icon icon-credit-cards credit-cards--small left '+this.escapeExpression(this.lambda(null!=e?e.logo:e,e))+'"></i>\n                              </span>\n                              <span class="container-table-cell grey gravel-text text-small">\n                                  <strong>\n                                      '+this.escapeExpression(this.lambda(null!=e?e.type:e,e))+"\n"+(null!=(i=t.unless.call(e,null!=e?e.paypal_login:e,{name:"unless",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'                                  </strong>\n                              </span>\n                          </span>\n                          <span class="container-table-row">\n                              <span class="container-table-cell">&nbsp;</span>\n                              <span class="container-table-cell text-small grey mountain-mist-text">\n'+(null!=(i=t.if.call(e,null!=e?e.paypal_login:e,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.program(14,a,0),data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.paypal_login:e,{name:"unless",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+"                              </span>\n                          </span>\n                      </span>\n                        </label>\n                    </div>\n"},10:function(e,t,n,a){return"                                          "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::ending in %s",{name:"_",hash:{},data:a}),null!=e?e.cc_number:e,{name:"sprintf",hash:{},data:a}))+"\n"},12:function(e,t,n,a){return"                                      "+this.escapeExpression(this.lambda(null!=e?e.paypal_login:e,e))+"\n"},14:function(e,t,n,a){return"                                      "+this.escapeExpression(this.lambda(null!=e?e.cc_long_name:e,e))+"\n"},16:function(e,t,n,a){return"                                      &#59; "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::expires: %s",{name:"_",hash:{},data:a}),null!=e?e.cc_expiration_date_display:e,{name:"sprintf",hash:{},data:a}))+"\n"},18:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.termsAndConditionsUrl:e,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:""},19:function(e,t,n,a){var i;return'                        <div class="left-align text-sregular">\n                            '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::All licenses are subject to the %sTerms and Conditions%s of this contract.",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n                        </div>\n"},21:function(e,t,n,a){return'                    <p>\n                        <a href="#" id="js-select-payment-new-payment" class="blue bleu-de-france-text text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Use a different payment method.",{name:"_",hash:{},data:a}))+"</a>\n                    </p>\n"},23:function(e,t,n,a){var i;return'                            <a class="container-relative container-inline-block">\n                                <i class="mti-icon icon-info hover-trigger blue picton-text"></i>\n                                <div class="container-absolute h-align margin-top-small container-below hover-container in-front">\n                                    <div class="tooltip tooltip--primary tooltip--bottom">\n                                        <div class="padding-xsmall small-tooltip-body">\n                                            <span class="normal-whitespace text-small">\n                                                '+this.escapeExpression((i=null!=(i=t.productInfoTooltip||(null!=e?e.productInfoTooltip:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"productInfoTooltip",hash:{},data:a}):i))+"\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </a>\n"},25:function(e,t,n,a){var i;return(null!=(i=this.invokePartial(n.creditPackLabel,e,{name:"creditPackLabel",hash:{data:null!=e?e.creditPackData:e},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+(null!=(i=this.invokePartial(n.orderTotals,e,{name:"orderTotals",hash:{isTeamCreditPack:null!=e?e.isTeamCreditPack:e,isVATSupported:null!=e?e.isVATSupported:e,isGstExcluded:null!=e?e.isGstExcluded:e,isGSTSupported:null!=e?e.hasGst:e,total:null!=e?e.total:e,tax:null!=e?e.tax:e,subTotal:null!=e?e.subtotal:e},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")},27:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.assetSwitchCard,e,{name:"assetSwitchCard",data:a,indent:"                        ",helpers:t,partials:n}))?i:""},29:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.termsAndConditionsUrl:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.noop,data:a}))?i:""},30:function(e,t,n,a){var i;return'                <div class="row">\n                    <div class="column on-small-12">\n                        <div class="margin-xsmall">\n                            <div class="text-center text-small grey dove-text">\n'+(null!=(i=this.invokePartial(n.termsAndConditions,e,{name:"termsAndConditions",data:a,indent:"                                ",helpers:t,partials:n}))?i:"")+"                            </div>\n                        </div>\n                    </div>\n                </div>\n"},32:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Agree and subscribe",{name:"_",hash:{},data:a}))+"\n"},34:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Place Secure Order",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="modal__header">\n    '+this.escapeExpression((s=null!=(s=t.heading||(null!=e?e.heading:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"heading",hash:{},data:a}):s))+'\n</div>\n<form id="js-select-payment-form" action="">\n    <div class="modal__content" '+(null!=(i=t.if.call(e,null!=e?e.isUsPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="margin-top-medium margin-bottom-large">\n            <span id="js-checkout-user-facing-errors" class="red coral-text" data-is-hidden="true"></span>\n        </div>\n'+(null!=(i=t.if.call(e,null!=e?e.customMessage:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'        <div class="row">\n            <div class="js-saved-payment-instruments column on-small-12 on-medium-6 padding-right-xlarge">\n'+(null!=(i=t.if.call(e,null!=e?e.isTeamCreditPack:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+(null!=(i=t.each.call(e,null!=e?e.availablePayments:e,{name:"each",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.isTeamCreditPack:e,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.program(21,a,0),data:a}))?i:"")+'            </div>\n            <div class="column on-small-12 on-medium-6">\n                <div class="border-left-1 bon-jour-border border-left-solid padding-left-xlarge">\n                    <h4 class="left-align margin-bottom-small">\n                        '+this.escapeExpression((s=null!=(s=t.productInfoHeader||(null!=e?e.productInfoHeader:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"productInfoHeader",hash:{},data:a}):s))+"\n"+(null!=(i=t.if.call(e,null!=e?e.productInfoTooltip:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"                    </h4>\n"+(null!=(i=t.if.call(e,null!=e?e.creditPackData:e,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.program(27,a,0),data:a}))?i:"")+"                </div>\n            </div>\n        </div>\n"+(null!=(i=t.unless.call(e,null!=e?e.isTeamCreditPack:e,{name:"unless",hash:{},fn:this.program(29,a,0),inverse:this.noop,data:a}))?i:"")+'    </div>\n    <div class="modal__footer">\n        <div class="padding-left-xlarge">\n            <div class="padding-left-small">\n                <button id="js-select-payment-submit" class="button button--dialog hide-modal" type="submit" disabled="disabled">\n                    <span>\n'+(null!=(i=t.if.call(e,null!=e?e.isUsPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(32,a,0),inverse:this.program(34,a,0),data:a}))?i:"")+'                    </span>\n                </button>\n                <i class="mti-icon mti-large icon-lock white-text"></i>\n            </div>\n        </div>\n    </div>\n</form>\n\n'+(null!=(i=this.invokePartial(n.binProfiling,e,{name:"binProfiling",data:a,helpers:t,partials:n}))?i:"")},usePartial:!0,useData:!0})}),define("quickerCheckoutRepo/states/selectPayment",["jquery","quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/services/switchEvents","quickerCheckoutRepo/lib/storage/data","quickerCheckoutRepo/services/changeCountryUpdater","hbs!quickerCheckoutRepo/templates/selectPayment","hbs!quickerCheckoutRepo/templates/partials/assetSwitchCard","hbs!quickerCheckoutRepo/templates/partials/termsAndConditions","quickerCheckoutRepo/services/errorRenderer","hbs!quickerCheckoutRepo/templates/partials/creditPackLabel","hbs!quickerCheckoutRepo/templates/partials/orderTotals","hbs!quickerCheckoutRepo/templates/partials/orderTax","quickerCheckoutRepo/lib/utils/config","quickerCheckoutRepo/services/countries","hbs!quickerCheckoutRepo/templates/partials/customMessage","hbs!coreComponents/InfoTooltip/templates/infoTooltip","quickerCheckoutRepo/services/binProfile","hbs!quickerCheckoutRepo/templates/partials/binProfiling","quickerCheckoutRepo/lib/utils/utils"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E){"use strict";function v(t,n,a,o){return D=t.quicker_checkout_products&&t.quicker_checkout_products.credit_pack,A=new h(p.get("endpoint")),k=t.member_type,R=a,N=o,x=t,M=n,e.when(A.isVatSupported(t.country_iso2_code),A.isStrongAuthenticationCountry(t.country_iso2_code)).then(function(e,p){var h,_,v,b,y;U=p,y=t.is_gst_supported&&!t.is_gst_excluded||t.is_vat_supported&&t.is_vat_included;try{h={heading:t.heading,headingLink:t.heading_link,productInfoHeader:t.product_info_header,productInfoTooltip:t.product_info_tooltip,productSubheading:t.product_subheading,productSubheadingFull:t.product_subheading_full,availablePayments:t.saved_payment_instruments,termsAndConditionsUrl:t.terms_and_conditions_url,assetDetail:t.asset_details,planInformation:t.plan_information,isFmf:t.plan_information&&t.plan_information.is_fmf,isAnnualCommitmentAndPaidMonthly:t.plan_information&&t.plan_information.is_annual_commitment&&t.plan_information&&t.plan_information.is_paid_monthly,subtotal:t.pricing.subtotal.formatted,isGerman:"DE"===t.country_iso2_code,isUS:"US"===t.country_iso2_code,
isDefaultTerms:"US"!==t.country_iso2_code&&"DE"!==t.country_iso2_code,hasGst:t.is_gst_supported,isGstExcluded:t.is_gst_excluded,pricing:t.pricing,productTitleMarkup:t.product_title,creditPackData:D,tax:t.pricing.tax?t.pricing.tax.formatted:null,total:t.pricing.total.formatted,isVATSupported:e,shouldShowTax:y,customMessage:t.custom_message,isUserMigratingFromFotolia:t.extras.options&&t.extras.options.is_fotolia_migration,transfer_url:t.transfer_url,isTeamCreditPack:t.is_team_credit_pack,infoTooltipText:t.info_tooltip_text,cruiseCollectEndpoint:t.cruise_collect_endpoint,isVideoAssetDetailEnabled:t.feature_flags&&t.feature_flags.isVideoAssetDetailEnabled&&t.asset_details&&t.asset_details.is_video,selected_license:t.asset_details&&t.asset_details.possible_data_video&&t.asset_details.possible_data_video[t.license_id],infoTooltipFormattedText:t.info_tooltip_formatted_text,isUsPlanLegalEnabled:t.feature_flags&&t.feature_flags.isNewLegalCopyEnabled&&!!t.plan_information&&"US"===t.country_iso2_code,isPlanLegalEnabled:t.feature_flags&&t.feature_flags.isNewLegalCopyEnabled&&!!t.plan_information,customerSupportUrl:t.customer_support_url,adobeAccountUrl:t.adobe_account_url,isSignedIn:t.is_signed_in,termsUrl:t.terms_url,isCceMemberPurchase:t.is_cce_member_purchase,enterpriseTermsUrl:t.enterprise_terms_url}}catch(e){throw new Error('Error when building template values for "selectPayment" template: '+e)}_=s(h,{partials:{assetSwitchCard:r,creditPackLabel:c,orderTotals:u,orderTax:d,customMessage:m,termsAndConditions:l,infoTooltip:f,binProfiling:g}}),n.setHtml(_),i.updatePricing(t.pricing,t.plan_information?t.plan_information.is_fmf:null,t.country_iso2_code,t.is_gst_supported,t.is_inn_supported,y),w=document.getElementById("js-select-payment-submit"),T(),v=document.getElementsByClassName("js-product-subheading"),v&&v[0]&&v[0].offsetWidth<v[0].scrollWidth&&(b=document.getElementsByClassName("js-product-subheading-full")[0],E.updateAttribute(b,"data-is-hidden","false")),a(),o(t)})}function b(){var e,n;I(!0),(e=document.querySelector(j+' input[name="credit_card"]:checked'))&&(n=e.value)&&t.trigger(t.RAW_DISPATCH,{state:x,modifier:{payment_instrument_hash:n}})}function T(){P=document.getElementById("js-select-payment-form"),L=document.getElementById("js-select-payment-new-payment"),P&&P.addEventListener("submit",C),L&&L.addEventListener("click",O),n.init(H,b)}function y(e){var t=e.is_gst_supported&&!e.is_gst_excluded||e.is_vat_supported&&e.is_vat_included;if(e.error)document.getElementById("js-select-payment-submit").removeAttribute("disabled"),o.shouldShowErrors(!0),o.updateErrors({userMessage:e.error.userMessage,errorMessage:e.error.errorMessage,caseCode:e.error.caseCode});else{a.setData(e);try{i.updatePricing(e.pricing,e.plan_information?e.plan_information.is_fmf:null,e.country_iso2_code,e.is_gst_supported,e.is_inn_supported,t)}catch(e){throw new Error("Bad response when updating pricing")}}I(!1)}function C(e){var n=document.querySelector(j+" "+V+":checked");e.stopPropagation(),e.preventDefault(),I(!0),n&&n.value?(F=new _(U,x),F.getSessionIdIfRequired(n.dataset&&n.dataset.span,n.dataset&&"true"===n.dataset.isPaypal).then(function(e){R(!0),N(x,{isFromPlaceSecureOrder:!0}),t.trigger(t.DISPATCH,{state:x,modifier:{payment_instrument_hash:n.value,continue:1,session_id:e}})})):(R(!1,!1,{errorType:"payment hash error",errorMessage:"select payment state submitted with no payment hash"}),o.shouldShowErrors(!0),o.updateErrors({userMessage:"Please select a payment method.",errorMessage:"select payment state submitted with no payment hash",caseCode:null}))}function S(){P&&P.removeEventListener("submit",C),L&&L.removeEventListener("click",O)}function I(e){M.enableSpinner(e),w&&(w.disabled=e)}function O(){I(!0),N(x,{isFromUseDifferentPayment:!0}),x.id="newPayment",x.hasExisting=!0,R(!0,!0),S(),t.trigger(t.ABORT_REQUEST),t.trigger(t.CHANGE_STATE,x)}var k,A,R,x,P,L,D,N,w,M,U,F,j="#js-select-payment-form",H=".js-saved-payment-instruments",V=".js-saved-payment-instrument-input";return{displayPage:v,handleDataUpdate:y,submitForm:C,sendToNewPaymentState:O}}),define("quickerCheckoutRepo/lib/generic/window",[],function(){"use strict";return{setLocation:function(e){window.location.assign(e)}}}),define("quickerCheckoutRepo/states/go",["quickerCheckoutRepo/lib/generic/window","quickerCheckoutRepo/lib/generic/localStorage","quickerCheckoutRepo/lib/utils/config","hbs!quickerCheckoutRepo/templates/loading"],function(e,t,n,a){"use strict";function i(i,s){if(!i.url)throw new Error("URL not found in Go State");s.setHtml(a()),t.storeData(null,n.get("urlStartParam"),!0),e.setLocation(i.url)}return{displayPage:i}}),define("quickerCheckoutRepo/states/done",["quickerCheckoutRepo/events/quickerEvents"],function(e){"use strict";function t(t,n){n.close(),e.trigger(e.DONE,t)}return{displayPage:t}}),define("quickerCheckoutRepo/states/halt",["quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/lib/storage/data","jquery"],function(e,t,n){"use strict";function a(a,i,s){var r=t.getData();i.close(),a=n.extend({},r,a),e.trigger(e.HALT,a),s()}return{displayPage:a}}),define("hbs!quickerCheckoutRepo/templates/confirm",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'style="padding-bottom: 0px;"'},3:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.customMessage,e,{name:"customMessage",hash:{message:null!=e?e.customMessage:e},data:a,indent:"            ",helpers:t,partials:n}))?i:""},5:function(e,t,n,a){var i;return'                    <span class="container-table">\n                    <span class="container-table-row">\n                        <span class="text-regular gray dove icon-credit-cards icon-credit-cards--full-padding">\n                            <em class="truncate">'+this.escapeExpression((i=null!=(i=t.payPalEmail||(null!=e?e.payPalEmail:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"payPalEmail",hash:{},data:a}):i))+"</em>\n                        </span>\n                    </span>\n                </span>\n"},7:function(e,t,n,a){var i;return(null!=(i=this.invokePartial(n.creditPackLabel,e,{name:"creditPackLabel",hash:{data:null!=e?e.creditPackData:e},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+(null!=(i=this.invokePartial(n.simpleOrderTotal,e,{name:"simpleOrderTotal",hash:{data:null!=(i=null!=e?e.pricing:e)?i.template_text:i},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")},9:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.assetSwitchCard,e,{name:"assetSwitchCard",data:a,indent:"                        ",helpers:t,partials:n}))?i:""},11:function(e,t,n,a){var i;return'            <div class="row">\n                <div class="column on-small-12">\n                    <div class="margin-xsmall">\n                        <div class="text-center text-small grey dove-text">\n'+(null!=(i=this.invokePartial(n.termsAndConditions,e,{name:"termsAndConditions",data:a,indent:"                            ",helpers:t,partials:n}))?i:"")+"                        </div>\n                    </div>\n                </div>\n            </div>\n"},13:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Agree and subscribe",{name:"_",hash:{},data:a}))+"\n"},15:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Place Secure Order",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'\n<div class="modal__header">\n    <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Submit payment",{name:"_",hash:{},data:a}))+'</span>\n</div>\n\n<form id="js-paypal-confirm-form" action="">\n    <div class="modal__content" '+(null!=(i=t.if.call(e,null!=e?e.isUsPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="margin-top-medium margin-bottom-large">\n            <span id="js-checkout-user-facing-errors" class="red coral-text" data-is-hidden="true"></span>\n        </div>\n'+(null!=(i=t.if.call(e,null!=e?e.customMessage:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'        <div class="row">\n            <div class="js-saved-payment-instruments column on-small-12 on-medium-6 padding-right-xlarge">\n                <h4 class="left-align margin-bottom-medium">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Payment info",{name:"_",hash:{},data:a}))+'</h4>\n\n                <label for="paypal" class="switch switch--card margin-top-xsmall" data-active="true">\n                <span class="container-table">\n                    <span class="container-table-row">\n                        <span class="container-table-cell">\n                            <input title="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Pay with PayPal",{name:"_",hash:{},data:a}))+'" class="js-buy-choice-plan hidden" type="radio" name="paypal" value="continue"/>\n                            <i class="container-table-cell left icon-credit-cards credit-cards--small PAYPAL"></i>\n                        </span>\n                        <span class="container-table-cell icon-credit-cards icon-credit-cards--padding">\n                            <strong>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::PayPal Account",{name:"_",hash:{},data:a}))+"</strong>\n                        </span>\n                    </span>\n                </span>\n\n"+(null!=(i=t.if.call(e,null!=e?e.payPalEmail:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'                </label>\n\n            </div>\n            <div class="column on-small-12 on-medium-6">\n                <div class="border-left-1 bon-jour-border border-left-solid padding-left-xlarge">\n                    <h4 class="left-align margin-bottom-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You're buying",{name:"_",hash:{},data:a}))+"</h4>\n"+(null!=(i=t.if.call(e,null!=e?e.creditPackData:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+"                </div>\n            </div>\n        </div>\n"+(null!=(i=t.if.call(e,null!=e?e.termsAndConditionsUrl:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+'    </div>\n\n    <div class="modal__footer">\n        <div class="padding-left-xlarge">\n            <div class="padding-left-small">\n                <button id="js-select-payment-submit" class="button button--dialog hide-modal" type="submit">\n                    <span id="js-paypal-confirm-submit" data-is-hidden="false">\n'+(null!=(i=t.if.call(e,null!=e?e.isUsPlanLegalEnabled:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.program(15,a,0),data:a}))?i:"")+'                    </span>\n                </button>\n                <i class="mti-icon mti-large icon-lock white-text"></i>\n            </div>\n        </div>\n    </div>\n</form>\n'},usePartial:!0,useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/simpleOrderTotal",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'            <span data-t="qc-subtotal" id="js-checkout-subtotal">\n                '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.subtotal_is:i,e))+"\n            </span>\n"},3:function(e,t,n,a){var i;return'            <span data-t="qc-tax" id="js-checkout-tax">\n                '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.tax_is:i,e))+"\n            </span>\n"},5:function(e,t,n,a){var i;return'            <span data-t="qc-total" id="js-checkout-total">\n                <strong>\n                    '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.total_is:i,e))+"\n                </strong>\n            </span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="right-align margin-top-medium">\n    <div>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.subtotal_is:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n    <div>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.tax_is:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n    <div>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.total_is:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n</div>\n"},useData:!0})}),define("quickerCheckoutRepo/states/confirm",["quickerCheckoutRepo/events/quickerEvents","hbs!quickerCheckoutRepo/templates/confirm","hbs!quickerCheckoutRepo/templates/partials/assetSwitchCard","hbs!quickerCheckoutRepo/templates/partials/customMessage","hbs!quickerCheckoutRepo/templates/partials/creditPackLabel","hbs!quickerCheckoutRepo/templates/partials/simpleOrderTotal","hbs!quickerCheckoutRepo/templates/partials/orderTax","hbs!quickerCheckoutRepo/templates/partials/termsAndConditions"],function(e,t,n,a,i,s,r,l){"use strict";function o(o,u,_,g){var E,v;h=o,m=_,f=g;try{E={pricing:o.pricing,termsAndConditionsUrl:o.terms_and_conditions_url,assetDetail:o.asset_details,planInformation:o.plan_information,isFmf:o.plan_information&&o.plan_information.is_fmf,isAnnualCommitmentAndPaidMonthly:o.plan_information&&o.plan_information.is_annual_commitment&&o.plan_information&&o.plan_information.is_paid_monthly,payPalEmail:o.billing_address.contact.primary_email,customMessage:o.custom_message,creditPackData:o.quicker_checkout_products&&o.quicker_checkout_products.credit_pack,isGerman:"DE"===o.country_iso2_code,isUS:"US"===o.country_iso2_code,isDefaultTerms:"US"!==o.country_iso2_code&&"DE"!==o.country_iso2_code,isUserMigratingFromFotolia:o.extras&&o.extras.options&&o.extras.options.is_fotolia_migration,transfer_url:o.transfer_url,shouldShowTax:o.is_gst_supported&&!o.is_gst_excluded||o.is_vat_supported&&o.is_vat_included,isUsPlanLegalEnabled:o.feature_flags&&o.feature_flags.isNewLegalCopyEnabled&&!!o.plan_information&&"US"===o.country_iso2_code,isPlanLegalEnabled:o.feature_flags&&o.feature_flags.isNewLegalCopyEnabled&&!!o.plan_information,customerSupportUrl:o.customer_support_url,adobeAccountUrl:o.adobe_account_url,termsUrl:o.terms_url,isSignedIn:o.is_signed_in,total:o.pricing.total.formatted,subtotal:o.pricing.subtotal.formatted,isCceMemberPurchase:o.is_cce_member_purchase,enterpriseTermsUrl:o.enterprise_terms_url},o.billing_address.contact.first_name&&o.billing_address.contact.last_name&&(E.long_name=o.billing_address.contact.first_name+" "+o.billing_address.contact.last_name)}catch(e){throw new Error('Error when building template values for "confirm" template: '+e)}v=t(E,{partials:{assetSwitchCard:n,customMessage:a,creditPackLabel:i,simpleOrderTotal:s,orderTax:r,termsAndConditions:l}}),u.setHtml(v),d=function(){e.trigger(e.DISPATCH,{state:o,modifier:{continue:1}})},p=function(){u.enableSpinner(!0),document.getElementById("js-paypal-confirm-submit").disabled=!0},c(),m(!1),f(!1)}function c(){document.getElementById("js-paypal-confirm-form").addEventListener("submit",u)}function u(e){e.stopPropagation(),e.preventDefault(),p(),d(),m(!0),f(!0)}var d,p,h,m,f;return{displayPage:o,submitForm:u}}),define("hbs!quickerCheckoutRepo/templates/overageChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"new-video"},3:function(e,t,n,a){return'        <h6 class="regular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Buy asset",{name:"_",hash:{},data:a}))+"</h6>\n"},5:function(e,t,n,a){return"        <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Confirm your selection",{name:"_",hash:{},data:a}))+"</span>\n"},7:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.extendedVideoDetailsPanel,e,{name:"extendedVideoDetailsPanel",data:a,indent:"                ",helpers:t,partials:n}))?i:""},9:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.singleAssetText:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},10:function(e,t,n,a){var i;return'                    <span class="grey gravel-text text-regular">\n                        '+this.escapeExpression((i=null!=(i=t.singleAssetText||(null!=e?e.singleAssetText:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"singleAssetText",hash:{},data:a}):i))+"\n                    </span>\n"},12:function(e,t,n,a){var i;return'                <span class="grey gravel-text text-regular">\n                    '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You don't have enough credits. Purchase this single asset or %s%s%sbuy more credits%s.",{name:"_",hash:{},data:a}),"<a class='blue bleu-de-france-text' href='",null!=e?e.creditPackUrl:e,"' id='overage-choice-more-credits-link'>","</a>",{name:"sprintf",hash:{},data:a}))?i:"")+"\n                </span>\n"},14:function(e,t,n,a,i,s){var r;return'            <div class="row">\n                <div class="column on-small-12 on-medium-12 on-large-12">\n                    <div class="js-purchase-options">\n'+(null!=(r=t.each.call(e,null!=e?e.purchaseOptions:e,{name:"each",hash:{},fn:this.program(15,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                    </div>\n                </div>\n            </div>\n"+(null!=(r=this.invokePartial(n.buyChoiceEditorialRestrictions,e,{name:"buyChoiceEditorialRestrictions",data:a,indent:"            ",helpers:t,partials:n}))?r:"")+'            <div id="checkout-buy-choice-restrictions-padding" class="padding-small"></div>\n'+(null!=(r=t.if.call(e,null!=e?e.termsAndConditionsUrl:e,{name:"if",hash:{},fn:this.program(26,a,0,i,s),inverse:this.noop,data:a}))?r:"")},15:function(e,t,n,a,i,s){var r;return'                            <label class="switch switch--card margin-top-medium js-overage-choice-label"\n                                '+(null!=(r=t.if.call(e,a&&a.first,{name:"if",hash:{},fn:this.program(16,a,0,i,s),inverse:this.program(18,a,0,i,s),data:a}))?r:"")+'\n                                   data-value="'+this.escapeExpression(this.lambda(null!=e?e.product_key:e,e))+'"\n                                   data-order-id="'+this.escapeExpression(this.lambda(null!=e?e.order_id:e,e))+'"\n                            >\n                                <div class="row">\n                                    <div class="column on-medium-1 on-large-1 on-small-1">\n                                        <input\n                                                title="'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+'"\n                                                type="radio"\n                                                name="asset_type"\n                                            '+(null!=(r=t.if.call(e,a&&a.first,{name:"if",hash:{},fn:this.program(20,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'\n                                        />\n                                    </div>\n                                    <div class="column on-medium-7 on-elarge-7 on-small-7">\n                                        '+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+"\n"+(null!=(r=t.if.call(e,null!=e?e.dimensions:e,{name:"if",hash:{},fn:this.program(22,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'                                        <div class="price margin-top-small">\n'+(null!=(r=this.invokePartial(n.orderTotalWithTax,e,{name:"orderTotalWithTax",hash:{taxClass:"text-sregular",totalClass:"text-medium",index:a&&a.index,localeTax:null!=(r=null!=(r=null!=e?e.pricing:e)?r.tax:r)?r.formatted:r,localePriceSubtotal:null!=(r=null!=(r=null!=e?e.pricing:e)?r.subtotal:r)?r.formatted:r,localePriceTotal:null!=(r=null!=(r=null!=e?e.pricing:e)?r.total:r)?r.formatted:r,isApplicableTax:null!=(r=null!=e?e.pricing:e)?r.is_applicable_tax:r,isVatSupported:null!=(r=null!=e?e.pricing:e)?r.is_vat_supported:r,isExclusiveVAT:null!=(r=null!=e?e.pricing:e)?r.is_exclusive_vat:r,isGstExcluded:null!=(r=null!=e?e.pricing:e)?r.is_gst_excluded:r,isGSTSupported:null!=(r=null!=e?e.pricing:e)?r.is_gst_supported:r,isTaxIncluded:null!=(r=null!=e?e.pricing:e)?r.tax_included:r},data:a,indent:"                                            ",helpers:t,partials:n}))?r:"")+'                                        </div>\n                                    </div>\n                                    <div class="column on-medium-4 on-large-4 on-small-4">\n                                    <span>\n'+(null!=(r=t.if.call(e,null!=s[1]?s[1].thumbUrl:s[1],{name:"if",hash:{},fn:this.program(24,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                                    </span>\n                                    </div>\n                                </div>\n                            </label>\n"},16:function(e,t,n,a){return' data-active="true" '},18:function(e,t,n,a){return' data-active="false" '},20:function(e,t,n,a){return" checked "},22:function(e,t,n,a){return'                                            <span class="light"> ('+this.escapeExpression(this.lambda(null!=e?e.dimensions:e,e))+")</span>\n"},24:function(e,t,n,a,i,s){return'                                            <img class="right" src="'+this.escapeExpression(this.lambda(null!=s[2]?s[2].thumbUrl:s[2],e))+'" alt="'+this.escapeExpression(this.lambda(null!=s[2]?s[2].thumbTitle:s[2],e))+'" />\n'},26:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.placeOrderConfirmation,e,{name:"placeOrderConfirmation",hash:{transferUrl:null!=e?e.transfer_url:e,termsAndConditionsUrl:null!=e?e.termsAndConditionsUrl:e,isGerman:null!=e?e.isGerman:e,isUserMigratingFromFotolia:null!=e?e.isUserMigratingFromFotolia:e},data:a,indent:"                ",helpers:t,partials:n}))?i:""},28:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.extendedVideoSelectResolution,e,{name:"extendedVideoSelectResolution",data:a,indent:"        ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<div class="modal__header '+(null!=(r=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'">\n'+(null!=(r=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(3,a,0,i,s),inverse:this.program(5,a,0,i,s),data:a}))?r:"")+'</div>\n<form id="js-purchase-options-form" action="">\n    <div class="modal__content '+(null!=(r=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'">\n        <div class="margin-top-medium margin-bottom-large">\n            <span id="js-checkout-user-facing-errors" class="red coral-text" data-is-hidden="true"></span>\n        </div>\n        <div id="qe-single-asset" class="margin-top-medium margin-bottom-large">\n'+(null!=(r=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(7,a,0,i,s),inverse:this.program(9,a,0,i,s),data:a}))?r:"")+'        </div>\n        <div data-t="credit-pack-optional-text" class="margin-top-medium margin-bottom-large">\n'+(null!=(r=t.if.call(e,null!=e?e.showCreditPackText:e,{name:"if",hash:{},fn:this.program(12,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"        </div>\n"+(null!=(r=t.unless.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"unless",hash:{},fn:this.program(14,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"    </div>\n"+(null!=(r=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(28,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'    <div class="modal__footer">\n        <div class="padding-left-xlarge">\n            <div class="padding-left-small">\n                <button id="js-purchase-options-submit" class="button button--dialog hide-modal" type="submit">\n                    <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Place Secure Order",{name:"_",hash:{},data:a}))+'</span>\n                </button>\n                <i class="mti-icon mti-large icon-lock white-text"></i>\n            </div>\n        </div>\n    </div>\n</form>\n'},usePartial:!0,useData:!0,useDepths:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/buyChoiceSubheading",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isVideo:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:""},2:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Single Editorial Video",{name:"_",hash:{},data:a}))+"\n"},4:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Single Editorial Image",{name:"_",hash:{},data:a}))+"\n"},6:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isVideo:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:""},7:function(e,t,n,a){return"            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Single video",{name:"_",hash:{},data:a}))+"\n"},9:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isPremiumImage:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.program(12,a,0),data:a}))?i:""},10:function(e,t,n,a){return"            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Premium Image",{name:"_",hash:{},data:a}))+"\n"},12:function(e,t,n,a){return"            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::Monthly Subscription",{name:"_",hash:{},data:a}))+"\n        "},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-top-xsmall padding-bottom-medium">\n    <h4>\n'+(null!=(i=t.if.call(e,null!=e?e.isEditorial:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+"    </h4>\n</div>\n"},useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/buyChoiceEditorialRestrictions",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <div class="padding-top-medium">\n        <div class="blue bleu-de-france-text">\n            <i class="mti-icon icon-infofull mti-2x"></i>\n       </div>\n    </div>\n   <div class="padding-top-xsmall padding-bottom-xsmall">\n       <span class="text-regular">\n'+(null!=(i=t.if.call(e,null!=e?e.isVideo:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'       </span>\n   </div>\n   <div class="text-small grey silver-sand-text">\n       '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::To learn more about editorial terms and conditions,",{name:"_",hash:{},data:a}))+'\n       <a data-t="license-link" class="bold blue bleu-de-france-text" href="'+this.escapeExpression((s=null!=(s=t.editorialLicenseTerms||(null!=e?e.editorialLicenseTerms:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"editorialLicenseTerms",hash:{},data:a}):s))+'"  target="_blank">\n           '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::click here",{name:"_",hash:{},data:a}))+'\n       </a>\n   </div>\n   <div data-t="restrictions-popup-link" id="restrictions-popup-link" data-is-hidden="true">\n       <a class="default-link text-small blue bleu-de-france-text">\n           '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Additional restrictions may apply",{name:"_",hash:{},data:a}))+"\n       </a>\n   </div>\n"},2:function(e,t,n,a){return"               "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::This video has editorial restrictions",{name:"_",hash:{},data:a}))+"\n"},4:function(e,t,n,a){return"               "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::This image has editorial restrictions",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isEditorial:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("hbs!quickerCheckoutRepo/lib/generic/motMotModal/templates/message",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'            <div class="modal__header">\n                <div class="center-align">\n                <span class="grey dove-text">\n                    '+this.escapeExpression((i=null!=(i=t.title||(null!=e?e.title:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"title",hash:{},data:a}):i))+"\n                </span>\n                </div>\n            </div>\n"},3:function(e,t,n,a){var i;return'                            <div class="grey dove-text text-up">\n                                '+this.escapeExpression((i=null!=(i=t.messageHeader||(null!=e?e.messageHeader:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"messageHeader",hash:{},data:a}):i))+"\n                            </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div data-t="motmot-modal-message" class="mti-modal modal--large modal--with-header animated fade-in">\n    <div class="modal__body">\n        <i class="modal__close mti-icon icon-close js-motmot-modal-close"></i>\n'+(null!=(i=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'\n        <div class="modal__content">\n            <div class="container-smedium-height-max overflow-y-scroll">\n                <div class="padding-xlarge">\n                    <div class="padding-large">\n'+(null!=(i=t.if.call(e,null!=e?e.messageHeader:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'\n                        <div class="padding-top-medium">\n                            <span class="grey mountain-mist-text">\n                                '+this.escapeExpression((s=null!=(s=t.message||(null!=e?e.message:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"message",hash:{},data:a}):s))+"\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!quickerCheckoutRepo/lib/generic/motMotModal/templates/usingPartial",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'\n            <div class="modal__content">\n                <div class="js-motmot-modal-partial">\n'+(null!=(i=this.invokePartial(n.modalContent,e,{name:"modalContent",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n            </div>\n\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.params:e)?i.footer:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},2:function(e,t,n,a){var i;return'                <div class="modal__header">\n                    <div class="center-align">\n                        <span class="grey dove-text">\n                            '+this.escapeExpression((i=null!=(i=t.title||(null!=e?e.title:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"title",hash:{},data:a}):i))+"\n                        </span>\n                    </div>\n                </div>\n"},4:function(e,t,n,a){var i;return'                <div class="modal__footer">\n'+(null!=(i=this.invokePartial(n.modalFooter,e,{name:"modalFooter",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n"},6:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalContent,e,{name:"modalContent",data:a,indent:"            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i
;return'<div class="mti-modal modal--'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.params:e)?i.width:i,e))+' modal--with-header animated fade-in">\n    <div class="modal__body">\n        <i class="modal__close mti-icon icon-close js-motmot-modal-close"></i>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.params:e)?i.usingDefault:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+"    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("quickerCheckoutRepo/lib/generic/motMotModal/motMotModal",["jquery","hbs!quickerCheckoutRepo/lib/generic/motMotModal/templates/message","hbs!quickerCheckoutRepo/lib/generic/motMotModal/templates/usingPartial"],function(e,t,n){"use strict";var a=e("<div />",{class:"motmot"}),i=function(t){var n=e.Deferred();return a.html(t),e("body").append(a),a.on("click",".js-motmot-modal-close",function(){c(),n.resolve()}),n.promise()},s=function(e){return i(t(e))},r=function(t){var a,s={};if(t&&t.partial)return a={modalContent:t.partial},t.additionalPartials&&(a=e.extend(a,t.additionalPartials)),t.title&&(s.title=t.title),t.partialProperties&&(s.properties=t.partialProperties),s.params={footer:!1,usingDefault:!0,width:"large"},t.templateParams&&("undefined"!=t.templateParams.footer&&(s.params.footer=t.templateParams.footer),"undefined"!=t.templateParams.usingDefault&&(s.params.usingDefault=t.templateParams.usingDefault),t.templateParams.width&&(s.params.width=t.templateParams.width)),i(n(s,{partials:a}))},l=function(e,t){switch(e){case"message":return this.showMessage(t);case"usingPartial":return r(t);default:throw new Error("Unregistered modal template: "+e)}},o=function(e,t,n,i){a.find(e).on(i||"click",function(){t(n)})},c=function(){a.remove()};return{hide:c,registerEvent:o,show:l,showMessage:s,showUsingPartial:r}}),define("quickerCheckoutRepo/lib/utils/editorial",["quickerCheckoutRepo/lib/utils/config","quickerCheckoutRepo/lib/generic/i18n-config","quickerCheckoutRepo/lib/generic/motMotModal/motMotModal","quickerCheckoutRepo/lib/utils/utils"],function(e,t,n,a){"use strict";function i(){var e,t;t=document.getElementById("checkout-buy-choice-restrictions-padding"),c?(e=document.getElementById("restrictions-popup-link"))&&(a.updateAttribute(e,"data-is-hidden",!1),e.addEventListener("click",o),t&&a.updateAttribute(t,"data-is-hidden",!0)):t&&a.updateAttribute(t,"data-is-hidden",!1)}function s(e){return e.is_editorial}function r(e){var t=null;return e.editorial_data&&e.editorial_data.restriction&&(t=e.editorial_data.restriction),c=t,t}function l(){var t=e.get("display_cce_terms")?"/enterprise-conditions":"/license-terms",n=e.get("isAudioLPEnabled")?"#editorialUse":"?comparison-full#editorial-license-terms";return e.get("base_url")+t+n}function o(){c&&n.show("message",{message:c,title:t.callJedFunction("gettext","CHECKOUT::Special Restrictions")})}var c;return{setEditorialRestrictions:r,isEditorial:s,wireRestrictionsToggle:i,getEditorialLicenseTermsLink:l}}),define("hbs!quickerCheckoutRepo/templates/partials/orderTotalWithTax",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <div id="order-total-price-total-'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'">\n'+(null!=(i=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'        <div data-t="order-total-tax-summary-'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'" class="'+this.escapeExpression((s=null!=(s=t.taxClass||(null!=e?e.taxClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"taxClass",hash:{},data:a}):s))+'">\n'+(null!=(i=t.if.call(e,null!=e?e.isGSTSupported:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.program(8,a,0),data:a}))?i:"")+'\n            <i data-index="'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'" class="js-order-total-tax-hover mti-icon icon-info grey silver-sand-text cursor-pointer"></i>\n        </div>\n    </div>\n    <div id="order-total-price-subtotal-'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'" data-is-hidden="true">\n'+(null!=(i=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.program(21,a,0),data:a}))?i:"")+'        <div data-index="'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'" id="order-total-tax-details-'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'" class="js-order-total-tax-hover '+this.escapeExpression((s=null!=(s=t.taxClass||(null!=e?e.taxClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"taxClass",hash:{},data:a}):s))+'">\n'+(null!=(i=t.if.call(e,null!=e?e.isGSTSupported:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.program(25,a,0),data:a}))?i:"")+"        </div>\n    </div>\n"},2:function(e,t,n,a){var i;return'            <span class="grey gravel-text font-semibold '+this.escapeExpression((i=null!=(i=t.totalClass||(null!=e?e.totalClass:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"totalClass",hash:{},data:a}):i))+'">\n                '+this.escapeExpression((i=null!=(i=t.localePriceTotal||(null!=e?e.localePriceTotal:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"localePriceTotal",hash:{},data:a}):i))+"\n            </span>\n"},4:function(e,t,n,a){var i;return'            <p class="blue bleu-de-france-text '+this.escapeExpression((i=null!=(i=t.totalClass||(null!=e?e.totalClass:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"totalClass",hash:{},data:a}):i))+'">\n                '+this.escapeExpression((i=null!=(i=t.localePriceTotal||(null!=e?e.localePriceTotal:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"localePriceTotal",hash:{},data:a}):i))+"\n            </p>\n"},6:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Including GST",{name:"_",hash:{},data:a}))+"\n"},8:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isExclusiveVAT:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.program(14,a,0),data:a}))?i:""},9:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isApplicableTax:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.program(12,a,0),data:a}))?i:""},10:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Including Tax",{name:"_",hash:{},data:a}))+"\n"},12:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Including VAT",{name:"_",hash:{},data:a}))+"\n"},14:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isVatSupported:e,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.program(17,a,0),data:a}))?i:""},15:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Including VAT",{name:"_",hash:{},data:a}))+"\n"},17:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Including Tax",{name:"_",hash:{},data:a}))+"\n            "},19:function(e,t,n,a){var i;return'            <span class="grey gravel-text font-semibold '+this.escapeExpression((i=null!=(i=t.totalClass||(null!=e?e.totalClass:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"totalClass",hash:{},data:a}):i))+'">\n                '+this.escapeExpression((i=null!=(i=t.localePriceSubtotal||(null!=e?e.localePriceSubtotal:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"localePriceSubtotal",hash:{},data:a}):i))+"\n            </span>\n"},21:function(e,t,n,a){var i;return'            <p class="blue bleu-de-france-text '+this.escapeExpression((i=null!=(i=t.totalClass||(null!=e?e.totalClass:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"totalClass",hash:{},data:a}):i))+'">\n                '+this.escapeExpression((i=null!=(i=t.localePriceSubtotal||(null!=e?e.localePriceSubtotal:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"localePriceSubtotal",hash:{},data:a}):i))+"\n            </p>\n"},23:function(e,t,n,a){return"                "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::+ %s GST",{name:"_",hash:{},data:a}),null!=e?e.localeTax:e,{name:"sprintf",hash:{},data:a}))+"\n"},25:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isExclusiveVAT:e,{name:"if",hash:{},fn:this.program(26,a,0),inverse:this.program(31,a,0),data:a}))?i:""},26:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isApplicableTax:e,{name:"if",hash:{},fn:this.program(27,a,0),inverse:this.program(29,a,0),data:a}))?i:""},27:function(e,t,n,a){return"                    "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::+ %s Tax",{name:"_",hash:{},data:a}),null!=e?e.localeTax:e,{name:"sprintf",hash:{},data:a}))+"\n"},29:function(e,t,n,a){return"                    "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::+ %s VAT",{name:"_",hash:{},data:a}),null!=e?e.localeTax:e,{name:"sprintf",hash:{},data:a}))+"\n"},31:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isVatSupported:e,{name:"if",hash:{},fn:this.program(32,a,0),inverse:this.program(34,a,0),data:a}))?i:""},32:function(e,t,n,a){return"                "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::+ %s VAT",{name:"_",hash:{},data:a}),null!=e?e.localeTax:e,{name:"sprintf",hash:{},data:a}))+"\n"},34:function(e,t,n,a){return"                "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::+ %s Tax",{name:"_",hash:{},data:a}),null!=e?e.localeTax:e,{name:"sprintf",hash:{},data:a}))+"\n            "},36:function(e,t,n,a){var i,s;return'    <p class="blue bleu-de-france-text '+this.escapeExpression((s=null!=(s=t.totalClass||(null!=e?e.totalClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"totalClass",hash:{},data:a}):s))+'">\n'+(null!=(i=t.if.call(e,null!=e?e.isGSTSupported:e,{name:"if",hash:{},fn:this.program(37,a,0),inverse:this.program(39,a,0),data:a}))?i:"")+'    </p>\n    <div data-t="order-total-tax-summary-'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'" class="'+this.escapeExpression((s=null!=(s=t.taxClass||(null!=e?e.taxClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"taxClass",hash:{},data:a}):s))+'">\n'+(null!=(i=t.if.call(e,null!=e?e.isGSTSupported:e,{name:"if",hash:{},fn:this.program(41,a,0),inverse:this.program(44,a,0),data:a}))?i:"")+"    </div>\n"},37:function(e,t,n,a){var i;return"            "+this.escapeExpression((i=null!=(i=t.localePriceTotal||(null!=e?e.localePriceTotal:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"localePriceTotal",hash:{},data:a}):i))+"\n"},39:function(e,t,n,a){var i;return"            "+this.escapeExpression((i=null!=(i=t.localePriceSubtotal||(null!=e?e.localePriceSubtotal:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"localePriceSubtotal",hash:{},data:a}):i))+"\n"},41:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isGstExcluded:e,{name:"if",hash:{},fn:this.program(42,a,0),inverse:this.program(6,a,0),data:a}))?i:""},42:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Exclusive of GST",{name:"_",hash:{},data:a}))+"\n"},44:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isExclusiveVAT:e,{name:"if",hash:{},fn:this.program(45,a,0),inverse:this.program(50,a,0),data:a}))?i:""},45:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isApplicableTax:e,{name:"if",hash:{},fn:this.program(46,a,0),inverse:this.program(48,a,0),data:a}))?i:""},46:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Excluding Tax",{name:"_",hash:{},data:a}))+"\n"},48:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Exclusive of VAT",{name:"_",hash:{},data:a}))+"\n"},50:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isVatSupported:e,{name:"if",hash:{},fn:this.program(51,a,0),inverse:this.program(53,a,0),data:a}))?i:""},51:function(e,t,n,a){return"            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Exclusive of VAT",{name:"_",hash:{},data:a}))+"\n"},53:function(e,t,n,a){return"            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Excluding Tax",{name:"_",hash:{},data:a}))+"\n        "},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.localeTax:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(36,a,0),data:a}))?i:""},useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/orderTotalWithTaxv2",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'            <i data-index="'+this.escapeExpression((i=null!=(i=t.index||(null!=e?e.index:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"index",hash:{},data:a}):i))+'" class="js-order-total-tax-hover mti-icon icon-info grey silver-sand-text cursor-pointer"></i>\n'},3:function(e,t,n,a){var i,s;return'    <div id="order-total-price-subtotal-'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'" data-is-hidden="true">\n        <p class="blue bleu-de-france-text '+this.escapeExpression((s=null!=(s=t.totalClass||(null!=e?e.totalClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"totalClass",hash:{},data:a}):s))+'">\n            '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.pricing:e)?i.subtotal:i,e))+'\n        </p>\n        <div data-index="'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'" id="order-total-tax-details-'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'" class="js-order-total-tax-hover '+this.escapeExpression((s=null!=(s=t.taxClass||(null!=e?e.taxClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"taxClass",hash:{},data:a}):s))+'">\n            '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.pricing:e)?i.tax:i,e))+"\n        </div>\n    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div id="order-total-price-total-'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'">\n    <p class="blue bleu-de-france-text '+this.escapeExpression((s=null!=(s=t.totalClass||(null!=e?e.totalClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"totalClass",hash:{},data:a}):s))+'">\n        '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.pricing:e)?i.total:i,e))+'\n    </p>\n    <div data-t="order-total-tax-summary-'+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'" class="'+this.escapeExpression((s=null!=(s=t.taxClass||(null!=e?e.taxClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"taxClass",hash:{},data:a}):s))+'">\n        '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.pricing:e)?i.including_tax:i,e))+"\n\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.pricing:e)?i.tax:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n</div>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.pricing:e)?i.tax:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")},useData:!0})}),define("quickerCheckoutRepo/checkout/orderTotalWithTax",["hbs!quickerCheckoutRepo/templates/partials/orderTotalWithTax","hbs!quickerCheckoutRepo/templates/partials/orderTotalWithTaxv2"],function(e,t){"use strict";function n(){return e}function a(){return t}function i(){s(!0)}function s(e){var t,n,a;for(t=document.getElementsByClassName("js-order-total-tax-hover"),n=0;n<t.length;n++)a=t[n].getAttribute("data-index"),l[a]=document.getElementById("order-total-price-total-"+a),o[a]=document.getElementById("order-total-price-subtotal-"+a),e?(t[n].removeEventListener("mouseenter",r),t[n].removeEventListener("mouseleave",r)):(t[n].addEventListener("mouseenter",r),t[n].addEventListener("mouseleave",r))}function r(e){var t;if(t=e.target.getAttribute("data-index"),l[t]&&o[t])switch(e.type){case"mouseenter":l[t].setAttribute("data-is-hidden","true"),o[t].removeAttribute("data-is-hidden");break;case"mouseleave":o[t].setAttribute("data-is-hidden","true"),l[t].removeAttribute("data-is-hidden")}}var l=[],o=[];return{getPartial:n,getPartialv2:a,wireEvents:s,cleanupEvents:i}}),define("hbs!quickerCheckoutRepo/templates/partials/placeOrderConfirmation",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"false"},3:function(e,t,n,a){return"true"},5:function(e,t,n,a){var i;return'                        <span class="js-checkout-new-payment-confirm-info-message">\n                            '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,'CHECKOUT::If everything on this page is correct, click "place secure order". By clicking, you agree to the %sSubscription and Cancellation Terms%s and the %sTransfer Terms%s. These Terms will also be sent to your email.',{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.transferUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n                        </span>\n"},7:function(e,t,n,a){var i;return'                        <span class="js-checkout-new-payment-confirm-info-message">\n                            '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,'CHECKOUT::If everything on this page is correct, click "place secure order". By clicking, you agree to the %sSubscription and Cancellation Terms%s. These Terms will also be sent to your email.',{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n                        </span>\n"},9:function(e,t,n,a){var i;return"                        "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::By clicking this button I agree to the %sTerms & Conditions%s and the %sTransfer Terms%s",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.transferUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},11:function(e,t,n,a){var i;return"                        "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::By clicking this button I agree to the %sTerms & Conditions%s",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="column on-small-12">\n        <div class="margin-xsmall">\n            <div class="text-center text-small grey dove-text">\n                <span id="js-german-terms-acceptance" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.isGerman:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+'">\n'+(null!=(i=t.if.call(e,null!=e?e.isUserMigratingFromFotolia:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+'                </span>\n                <span id="js-non-german-terms-acceptance" data-is-hidden="'+(null!=(i=t.unless.call(e,null!=e?e.isGerman:e,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+'">\n'+(null!=(i=t.if.call(e,null!=e?e.isUserMigratingFromFotolia:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.program(11,a,0),data:a}))?i:"")+"                </span>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/extendedVideoDetailsPanel",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'        <div class="column on-large-7 on-small-12 on-medium-7 padding-right-xsmall">\n            <div class="relative">\n                <img class="block" style="width: 100%" src="'+this.escapeExpression((i=null!=(i=t.thumbnailUrl||(null!=e?e.thumbnailUrl:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbnailUrl",hash:{},data:a}):i))+'" alt="'+this.escapeExpression((i=null!=(i=t.thumbTitleTruncated||(null!=e?e.thumbTitleTruncated:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbTitleTruncated",hash:{},data:a}):i))+'" />\n            </div>\n        </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="row">\n'+(null!=(i=t.if.call(e,null!=e?e.thumbnailUrl:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'    <div class="column on-large-5 on-medium-5 on-small-12 padding-left-small left-align">\n        <div style="display: flex; flex-direction: column; min-height: 185px;" class="flex-items-evenly">\n            <div>\n                <h4 class="text-medium grey gravel-text">\n                    '+this.escapeExpression((s=null!=(s=t.thumbTitleTruncated||(null!=e?e.thumbTitleTruncated:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"thumbTitleTruncated",hash:{},data:a}):s))+'\n                </h4>\n                <div class="text-small grey dove-text padding-top-xsmall font-thin">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::By",{name:"_",hash:{},data:a}))+" "+this.escapeExpression((s=null!=(s=t.author||(null!=e?e.author:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"author",hash:{},data:a}):s))+'\n                </div>\n            </div>\n            <div class="">\n                <div class="row">\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular grey dove-text font-semibold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::License",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular grey gravel-text right-align">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Enhanced",{name:"_",hash:{},data:a}))+"\n                        <span>"+(null!=(i=this.invokePartial(n.infoTooltip,e,{name:"infoTooltip",hash:{list:null!=(i=null!=e?e.infoTooltipFormattedText:e)?i.list:i,title:null!=(i=null!=e?e.infoTooltipFormattedText:e)?i.title:i},data:a,helpers:t,partials:n}))?i:"")+'</span>\n                    </span>\n                </div>\n                <div class="row">\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular grey dove-text font-semibold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::File Type",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular grey gravel-text text-uppercase right-align">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetDetail:e)?i.format:i,e))+'</span>\n                </div>\n                <div class="row">\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular grey dove-text font-semibold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Duration",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular grey gravel-text right-align">'+this.escapeExpression((t.minutes||e&&e.minutes||t.helperMissing).call(e,null!=(i=null!=e?e.assetDetail:e)?i.duration:i,{name:"minutes",hash:{},data:a}))+'</span>\n                </div>\n                <div class="row">\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular grey dove-text font-semibold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Frame rate",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="column on-large-6 on-medium-6 on-small-6 text-sregular grey gravel-text right-align">'+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::%s FPS",{name:"_",hash:{},data:a}),(t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=e?e.assetDetail:e)?i.framerate:i,{name:"number",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))+"</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!quickerCheckoutRepo/templates/partials/extendedVideoSelectResolution",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                        <label class="switch switch--card margin-top-medium js-overage-choice-label video"\n                            '+(null!=(i=t.if.call(e,a&&a.first,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'\n                               data-value="'+this.escapeExpression(this.lambda(null!=e?e.product_key:e,e))+'"\n                               data-order-id="'+this.escapeExpression(this.lambda(null!=e?e.order_id:e,e))+'"\n                        >\n                            <div class="row">\n                                <div class="column on-medium-6 on-large-6 on-small-6 bold text-sregular grey gravel-text">\n                                    <span class="text-medium">'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+"</span>\n"+(null!=(i=t.if.call(e,null!=e?e.dimensions:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'                                    <div class="font-thin">\n                                        <span class="padding-right-2xsmall">'+(null!=(i=(t.filesize||e&&e.filesize||t.helperMissing).call(e,null!=(i=null!=e?e.license_details:e)?i.video_content_length:i,{name:"filesize",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+"&nbsp;"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::MB",{name:"_",hash:{},data:a}))+' </span>|\n                                        <span class="padding-left-xsmall">'+(null!=(i=(t.bitrate||e&&e.bitrate||t.helperMissing).call(e,null!=(i=null!=e?e.license_details:e)?i.video_bitrate_in_kbps:i,{name:"bitrate",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Mbps",{name:"_",hash:{},data:a}))+' </span>\n                                    </div>\n                                </div>\n                                <div class="column on-medium-6 on-large-6 on-small-6 left">\n                                    <div class="right">\n'+(null!=(i=this.invokePartial(n.orderTotalWithTax,e,{name:"orderTotalWithTax",hash:{taxClass:"text-sregular",totalClass:"text-medium",index:a&&a.index,localeTax:null!=(i=null!=(i=null!=e?e.pricing:e)?i.tax:i)?i.formatted:i,localePriceSubtotal:null!=(i=null!=(i=null!=e?e.pricing:e)?i.subtotal:i)?i.formatted:i,localePriceTotal:null!=(i=null!=(i=null!=e?e.pricing:e)?i.total:i)?i.formatted:i,isApplicableTax:null!=(i=null!=e?e.pricing:e)?i.is_applicable_tax:i,isVatSupported:null!=(i=null!=e?e.pricing:e)?i.is_vat_supported:i,isExclusiveVAT:null!=(i=null!=e?e.pricing:e)?i.is_exclusive_vat:i,isGstExcluded:null!=(i=null!=e?e.pricing:e)?i.is_gst_excluded:i,isGSTSupported:null!=(i=null!=e?e.pricing:e)?i.is_gst_supported:i,isTaxIncluded:null!=(i=null!=e?e.pricing:e)?i.tax_included:i,isVideoAssetDetailEnabled:!0},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"                                    </div>\n                                </div>\n                            </div>\n                        </label>\n"},2:function(e,t,n,a){return' data-active="true" '},4:function(e,t,n,a){return' data-active="false" '},6:function(e,t,n,a){return'                                        <span class="bold"> '+this.escapeExpression(this.lambda(null!=e?e.dimensions:e,e))+"</span>\n"},8:function(e,t,n,a){return""},10:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.placeOrderConfirmation,e,{name:"placeOrderConfirmation",hash:{transferUrl:null!=e?e.transfer_url:e,termsAndConditionsUrl:null!=e?e.termsAndConditionsUrl:e,isGerman:null!=e?e.isGerman:e,isUserMigratingFromFotolia:null!=e?e.isUserMigratingFromFotolia:e},data:a,indent:"            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="white padding-left-large padding-right-large">\n    <div class="padding-left-large padding-right-large">\n        <div class="row">\n            <div class="column on-small-12 on-medium-12 on-large-12">\n                <h4 class="margin-top-medium text-sregular font-heavy grey heavy-metal-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Select Resolution",{name:"_",hash:{},data:a}))+'</h4>\n                <div class="js-purchase-options">\n'+(null!=(i=t.each.call(e,null!=e?e.purchaseOptions:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"                </div>\n            </div>\n        </div>\n    </div>\n"+(null!=(i=this.invokePartial(n.buyChoiceEditorialRestrictions,e,{name:"buyChoiceEditorialRestrictions",data:a,indent:"    ",helpers:t,partials:n
}))?i:"")+'    <div id="checkout-buy-choice-restrictions-padding" class="padding-small"></div>\n    <div class="padding-bottom-medium">\n'+(null!=(i=t.if.call(e,null!=e?e.termsAndConditionsUrl:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("quickerCheckoutRepo/states/overageChoice",["quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/services/switchEvents","hbs!quickerCheckoutRepo/templates/overageChoice","hbs!quickerCheckoutRepo/templates/partials/buyChoiceSubheading","hbs!quickerCheckoutRepo/templates/partials/buyChoiceEditorialRestrictions","quickerCheckoutRepo/lib/utils/editorial","quickerCheckoutRepo/checkout/orderTotalWithTax","hbs!quickerCheckoutRepo/templates/partials/placeOrderConfirmation","lodash","hbs!coreComponents/InfoTooltip/templates/infoTooltip","hbs!quickerCheckoutRepo/templates/partials/extendedVideoDetailsPanel","hbs!quickerCheckoutRepo/templates/partials/extendedVideoSelectResolution","quickerCheckoutRepo/lib/utils/config"],function(e,t,n,a,i,s,r,l,o,c,u,d,p){"use strict";function h(e,t,p,h){var _,g,C,S;E=e,v=t,T=p,y=h,S=s.getEditorialLicenseTermsLink();try{C=e.asset_details,s.setEditorialRestrictions(C),_={purchaseOptions:e.purchase_options,thumbUrl:e.asset_details&&e.asset_details.content_thumb_url,thumbnailUrl:o.get(e,"asset_details.thumbnail_url"),author:o.get(e,"asset_details.author"),thumbTitleTruncated:f(o.get(e,"asset_details.title"),54),thumbTitle:e.asset_details&&e.asset_details.title,singleAssetText:e.asset_details&&e.asset_details.single_asset_text,isVideo:C.is_video,isPremiumImage:C.is_premium,isEditorial:s.isEditorial(C),showCreditPackText:e.has_credits,creditPackUrl:e.credit_packs_learn_more_url,termsAndConditionsUrl:e.terms_and_conditions_url,isGerman:"DE"===e.country_iso2_code,isUserMigratingFromFotolia:e.extras&&e.extras.options&&e.extras.options.is_fotolia_migration,transfer_url:e.transfer_url,isVideoAssetDetailEnabled:o.get(e,"feature_flags.isVideoAssetDetailEnabled")&&o.get(e,"asset_details.is_video"),assetDetail:e.asset_details,infoTooltipFormattedText:e.info_tooltip_formatted_text,editorialLicenseTerms:S,termsUrl:e.terms_url,isCceMemberPurchase:e.is_cce_member_purchase,enterpriseTermsUrl:e.enterprise_terms_url}}catch(e){throw new Error("Malformed JSON Response.")}g=n(_,{partials:{buyChoiceSubheading:a,buyChoiceEditorialRestrictions:i,orderTotalWithTax:r.getPartial(),placeOrderConfirmation:l,infoTooltip:c,extendedVideoDetailsPanel:u,extendedVideoSelectResolution:d}}),t.setHtml(g),b=document.getElementById("js-purchase-options-submit"),m(),T(!1),y("page-view",!1)}function m(){var e;s.wireRestrictionsToggle(),document.getElementById("js-purchase-options-form").addEventListener("submit",g),t.init(C,_),r.wireEvents(),(e=document.getElementById(I))&&e.addEventListener("click",function(){T(!1,!0)})}function f(e,t){return t||(t=15),e&&e.length>t&&(e=e.substr(0,t-" . . .".length)+" . . ."),e}function _(e){var t=e.currentTarget.dataset.value;y("change-purchase-option",!0,t)}function g(t){var n,a;t.preventDefault(),t.stopPropagation(),v.enableSpinner(!0),b.disabled=!0,(n=document.querySelector(C+" "+S+'[data-active="true"]'))&&(a=n.dataset.value,T(!0),y("continue",!0,a),r.cleanupEvents(),e.trigger(e.DISPATCH,{state:E,modifier:{order_id:n.dataset.orderId,product_key:n.dataset.value}}))}var E,v,b,T,y,C=".js-purchase-options",S=".switch--card",I="overage-choice-more-credits-link";return{displayPage:h}}),define("hbs!quickerCheckoutRepo/templates/overageConfirm",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"                "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"CHECKOUT::You're out of licenses. Your plan entitles you to %s asset a month.","CHECKOUT::You're out of licenses. Your plan entitles\n                you to %s assets a month.",null!=e?e.entitlement:e,{name:"ngettext",hash:{},data:a}),(t.number||e&&e.number||t.helperMissing).call(e,null!=e?e.entitlement:e,{name:"number",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))+"\n"},3:function(e,t,n,a){var i;return'                    <img id="qe-content-thumb" class="responsive-img" src="'+this.escapeExpression((i=null!=(i=t.thumbUrl||(null!=e?e.thumbUrl:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbUrl",hash:{},data:a}):i))+'" alt="'+this.escapeExpression((i=null!=(i=t.thumbTitle||(null!=e?e.thumbTitle:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbTitle",hash:{},data:a}):i))+'" />\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal__header">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::What would you like to do?",{name:"_",hash:{},data:a}))+'\n</div>\n<form id="js-overage-options" action="">\n    <div class="modal__content">\n        <p id="qe-entitlement-message" class="text-medium">\n'+(null!=(i=t.if.call(e,null!=e?e.entitlement:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'        </p>\n        <div class="row">\n            <div class="column on-small-12 on-medium-6">\n'+(null!=(i=t.if.call(e,null!=e?e.thumbUrl:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'            </div>\n            <div class="column on-small-12 on-medium-6">\n                <div class="padding-left-small padding-right-small">\n                    <div class="padding-small">\n                        <span class="text-large light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::One-Time Download",{name:"_",hash:{},data:a}))+"</span>\n"+(null!=(i=this.invokePartial(n.orderTotalWithTax,e,{name:"orderTotalWithTax",hash:{taxClass:"text-sregular light",totalClass:"text-xslarge light",index:0,localeTax:null!=e?e.localeTax:e,localePriceSubtotal:null!=e?e.localePriceSubtotal:e,localePriceTotal:null!=e?e.localePriceTotal:e,isVatSupported:null!=e?e.isVatSupported:e,isApplicableTax:null!=e?e.isApplicableTax:e,isExclusiveVAT:null!=e?e.isExclusiveVAT:e,isGSTSupported:null!=e?e.isGSTSupported:e,isTaxIncluded:null!=e?e.isTaxIncluded:e},data:a,indent:"                            ",helpers:t,partials:n}))?i:"")+'                        <p class="text-medium light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::One-time Payment",{name:"_",hash:{},data:a}))+'</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="modal__footer">\n        <div class="padding-left-xlarge">\n            <div class="padding-left-small">\n                <button id="js-overage-submit" class="button button--dialog hide-modal" type="submit">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Place Secure Order",{name:"_",hash:{},data:a}))+'</button>\n                <i class="mti-icon mti-large icon-lock white-text"></i>\n            </div>\n        </div>\n    </div>\n</form>\n'},usePartial:!0,useData:!0})}),define("quickerCheckoutRepo/states/overageConfirm",["quickerCheckoutRepo/events/quickerEvents","hbs!quickerCheckoutRepo/templates/overageConfirm","quickerCheckoutRepo/checkout/orderTotalWithTax"],function(e,t,n){"use strict";function a(e,a,s,d){var p,h;r=e,l=a,c=s,u=d;try{p={entitlement:e.plan_units,thumbUrl:e.asset_details&&e.asset_details.content_thumb_large_url,thumbTitle:e.asset_details&&e.asset_details.title,isTaxExcluded:!e.pricing.tax_included,isTaxIncluded:e.pricing.tax_included,isGSTSupported:e.pricing.is_gst_supported,isGstExcluded:e.pricing.is_gst_excluded,isExclusiveVAT:e.pricing.is_exclusive_vat,isVatSupported:e.pricing.is_vat_supported,isApplicableTax:e.pricing.is_applicable_tax,localePriceTotal:e.pricing.total?e.pricing.total.formatted:e.pricing.subtotal.formatted,localePriceSubtotal:e.pricing.subtotal.formatted,price:e.pricing.subtotal.number,localeTax:e.pricing.tax?e.pricing.tax.formatted:0}}catch(e){throw new Error("Malformed JSON Response.")}h=t(p,{partials:{orderTotalWithTax:n.getPartial()}}),a.setHtml(h),o=document.getElementById("js-overage-submit"),i(),c(!1),u(!1)}function i(){n.wireEvents(),document.getElementById("js-overage-options").addEventListener("submit",s)}function s(t){t.preventDefault(),t.stopPropagation(),l.enableSpinner(!0),o.disabled=!0,c(!0),u(!0),n.cleanupEvents(),e.trigger(e.DISPATCH,{state:r,modifier:{}})}var r,l,o,c,u;return{displayPage:a}}),define("hbs!quickerCheckoutRepo/templates/purchaseConfirm",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.creditPackLabel,e,{name:"creditPackLabel",hash:{data:null!=e?e.creditPackData:e},data:a,indent:"                ",helpers:t,partials:n}))?i:""},3:function(e,t,n,a){var i;return'            <div class="row margin-top-small border-top-1 border-top-solid bon-jour-border">\n                <div class="column">\n                    <div class="margin-top-small">\n                        '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::By clicking this button I agree to the %sTerms & Conditions%s",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsAndConditionsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n                    </div>\n                </div>\n            </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal__header">\n    <span class="grey dove-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Confirm Purchase",{name:"_",hash:{},data:a}))+'</span>\n</div>\n<form class="grey dove-text" action="">\n    <div class="modal__content">\n        <div class="margin-left-large margin-right-large">\n            <div class="margin-large">\n                <strong>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Purchase this credit pack?",{name:"_",hash:{},data:a}))+"</strong>\n            </div>\n"+(null!=(i=t.if.call(e,null!=e?e.creditPackData:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=this.invokePartial(n.orderTotals,e,{name:"orderTotals",hash:{isVATSupported:null!=e?e.isVATSupported:e,isGSTSupported:null!=e?e.isGSTSupported:e,total:null!=e?e.total:e,tax:null!=e?e.tax:e,subTotal:null!=e?e.subTotal:e},data:a,indent:"            ",helpers:t,partials:n}))?i:"")+"        </div>\n"+(null!=(i=t.if.call(e,null!=e?e.termsAndConditionsUrl:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'    </div>\n    <div class="modal__footer">\n        <div class="padding-left-xlarge">\n            <div class="padding-left-small">\n                <button id="purchase-confirm-submit" class="button button--dialog hide-modal" type="submit">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Place Secure Order",{name:"_",hash:{},data:a}))+'</button>\n                <i class="mti-icon mti-large icon-lock white-text"></i>\n            </div>\n        </div>\n    </div>\n</form>\n'},usePartial:!0,useData:!0})}),define("quickerCheckoutRepo/states/purchaseConfirm",["quickerCheckoutRepo/events/quickerEvents","hbs!quickerCheckoutRepo/templates/purchaseConfirm","hbs!quickerCheckoutRepo/templates/partials/creditPackLabel","hbs!quickerCheckoutRepo/templates/partials/orderTotals"],function(e,t,n,a){"use strict";function i(e,i,r,p){var h,m;l=e,o=i,c=r,u=p;try{h={creditPackData:e.quicker_checkout_products&&e.quicker_checkout_products.credit_pack,subTotal:e.pricing.subtotal.formatted,tax:e.pricing.tax?e.pricing.tax.formatted:null,total:e.pricing.total.formatted,isVATSupported:e.pricing.is_vat_supported,isGSTSupported:e.pricing.is_gst_supported,isGstExcluded:e.pricing.is_gst_excluded,termsAndConditionsUrl:e.terms_and_conditions_url,termsUrl:e.terms_url,isCceMemberPurchase:e.is_cce_member_purchase,enterpriseTermsUrl:e.enterprise_terms_url}}catch(e){throw new Error("Malformed JSON Response.")}m=t(h,{partials:{creditPackLabel:n,orderTotals:a}}),i.setHtml(m),d=document.getElementById("purchase-confirm-submit"),s(),c(!1),u(!1)}function s(){d&&d.addEventListener("click",r)}function r(t){t.preventDefault(),t.stopPropagation(),c(!0),u(!0),o.enableSpinner(!0),d.disabled=!0,e.trigger(e.DISPATCH,{state:l,modifier:{}})}var l,o,c,u,d;return{displayPage:i}}),define("quickerCheckoutRepo/states",["quickerCheckoutRepo/states/newPayment","quickerCheckoutRepo/states/error","quickerCheckoutRepo/states/selectPayment","quickerCheckoutRepo/states/go","quickerCheckoutRepo/states/done","quickerCheckoutRepo/states/halt","quickerCheckoutRepo/states/confirm","quickerCheckoutRepo/states/overageChoice","quickerCheckoutRepo/states/overageConfirm","quickerCheckoutRepo/states/purchaseConfirm"],function(e,t,n,a,i,s,r,l,o,c){"use strict";function u(){return d}var d={go:{page:a},newPayment:{page:e,isMediumModal:!0},selectPayment:{page:n,isMediumModal:!0},error:{page:t,skipDataSave:!0},done:{page:i},halt:{page:s,skipDataSave:!0},confirm:{page:r,isMediumModal:!0},overageChoice:{page:l,isMediumModal:!0},overageConfirm:{page:o,isMediumModal:!0},purchaseConfirm:{page:c}};return{getStates:u}}),define("quickerCheckoutRepo/events/quickerEventListeners",["quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/lib/utils/utils"],function(e,t){"use strict";function n(e){e&&(r=e,Object.keys(l).forEach(function(e){i(e,l[e])}))}function a(){Object.keys(l).forEach(function(t,n){e.off(n)})}function i(t,n){r&&r[t]&&e.on(n,function(e){s(e,t)})}function s(e,n){t.isFunction(r[n])&&r[n](e),e&&e.extras&&e.extras.callbacks&&e.extras.callbacks[n]&&t.isFunction(window[e.extras.callbacks[n]])&&window[e.extras.callbacks[n]](e)}var r,l;return l={onOpen:e.OPEN,onDone:e.DONE,onError:e.ERROR,onClose:e.CLOSE,onHalt:e.HALT,onLogin:e.LOGIN,onFinishPurchase:e.FINISH_PURCHASE},{enableListeners:n,disableListeners:a}}),define("quickerCheckoutRepo/services/baseUrlFinder",["quickerCheckoutRepo/lib/generic/ajax"],function(e){"use strict";function t(t,a){return e.ajax({type:"GET",url:t+n+a})}var n="/1/BaseUrl/";return{getBaseUrl:t}}),define("quickerCheckoutRepo/quickerCheckout",["jquery","quickerCheckoutRepo/checkout/displayState","quickerCheckoutRepo/checkout/dispatcher","quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/modal/modal","hbs!quickerCheckoutRepo/templates/loading","quickerCheckoutRepo/lib/generic/localStorage","quickerCheckoutRepo/lib/utils/utils","quickerCheckoutRepo/states","quickerCheckoutRepo/lib/utils/config","quickerCheckoutRepo/events/quickerEventListeners","quickerCheckoutRepo/lib/storage/data","quickerCheckoutRepo/lib/generic/i18n-config","quickerCheckoutRepo/services/baseUrlFinder"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h){"use strict";function m(a){I=e.extend({},C,a),I.endpoint?I.apiEndpointWithVersion=I.endpoint+"/"+I.apiVersion:(I.endpoint=I.endpointHost+I.endpointUrl,I.apiEndpointWithVersion=I.endpointHost+I.endpointUrl+"/"+I.apiVersion),c.set(I),u.disableListeners(),u.enableListeners(I.callbacks),i.init(I.modalId),t.init(i,I.activeStates,"quotaConfirm"),n.init(I.activeStates,I.dispatcherAnalyticsFn),p.init(I.locale),I.selectors&&e("body").on("click",I.selectors,b),I.isDebugMode&&t.enableDebugMode(),S=!0,f()}function f(){var e=l.getQueryParam(I.urlStartParam),t=!e,n=!0,a=d.getData(t);a||(n=!1),e&&I.isTeam&&document.querySelectorAll(".modal-window-container").length>0&&(n=!1),n&&e&&E(e,a)}function _(t,n){var i,s=e.Deferred();if(!n)throw new Error("Options were not passed into quickerCheckout.start");if(!S)throw new Error("Please initialize first");return y._resolvePromiseOnStart(s),i={state:{id:"bootstrap"},modifier:{content_id:n.contentId,reference_id:n.referenceId,product_key:t,pa_code:n.productArrangementCode,license_id:n.licenseId,is_open_in:n.isOpenIn,lib_id:n.libId,start_context:n.startContext,product_title:n.productTitleMarkup,purchase_flow:I.purchaseFlow,extras:{callbacks:n.callbacks||{},options:n.extrasOptions||{},is_paypal_disabled:n.isPayPalDisabled,start_timestamp:Date.now(),credit_pack_asset_type:n.creditPackAssetType,is_persistent_checkout:!1},migration_target:n.migrationTarget,org_name:n.orgName}},n.authToken&&c.update("authToken",n.authToken),d.setData(i.modifier),g(s,i),s.then(function(){return l.nextTick(function(){a.trigger(a.OPEN,d.getData())})}),s.promise()}function g(e,t){function i(){n.setApiEndpoint(c.get("apiEndpointWithVersion")),a.trigger(a.DISPATCH,t)}var s;I.locale&&!I.base_url&&""!==I.base_url?(s=h.getBaseUrl(I.endpoint,I.locale),s.then(function(t){var n="";t&&(t.locale||""==t.locale)||e.reject("Base Point URL did not respond correctly"),""!=t.locale&&(n="/"+t.locale),c.update("endpoint",I.endpointHost+n+I.endpointUrl),c.update("apiEndpointWithVersion",I.endpointHost+n+I.endpointUrl+"/"+I.apiVersion),i()}).fail(function(){e.reject("Base Point Url was unsuccessful")})):i()}function E(t,n,o){var c=e.Deferred(),u=I.urlStartParam;if(!S)throw new Error("Please initialize first");if(o||(o=g),!n)return c.resolve({quickerCheckout:!1});if(t){if(!r.retrieveData(null,u,!1))return c.resolve({quickerCheckout:!1});r.storeData(null,u,!1)}return l.isObject(n.extras)&&(n.extras.is_persistent_checkout=!t),i.setHtml(s()),y._resolvePromiseOnStart(c),o(c,{state:{id:"reentry"},modifier:n}),c.then(function(){return l.nextTick(function(){a.trigger(a.OPEN,d.getData())})}),c.promise()}function v(e){a.once(a.CHANGE_STATE,function(t){e.resolve({quickerCheckout:!0,stateId:t.id})})}function b(){function t(e){return p.attr(e)||p.closest("["+e+"]").attr(e)}var n,a,i,s,r,l,o,c,u,d,p=e(this);n=t("data-content-id"),l=n?null:t("data-reference-id"),s=t("data-product-key"),o=t("data-product-title-markup"),a=t("data-app-action"),i=t("data-lib-id"),c=t("data-close-callback"),u=t("data-done-callback"),d=t("data-error-callback"),r={contentId:n,isOpenIn:a,libId:i,referenceId:l,productTitleMarkup:o,callbacks:{onClose:c,onDone:u,onError:d}},_(s,r)}function T(e){S=e}var y={init:m,start:_,startFromSavedSession:E,startFromUrlParamOrPersistentCheckout:f,setIsInitialized:T,_resolvePromiseOnStart:v},C={endpointHost:"",endpointUrl:"/Ajax/Checkout",endpoint:"",apiVersion:"2",base_url:!1,modalId:"quicker-checkout-modal","x-api-key":"",urlStartParam:"continue_checkout",selectors:"",purchaseFlow:"stock",isDebugMode:!1,callbacks:{onOpen:!0,onDone:!0,onError:!0,onClose:!0,onHalt:!0,onFinishPurchase:!0},ANYWARE:{CLIENT_ID:"",LANDSCAPE:"",default_country_code:"",TIMEOUT:10,anyware_tracking_enabled:!0,DEFAULT_IMS_CONTEXT_ID:"",ACCEPTED_CREDIT_CARD_TYPES:["Visa","MasterCard","Amex","Jcb"]},locale:!1,activeStates:o.getStates(),isGSTForNewZealandEnabled:!1,isTeam:!1,dispatcherAnalyticsFn:function(){return!0},xDebugIdeKey:"netbeans-xdebug",isTestAndTargetDisabled:!1},S=!1,I={};return y}),define("hbs!templates/quickerCheckout/buychoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'        <a id="js-checkout-susi-login" class="blue bleu-de-france-text" href="#">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::Sign In",{name:"_",hash:{},data:a}))+"</a>\n"},3:function(e,t,n,a){return'        <span class="hidden">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Choose a Plan",{name:"_",hash:{},data:a}))+"</span>\n"},5:function(e,t,n,a,i,s){var r;return'\n            <div class="column on-small-12'+(null!=(r=t.if.call(e,null!=e?e.columnB:e,{name:"if",hash:{},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'">\n\n'+(null!=(r=t.if.call(e,null!=e?e.columnAHeader:e,{name:"if",hash:{},fn:this.program(8,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"\n"+(null!=(r=t.each.call(e,null!=e?e.onDemandOptions:e,{name:"each",hash:{},fn:this.program(10,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"\n"+(null!=(r=t.if.call(e,null!=e?e.columnA:e,{name:"if",hash:{},fn:this.program(21,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"            </div>\n"},6:function(e,t,n,a){return" on-medium-6 on-large-6 padding-right-small"},8:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.buyChoiceColumnHeading,e,{name:"buyChoiceColumnHeading",hash:{column:null!=e?e.columnAHeader:e},data:a,indent:"                    ",helpers:t,partials:n}))?i:""},10:function(e,t,n,a,i,s){var r;return'                    <div class="padding-top-medium'+(null!=(r=t.if.call(e,null!=e?e.css_class_name:e,{name:"if",hash:{},fn:this.program(11,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'">\n                        <label class="switch switch--card" '+(null!=(r=t.unless.call(e,null!=e?e.columnB:e,{name:"unless",hash:{},fn:this.program(13,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'>\n                            <div class="row">\n                                <div class="column on-medium-8 on-large-8 on-small-8">\n                                    <input\n                                            class="js-buy-choice-plan'+(null!=(r=t.if.call(e,null!=e?e.css_class_name:e,{name:"if",hash:{},fn:this.program(11,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'"\n                                            type="radio" name="options"'+(null!=(r=t.unless.call(e,null!=e?e.columnB:e,{name:"unless",hash:{},fn:this.program(16,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'\n                                            title="'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+'"\n                                            value="'+this.escapeExpression(this.lambda(null!=e?e.product_key:e,e))+'"\n                                            data-license-id="'+this.escapeExpression(this.lambda(null!=e?e.license_id:e,e))+'"\n                                            data-analytics-label="'+this.escapeExpression(this.lambda(null!=(r=null!=e?e.analytics:e)?r.label:r,e))+'"\n                                    />\n                                    <span>\n                                        <strong>'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+"</strong>\n"+(null!=(r=t.if.call(e,null!=e?e.dimensions:e,{name:"if",hash:{},fn:this.program(19,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'                                    </span>\n                                    <div class="switch__content">\n'+(null!=(r=this.invokePartial(n.orderTotalWithTax,e,{name:"orderTotalWithTax",hash:{taxClass:"text-sregular",totalClass:"text-medium",index:a&&a.index,pricing:null!=(r=null!=e?e.pricing:e)?r.template_text:r},data:a,indent:"                                        ",helpers:t,partials:n}))?r:"")+'                                    </div>\n                                </div>\n                                <div class="column on-medium-4 on-large-4 on-small-4">\n                                    <div class="margin-left-small">\n                                        <img alt="'+this.escapeExpression(this.lambda(null!=s[1]?s[1].imageAlt:s[1],e))+'" src="'+this.escapeExpression(this.lambda(null!=s[1]?s[1].imageUrl:s[1],e))+'" class="responsive-img"/>\n                                    </div>\n                                </div>\n                            </div>\n                        </label>\n                    </div>\n'},11:function(e,t,n,a){return" "+this.escapeExpression(this.lambda(null!=e?e.css_class_name:e,e))},13:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.is_default:e,{name:"if",hash:{},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:""},14:function(e,t,n,a){return'data-active="true"'},16:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.is_default:e,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:""},17:function(e,t,n,a){return'\n                                            checked="checked"'},19:function(e,t,n,a){return"                                            <span>("+this.escapeExpression(this.lambda(null!=e?e.dimensions:e,e))+")</span>\n"},21:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.planCard,e,{name:"planCard",hash:{column:"a",planData:null!=e?e.columnA:e},data:a,indent:"                    ",helpers:t,partials:n}))?i:""},23:function(e,t,n,a){var i,s;return'            <div class="column'+(null!=(i=t.if.call(e,null!=e?e.columnB:e,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.noop,data:a}))?i:"")+'">\n                <div class="padding-top-xsmall padding-bottom-medium">\n                    <h4>'+this.escapeExpression((s=null!=(s=t.columnBHeader||(null!=e?e.columnBHeader:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"columnBHeader",hash:{},data:a}):s))+'\n                        <span class="grey silver-sand-text"> | </span>\n                        <a class="text-small bold blue bleu-de-france-text padding-left-xsmall bh-learn-more-on-plans-page js-buy-choice-learn-more-link" href="'+this.escapeExpression((s=null!=(s=t.learnMoreLink||(null!=e?e.learnMoreLink:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"learnMoreLink",hash:{},data:a}):s))+'">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Learn more",{name:"_",hash:{},data:a}))+"\n                        </a>\n                    </h4>\n                </div>\n\n"+(null!=(i=this.invokePartial(n.buyChoiceCPHeading,e,{name:"buyChoiceCPHeading",hash:{column:"b",learnMoreLink:null!=e?e.creditPacksLearnMoreLink:e},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.columnB:e,{name:"if",hash:{},fn:this.program(26,a,0),inverse:this.noop,data:a}))?i:"")+"            </div>\n"},24:function(e,t,n,a){return" on-small-12 on-medium-6 on-large-6 padding-left-small"},26:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.planCard,e,{name:"planCard",hash:{column:"b",planData:null!=e?e.columnB:e},data:a,indent:"                    ",helpers:t,partials:n}))?i:""},28:function(e,t,n,a){var i;return'                <div class="column on-small-12'+(null!=(i=t.if.call(e,null!=e?e.columnB:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n.buyChoiceCardList,e,{name:"buyChoiceCardList",hash:{column:"a",listItems:null!=e?e.columnB:e},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r,l;return'<div class="modal__header">\n     <span>'+this.escapeExpression((l=null!=(l=t.heading||(null!=e?e.heading:e))?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"heading",hash:{},data:a}):l))+"</span>\n"+(null!=(r=t.if.call(e,null!=e?e.isNotLoggedIn:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.program(3,a,0,i,s),data:a}))?r:"")+'</div>\n\n<form action="" id="js-checkout-buy-choice-form" data-t="container-multiple-choices" data-ingest-subcategory="buy-choice">\n    <div class="modal__content js-checkout-buy-choice-state">\n        <div class="padding-medium"></div>\n        <div class="row" data-t="old-buy-choice">\n'+(null!=(r=t.if.call(e,null!=e?e.onDemandOptions:e,{name:"if",hash:{},fn:this.program(5,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"\n"+(null!=(r=t.if.call(e,null!=e?e.columnB:e,{name:"if",hash:{},fn:this.program(23,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'        </div>\n\n        <div class="row" data-t="new-buy-choice" data-is-hidden="true">\n'+(null!=(r=t.if.call(e,null!=e?e.columnB:e,{name:"if",hash:{},fn:this.program(28,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'            <div class="column'+(null!=(r=t.if.call(e,null!=e?e.columnB:e,{name:"if",hash:{},fn:this.program(24,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'">\n'+(null!=(r=this.invokePartial(n.buyChoiceCardList,e,{name:"buyChoiceCardList",hash:{column:"b",listItems:null!=e?e.columnA:e},data:a,indent:"                ",helpers:t,partials:n}))?r:"")+"            </div>\n        </div>\n\n"+(null!=(r=this.invokePartial(n.buyChoiceEditorialRestrictions,e,{name:"buyChoiceEditorialRestrictions",data:a,indent:"        ",helpers:t,partials:n}))?r:"")+'\n        <div class="margin-top-medium hidden">\n            <a class="text-large blue bleu-de-france-text padding-left-xsmall js-buy-choice-learn-more-link" href="'+this.escapeExpression((l=null!=(l=t.learnMoreLink||(null!=e?e.learnMoreLink:e))?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"learnMoreLink",hash:{},data:a}):l))+'">\n              '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::See All Plans",{name:"_",hash:{},data:a}))+'\n            </a>\n        </div>\n        <div id="checkout-buy-choice-restrictions-padding" class="padding-small"></div>\n    </div>\n\n    <div class="modal__footer">\n        <button class="button button--dialog js-checkout-continue-button">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+"\n        </button>\n    </div>\n</form>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("hbs!templates/quickerCheckout/partials/planCard",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r,l;return'    <div class="padding-top-medium '+(null!=(r=t.if.call(e,null!=e?e.css_class_name:e,{name:"if",hash:{},fn:this.program(2,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'">\n        '+this.escapeExpression((l=null!=(l=t.showRadioButton||(null!=e?e.showRadioButton:e))?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"showRadioButton",hash:{},data:a}):l))+'\n        <label class="switch switch--card switch--with-ribbon"\n            '+(null!=(r=t.unless.call(e,null!=e?e.css_class_name:e,{name:"unless",hash:{},fn:this.program(4,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'>\n\n            <input class="bh-buy-choice-plan-data-column-'+this.escapeExpression(this.lambda(null!=s[1]?s[1].column:s[1],e))+" js-buy-choice-plan "+this.escapeExpression(this.lambda(null!=e?e.css_class_name:e,e))+'"\n                   type="radio"\n                   name="options"\n'+(null!=(r=t.unless.call(e,null!=e?e.css_class_name:e,{name:"unless",hash:{},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'                   title="'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+'"\n                   value="'+this.escapeExpression(this.lambda(null!=e?e.product_key:e,e))+'"\n                   data-analytics-label="'+this.escapeExpression(this.lambda(null!=(r=null!=e?e.analytics:e)?r.label:r,e))+'"\n                '+(null!=(r=t.if.call(e,null!=e?e.is_default:e,{name:"if",hash:{},fn:this.program(9,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"\n            />\n\n            <strong>"+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+'</strong>\n            <div class="switch__content">\n                <ul class="list-style-disc">\n'+(null!=(r=t.each.call(e,null!=e?e.info:e,{name:"each",hash:{},fn:this.program(11,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                </ul>\n            </div>\n"+(null!=(r=t.if.call(e,null!=e?e.banner_text:e,{name:"if",hash:{},fn:this.program(16,a,0,i,s),inverse:this.program(18,a,0,i,s),data:a}))?r:"")+"        </label>\n    </div>\n"},2:function(e,t,n,a){return this.escapeExpression(this.lambda(null!=e?e.css_class_name:e,e))},4:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.is_default:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:""},5:function(e,t,n,a){return'data-active="true"'},7:function(e,t,n,a){var i;return"                    "+(null!=(i=t.if.call(e,null!=e?e.is_default:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},9:function(e,t,n,a){return'data-is-default="true" checked'},11:function(e,t,n,a){var i;return"                        <li>\n"+(null!=(i=t.if.call(e,null!=e?e.text:e,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.program(14,a,0),data:a
}))?i:"")+"                        </li>\n"},12:function(e,t,n,a){return"                                "+this.escapeExpression(this.lambda(null!=e?e.text:e,e))+"\n"},14:function(e,t,n,a){return"                                "+this.escapeExpression(this.lambda(e,e))+"\n"},16:function(e,t,n,a){return'                <strong class="mti-ribbon ribbon--top ribbon--left">'+this.escapeExpression(this.lambda(null!=e?e.banner_text:e,e))+"</strong>\n"},18:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.is_fmf:e,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.program(24,a,0),data:a}))?i:""},19:function(e,t,n,a){var i;return null!=(i=t.if.call(e,(i=a&&a.root)&&i.isUsLegalEnabled,{name:"if",hash:{},fn:this.program(20,a,0),inverse:this.program(22,a,0),data:a}))?i:""},20:function(e,t,n,a){return'                    <strong class="mti-ribbon ribbon--top ribbon--left">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::One month free trial",{name:"_",hash:{},data:a}))+"</strong>\n"},22:function(e,t,n,a){return'                    <strong class="mti-ribbon ribbon--top ribbon--left">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::One month trial, risk-free",{name:"_",hash:{},data:a}))+"</strong>\n"},24:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.is_migration_promoted_plan:e,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.noop,data:a}))?i:""},25:function(e,t,n,a){return'                <strong class="mti-ribbon ribbon--top ribbon--left">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Get 33% off on your Adobe Stock subscription",{name:"_",hash:{},data:a}))+"</strong>\n            "},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return null!=(r=t.each.call(e,null!=e?e.planData:e,{name:"each",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:""},useData:!0,useDepths:!0})}),define("hbs!templates/quickerCheckout/partials/buyChoiceCPHeading",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" hidden"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="padding-top-xsmall padding-bottom-medium'+(null!=(i=t.unless.call(e,null!=e?e.notHidden:e,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="credit-pack-headline-column-'+this.escapeExpression((s=null!=(s=t.column||(null!=e?e.column:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"column",hash:{},data:a}):s))+'">\n    <h4>\n        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Credit Packs",{name:"_",hash:{},data:a}))+'\n        <span class="grey silver-sand-text"> | </span>\n        <span class="padding-left-xsmall">\n          <a class="text-small bold blue bleu-de-france-text js-buy-choice-learn-more-link" href="'+this.escapeExpression((s=null!=(s=t.learnMoreLink||(null!=e?e.learnMoreLink:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"learnMoreLink",hash:{},data:a}):s))+'">\n              '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Learn more",{name:"_",hash:{},data:a}))+"\n          </a>\n        </span>\n    </h4>\n</div>\n"},useData:!0})}),define("hbs!templates/quickerCheckout/partials/bestPlansCard",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'data-is-hidden="true"'},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_default:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:""},4:function(e,t,n,a){return'data-active="true"'},6:function(e,t,n,a){var i;return"                            "+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_default:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},8:function(e,t,n,a){return'data-is-default="true" checked'},10:function(e,t,n,a){var i;return'data-ingest-clicktype="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.data_ingest_clicktype:i,e))+'"'},12:function(e,t,n,a){return'            <div class="mti-ribbon mti-ribbon--top-tab bold">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::One month trial, risk-free",{name:"_",hash:{},data:a}))+"\n            </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="checkout-best-plan-card js-best-plan padding-top-large"\n     data-ab-test-column="'+this.escapeExpression((s=null!=(s=t.column||(null!=e?e.column:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"column",hash:{},data:a}):s))+'"\n     data-ab-test-product-key="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.product_key:i,e))+'"\n     '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.css_class_name:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"\n>\n\n    "+this.escapeExpression((s=null!=(s=t.showRadioButton||(null!=e?e.showRadioButton:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"showRadioButton",hash:{},data:a}):s))+'\n\n    <label class="switch switch--card switch--with-ribbon switch--card-with-top-tab checkout-card-height padding-bottom-medium border-1 border-solid silver-sand-border"\n        '+(null!=(i=t.unless.call(e,null!=(i=null!=e?e.data:e)?i.css_class_name:i,{name:"unless",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'>\n\n        <div class="switch--input container-table">\n            <div class="container-table-row">\n                <div class="container-table-cell padding-right-xsmall">\n                    <input class="buy-choice-plan-data-column-a js-buy-choice-plan"\n                           type="radio"\n                           name="options-new"\n'+(null!=(i=t.unless.call(e,null!=(i=null!=e?e.data:e)?i.css_class_name:i,{name:"unless",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'                           title="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.label:i,e))+'"\n                           value="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.product_key:i,e))+'"\n                           data-analytics-label="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.data:e)?i.analytics:i)?i.label:i,e))+'"\n                        '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_default:i,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+"\n                        "+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.data_ingest_clicktype:i,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'\n                    />\n                </div>\n                <div class="container-table-cell">\n                    <label for="options" class="input-label">\n                        <div class="highlighted-text font-bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Best Price",{name:"_",hash:{},data:a}))+'</div>\n                        <div class="font-bold input-title text-up">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.commitment:i,e))+'</div>\n                    </label>\n                </div>\n            </div>\n        </div>\n\n        <hr class="border-bottom-solid nurse-border">\n\n        <div class="switch__content switch--content-with-top-tab">\n\n            <div class="pricing text-align-center padding-bottom-medium">\n                <div class="assets text-xxxlarge font-light highlighted-text padding-top-xsmall padding-bottom-small">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.data:e)?i.pricing:i)?i.assets:i,e))+'</div>\n                <div class="padding-top-small padding-bottom-small grey mountain-mist-text">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.data:e)?i.pricing:i)?i.assets_label:i,e))+'</div>\n                <div class="price padding-bottom-xsmall">\n                    <span class="text-medium grey heavy-metal-text">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.data:e)?i.pricing:i)?i.price:i)?i.formatted_number:i,e))+'</span><span class="frequency grey mountain-mist-text">/'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::month",{name:"_",hash:{},data:a}))+'</span>\n                </div>\n                <div>\n                    <span class="asset-price-number highlighted-text bold">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.data:e)?i.pricing:i)?i.asset_price:i)?i.formatted:i,e))+'</span>/<span class="grey mountain-mist-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::standard asset",{name:"_",hash:{},data:a}))+'</span>\n                </div>\n            </div>\n\n            <div class="padding-left-xsmall padding-right-xsmall">\n'+(null!=(i=this.invokePartial(n.bulletList,e,{name:"bulletList",hash:{data:null!=e?e.bullet_list:e},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+"            </div>\n        </div>\n\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_fmf:i,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+"    </label>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/quickerCheckout/partials/creditPacksCard",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'data-is-hidden="true"'},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_default:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:""},4:function(e,t,n,a){return'data-active="true"'},6:function(e,t,n,a){var i;return"                            "+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_default:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},8:function(e,t,n,a){return'data-is-default="true" checked'},10:function(e,t,n,a){var i;return'data-ingest-clicktype="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.data_ingest_clicktype:i,e))+'"'},12:function(e,t,n,a,i,s){var r;return'                    <div class="container-table-row table-row js-list-item" data-column="'+this.escapeExpression(this.lambda(null!=s[1]?s[1].column:s[1],e))+'" data-parent-product-key="'+this.escapeExpression(this.lambda(null!=(r=null!=s[1]?s[1].data:s[1])?r.product_key:r,e))+'" data-product-key="'+this.escapeExpression(this.lambda(null!=e?e.product_key:e,e))+'" data-selected="false">\n                        <div class="container-table-cell table-cell selector"></div>\n                        <div class="container-table-cell table-cell label">\n                            <span class="assets text-medium">'+this.escapeExpression(this.lambda(null!=(r=null!=e?e.pricing:e)?r.assets:r,e))+'</span>\n                            <span class="assets-label text-small">'+this.escapeExpression(this.lambda(null!=(r=null!=e?e.pricing:e)?r.assets_label:r,e))+'</span>\n                        </div>\n                        <div class="container-table-cell table-cell pricing">\n                            <span class="block">\n                                <span class="price">'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=e?e.pricing:e)?r.price:r)?r.formatted:r,e))+"</span>\n"+(null!=(r=t.if.call(e,null!=(r=null!=e?e.pricing:e)?r.savings:r,{name:"if",hash:{},fn:this.program(13,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                            </span>\n                        </div>\n                    </div>\n"},13:function(e,t,n,a){var i;return'                                    <span class="savings grey mountain-mist-text">'+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Save %s",{name:"_",hash:{},data:a}),null!=(i=null!=(i=null!=e?e.pricing:e)?i.savings:i)?i.formatted:i,{name:"sprintf",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r,l;return'<div class="checkout-credit-pack-card js-credit-pack padding-top-large"\n     data-ab-test-column="'+this.escapeExpression((l=null!=(l=t.column||(null!=e?e.column:e))?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"column",hash:{},data:a}):l))+'"\n     data-ab-test-product-key="'+this.escapeExpression(this.lambda(null!=(r=null!=e?e.data:e)?r.product_key:r,e))+'"\n     id="js-card-column-'+this.escapeExpression((l=null!=(l=t.column||(null!=e?e.column:e))?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"column",hash:{},data:a}):l))+"-product-key-"+this.escapeExpression(this.lambda(null!=(r=null!=e?e.data:e)?r.product_key:r,e))+'"\n     '+(null!=(r=t.if.call(e,null!=(r=null!=e?e.data:e)?r.css_class_name:r,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"\n>\n\n    "+this.escapeExpression((l=null!=(l=t.showRadioButton||(null!=e?e.showRadioButton:e))?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"showRadioButton",hash:{},data:a}):l))+'\n\n    <label class="switch switch--card switch--with-ribbon switch--card-with-top-tab checkout-card-height padding-bottom-medium border-1 border-solid silver-sand-border"\n        '+(null!=(r=t.unless.call(e,null!=(r=null!=e?e.data:e)?r.css_class_name:r,{name:"unless",hash:{},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'>\n\n        <div class="switch--input container-table padding-left-xlarge padding-right-xlarge">\n            <div class="container-table-row">\n                <div class="container-table-cell padding-right-xsmall">\n                    <input class="buy-choice-packs-data-column-b js-buy-choice-plan"\n                           type="radio"\n                           name="options-new"\n                           title="'+this.escapeExpression(this.lambda(null!=(r=null!=e?e.data:e)?r.label:r,e))+'"\n                           value="'+this.escapeExpression(this.lambda(null!=(r=null!=e?e.data:e)?r.product_key:r,e))+'"\n                           data-initial-value="'+this.escapeExpression(this.lambda(null!=(r=null!=e?e.data:e)?r.product_key:r,e))+'"\n                           data-analytics-label="'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=e?e.data:e)?r.analytics:r)?r.label:r,e))+'"\n'+(null!=(r=t.unless.call(e,null!=(r=null!=e?e.data:e)?r.css_class_name:r,{name:"unless",hash:{},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                        "+(null!=(r=t.if.call(e,null!=(r=null!=e?e.data:e)?r.is_default:r,{name:"if",hash:{},fn:this.program(8,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"\n                        "+(null!=(r=t.if.call(e,null!=(r=null!=e?e.data:e)?r.data_ingest_clicktype:r,{name:"if",hash:{},fn:this.program(10,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'\n                    />\n                </div>\n                <div class="container-table-cell">\n                    <label for="options" class="input-label">\n                        <div class="highlighted-text font-bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Most Flexible",{name:"_",hash:{},data:a}))+'</div>\n                        <div class="font-bold input-title">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::CREDIT PACK",{name:"_",hash:{},data:a}))+'</div>\n                    </label>\n                </div>\n            </div>\n        </div>\n        <div class="checkout-credit-pack-badge js-credit-pack-badge padding-left-xlarge padding-right-xlarge" data-is-hidden="false">\n            <hr class="border-bottom-solid nurse-border">\n            <div class="switch__content switch--content-with-top-tab">\n                <div class="pricing text-align-center padding-bottom-medium">\n                    <div class="assets font-light highlighted-text padding-top-xsmall padding-bottom-small">'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=e?e.data:e)?r.pricing:r)?r.assets:r,e))+'</div>\n                    <div class="padding-top-small padding-bottom-small grey mountain-mist-text">'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=e?e.data:e)?r.pricing:r)?r.assets_label:r,e))+'</div>\n                    <div class="price padding-bottom-xsmall">\n                        <span class="grey heavy-metal-text text-medium">'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=(r=null!=e?e.data:e)?r.pricing:r)?r.price:r)?r.formatted:r,e))+'</span>\n                    </div>\n                    <div>\n                        <span class="asset-price-number highlighted-text bold">'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=(r=null!=e?e.data:e)?r.pricing:r)?r.asset_price:r)?r.formatted:r,e))+'</span>/<span class="grey mountain-mist-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::standard asset",{name:"_",hash:{},data:a}))+'</span>\n                    </div>\n                </div>\n\n                <div class="padding-left-xsmall padding-right-xsmall padding-bottom-medium">\n'+(null!=(r=this.invokePartial(n.bulletList,e,{name:"bulletList",hash:{data:null!=e?e.bullet_list:e},data:a,indent:"                    ",helpers:t,partials:n}))?r:"")+'                </div>\n\n                <div class="switch-view-link js-view-list align-center padding-top-xlarge"\n                     data-column="'+this.escapeExpression((l=null!=(l=t.column||(null!=e?e.column:e))?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"column",hash:{},data:a}):l))+'"\n                     data-product-key="'+this.escapeExpression(this.lambda(null!=(r=null!=e?e.data:e)?r.product_key:r,e))+'"\n                     data-is-hidden="true"\n                >\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::View more options",{name:"_",hash:{},data:a}))+'\n                </div>\n            </div>\n        </div>\n        <div class="checkout-credit-pack-options js-list padding-top-medium" data-is-hidden="true">\n            <div class="container-table table container-full">\n'+(null!=(r=t.each.call(e,null!=(r=null!=e?e.data:e)?r.more_options:r,{name:"each",hash:{},fn:this.program(12,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'            </div>\n            <div class="switch-view-link js-hide-list align-center color-mist padding-top-large" data-column="'+this.escapeExpression((l=null!=(l=t.column||(null!=e?e.column:e))?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"column",hash:{},data:a}):l))+'" data-product-key="'+this.escapeExpression(this.lambda(null!=(r=null!=e?e.data:e)?r.product_key:r,e))+'">&laquo; '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Back",{name:"_",hash:{},data:a}))+"</div>\n        </div>\n    </label>\n</div>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("hbs!templates/components/bulletList",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.bold:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.tooltip_text:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+"        </li>\n"},2:function(e,t,n,a){return'            <li class="grey heavy-metal-text">\n                <strong>\n                    '+this.escapeExpression(this.lambda(null!=e?e.text:e,e))+"\n                </strong>\n"},4:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.price_per_asset:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.program(7,a,0),data:a}))?i:""},5:function(e,t,n,a){var i;return'                <li>\n                    <span class="grey mountain-mist-text">'+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"BULLETLIST::%s%s%s/standard asset",{name:"_",hash:{},data:a}),'<span class="blue science-text text-sregular"><strong>',null!=e?e.text:e,"</strong></span>",{name:"sprintf",hash:{},data:a}))?i:"")+"</span>\n"},7:function(e,t,n,a){return"                <li>\n                    "+this.escapeExpression(this.lambda(null!=e?e.text:e,e))+"\n"},9:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.infoTooltip,e,{name:"infoTooltip",hash:{text:null!=e?e.tooltip_text:e},data:a,indent:"            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<ul class="list-style-disc">\n'+(null!=(i=t.each.call(e,null!=e?e.data:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"</ul>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/quickerCheckout/partials/buyChoiceCardList",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r;return null!=(r=t.if.call(e,null!=e?e.is_credit_pack:e,{name:"if",hash:{},fn:this.program(2,a,0,i,s),inverse:this.program(4,a,0,i,s),data:a}))?r:""},2:function(e,t,n,a,i,s){var r;return null!=(r=this.invokePartial(n.creditPacksCard,e,{name:"creditPacksCard",hash:{column:null!=s[2]?s[2].column:s[2],data:e},data:a,indent:"            ",helpers:t,partials:n}))?r:""},4:function(e,t,n,a,i,s){var r;return null!=(r=this.invokePartial(n.bestPlansCard,e,{name:"bestPlansCard",hash:{column:null!=s[2]?s[2].column:s[2],data:e},data:a,indent:"            ",helpers:t,partials:n}))?r:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<div class="checkout-blue-cards">\n'+(null!=(r=t.each.call(e,null!=e?e.listItems:e,{name:"each",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"</div>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("hbs!templates/quickerCheckout/partials/buyChoiceColumnHeading",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-top-xsmall padding-bottom-medium">\n    <h4>\n        '+this.escapeExpression((i=null!=(i=t.column||(null!=e?e.column:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"column",hash:{},data:a}):i))+'\n        <span class="grey silver-sand-text"> | </span>\n        <a class="text-small bold blue bleu-de-france-text padding-left-xsmall bh-learn-more-on-plans-page js-buy-choice-learn-more-link" href="'+this.escapeExpression((i=null!=(i=t.learnMoreLink||(null!=e?e.learnMoreLink:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"learnMoreLink",hash:{},data:a}):i))+'">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Learn more",{name:"_",hash:{},data:a}))+"\n        </a>\n    </h4>\n</div>\n"},useData:!0})}),define("quickerCheckout/states/buychoice",["page_config","lib/susi","quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/services/switchEvents","hbs!templates/quickerCheckout/buychoice","hbs!templates/quickerCheckout/partials/planCard","i18n-config","hbs!quickerCheckoutRepo/templates/partials/buyChoiceSubheading","hbs!quickerCheckoutRepo/templates/partials/buyChoiceEditorialRestrictions","quickerCheckoutRepo/lib/utils/editorial","hbs!templates/quickerCheckout/partials/buyChoiceCPHeading","hbs!templates/quickerCheckout/partials/bestPlansCard","hbs!templates/quickerCheckout/partials/creditPacksCard","quickerCheckoutRepo/lib/utils/utils","hbs!coreComponents/InfoTooltip/templates/infoTooltip","quickerCheckout/adobestock/analytics","hbs!templates/components/bulletList","hbs!templates/quickerCheckout/partials/buyChoiceCardList","quickerCheckoutRepo/checkout/orderTotalWithTax","quickerCheckoutRepo/lib/storage/data","hbs!templates/quickerCheckout/partials/buyChoiceColumnHeading"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b){"use strict";function T(t,n,a,r){var h,f,v,T=e.base_url+"/Plans?image_id="+t.content_id;U=t.product_key,j=t,H=a,V=r;try{v=t.asset_details,c.setEditorialRestrictions(v);var C=c.getEditorialLicenseTermsLink();h={isNotLoggedIn:!t.is_signed_in,onDemandOptions:t.on_demand_options,columnA:t.column_a_plans,columnB:t.column_b_plans,heading:t.heading,learnMoreLink:T,creditPacksLearnMoreLink:t.credit_packs_learn_more_url,imageUrl:v.content_thumb_url,imageAlt:v.title,isVideo:v.is_video,isPremiumImage:v.is_premium,isEditorial:c.isEditorial(v),hasGst:t.is_gst_supported,isGstExcluded:t.is_gst_excluded,base_url:e.base_url,hasCreditPackLearnMoreFirstColumn:t.has_credit_pack_learn_more_first_column,columnAHeader:t.column_a_header,columnBHeader:t.column_b_header,editorialLicenseTerms:C,isUsLegalEnabled:t.feature_flags&&t.feature_flags.isNewLegalCopyEnabled&&"US"===t.country_iso2_code}}catch(e){throw new Error("BuyChoice: JSON parse error")}f=i(h,{partials:{planCard:s,bestPlansCard:d,creditPacksCard:p,buyChoiceSubheading:l,buyChoiceEditorialRestrictions:o,buyChoiceCPHeading:u,infoTooltip:m,bulletList:_,buyChoiceCardList:g,orderTotalWithTax:E.getPartialv2(),buyChoiceColumnHeading:b}}),F=n,n.setHtml(f),S(n),y(),H(),V("visit","page-view")}function y(){var e;j.is_signed_in||(e=document.getElementById("js-checkout-susi-login"))&&e.addEventListener("click",C)}function C(e){var n=document.querySelector(".js-buy-choice-plan:checked");n&&(j.product_key=n.value,j.license_id=n.getAttribute("data-license-id"),v.setData(j),t.checkoutModalLogin(null,null,!0),V("click","sign-in"))}function S(e){var t,n=document.getElementById("js-checkout-buy-choice-form"),i=document.querySelectorAll(".js-buy-choice-plan");if(n){for(t=0;t<i.length;t++)i[t].addEventListener("click",A);n.addEventListener("submit",k),c.wireRestrictionsToggle(),I(".js-view-list",R),I(".js-hide-list",x),I(".js-list-item",N),O(q),a.init(".js-checkout-buy-choice-state:not(.js-list-item)",null,!0),E.wireEvents()}}function I(e,t){var n,a=document.querySelectorAll(e);if(a)for(n=0;n<a.length;n++)a[n].addEventListener("click",t)}function O(e){var t,n=document.querySelectorAll(e);if(n)for(t=0;t<n.length;t++)n[t].addEventListener("click",function(){H(!1,!0),V("click","learn-more")})}function k(e){var t;e.preventDefault(),e.stopPropagation(),F.enableSpinner(!0),H(!0),document.querySelector(".js-checkout-continue-button").disabled=!0,t=document.querySelector(".js-buy-choice-plan:checked"),V("click","continue",t.value),n.trigger(n.DISPATCH,{state:j,modifier:{product_key:t.value,extras:{options:{analytics:{is_default_selected:!!t.dataset.isDefault,source:"buychoice",asset_list:f.getAnalyticsLabelsFromBuyChoice(),selected_asset:t.getAttribute("data-analytics-label")}}}}})}function A(){V("click","change-purchase-option")}function R(e){var t,n,a=e.currentTarget.dataset.productKey,i=e.currentTarget.dataset.column,s=L(i,a);s&&(t=s.querySelector(".js-credit-pack-badge"),n=s.querySelector(".js-list"),n&&n.setAttribute(G,"false"),t&&t.setAttribute(G,"true"),D(s,a))}function x(e){var t,n,a=e.currentTarget.dataset.productKey,i=e.currentTarget.dataset.column,s=L(i,a),r=M();e.preventDefault(),e.stopPropagation(),w(),n=s.querySelector(".js-list"),n&&n.setAttribute(G,"true"),t=s.querySelector(".js-credit-pack-badge"),t&&t.setAttribute(G,"false"),P(i,a,!0),P(i,r,!1)}function P(e,t,n){var a,i,s,r=L(e,t);r&&(r.setAttribute(G,n.toString()),s=r.querySelector(".js-view-list"),s&&s.setAttribute(G,n.toString()),a=r.querySelector("label"),a&&a.setAttribute("data-active",(!n).toString()),(i=r.querySelector("input"))&&(i.setAttribute("data-active",(!n).toString()),i.checked=!n))}function L(e,t){return document.getElementById("js-card-column-"+e+"-product-key-"+t)}function D(e,t){var n='.js-list-item[data-product-key="'+t+'"]',a=e.querySelector("input"),i=e.querySelector(n);w(),i&&i.setAttribute(Y,"true"),a&&a.setAttribute("value",i.getAttribute("data-product-key"))}function N(e){var t,n=e.currentTarget,a=L(n.dataset.column,n.dataset.parentProductKey);a&&(t=a.querySelector("input"),t&&t.setAttribute("value",n.dataset.productKey),w(),n.setAttribute(Y,"true"))}function w(){var e,t=document.querySelectorAll(".js-list-item");if(t)for(e=0;e<t.length;e++)t[e].setAttribute(Y,"false")}function M(){var e,t=document.querySelector('.js-list-item[data-selected="true"]');return t&&(e=t.dataset.productKey),e}var U,F,j,H,V,q=".js-buy-choice-learn-more-link",Y="data-selected",G="data-is-hidden";return{displayPage:T,susiLogin:C}}),define("quickerCheckout/analytics/buychoice",["quickerCheckout/adobestock/analytics"],function(e){"use strict";var t;return{fn:function(n){return t=n,function(t,a){var i,s,r;try{r=e.isStandardBuyChoice(n),i={pageName:"buychoicemodal",events:e.EVENTS.CHECKOUT_STEP_ONE,prop5:r?":standard":":nonstandard"},!t&&r&&(i.eVar91="quicker checkout:buy choice modal:standard"),s=e.getAnalyticsLabelsFromBuyChoice(),i.eVar233=s,i.prop35="D=v233",i.prop61=n.login_type,i.eVar119=n.login_type,t&&(i.events=e.EVENTS.CTA_TRACKER,i.eVar91="quicker checkout:buy choice modal:continue"),a&&(i.eVar91="quicker checkout:buy choice modal:learn more"),e.send(i,n,t)}catch(t){i=e.getErrorValues(n,t,"buy choice"),e.send(i,n)}}}}}),define("hbs!templates/quickerCheckout/enterEmail",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                    <div class="margin-top-small padding-right-xlarge">\n                        <div class="border-top-1 silver-sand-border border-top-solid">\n                            <div class="padding-top-xsmall">\n                                <div>\n                                    <div class="grey mountain-mist-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Or select a different sign in option:",{name:"_",hash:{},data:a}))+'</div>\n                                </div>\n                                <div id="social-sign-in">\n'+(null!=(i=t.each.call(e,null!=e?e.socialProviders:e,{name:"each",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+"                                </div>\n"+(null!=(i=t.if.call(e,null!=e?e.isUS:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.program(10,a,0),data:a}))?i:"")+"                            </div>\n                        </div>\n                    </div>\n"},2:function(e,t,n,a){var i;return'                                        <div class="margin-bottom-medium margin-top-medium">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"google",logic:"eq",value:null!=e?e.providerName:e},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+"                                        </div>\n"},3:function(e,t,n,a){return'                                                <div class="card card--shadow">\n                                                    <div class="cursor-pointer js-social-provider padding-top-small padding-bottom-small" data-provider-name="google">\n                                                        <span class="padding-right-small">\n                                                            <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/icons/google_logo.svg",{name:"staticCdn",hash:{},data:a}))+'" alt="google-logo" width="16" />\n                                                        </span>\n                                                        <span class="padding-left-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Sign in with Google",{name:"_",hash:{},data:a}))+"</span>\n                                                    </div>\n                                                </div>\n"},5:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"facebook",logic:"eq",value:null!=e?e.providerName:e},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:""},6:function(e,t,n,a){
return'                                                    <div class="card card--shadow blue medium-teal white-text">\n                                                        <div class="cursor-pointer js-social-provider padding-top-small padding-bottom-small" data-provider-name="facebook">\n                                                            <i class="icon-facebook mti-icon padding-right-small"></i>\n                                                            <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Sign in with Facebook",{name:"_",hash:{},data:a}))+"</span>\n                                                        </div>\n                                                    </div>\n"},8:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.termsAndConditionsWithoutOptIn,e,{name:"termsAndConditionsWithoutOptIn",data:a,indent:"                                    ",helpers:t,partials:n}))?i:""},10:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.termsAndConditionsWithOptIn,e,{name:"termsAndConditionsWithOptIn",data:a,indent:"                                    ",helpers:t,partials:n}))?i:""},12:function(e,t,n,a){var i;return'                    <div class="margin-top-xlarge padding-right-xlarge">\n                        <div class="border-top-1 bon-jour-border border-top-solid">\n'+(null!=(i=this.invokePartial(n.termsAndConditionsForKR,e,{name:"termsAndConditionsForKR",data:a,indent:"                            ",helpers:t,partials:n}))?i:"")+"                        </div>\n                    </div>\n"},14:function(e,t,n,a){return"grey mountain-mist-text"},16:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Your order",{name:"_",hash:{},data:a}))+"\n"},18:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.planInformation:e,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.program(21,a,0),data:a}))?i:""},19:function(e,t,n,a){return"                                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You're signing up for:",{name:"_",hash:{},data:a}))+"\n"},21:function(e,t,n,a){return"                                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You're buying:",{name:"_",hash:{},data:a}))+"\n"},23:function(e,t,n,a){var i;return(null!=(i=this.invokePartial(n.creditPackLabel,e,{name:"creditPackLabel",hash:{data:null!=e?e.creditPackData:e},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+(null!=(i=this.invokePartial(n.orderTotals,e,{name:"orderTotals",hash:{data:null!=(i=null!=e?e.pricing:e)?i.template_text:i},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")},25:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.assetSwitchCard,e,{name:"assetSwitchCard",data:a,indent:"                        ",helpers:t,partials:n}))?i:""},27:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isSouthKorean:e,{name:"if",hash:{},fn:this.program(28,a,0),inverse:this.noop,data:a}))?i:""},28:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.termsAndConditionsForKRRequired,e,{name:"termsAndConditionsForKRRequired",data:a,indent:"                ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal__header">\n    <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Login / create account",{name:"_",hash:{},data:a}))+'</span>\n</div>\n<form action="" class="js-checkout-enter-email-form">\n    <div class="modal__content js-checkout-enter-email-state">\n        <div class="margin-top-medium margin-bottom-large">\n            <span id="js-checkout-user-facing-errors" class="red coral-text" data-is-hidden="true"></span>\n        </div>\n        <div class="row">\n            <div class="column on-small-12 on-medium-6">\n                <div class="margin-top-medium padding-right-xlarge">\n                    <div class="text-regular margin-bottom-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Enter your email address to sign in or create a new account:",{name:"_",hash:{},data:a}))+'</div>\n                    <div class="row">\n                        <div class="column on-small-12 on-medium-10 on-medium-offset-1">\n                            <div data-error-message="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You must supply a valid email address",{name:"_",hash:{},data:a}))+'">\n                                <input type="email" name="email" class="js-checkout-enter-email-input input--full" placeholder=\''+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Enter your email address",{name:"_",hash:{},data:a}))+'\' required="required" autofocus/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n'+(null!=(i=t.if.call(e,null!=e?e.socialProviders:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.isSouthKorean:e,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+'            </div>\n            <div class="column on-small-12 on-medium-6">\n                    <div class="border-left-1 bon-jour-border border-left-solid padding-left-large">\n                    <h4 class="left-align margin-bottom-small '+(null!=(i=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=t.if.call(e,null!=e?e.isVideoAssetDetailEnabled:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.program(18,a,0),data:a}))?i:"")+"                    </h4>\n"+(null!=(i=t.if.call(e,null!=e?e.creditPackData:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.program(25,a,0),data:a}))?i:"")+"                </div>\n            </div>\n        </div>\n"+(null!=(i=t.unless.call(e,null!=e?e.isUS:e,{name:"unless",hash:{},fn:this.program(27,a,0),inverse:this.noop,data:a}))?i:"")+'    </div>\n\n    <div class="modal__footer">\n        <button class="button button--dialog js-checkout-continue-button">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+"\n        </button>\n    </div>\n</form>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/quickerCheckout/partials/termsAndConditionsWithoutOptIn",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'        <div class="row">\n            <div class="">\n                <p class="text-small checkout-terms-of-use-and-privacy-policy">\n                    '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::By continuing, I agree that I have read and accepted the %sTerms of Use%s, and that the %sAdobe family of companies%s can keep me informed by sending %spersonalized%s emails about products and services. See our %sPrivacy Policy%s for details or to opt-out at any time.",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.adobeFamilyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.personalizedPrivacyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.privacyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n                </p>\n            </div>\n        </div>\n"},3:function(e,t,n,a){var i;return'        <div class="row">\n            <div class="column on-small-12 on-medium-8 on-medium-offset-2">\n                <p class="text-small checkout-terms-of-use-and-privacy-policy">\n                    '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::The %sAdobe family of companies%s would like to keep you informed about products and services by sending you %spersonalized%s emails. See our %sPrivacy Policy%s for details or to opt-out at any time.",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.adobeFamilyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.marketingUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.privacyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'\n                </p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="input-group on-small-12 on-medium-12">\n                <label class="switch text-small black-text">\n                    <input id="checkout-enter-email-marketing-permission" type="checkbox" name="stay-informed" />\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"explicit",logic:"eq",value:null!=e?e.marketingOptinType:e},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+'                </label>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column on-small-12 on-medium-6 on-medium-offset-3">\n                <p class="text-small checkout-terms-of-use-and-privacy-policy">\n                    '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::By continuing, I agree that I have read and accepted the %sTerms of Use%s.",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n                </p>\n            </div>\n        </div>\n"},4:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Please contact me via email.",{name:"_",hash:{},data:a}))+"\n"},6:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Please don't contact me via email.",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="margin-top-large">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"implicit",logic:"eq",value:null!=e?e.marketingOptinType:e},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+"</div>\n"},useData:!0})}),define("hbs!templates/quickerCheckout/partials/termsAndConditionsWithOptIn",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'        <div class="row">\n            <div class="column on-small-12">\n                <p class="text-small checkout-terms-of-use-and-privacy-policy">\n                    '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::By continuing, I agree that I have read and accepted the %sTerms of Use%s, and that the %sAdobe family of companies%s can keep me informed by sending %spersonalized%s emails about products and services. See our %sPrivacy Policy%s for details or to opt-out at any time.",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.adobeFamilyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.personalizedPrivacyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.privacyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n                </p>\n            </div>\n        </div>\n"},3:function(e,t,n,a){var i;return'        <div class="row">\n            <div class="column on-small-12">\n                <div class="text-small checkout-terms-of-use-and-privacy-policy">\n                    '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::The %sAdobe family of companies%s would like to keep you informed about products and services by sending you %spersonalized%s emails. See our %sPrivacy Policy%s for details or to opt-out at any time.",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.adobeFamilyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.marketingUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.privacyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'\n                </div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="input-group on-small-12 margin-bottom-small">\n                <label class="switch text-small black-text">\n                    <input id="checkout-enter-email-marketing-permission" type="checkbox" name="stay-informed" />\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"explicit",logic:"eq",value:null!=e?e.marketingOptinType:e},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+'                </label>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column on-small-12">\n                <div class="text-small checkout-terms-of-use-and-privacy-policy">\n                    '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::By continuing, I agree that I have read and accepted the %sTerms of Use%s.",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.termsUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n                </div>\n            </div>\n        </div>\n"},4:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Please contact me via email.",{name:"_",hash:{},data:a}))+"\n"},6:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Please don't contact me via email.",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="margin-top-xsmall">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"implicit",logic:"eq",value:null!=e?e.marketingOptinType:e},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+"</div>\n"},useData:!0})}),define("hbs!templates/quickerCheckout/partials/termsAndConditionsForKR",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="margin-top-large left-align">\n    <div class="row">\n        <div class="column on-small-12 on-medium-12">\n            <p class="text-small checkout-terms-of-use-and-privacy-policy">\n                '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::The %sAdobe family of companies%s would like to keep you informed about products and services by sending you %spersonalized%s emails. See our %sPrivacy Policy%s for details or to opt-out at any time.",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.adobeFamilyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.marketingUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,null!=e?e.privacyUrl:e,{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'\n            </p>\n        </div>\n    </div>\n    <div class="row">\n        <div class="input-group on-small-12 on-medium-12">\n            <label class="switch text-small black-text">\n                <input id="checkout-enter-email-marketing-permission" type="checkbox" name="stay-informed" />\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::I agree to receive emails.",{name:"_",hash:{},data:a}))+'\n            </label>\n        </div>\n    </div>\n    <div class="row">\n        <div class="input-group on-small-12 on-medium-12">\n            <label class="switch text-small black-text">\n                <input id="checkout-personal-info-to-third-party-permission" type="checkbox" name="personal-info-to-third-party" />\n                '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::I agree that Adobe will %sprovide my personal information to third parties%s.",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,(t.concat||e&&e.concat||t.helperMissing).call(e,null!=e?e.southKoreanPrivacyPolicyUrl:e,"#instruct",{name:"concat",hash:{},data:a}),{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n            </label>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/quickerCheckout/partials/termsAndConditionsForKRRequired",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="left-align">\n    <div class="row">\n        <div class="text-small bold">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Required:",{name:"_",hash:{},data:a}))+'\n        </div>\n    </div>\n    <div class="row">\n        <div class="input-group on-small-12 on-medium-12">\n            <label class="switch text-small black-text" data-error-message="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Please check the required privacy opt-ins before proceeding.",{name:"_",hash:{},data:a}))+'">\n                <input id="checkout-collection-and-use-required" type="checkbox" name="collection-and-use" />\n                '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::I agree to %sthe collection and use of personal information%s *",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,(t.concat||e&&e.concat||t.helperMissing).call(e,null!=e?e.southKoreanPrivacyPolicyUrl:e,"#imageuse",{name:"concat",hash:{},data:a}),{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'\n            </label>\n        </div>\n    </div>\n    <div class="row">\n        <div class="input-group on-small-12 on-medium-12">\n            <label class="switch text-small black-text" data-error-message="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Please check the required privacy opt-ins before proceeding.",{name:"_",hash:{},data:a}))+'">\n                <input id="checkout-service-provider-required" type="checkbox" name="service-provider" />\n                '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::I agree that Adobe will %sprovide my personal information to the Adobe service provider%s *",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,(t.concat||e&&e.concat||t.helperMissing).call(e,null!=e?e.southKoreanPrivacyPolicyUrl:e,"#genmaterialguide",{name:"concat",hash:{},data:a}),{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'\n            </label>\n        </div>\n    </div>\n    <div class="row">\n        <div class="input-group on-small-12 on-medium-12">\n            <label class="switch text-small black-text" data-error-message="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Please check the required privacy opt-ins before proceeding.",{name:"_",hash:{},data:a}))+'">\n                <input id="checkout-outside-of-korea-required" type="checkbox" name="outside-of-korea" />\n                '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::I agree that Adobe will %sprovide my personal information outside of Korea%s *",{name:"_",hash:{},data:a}),(t.linkOpenTag||e&&e.linkOpenTag||t.helperMissing).call(e,(t.concat||e&&e.concat||t.helperMissing).call(e,null!=e?e.southKoreanPrivacyPolicyUrl:e,"#press",{name:"concat",hash:{},data:a}),{name:"linkOpenTag",hash:{target:"_blank",class:"blue picton-text"},data:a}),(t.linkCloseTag||e&&e.linkCloseTag||t.helperMissing).call(e,{name:"linkCloseTag",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n            </label>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("quickerCheckout/states/enterEmail",["jquery","quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/services/errorRenderer","hbs!templates/quickerCheckout/enterEmail","hbs!quickerCheckoutRepo/templates/partials/assetSwitchCard","quickerCheckoutRepo/lib/utils/testAndTarget","hbs!quickerCheckoutRepo/templates/partials/creditPackLabel","lodash","hbs!quickerCheckoutRepo/templates/partials/simpleOrderTotal","hbs!quickerCheckoutRepo/templates/partials/orderTax","lib/susi","quickerCheckoutRepo/lib/storage/data","hbs!templates/quickerCheckout/partials/termsAndConditionsWithoutOptIn","hbs!templates/quickerCheckout/partials/termsAndConditionsWithOptIn","hbs!templates/quickerCheckout/partials/termsAndConditionsForKR","hbs!templates/quickerCheckout/partials/termsAndConditionsForKRRequired","hbs!coreComponents/InfoTooltip/templates/infoTooltip"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_){"use strict";function g(t,n,s,u){w=t,M=s,U=u;var d=t.marketing_permission;N=n;var g={marketingPermission:d,privacyUrl:t.privacy_url,termsUrl:t.terms_url,marketingUrl:t.marketing_url,adobeFamilyUrl:t.adobe_family_url,personalizedPrivacyUrl:t.personalized_privacy_url,assetDetail:t.asset_details,subtotal:t.pricing.subtotal.formatted||0,total:t.pricing.subtotal.formatted||0,planInformation:t.plan_information,pricing:t.pricing,isGerman:"DE"===t.country_iso2_code,isSouthKorean:"KR"===t.country_iso2_code,hasGst:t.is_gst_supported,isGSTSupported:t.is_gst_supported,isGstExcluded:t.is_gst_excluded,isVatSupported:t.is_vat_supported,isVatIncluded:t.is_vat_included,shouldShowTax:t.should_show_tax,tax:t.pricing.tax&&t.pricing.tax.formatted,real_subtotal:t.pricing.real_subtotal&&t.pricing.real_subtotal.formatted,creditPackData:l.get(t,"quicker_checkout_products.credit_pack"),socialProviders:t.social_providers,marketingOptinType:t.marketing_optin_type,southKoreanPrivacyPolicyUrl:t.south_korean_privacy_policy_url,isVideoAssetDetailEnabled:l.get(t,"feature_flags.isVideoAssetDetailEnabled")&&l.get(t,"asset_details.is_video"),selected_license:l.get(t,"asset_details.possible_data_video."+t.license_id),infoTooltipFormattedText:t.info_tooltip_formatted_text,isUsPlanLegalEnabled:t.feature_flags&&t.feature_flags.isNewLegalCopyEnabled&&!!t.plan_information&&"US"===t.country_iso2_code},E=a(g,{partials:{assetSwitchCard:i,creditPackLabel:r,orderTotals:o,orderTax:c,termsAndConditionsWithoutOptIn:p,termsAndConditionsWithOptIn:h,termsAndConditionsForKR:m,termsAndConditionsForKRRequired:f,infoTooltip:_}});n.setHtml(E),k=e(".js-checkout-enter-email-form"),O=e(".js-checkout-continue-button"),D=e(".js-checkout-enter-email-input"),A=e("#checkout-enter-email-marketing-permission"),R=e("#checkout-personal-info-to-third-party-permission"),x=e("#checkout-collection-and-use-required"),P=e("#checkout-service-provider-required"),L=e("#checkout-outside-of-korea-required"),D.focus(),v(),M(),U(!1)}function E(e){var t=e.currentTarget,n=t.getAttribute("data-provider-name");e.preventDefault(),e.stopPropagation(),w.login_provider=n,d.setData(w),M(!0,n),U(!0,n),u.checkoutModalLogin(null,null,!0,null,null,n)}function v(){var t=e(".js-social-provider");k.on("submit",S),D.on("input",b),x.on("change",b),P.on("change",b),L.on("change",b),t.click(E)}function b(t){e(t.target).parent().attr("data-field-is-valid","")}function T(){var e=D.val();return{isValid:e&&!!e.match(/\S+@\S+\.\S+/),input:D}}function y(e){var t={isValid:!0,input:null};return"KR"===w.country_iso2_code&&e.length&&!e.is(":checked")&&(t={isValid:!1,input:e}),t}function C(){var e=[],t=!0;return e.push(T()),e.push(y(x)),e.push(y(P)),e.push(y(L)),e.map(function(e){e.isValid?e.input&&e.input.parent().attr("data-field-is-valid","true"):(t=!1,e.input&&e.input.parent().attr("data-field-is-valid","false"))}),t}function S(e){var a=null,i=null;e.preventDefault(),e.stopPropagation();var s=D.val();A.length&&(a=A.is(":checked")),R.length&&(i=R.is(":checked")),C()&&(N.enableSpinner(!0),O.prop("disabled",!0),n.shouldShowErrors(!1),w.marketing_optin=a,w.personal_info_optin=i,M(!0),t.trigger(t.RAW_DISPATCH,{state:w,modifier:{email:s,marketing_permission:a,personal_info_permission:i}}),U(!0))}function I(e){function a(e){t.trigger(t.DISPATCH,{state:w,modifier:{email:D.val(),marketing_permission:w.marketing_optin,personal_info_permission:w.personal_info_optin,continue:e||r.SKIP_GHOST}})}function i(e){var t=r.SKIP_GHOST;e&&e[0]&&e[0].content&&"new_modal"===e[0].content&&(t=r.USE_GHOST),a(t)}var r={SKIP_GHOST:1,USE_GHOST:2};e&&(e.error?(O.prop("disabled",!1),N.enableSpinner(!1),n.shouldShowErrors(!0),n.updateErrors({userMessage:e.error.userMessage,errorMessage:e.error.errorMessage,caseCode:e.error.caseCode})):e.is_ghost_user?s.getTargetFunction("ghost_user",w.test_and_target,i,a,{isApplyOffersSkipped:!0})():a(r.SKIP_GHOST))}var O,k,A,R,x,P,L,D,N,w,M,U;return{displayPage:g,handleDataUpdate:I}}),define("quickerCheckout/analytics/enterEmail",["quickerCheckout/adobestock/analytics"],function(e){"use strict";return{fn:function(t,n){return n&&(e=n),function(n,a){var i;try{i={pageName:"inputemailmodal",events:e.EVENTS.CHECKOUT_EMAIL_STEP,eVar92:t.member_status,eVar233:null,prop5:":direct",prop35:"D=v233"},i.eVar19=e.getPlanType(t),t.extras.options.analytics?(t.extras.options.analytics.is_default_selected?i.events+=","+e.EVENTS.DEFAULT_SUBSCRIPTION_SELECTED:i.events+=","+e.EVENTS.SWITCH_SUBSCRIPTION,t.extras.options.analytics.asset_list&&(i.eVar233=t.extras.options.analytics.asset_list),"buychoice"===t.extras.options.analytics.source&&(i.prop5=":indirect"),t.extras.options.analytics.selected_asset&&(i.eVar234=t.extras.options.analytics.selected_asset)):i.eVar234=e.getAnalyticsLabel(t),n&&(i.events=e.EVENTS.CTA_TRACKER,i.eVar91=a?"quicker checkout:input email modal:sign in with "+a:"quicker checkout:input email modal:continue"),e.send(i,t,n)}catch(n){i=e.getErrorValues(t,n,"enter email"),e.send(i,t)}}}}}),define("quickerCheckout/analytics/error",["quickerCheckout/adobestock/analytics","page_config"],function(e,t){"use strict";function n(e){return null==e.eVar121&&null==e.eVar122||e.eVar122&&e.eVar122.indexOf("CHECKOUT::Malformed response from server")>=0}function a(e,n,a,s){return{pageName:"error:"+a,events:s,eVar92:e.member_status||null,prop63:"D=121",eVar121:n.errorType,eVar122:i(n),eVar123:t.x_request_id||null}}function i(e){return e.errorCodes&&(e.errorMessage=e.errorCodes.join("|")),e.errorMessage?e.errorMessage.toString():"No Specific Error Message Found"}return{fn:function(a){return function(){var i;try{i={pageName:"error:checkout",events:e.EVENTS.ERROR,prop63:"D=121",eVar92:a.member_status||null,eVar121:a.error_message||a.errorMessage,eVar122:a.user_message||a.userMessage,eVar123:a.case_code||a.caseCode},n(i)&&(i.eVar121="Server Error",i.eVar122="CHECKOUT::Malformed response from server",i.eVar123="X-Request-Id: "+t.x_request_id),i.prop61=a.login_type,i.eVar119=a.login_type,e.send(i,a)}catch(t){i=e.getErrorValues(a,t,"error"),e.send(i,a)}}},createErrorObject:a}}),define("quickerCheckout/analytics/newPayment",["quickerCheckout/adobestock/analytics","lib/utils","page_config","quickerCheckout/analytics/error"],function(e,t,n,a){"use strict";var i;return{fn:function(s,r){return i=t.getQueryParam(n.startCheckoutModalOnParam),r&&(e=r),function(t,n,r,l,o,c){var u={},d=[];try{if(c&&c.length>0&&(t={errorType:"newpayment_regex_error:"+c.join("|"),errorMessage:"x"+c.length.toString()}),t)u=a.createErrorObject(s,t,"newpaymentmodal",e.EVENTS.NEW_PAYMENT_ERROR),u.eVar32="error:newpaymentmodal";else{switch(l){case"ready":o?(u.eVar91="quicker checkout:new payment modal:tax calculation completed",d.push(e.EVENTS.TAX_STOP)):(u={pageName:"newpaymentmodal",prop8:e.getPlanType(s),eVar19:e.getPlanType(s),eVar137:s.order_id,eVar234:e.getPurchaseName(s)},u.prop61=s.login_type,u.eVar119=s.login_type,d.push(e.EVENTS.CHECKOUT_STEP_THREE),
"interim"===s.login_type&&(u.eVar136=s.marketing_optin?"true":"false"),s.asset_details&&(u.eVar15=s.asset_details.content_id));break;case"updating":d.push(e.EVENTS.TAX_START),u.eVar91="quicker checkout:new payment modal:tax calculation start";break;case"processing":d.push(e.EVENTS.CTA_TRACKER),u.eVar91="quicker checkout:new payment modal:place secure order";break;case"paypal ready":u.eVar91="quicker checkout:new payment modal:continue to paypal"}u.eVar92=s.member_status,!s.hasExisting&&i&&d.push(e.EVENTS.STOCK_LOGIN_SUCCESS)}d.length&&(u.events=d.join(",")),e.send(u,s,n)}catch(t){u=e.getErrorValues(s,t,"new payment"),e.send(u,s)}}}}}),define("hbs!templates/quickerCheckout/error",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return"        <h3>\n            "+this.escapeExpression(this.lambda(null!=(i=null!=e?e.debugInfo:e)?i.caseCode:i,e))+"\n        </h3>\n        <h3>\n            "+this.escapeExpression(this.lambda(null!=(i=null!=e?e.debugInfo:e)?i.errorMessage:i,e))+"\n        </h3>\n"},3:function(e,t,n,a){var i,s;return"            "+(null!=(s=null!=(s=t.message||(null!=e?e.message:e))?s:t.helperMissing,i="function"==typeof s?s.call(e,{name:"message",hash:{},data:a}):s)?i:"")+"\n"},5:function(e,t,n,a){var i;return"            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::AJAX::CONTROLLER::We're sorry, but a system error occurred. If you do not receive a payment confirmation email in the next few minutes, please try again or contact customer support.",{name:"_",hash:{},data:a}))+'\n            <a title="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FOOTER::Learn and Support",{name:"_",hash:{},data:a}))+'" class="blue bleu-de-france-text" href="//helpx.adobe.com/'+this.escapeExpression((i=null!=(i=t.base_url||(null!=e?e.base_url:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"base_url",hash:{},data:a}):i))+'/stock/get-started.html" target="_self">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FOOTER::Learn & Support",{name:"_",hash:{},data:a}))+"\n            </a>;\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'\x3c!--MotMot Content--\x3e\n<div class="modal__content">\n    <p>\n        <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Error",{name:"_",hash:{},data:a}))+"</span>\n    </p>\n"+(null!=(i=t.if.call(e,null!=e?e.debugInfo:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"    <h5>\n"+(null!=(i=t.if.call(e,null!=e?e.message:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+'    </h5>\n</div>\n\n\x3c!--MotMot Footer Content--\x3e\n<div class="modal__footer">\n    <button id="js-checkout-error-back-button" class="button button--dialog hide-modal">\n        <i class="mti-icon icon-shopping-cart"></i>\n        <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Close",{name:"_",hash:{},data:a}))+"</span>\n    </button>\n</div>\n"},useData:!0})}),define("quickerCheckout/states/error",["quickerCheckoutRepo/events/quickerEvents","hbs!templates/quickerCheckout/error","page_config"],function(e,t,n){"use strict";function a(e,a,o,c){s=a,r=c,function(){var a;n.isProduction?e.debugInfo=null:e.debugInfo||!e.errorMessage&&!e.caseCode||(e.debugInfo={caseCode:e.caseCode,errorMessage:e.errorMessage}),a=t({message:e.userMessage,debugInfo:e.debugInfo,base_url:n.base_url}),s.setHtml(a)}(),function(){window.document.getElementById(l).addEventListener("click",i)}(),o(),r(!1)}function i(){r(!0),s.close()}var s,r,l="js-checkout-error-back-button";return{displayPage:a}}),define("app/actions/checkoutActions",["lodash","app/actions/actionTypes"],function(e,t){"use strict";function n(n){var a=e.get(n,d);return{contentId:parseInt(a,10),type:t.QUICKER_CHECKOUT_OPEN}}function a(n){var a=e.get(n,d);return{contentId:parseInt(a,10),type:t.QUICKER_CHECKOUT_CLOSE}}function i(n){var a=e.get(n,d);return{contentId:parseInt(a,10),type:t.QUICKER_CHECKOUT_DONE}}function s(n){var a=e.get(n,d);return{contentId:parseInt(a,10),type:t.QUICKER_CHECKOUT_DONE}}function r(e,n){return{contentId:parseInt(e,10),promise:n,type:t.BUY_LICENSE}}function l(e,n){return{contentId:parseInt(e,10),promise:n,type:t.DOWNLOAD_ASSET}}function o(e,n){return{contentId:parseInt(e,10),promise:n,type:t.SAVE_ASSET}}function c(e){return{contentId:parseInt(e,10),type:t.SAVE_ASSET_COMPLETE}}function u(e){return{contentId:parseInt(e,10),type:t.WAIT_QUICKER_CHECKOUT_MODAL_OPEN}}var d="asset_details.content_id";return{quickerCheckoutOpen:n,quickerCheckoutClose:a,quickerCheckoutComplete:i,quickerCheckoutError:s,buyLicense:r,downloadAsset:l,saveAsset:o,saveAssetComplete:c,waitQuickerCheckoutModalOpen:u}}),define("lib/assetSave",["jquery","lodash","app/actions/checkoutActions","app/client","app/constants/localStorage","app/stock-portal","lib/assetsStore","lib/librariesStore","lib/librariesWidget","lib/utils","lib/contentDetails","page_config","app/utils/search"],function(e,t,n,a,i,s,r,l,o,c,u,d,p){"use strict";function h(){var t=e("#memberDefaultLibraryId").val();return o.computeLibrariesData(t)}function m(){return h().then(function(e){return{defaultLibraryId:t.get(e,"defaultLib.id"),defaultLibraryUrn:t.get(e,"defaultLib.libraryUrn"),defaultLibName:t.get(e,"defaultLib.name")}})}function f(n,a){var o,c,p;g.getDefaultLibData().then(function(e){return o=t.get(e,"defaultLibraryId"),c=t.get(e,"defaultLibraryUrn"),p=t.get(e,"defaultLibName"),r.getAsset(n,r.ASSET_DETAIL.BASIC)}).then(function(t){return o&&"desktop"!==o?e.Deferred().resolve(t):l.getLibraries(!0).then(function(e){o=e[0]&&e[0].id,c=e[0]&&e[0].libraryUrn,p=e[0]&&e[0].name,s.setLibraries(e)}).then(function(){return t})}).then(function(t){var r=c||o,l=d.isLibrariesV2ApiEnabled?r:o,h=t.content_id;if(l&&p)return s.initLibrariesToast({assetId:h,isLicensed:u.isLicensed(n),thumbnailAlt:t.title,thumbnailSrc:t.thumbnail_url,defaultLibraryId:l,libName:p,callToAction:a}),"false"===localStorage.getItem(i.LIBRARY_TOAST_AUTO_SAVE_KEY)&&"License"===a?(s.assetLicensedOnly(),e.Deferred().resolve()):g.saveAssetToExistingLibrary(null,l,p,t.content_id)})}function _(e,t,n,a){var i;return r.getAsset(a,r.ASSET_DETAIL.BASIC).then(function(a){return s.saveToLibraryLoadingStart(n),l.addLibraryElement(t,a,void 0,void 0,"sync").done(function(e){i=Array.isArray(e.elements)?e.elements[0].id:e.id,s.saveToLibrarySuccess({destLibId:t,destLibName:n,destLibraryElementId:i})}).fail(function(t){s.saveToLibraryFailure(t),p.showSaveToLibraryFailureAlert(e,n)}).always(function(){s.saveToLibraryLoadingStop()})})}a.getInstance();e(window).on("portal:saveToLibrary",_);var g={getDefaultLibData:m,saveToDefaultLib:f,saveAssetToExistingLibrary:_,_getLibrariesData:h};return g}),define("hbs!templates/quickerCheckout/done",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'        <p class="margin-bottom-large text-regular">\n'+(null!=(i=t.if.call(e,null!=e?e.isNewUser:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+"        </p>\n        <div>\n"+(null!=(i=t.if.call(e,null!=e?e.isNewUser:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.program(8,a,0),data:a}))?i:"")+'        </div>\n        <div class="margin-bottom-medium">\n            <div class="border-bottom-2 border-bottom-solid nurse-border">\n                <div class="padding-bottom-large">\n                    <strong class="js-checkout-done-email">'+this.escapeExpression((s=null!=(s=t.email||(null!=e?e.email:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"email",hash:{},data:a}):s))+"</strong>\n                </div>\n            </div>\n        </div>\n"},2:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You have successfully completed your purchase and created an account.",{name:"_",hash:{},data:a}))+"\n"},4:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Thank you for your purchase!",{name:"_",hash:{},data:a}))+"\n"},6:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::A confirmation email with a link to set your password has been sent to:",{name:"_",hash:{},data:a}))+"\n"},8:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::A receipt has been sent to",{name:"_",hash:{},data:a}))+"\n"},10:function(e,t,n,a){var i;return'         <div class="margin-bottom-small">\n            <p class="text-normal text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Credits purchased!",{name:"_",hash:{},data:a}))+"</p>\n        </div>\n\n"+(null!=(i=this.invokePartial(n.creditPackLabel,e,{name:"creditPackLabel",hash:{data:null!=e?e.creditPackData:e},data:a,indent:"        ",helpers:t,partials:n}))?i:"")},12:function(e,t,n,a){var i;return'        <div class="margin-bottom-small">\n            <p class="text-normal text-regular">'+this.escapeExpression((i=null!=(i=t.remainCreditsLabel||(null!=e?e.remainCreditsLabel:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"remainCreditsLabel",hash:{},data:a}):i))+"</p>\n        </div>\n"},14:function(e,t,n,a){var i;return'                <a class="button button--floating">\n                    <i id="js-checkout-done-default-libraries-save" data-id="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.defaultLibrary:e)?i.id:i,e))+'" class="button__icon mti-icon icon-creative-cloud-library"></i>\n                    <span id="js-checkout-done-library-list" class="margin-left-small">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Save to",{name:"_",hash:{},data:a}))+'\n                        <span id="js-checkout-done-default-library-name">\n                            '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.defaultLibrary:e)?i.name:i,e))+'\n                        </span>\n                    </span>\n                    <i id="js-checkout-done-libraries-open" class="stk-icon-dropdown stk-icon icon-arrow-down"></i>\n                </a>\n                <div id="js-checkout-done-libraries" class="margin-bottom-small right-align" data-state="hidden">\n                    <ul>\n'+(null!=(i=t.each.call(e,null!=e?e.libraries:e,{name:"each",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")+"                    </ul>\n                </div>\n"},15:function(e,t,n,a){var i;return null!=(i=t.unless.call(e,null!=(i=null!=e?e.libraries:e)?i.readOnly:i,{name:"unless",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:""},16:function(e,t,n,a){return'                                <li data-id="'+this.escapeExpression(this.lambda(null!=e?e.id:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.name:e,e))+"</li>\n"},18:function(e,t,n,a){var i,s;return'            <div class="padding-right-small padding-left-small">\n                '+(null!=(s=null!=(s=t.ghostSignInText||(null!=e?e.ghostSignInText:e))?s:t.helperMissing,i="function"==typeof s?s.call(e,{name:"ghostSignInText",hash:{},data:a}):s)?i:"")+"\n            </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'\x3c!--MotMot Content--\x3e\n<div class="modal__content bh-checkout-done-state" id="checkout-done-modal">\n\n    \x3c!--Top--\x3e\n'+(null!=(i=t.if.call(e,null!=e?e.email:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"\n    \x3c!--Middle--\x3e\n"+(null!=(i=t.if.call(e,null!=e?e.creditPackData:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'\n    <div class="margin-bottom-small">\n        <p class="text-normal text-regular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Your asset is ready!",{name:"_",hash:{},data:a}))+"</p>\n    </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.remainCreditsLabel:e,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+'\n    <div class="margin-bottom-small">\n        <img alt="'+this.escapeExpression((s=null!=(s=t.imageAlt||(null!=e?e.imageAlt:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"imageAlt",hash:{},data:a}):s))+'" src="'+this.escapeExpression((s=null!=(s=t.imageUrl||(null!=e?e.imageUrl:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"imageUrl",hash:{},data:a}):s))+'" srcset="'+this.escapeExpression((s=null!=(s=t.imageUrl||(null!=e?e.imageUrl:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"imageUrl",hash:{},data:a}):s))+'" class="responsive-img"/>\n    </div>\n\n    \x3c!--Buttons--\x3e\n    <div id="js-checkout-done-buttons" class="row margin-top-small">\n        <div id="js-checkout-done-buttons-column" class="column on-small-12">\n            \x3c!--Library Button--\x3e\n'+(null!=(i=t.if.call(e,null!=e?e.libraries:e,{name:"if",hash:{},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:"")+'\n            <button id="js-checkout-done-download" class="margin-top-medium margin-bottom-medium button button--floating">\n                \x3c!--Download Button--\x3e\n                <i class="button__icon mti-icon icon-download"></i>\n                <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Download",{name:"_",hash:{},data:a}))+"</span>\n            </button>\n        </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.isGhostUser:e,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.noop,data:a}))?i:"")+'\n    </div>\n\n</div>\n\n\x3c!--MotMot Footer--\x3e\n<div class="modal__footer">\n    <button id="js-checkout-done-close" class="button button--dialog hide-modal">\n        <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue Searching",{name:"_",hash:{},data:a}))+"</span>\n    </button>\n</div>\n"},usePartial:!0,useData:!0})}),define("quickerCheckout/states/utils/plans",["lib/susi","i18n-config","i18n","Handlebars"],function(e,t,n,a){"use strict";function i(){var e=document.getElementById("js-checkout-goto-susi-button");e&&e.addEventListener("click",s)}function s(t){t.preventDefault(),t.stopPropagation(),e.ready.then(function(){e.login()})}function r(e){var i;return i=e?"CHECKOUT::To access your libraries, purchase additional assets, or manage your subscription please %ssign in%s":"CHECKOUT::To access your libraries or purchase additional assets please %ssign in%s",i=n.sprintf(a.escapeExpression(t.gettext(i)),'<a id="js-checkout-goto-susi-button" class="blue picton-text">',"</a>")}return{enableGotoSusiButton:i,getSignInTextForGhost:r}}),define("app/utils/librariesToast",["app/constants/localStorage"],function(e){"use strict";function t(){var t=window&&window.localStorage;return t&&"false"!==t.getItem(e.LIBRARY_TOAST_AUTO_SAVE_KEY)}function n(){var t=window&&window.localStorage;return t&&"false"!==t.getItem(e.LIBRARY_TOAST_AUTO_DOWNLOAD_KEY)}function a(){var e=!1;return n()||(e=!0),e}return{isAutoSaveEnabled:t,isAutoDownloadEnabled:n,isLicenseAndDownloadDisabled:a}}),define("quickerCheckout/states/done",["jquery","lib/assetSave","lib/uiEvents","lib/librariesStore","lib/libraries","lib/librariesV2","page_config","hbs!templates/quickerCheckout/done","i18n-config","lib/susi","lib/window","lib/utils","lib/modal-window","quickerCheckout/states/utils/plans","lib/assetsStore","hbs!quickerCheckoutRepo/templates/partials/creditPackLabel","lib/member","app/actions/memberActions","app/client","lodash","quickerCheckout/adobestock/trackingPixels","app/actions/detailsActions","quickerCheckoutRepo/events/quickerEvents","app/constants/localStorage","components/vectorDownloadSettings","app/utils/librariesToast","app/stock-portal"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C,S,I,O){"use strict";function k(t,u,E,k){var x,P,D,N,w,M,U=J&&J.dispatch;v.get(J.getState(),"page.saveToLibId")||e("#memberDefaultLibraryId").val();return z=t,Q=E,X=k,H=t.asset_details,H.downloaded=!0,H.state="purchased",H.license=H.license_name,H.licensed_file_path=H.download_url,q=H.download_url,Y="",G=t.member.is_newly_created,B=H.is_vector,W=S.shouldShowVectorDownloadChoiceModal(B),K=u,Z=!!t.credit_pack_info,Z&&(N=v.get(t,"quicker_checkout_products.credit_pack"),w=v.get(t,"credit_pack_info.remain_label")),V=o.gettext("CHECKOUT::FINISH::File has been saved!"),Q(),(G||t.is_ghost_user)&&c.zombieLogin(t.member,t.ims_profile),G&&(i.refreshAccessToken(),s.refreshAccessToken(),O.userSignedIn(),J.dispatch(g.memberLoggedIn(t.member,t.ims_profile)),n.trigger(n.NOTIFICATION_SHOW,t.member.email)),P=function(n){x=l({email:t.member.email,imageUrl:H.content_thumb_large_url,imageAlt:H.title,defaultLibrary:n,isNewUser:G,isGhostUser:t.is_ghost_user,remainCreditsLabel:w,creditPackData:N,ghostSignInText:t.is_ghost_user&&h.getSignInTextForGhost(!!t.plan_information)},{partials:{creditPackLabel:f}}),u.setHtml(x),t.member.default_entitlement&&t.member.default_entitlement.has_subscription&&0==e("#memberLicensesCounter").length&&(G=!0),R()},A(t.default_library_id).then(function(e){if(W)u.close(),p.show("vectorDownloadChoice",{}).then(function(t){q=S.getVectorDownloadUrl(t,q),P(e),L()});else if(P(e),D=t.is_open_in,M=t.lib_id||e.id,r.isPhoenixEnabled||!D&&"desktop"===M){var i=window&&window.localStorage,s=i&&i.getItem(C.VECTOR_DOWNLOAD_CHOICE_KEY);B&&(q=S.getVectorDownloadUrl(s,q)),I.isLicenseAndDownloadDisabled()||L(),a.updateElementInAllLibraries(H)}else D?(a.getLibraryIdForOpenIn(t.content_id).then(function(e){M=e}),a.addLibraryElement(M,H,D),a.updateElementInAllLibraries(H)):M&&(a.addLibraryElement(M,H),a.updateElementInAllLibraries(H));if(m.setAssetDownloadedInCache(H.content_id,t.license_id),U&&U(T.contentLicensed(H.content_id,t.license_id)),n.trigger(n.ASSET_LICENSED,{contentId:H.content_id}),y.trigger(y.DONE,t),!G&&!t.is_ghost_user){var l=function(e){n.trigger(n.DETAIL_BUTTON.UPDATE_STATE,{action:"License",lib_name:e.name,lib_id:M,contentId:""+H.content_id,isDownloaded:!0})},o={id:"desktop",name:d.getSaveToDeviceI18nText()};"desktop"==M?l(o):a.getLibraryById(M).then(function(e){e&&e.name||(e=o),l(e)})}t.isFromCreditQuotaConfirm?_.updateCreditPackQuota(t.credit_pack_info.available_credits):t.member&&t.member.default_entitlement?(J.dispatch(g.memberUpdatedEntitlement(t.member)),n.trigger(n.ENTITLEMENT_UPDATED)):_.consumeDefaultEntitlementLicense(),X(),b.fireTrackingPixelsForDoneState(t)})}function A(t){var n=e.Deferred();return t=t||M(),a.getLibraryById(t).then(function(e){return!e&&a.libraries&&a.libraries.length?a.libraries[0]:e}).then(function(e){return e?n.resolve(e):a.getLibraries(!0).then(function(e){return e&&e.length?n.resolve(a.libraries[0]):n.resolve({id:"desktop"})}).fail(function(){n.resolve({id:"desktop"})})}),n}function R(){var e,t,n,a,i,s,r;for(n=document.getElementById("js-checkout-done-libraries-open"),n&&n.addEventListener("click",j),a=document.getElementById("js-checkout-done-default-libraries-save"),a&&a.addEventListener("click",N),i=document.getElementById("js-checkout-done-download"),i&&i.addEventListener("click",L),s=document.getElementById("js-checkout-done-close"),s&&s.addEventListener("click",x),r=document.getElementById("js-modal-close"),r&&r.addEventListener("click",P),t=document.querySelectorAll("#js-checkout-done-libraries li"),e=0;e<t.length;e++)t[e].addEventListener("click",w);z.is_ghost_user&&h.enableGotoSusiButton()}function x(e){X("continue"),K.close(),d.shouldGoToOneClickLicenseSave(H.asset_type)&&t.saveToDefaultLib(H.content_id,"License")}function P(e){e.target.removeEventListener("click",P),d.shouldGoToOneClickLicenseSave(H.asset_type)&&t.saveToDefaultLib(H.content_id,"License")}function L(e,t,n){var a=t||Q,i=n||X,s=document.getElementById("js-checkout-done-buttons"),l=document.getElementById("js-checkout-done-buttons-column"),c=document.createElement("span");l&&d.updateAttribute(l,"data-is-hidden",!0),c.textContent=o.gettext("CHECKOUT::FINISH::Download requested"),s&&(s.appendChild(c),s.className+=" align-center"),e&&(i("download"),a("download")),r.disable_purchased_image_download||u.setLocation(q)}function D(e,t){var n=U(e.target);X(t,n),F(n)}function N(e){D(e,"library-save-default")}function w(e){document.getElementById("js-checkout-done-default-library-name").textContent=e.target.textContent,D(e,"library-save-change"),j()}function M(){var e;return e=document.getElementById("memberDefaultLibraryId"),e?e.value:""}function U(e){if(!e)throw new Error("Unable to find element");return e.getAttribute("data-id")}function F(e){e&&(a.addLibraryElement(e,H),Q("Save To <>"),document.getElementById("js-checkout-done-library-list").textContent=V,document.getElementById("js-checkout-done-libraries-open").removeEventListener("click",j),document.getElementById("js-checkout-done-libraries-open").setAttribute("data-state","hidden"),document.getElementById("js-checkout-done-default-libraries-save").removeEventListener("click",N))}function j(){var e=document.getElementById("js-checkout-done-libraries"),t=e.getAttribute("data-state")?"":"hidden";e.setAttribute("data-state",t)}var H,V,q,Y,G,B,K,W,z,Q,X,Z,J=E.getInstance();return{displayPage:k,downloadImage:L,_onDoneButtonClick:x,_onModalXClick:P}}),define("quickerCheckout/analytics/done",["quickerCheckout/adobestock/analytics","app/constants/analytics","lib/member"],function(e,t,n){"use strict";function a(e){return e&&e.subtotal&&e.subtotal.currency}return{fn:function(i){return function(s){var r,l,o;try{l=!i.isFromQuotaState&&!s,r={},r.prop61=i.login_type,r.eVar119=i.login_type,s?(r.eVar93=s,r.events=e.EVENTS.SAVE_IMAGE):i.isFromCreditQuotaConfirm?(r.pageName="creditsusedconfirmation",r.eVar35="License Type - Credit",r.eVar235="Credit",r.eVar238=i.credit_pack_info.available_credits,r.eVar240=i.credit_pack_info.asset_credit_cost,r.events=[e.EVENTS.ORDER_CONFIRMATION,e.EVENTS.CHECKOUT_STEP_SWITCH_PERSONAL,e.EVENTS.CREDIT_PACK_USAGE+"="+i.credit_pack_info.asset_credit_cost,e.EVENTS.CREDIT_PACK_APPLIED].join(",")):i.isFromQuotaState?(r.pageName="assetlicensed",r.events=e.EVENTS.ORDER_CONFIRMATION):i.is_overage||n.isTeam()?(r.pageName="overageorderconfirmation",r.eVar234=e.getPurchaseName(i),r.eVar235=e.getSubscriptionType(i)+" Overage",r.events=e.EVENTS.PURCHASE,r.events+=","+e.EVENTS.REPEAT_BUYER,r.events+=","+e.EVENTS.ORDER_CONFIRMATION,r.events+=","+e.EVENTS.OVERAGE_DONE,r.events+=","+e.EVENTS.CHECKOUT_STEP_FOUR,r.currencyCode=a(i.pricing),r.purchaseID=i.order_number,r.products=e.getProductsString(i),r.eVar8=i.payment_type,o=i.asset_details,o&&(r.eVar11=o.category?o.category.name:"Unknown category",r.eVar19="OD-"+o.asset_type,r.eVar25=o.asset_type,r.eVar89=o.author),r.eVar27=i.order_number,r.eVar79=t.STOCK_REPEAT_BUYER,r.eVar88=e.getPricingString(i),r.eVar91=null,r.eVar92="existing_with",r.eVar135=null,r.eVar137=i.order_id,e.addCreditPackDetailsToOrderConfirmation(i,r)):(r=e.getOrderValues(i),r.events+=","+e.EVENTS.ORDER_CONFIRMATION),!s&&i.asset_details&&i.member&&i.member.default_entitlement&&(1===i.member.default_entitlement.total_downloads?r.events+=","+e.EVENTS.FIRST_USER_DOWNLOAD:r.events+=","+e.EVENTS.REPEAT_USER_DOWNLOAD,r.eVar244=i.member.default_entitlement.total_downloads),e.send(r,i,s,l,i.subscription_string)}catch(t){r=e.getErrorValues(i,t,"done"),e.send(r,i)}}}}}),define("hbs!templates/quickerCheckout/quotaConfirm",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'  <div class="modal__header">\n    <span class="grey dove-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Confirm Purchase",{name:"_",hash:{},data:a}))+"</span>\n  </div>\n"},3:function(e,t,n,a){var i;return'            <div class="margin-top-medium margin-bottom-medium">\n                <img src="'+this.escapeExpression((i=null!=(i=t.thumbUrl||(null!=e?e.thumbUrl:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbUrl",hash:{},data:a}):i))+'" alt="'+this.escapeExpression((i=null!=(i=t.thumbTitle||(null!=e?e.thumbTitle:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbTitle",hash:{},data:a}):i))+'" />\n            </div>\n'},5:function(e,t,n,a){var i;return'                <div class="select-box">\n                    <select id="license-id-select">\n'+(null!=(i=t.each.call(e,null!=e?e.assetPurchaseOptions:e,{name:"each",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+"                    </select>\n                </div>\n"},6:function(e,t,n,a){var i;return null!=(i=t.unless.call(e,null!=e?e.disabled:e,{name:"unless",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:""},7:function(e,t,n,a){var i;return'                                <option value="'+this.escapeExpression(this.lambda(null!=e?e.license_id:e,e))+'" data-description="'+this.escapeExpression(this.lambda(null!=e?e.description:e,e))+'" '+(null!=(i=t.if.call(e,null!=e?e.selected:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+" "+this.escapeExpression(this.lambda(null!=e?e.dimensions:e,e))+"</option>\n"},8:function(e,t,n,a){return" selected "},10:function(e,t,n,a){var i;return'                <label for="use-license" class="switch switch--card" data-active="true">\n                    <input id="use-license" type="radio" name="" checked="checked" />\n                    <strong>'+this.escapeExpression((i=null!=(i=t.subject||(null!=e?e.subject:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"subject",hash:{},data:a}):i))+'</strong>\n                    <div class="switch__content">\n                        <span>'+this.escapeExpression((i=null!=(i=t.requiredCredits||(null!=e?e.requiredCredits:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"requiredCredits",hash:{},data:a}):i))+"</span>\n                    </div>\n                </label>\n"},12:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::License",{name:"_",hash:{},data:a}))+"\n"},14:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return(null!=(i=t.if.call(e,null!=e?e.assetPurchaseOptions:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'<form id="js-confirm-form" action="">\n    <div class="modal__content">\n        <p id="quota-confirm-question" class="center-align padding-small">'+this.escapeExpression((s=null!=(s=t.question||(null!=e?e.question:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"question",hash:{},data:a}):s))+"</p>\n\n"+(null!=(i=t.if.call(e,null!=e?e.thumbUrl:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'\n        <div class="margin-bottom-xlarge">\n'+(null!=(i=t.if.call(e,null!=e?e.assetPurchaseOptions:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.program(10,a,0),data:a}))?i:"")+'        </div>\n    </div>\n\n    <div class="modal__footer">\n        <button id="quota-confirm-submit" class="button button--dialog hide-modal" type="submit">\n'+(null!=(i=t.if.call(e,null!=e?e.assetPurchaseOptions:e,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.program(14,a,0),data:a}))?i:"")+"        </button>\n    </div>\n</form>\n"},useData:!0})}),define("quickerCheckout/states/quotaConfirm",["lib/ajax","page_config","lib/assetsStore","quickerCheckoutRepo/events/quickerEvents","hbs!templates/quickerCheckout/quotaConfirm","i18n-config","lodash"],function(e,t,n,a,i,s,r){"use strict";function l(e,t,n,a){function s(){C&&C.addEventListener("change",p),S&&S.addEventListener("click",h)}y=t,g=e,b=n,T=a,E=null;var r={question:e.labels?e.labels.question:null,subject:e.labels?e.labels.subject:null,requiredCredits:e.labels?e.labels.required_credits:null,assetPurchaseOptions:e.asset_purchase_options?e.asset_purchase_options:null,thumbUrl:e.asset_purchase_options&&e.asset_details?e.asset_details.content_thumb_url:null,thumbTitle:e.asset_purchase_options&&e.asset_details?e.asset_details.title:null,isAeRequired:e.asset_details&&e.asset_details.is_ae_install_required};!function(){t.setHtml(i(r)),C=document.getElementById(O),S=window.document.getElementById(A),I=document.getElementById(k),s(),u(),n(),T(g,E)}()}function o(e){a.trigger(a.CHANGE_STATE,{id:"error",message:e||s.gettext("CHECKOUT::You have ran out of license quota.")})}function c(e){var t;e.download_url||o(s.gettext("CHECKOUT::Missing Download URL.")),t=function(t){t.state="purchased",t.downloaded=!0,t.license=e.license_name,t.license_name=e.license_name,t.licensed_file_path=e.download_url,t.download_url=e.download_url,g.id="done",g.isFromQuotaState=!0,g.asset_details=t,g.member={is_newly_created:!1},g.member_status="existing_with",g.license_id=e.license_id,g.member=e.member,e.credit_pack_info&&e.credit_pack_info.remain_label?(g.credit_pack_info=e.credit_pack_info,g.isFromCreditQuotaConfirm=!0):g.is_plan_quota_used=!0,a.trigger(a.CHANGE_STATE,g)},g.asset_details?t(g.asset_details):n.getAsset(g.content_id,n.ASSET_DETAIL.BASIC).then(t)}function u(){Array.isArray(g.asset_purchase_options)&&(g.asset_purchase_options.some(function(e){return!!e.selected&&(E=e.license_id,v=e.description,!0)}),d())}function d(){v&&I&&(I.textContent=v)}function p(e){var t=e.currentTarget.selectedIndex;b(!0),E=parseInt(e.currentTarget.value),v=e.currentTarget.options[t].dataset.description,T(g,E,"option-change"),d()}function h(e){e.stopPropagation(),e.preventDefault(),y.enableSpinner(!0),T(g,E,"continue"),E?f():m()}function m(){var n=t.base_url+"/Ajax/GetDownload/"+g.content_id+"/"+g.license_id;e.post(n).then(c,o)}function f(){var n,a=r.get(g,"extras.options.relicense",!1);n=t.base_url+"/Ajax/GetCreditPackDownload/"+g.content_id+"/"+E,e.post(n,{relicense:a}).then(c,o)}function _(){return E||null}var g,E,v,b,T,y,C,S,I,O="license-id-select",k="quota-confirm-question",A="quota-confirm-submit";return{displayPage:l,licenseIdChangeEvent:p,submit:h,getSelectedLicenseIdValue:_,licenseAssetSuccess:c,sendToErrorState:o}}),define("quickerCheckout/analytics/quotaConfirm",["quickerCheckout/adobestock/analytics"],function(e){"use strict";return{fn:function(t){return function(){var n;try{n={pageName:"leftlicensemodal"},n.prop61=t.login_type,n.eVar119=t.login_type,e.send(n,t)}catch(a){n=e.getErrorValues(t,a,"quota confirm"),e.send(n,t)}}}}}),define("hbs!templates/quickerCheckout/logIn",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'        <span class="bh-login-claimed">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Creative Cloud Enterprise",{name:"_",hash:{},data:a}))+"</span>\n"},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isGhostUser:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:""},4:function(e,t,n,a){return'      <span class="bh-login-ghost-header">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Please Sign In",{name:"_",hash:{},data:a}))+"</span>\n"},6:function(e,t,n,a){return'        <span class="bh-login-used">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You already have an account",{name:"_",hash:{},data:a}))+"</span>\n    "},8:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isClaimedByEnterprise:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.program(11,a,0),data:a}))?i:""},9:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Your email domain is associated with an enterprise account.",{name:"_",hash:{},data:a}))+"\n"},11:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isGhostUser:e,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.program(14,a,0),data:a}))?i:""},12:function(e,t,n,a){var i
;return'                    <span class="bh-login-ghost-message">'+this.escapeExpression((i=null!=(i=t.ghostMessage||(null!=e?e.ghostMessage:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"ghostMessage",hash:{},data:a}):i))+"</span>\n"},14:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::We see you're an Adobe member",{name:"_",hash:{},data:a}))+"\n                "},16:function(e,t,n,a){var i;return'        <div class="padding-top-small">\n            <p>\n'+(null!=(i=t.if.call(e,null!=e?e.isClaimedByEnterprise:e,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.program(19,a,0),data:a}))?i:"")+"            </p>\n"+(null!=(i=t.if.call(e,null!=e?e.isSocial:e,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.noop,data:a}))?i:"")+"        </div>\n"},17:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Log in or contact your company administrator for help",{name:"_",hash:{},data:a}))+"\n"},19:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.isSocial:e,{name:"if",hash:{},fn:this.program(20,a,0),inverse:this.program(22,a,0),data:a}))?i:""},20:function(e,t,n,a){var i;return"                    "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You have previously used %s to sign in to this account",{name:"_",hash:{},data:a}),null!=e?e.socialProviderName:e,{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},22:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You will need to sign in with your existing Adobe ID to continue",{name:"_",hash:{},data:a}))+"\n                "},24:function(e,t,n,a){var i;return"                <strong>"+this.escapeExpression((i=null!=(i=t.email||(null!=e?e.email:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"email",hash:{},data:a}):i))+"</strong>\n"},26:function(e,t,n,a){var i;return"            "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Sign In with %s",{name:"_",hash:{},data:a}),null!=e?e.socialProviderName:e,{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},28:function(e,t,n,a){return"            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Sign In with Adobe ID",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'\x3c!--MotMot Content--\x3e\n<div class="modal__header">\n'+(null!=(i=t.if.call(e,null!=e?e.isClaimedByEnterprise:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+'</div>\n<div class="modal__content js-checkout-log-in-state">\n    <div class="padding-top-small">\n        <p>\n'+(null!=(i=t.unless.call(e,null!=e?e.isSocial:e,{name:"unless",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'        </p>\n    </div>\n    <i class="mti-icon icon-user mti-2x"></i>\n'+(null!=(i=t.unless.call(e,null!=e?e.isGhostUser:e,{name:"unless",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+'</div>\n<div class="modal__footer">\n    <button id="js-checkout-goto-susi-button" class="button button--dialog"}>\n'+(null!=(i=t.if.call(e,null!=e?e.isSocial:e,{name:"if",hash:{},fn:this.program(26,a,0),inverse:this.program(28,a,0),data:a}))?i:"")+"    </button>\n</div>\n"},useData:!0})}),define("quickerCheckout/states/logIn",["page_config","lib/susi","lib/localStorage","hbs!templates/quickerCheckout/logIn","lodash"],function(e,t,n,a,i){"use strict";function s(e,t,n,s){var r;switch(u=e,_=e.email,d=e.is_ghost_user,f=s,e.account_status){case"CLAIMED":r=!0;break;case"USED":case"GHOST":r=!1;break;default:throw new Error("Internal error:  bad account status: "+e.account_status)}var l={isClaimedByEnterprise:r,isGhostUser:d,ghostMessage:d&&e.ghost_message,isSocial:!!e.social_provider,socialProviderName:i.get(e,"social_provider.name"),email:e.email},o=a(l);t.setHtml(o),c(),p=i.get(e,"social_provider.provider"),n(l.isClaimedByEnterprise),f.send(u,"visit","page-view")}function r(){f.send(u,"click",f.getDunamisSubtypeFromSocialProvider(p)),o()}function l(){f.send(u,"click","close"),m&&m.removeEventListener("click",l)}function o(){h&&h.removeEventListener("click",r);var e={puser:_};d?t.login(null,null,!1,e):t.checkoutModalLogin(null,null,!0,e,u.license_id,i.get(u,"social_provider.provider"))}function c(){h=window.document.getElementById("js-checkout-goto-susi-button"),m=window.document.getElementById("js-modal-close"),h&&h.addEventListener("click",r),m&&m.addEventListener("click",l)}var u,d,p,h,m,f,_=null;return{displayPage:s,goToSusiWithEmail:o}}),define("quickerCheckout/analytics/logIn",["quickerCheckout/adobestock/analytics"],function(e){"use strict";return{fn:function(t){return function(n){var a;try{a={pageName:"existingadobeusermodal"},n&&(a.pageName="existingenterpriseusermodal"),t.asset_details&&t.asset_details.is_video&&(a.pageName+=":video"),e.send(a,t)}catch(n){a=e.getErrorValues(t,n,"login"),e.send(a,t)}}}}}),define("hbs!templates/quickerCheckout/overage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'    <div class="modal__header">\n        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Welcome Back",{name:"_",hash:{},data:a}))+'\n    </div>\n\n    <div class="modal__content">\n        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Thank you for signing in! Please make your selection again.",{name:"_",hash:{},data:a}))+'\n    </div>\n\n    <div class="modal__footer">\n        <button id="js-overage-close" class="button button--dialog hide-modal" type="submit">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+"\n        </button>\n    </div>\n"},useData:!0})}),define("quickerCheckout/states/overage",["lib/uiEvents","hbs!templates/quickerCheckout/overage"],function(e,t){"use strict";function n(n,a){e.trigger(e.DETAILS_PANEL.OPEN,n.content_id),a.setHtml(t()),window.document.getElementById("js-overage-close").addEventListener("click",a.close)}return{displayPage:n}}),define("quickerCheckout/analytics/selectPayment",["quickerCheckout/adobestock/analytics","lib/utils","page_config","quickerCheckout/analytics/error"],function(e,t,n,a){"use strict";return{fn:function(i,s){return s&&(e=s),function(s,r,l){var o,c;try{l?o=a.createErrorObject(i,l,"existingpaymentmodal",e.EVENTS.ERROR):(c=t.getQueryParam(n.startCheckoutModalOnParam),o={pageName:"existingpaymentmodal",events:e.EVENTS.CHECKOUT_STEP_THREE,eVar88:e.getPricingString(i),eVar92:i.member_status,eVar137:i.order_id,eVar234:e.getPurchaseName(i)},o.prop61=i.login_type,o.eVar119=i.login_type,s?(o.events=e.EVENTS.CTA_TRACKER,o.eVar91=r?"quicker checkout:existing payment modal:use a different payment method":"quicker checkout:existing payment modal:place secure order"):c&&(o.events+=","+e.EVENTS.STOCK_LOGIN_SUCCESS)),e.send(o,i,s)}catch(t){o=e.getErrorValues(i,t,"select payment"),e.send(o,i)}}}}}),define("quickerCheckout/analytics/confirm",["quickerCheckout/adobestock/analytics"],function(e){"use strict";return{fn:function(t){return function(n){var a;try{a={pageName:"paypalpaymentmodal",prop8:e.getPlanType(t),eVar19:e.getPlanType(t),eVar92:t.member_status,eVar137:t.order_id,prop61:t.login_type,eVar119:t.login_type,eVar136:t.marketing_optin?"true":"false"},n?(a.events=e.EVENTS.CTA_TRACKER,a.eVar91="quicker checkout:paypal payment modal:continue to done"):a.events=e.EVENTS.CHECKOUT_STEP_REVIEW,e.send(a,t,n)}catch(n){a=e.getErrorValues(t,n,"confirm"),e.send(a,t)}}}}}),define("hbs!templates/quickerCheckout/bannedCountry",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'        <div class="padding-top-small">\n            <p>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Already have a Creative Cloud Team account?",{name:"_",hash:{},data:a}))+'</p>\n            <a id="js-banned-country-signin" href="#" title="sign in" class="blue bleu-de-france-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Sign In!",{name:"_",hash:{},data:a}))+"</a>\n        </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'\n\n<div class="modal__header">\n    <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Online Licenses Not Available in Your Region",{name:"_",hash:{},data:a}))+'</span>\n</div>\n\n<div class="modal__content bh-checkout-banned-county">\n\n    <p>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You may search and save preview files, but cannot license them via our online store.",{name:"_",hash:{},data:a}))+'</p>\n\n    <span class="button--floating">\n        <span class="button__icon blue bleu-de-france">\n            <i class="mti-icon icon-creative-cloud left white-text"></i>\n        </span>\n    </span>\n\n    <p>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Please see your nearest Adobe reseller to purchase an Adobe Stock plan for Creative Cloud Teams.",{name:"_",hash:{},data:a}))+"</p>\n\n"+(null!=(i=t.if.call(e,null!=e?e.isNotSignedIn:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'</div>\n\n<div class="modal__footer">\n    <button id="js-banned-country-close" class="button button--dialog">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::OK",{name:"_",hash:{},data:a}))+"</button>\n</div>\n"},useData:!0})}),define("quickerCheckout/states/bannedCountry",["lib/susi","hbs!templates/quickerCheckout/bannedCountry"],function(e,t){"use strict";function n(n,l,o,c){var u,d;try{u=n.is_signed_in}catch(e){throw new Error("Malformed JSON")}d=t({isNotSignedIn:!u}),l.setHtml(d),i=function(){s.removeEventListener("click",i),c("ok",!0),l.close()},r=function(t){t.stopPropagation(),t.preventDefault(),c("sign-in",!0),e.checkoutModalLogin(n.content_id)},a(u),c("page-view",!1)}function a(e){s=document.getElementById("js-banned-country-close"),s.addEventListener("click",i),e||document.getElementById("js-banned-country-signin").addEventListener("click",r)}var i,s,r;return{displayPage:n}}),define("hbs!templates/quickerCheckout/planDone",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Account created!",{name:"_",hash:{},data:a}))+"\n"},3:function(e,t,n,a){return"            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Thank you for your purchase!",{name:"_",hash:{},data:a}))+"\n"},5:function(e,t,n,a){return"grey gravel-text"},7:function(e,t,n,a){return"            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You have successfully completed your purchase and created an account.",{name:"_",hash:{},data:a}))+"\n"},9:function(e,t,n,a){var i;return null!=(i=(t["if-all-true"]||e&&e["if-all-true"]||t.helperMissing).call(e,null!=e?e.teamName:e,null!=e?e.creditPackData:e,{name:"if-all-true",hash:{},fn:this.program(10,a,0),inverse:this.program(12,a,0),data:a}))?i:""},10:function(e,t,n,a){var i;return"                "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You have completed a purchase for: %s%s%s",{name:"_",hash:{},data:a}),"<br /><b>",null!=e?e.teamName:e,"</b>",{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},12:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You have successfully completed your purchase.",{name:"_",hash:{},data:a}))+"\n"},14:function(e,t,n,a){var i;return'            <span data-t="plan-done-confirmation-set-password-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::A confirmation email with a link to set your password has been sent to:",{name:"_",hash:{},data:a}))+'</span>\n            <div class="margin-bottom-medium" data-t="plan-done-email-text">\n                <strong>'+this.escapeExpression((i=null!=(i=t.email||(null!=e?e.email:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"email",hash:{},data:a}):i))+"</strong>\n            </div>\n"},16:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.creditPackData:e,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.program(19,a,0),data:a}))?i:""},17:function(e,t,n,a){var i;return"                "+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::A receipt has been sent to: %s%s%s",{name:"_",hash:{},data:a}),"<b>",null!=e?e.email:e,"</b>",{name:"sprintf",hash:{},data:a}))?i:"")+"\n"},19:function(e,t,n,a){var i;return'                <span data-t="plan-done-receipt-sent-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::A receipt has been sent to:",{name:"_",hash:{},data:a}))+'</span>\n                <div class="margin-bottom-medium">\n                    <strong data-t="plan-done-email-text">'+this.escapeExpression((i=null!=(i=t.email||(null!=e?e.email:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"email",hash:{},data:a}):i))+"</strong>\n                </div>\n"},21:function(e,t,n,a){var i;return'        <div class="white container-full margin-top-xlarge margin-bottom-medium padding-small padding-left-xlarge padding-right-medium">\n            <div class="left '+(null!=(i=t.if.call(e,null!=e?e.teamName:e,{name:"if",hash:{},fn:this.program(22,a,0),inverse:this.program(24,a,0),data:a}))?i:"")+' padding-left-xsmall left-align">\n                <span class="text-regular grey gravel-text single-line-height" data-t="plan-done-pack-label-text">\n                    '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.creditPackData:e)?i.label:i,e))+"\n                </span>\n"+(null!=(i=t.if.call(e,null!=e?e.teamName:e,{name:"if",hash:{},fn:this.program(26,a,0),inverse:this.noop,data:a}))?i:"")+'            </div>\n            <div class="right grey gravel-text">\n                <i class="mti-icon mti-3x '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.creditPackData:e)?i.icon:i,e))+'" data-t="plan-done-coin-icon"></i>\n            </div>\n            <div class="clear-fix"></div>\n        </div>\n'},22:function(e,t,n,a){return"margin-top-xsmall"},24:function(e,t,n,a){return"margin-top-medium"},26:function(e,t,n,a){var i;return'                    <span class="container-block grey dove-text text-small" data-t="plan-done-for-team-text">\n                        '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::for %s%s%s",{name:"_",hash:{},data:a}),"<b>",null!=e?e.teamName:e,"</b>",{name:"sprintf",hash:{},data:a}))?i:"")+"\n                    </span>\n"},28:function(e,t,n,a){var i;return'        <div class="border-2 border-solid nurse-border theme white">\n            <div class="padding-medium">\n'+(null!=(i=t.if.call(e,null!=e?e.isUserMigratingFromFotolia:e,{name:"if",hash:{},fn:this.program(29,a,0),inverse:this.program(31,a,0),data:a}))?i:"")+"            </div>\n        </div>\n"},29:function(e,t,n,a){return'                    <div class="margin-bottom-xsmall">\n                        <h3 data-t="plan-done-plan-ready-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Your plan is ready.",{name:"_",hash:{},data:a}))+'</h3>\n                    </div>\n                    <strong class="text-medium" data-t="plan-done-fotolia-transfer-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::You can now transfer your lightboxes, shopping cart and license history from Fotolia by clicking the button below.",{name:"_",hash:{},data:a}))+"</strong>\n"},31:function(e,t,n,a){var i;return'                    <div class="margin-bottom-xsmall">\n                        <h3 data-t="plan-done-plan-information-text">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.planInformation:e)?i.ready_label:i,e))+'</h3>\n                    </div>\n                    <strong class="text-medium" data-t="plan-done-quota-label-text">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.planInformation:e)?i.available_quota_label:i,e))+"</strong>\n"},33:function(e,t,n,a){var i,s;return'        <div class="margin-medium" data-t="plan-done-ghost-sign-in-text">\n            '+(null!=(s=null!=(s=t.ghostSignInText||(null!=e?e.ghostSignInText:e))?s:t.helperMissing,i="function"==typeof s?s.call(e,{name:"ghostSignInText",hash:{},data:a}):s)?i:"")+"\n        </div>\n"},35:function(e,t,n,a){return'        <button id="js-no-asset-done-close" class="button button--dialog js-analytics-link" data-analytics-event-label="transfer_my_fotolia_account" data-t="plan-done-transfer-fotolia-button">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Transfer my Fotolia account",{name:"_",hash:{},data:a}))+"\n        </button>\n"},37:function(e,t,n,a){return'        <button id="js-no-asset-done-close" class="button button--dialog" data-t="plan-done-start-searching-button">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Start Searching",{name:"_",hash:{},data:a}))+"\n        </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal__header">\n    <strong data-t="plan-done-header-text">\n'+(null!=(i=t.if.call(e,null!=e?e.isNewUser:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+'    </strong>\n</div>\n\n<div class="modal__content bh-checkout-done-state '+(null!=(i=t.if.call(e,null!=e?e.creditPackData:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'" id="checkout-done-modal">\n\n    <div class="margin-bottom-medium" data-t="plan-done-completed-purchase-text">\n'+(null!=(i=t.if.call(e,null!=e?e.isNewUser:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+"    </div>\n\n    <div>\n"+(null!=(i=t.if.call(e,null!=e?e.isNewUser:e,{name:"if",hash:{},fn:this.program(14,a,0),inverse:this.program(16,a,0),data:a}))?i:"")+"    </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.creditPackData:e,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.program(28,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.isGhostUser:e,{name:"if",hash:{},fn:this.program(33,a,0),inverse:this.noop,data:a}))?i:"")+'</div>\n\n<div class="modal__footer">\n'+(null!=(i=t.if.call(e,null!=e?e.isUserMigratingFromFotolia:e,{name:"if",hash:{},fn:this.program(35,a,0),inverse:this.program(37,a,0),data:a}))?i:"")+"</div>\n"},useData:!0})}),define("quickerCheckout/states/planDone",["lodash","hbs!templates/quickerCheckout/planDone","lib/window","page_config","quickerCheckout/states/utils/plans","hbs!quickerCheckoutRepo/templates/partials/creditPackLabel","quickerCheckoutRepo/events/modalEvents","lib/member","quickerCheckout/adobestock/trackingPixels","quickerCheckoutRepo/events/quickerEvents"],function(e,t,n,a,i,s,r,l,o,c){"use strict";function u(n,a,u,d){var v,b,T;m=u,f=d,g=n,E=a,b=e.get(n,"quicker_checkout_products.credit_pack");try{_={email:n.member.email,planInformation:n.plan_information,isNewUser:n.member.is_newly_created,isUserMigratingFromFotolia:n.extras.options.is_fotolia_migration,fotolia_segment:n.extras.options.fotolia_segment,isGhostUser:n.is_ghost_user,creditPackData:b,ghostSignInText:n.is_ghost_user&&i.getSignInTextForGhost(!!n.plan_information),teamName:l.isTeam()&&l.getUsername()},v=t(_,{partials:{creditPackLabel:s}})}catch(e){throw new Error("Invalid JSON")}a.setHtml(v),T=document.getElementById("js-no-asset-done-close"),T&&T.addEventListener("click",h),a.on(r.CLOSE,p),m(),f(),o.fireTrackingPixelsForDoneState(n),c.trigger(c.FINISH_PURCHASE,{member:n.member,imsProfile:n.ims_profile,isFotoliaMigration:!!e.get(n,"extras.options.is_fotolia_migration")})}function d(){var e=null,t=null;_.isUserMigratingFromFotolia&&(m(!0),e=document.createElement("form"),e.setAttribute("method","post"),e.setAttribute("action",window.location.origin+a.base_url+"/fotolia/transfer/"+_.fotolia_segment),t=document.createElement("input"),t.setAttribute("type","hidden"),t.setAttribute("name",a.csrf_token.id),t.setAttribute("value",a.csrf_token.value),e.appendChild(t),document.body.appendChild(e),e.submit())}function p(e){e(),d()}function h(){f("continue"),E.close(),e.get(g,"extras.options.start_search")&&n.setLocation(g.start_search_url)}var m,f,_,g,E;return{displayPage:u}}),define("quickerCheckout/analytics/planDone",["quickerCheckout/adobestock/analytics"],function(e){"use strict";return{fn:function(t){return function(n){var a;try{a=e.getOrderValues(t,!0),t.extras.options.is_fotolia_migration&&n&&(a.events=e.EVENTS.CTA_TRACKER,a.eVar91="Quicker checkout:order confirmation modal:transfer my fotolia account"),e.send(a,t,n,!n,t.subscription_string)}catch(n){a=e.getErrorValues(t,n,"plan done"),e.send(a,t)}}}}}),define("quickerCheckout/adobestock/postLoggedOutUsers",["lib/ajax","lib/utils","lib/assetsStore","page_config","quickerCheckoutRepo/events/quickerEvents","i18n-config","hbs!quickerCheckoutRepo/templates/loading"],function(e,t,n,a,i,s,r){"use strict";function l(l,o,c){function u(e){e&&e.is_purchasable?n.getAsset(l).then(d):i.trigger(i.CHANGE_STATE,{id:"error",message:s.gettext("CHECKOUT::Content is not purchasable.")})}function d(n){var i=t.getQueryParam("license_id")||"1",s=n.is_video?h:p;e.get(a.base_url+"/Order/Next/LicenseId/"+i+"/"+n.content_id,s).fail(f)}function p(e){e&&!e.available_downloads?e.fulfillment_method&&"STOCK_OVERAGE"===e.fulfillment_method?m(e,"overage"):c(l,e.product_key):m(e)}function h(e){m(e,"overage")}function m(e,t){i.trigger(i.CHANGE_STATE,{id:t||"quotaConfirm",content_id:l,nextActionResponse:e})}function f(e){i.trigger(i.CHANGE_STATE,{id:"error",message:e.error})}if(!l||!o||!c)throw new Error("Content Id and/or Modal is not found for POST LOGIN.");o.setHtml(r()),e.get(a.base_url+"/Ajax/Content/IsPurchasable/"+l,u).fail(f)}return{start:l}}),define("quickerCheckout/states/overageConfirm",["quickerCheckoutRepo/events/quickerEvents","quickerCheckout/adobestock/postLoggedOutUsers"],function(e,t){"use strict";function n(e,n,a){t.start(e.content_id,n,n.close),a()}return{displayPage:n}}),define("quickerCheckout/analytics/overageConfirm",["quickerCheckout/adobestock/analytics"],function(e){"use strict";return{fn:function(t){return function(){var n,a;try{n=t.user_messages[0]||t.user_messages,e.send({pageName:"welcomebackoveragestate",eVar122:n.body,eVar119:t.login_type,prop61:t.login_type},t)}catch(n){a=e.getErrorValues(t,n,"overage confirm"),e.send(a,t)}}}}}),define("hbs!quickerCheckoutRepo/templates/halt",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <div class="modal__header">\n        '+this.escapeExpression((i=null!=(i=t.subject||(null!=e?e.subject:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"subject",hash:{},data:a}):i))+"\n    </div>\n"},3:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.messages:e,{name:"each",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:""},4:function(e,t,n,a){return"                <p>\n                    "+this.escapeExpression(this.lambda(e,e))+"\n                </p>\n"},6:function(e,t,n,a){return"            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Thank you!",{name:"_",hash:{},data:a}))+"\n"},8:function(e,t,n,a){var i;return'        <a href="'+this.escapeExpression((i=null!=(i=t.footerLink||(null!=e?e.footerLink:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"footerLink",hash:{},data:a}):i))+'" class="blue bleu-de-france-text text-sregular">'+this.escapeExpression((i=null!=(i=t.footerLinkLabel||(null!=e?e.footerLinkLabel:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"footerLinkLabel",hash:{},data:a}):i))+"</a>\n"},10:function(e,t,n,a){var i;return'        <div class="padding-xsmall">\n            <a href="'+this.escapeExpression((i=null!=(i=t.buttonCancelLink||(null!=e?e.buttonCancelLink:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"buttonCancelLink",hash:{},data:a}):i))+'" class="button button--dialog hide-modal">\n                '+this.escapeExpression((i=null!=(i=t.buttonCancelLabel||(null!=e?e.buttonCancelLabel:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"buttonCancelLabel",hash:{},data:a}):i))+'\n            </a>\n        </div>\n        <div class="padding-xsmall">\n            <a href="#" data-redirect-url="'+this.escapeExpression((i=null!=(i=t.buttonConfirmationLink||(null!=e?e.buttonConfirmationLink:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"buttonConfirmationLink",hash:{},data:a}):i))+'" class="button button--dialog hide-modal js-logout-migrated-member">\n                '+this.escapeExpression((i=null!=(i=t.buttonConfirmationLabel||(null!=e?e.buttonConfirmationLabel:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"buttonConfirmationLabel",hash:{},data:a}):i))+"\n            </a>\n        </div>\n"},12:function(e,t,n,a){var i;return'        <button id="js-checkout-halt-close-button" class="button button--dialog hide-modal">\n            <span>\n'+(null!=(i=t.if.call(e,null!=e?e.buttonText:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.program(15,a,0),data:a}))?i:"")+"            </span>\n        </button>\n"},13:function(e,t,n,a){var i;return"                    "+this.escapeExpression((i=null!=(i=t.buttonText||(null!=e?e.buttonText:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"buttonText",hash:{},data:a}):i))+"\n"},15:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.subject:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'\n<div class="modal__content">\n    <p>\n'+(null!=(i=t.if.call(e,null!=e?e.messages:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+"    </p>\n"+(null!=(i=t.if.call(e,null!=e?e.footerLink:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'</div>\n\n<div class="modal__footer">\n'+(null!=(i=t.if.call(e,null!=e?e.isUserMigratingFromFotolia:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.program(12,a,0),data:a}))?i:"")+"</div>\n"},useData:!0})}),define("quickerCheckoutRepo/states/stock/halt",["quickerCheckoutRepo/lib/generic/i18n-config","hbs!quickerCheckoutRepo/templates/halt"],function(e,t){"use strict";function n(n,i,c,d){var p;r=i,l=c,o=d,n.user_messages.length?p=n.user_messages[0]:n.user_message&&(p=n.user_message),p.button_link&&(u=p.button_link),i.setHtml(t({messages:a(p.body),subject:p.subject?e.callJedFunction("gettext",p.subject):"",buttonText:p.button_label?e.callJedFunction("gettext",p.button_label):"",footerLinkLabel:p.footer_link_label,footerLink:p.footer_link,isUserMigratingFromFotolia:n.extras.options.is_fotolia_migration,buttonConfirmationLink:p.button_confirmation_link,buttonConfirmationLabel:p.button_confirmation_label,buttonCancelLabel:p.button_cancel_label,buttonCancelLink:p.button_cancel_link})),c(),o(!1),s()}function a(t){var n;return t?(n=t,Array.isArray(n)||(n=[e.callJedFunction("gettext",n)])):n=[],n}function i(){document.getElementById(c).removeEventListener("click",i),l(!0),o(!0),u?window.location.href=u:r.close(!0)}function s(){var e=window.document.getElementById(c);e&&e.addEventListener("click",i)}var r,l,o,c="js-checkout-halt-close-button",u=null;return{displayPage:n,getBodyArray:a}}),define("quickerCheckout/analytics/halt",["quickerCheckout/adobestock/analytics"],function(e){"use strict";return{fn:function(t){return function(n){var a,i;try{i=t.user_messages[0]||t.user_messages,a={pageName:"haltstate:"+i.id,eVar122:i.body,eVar119:t.login_type,prop61:t.login_type},n&&(a.eVar91="quicker checkout:halt state modal:"+i.button_omniture),e.send(a,t,n)}catch(n){a=e.getErrorValues(t,n,"halt"),e.send(a,t)}}}}}),require(["jquery","app/constants/analytics","lib/analytics"],function(e,t,n){"use strict";e("body").on("click",".js-analytics-fm-banner",function(){var a={campaign:e(this).data("analytics-campaign").trim(),elementName:e(this).data("analytics-element").trim()};n.setDigitalData(t.INTERNAL_INFO,a),n.setDigitalData(t.EVENT_INFO,{eventType:t.CLICK_EVENT,eventLabel:"internalcamp"})})}),define("lib/analytics/fotoliaMigrationBanner",function(){}),require(["jquery","app/constants/analytics","lib/analytics"],function(e,t,n){"use strict";e("body").on("click",".js-analytics-enterprise-banner",function(){var a={campaign:e(this).data("analytics-campaign").trim(),elementName:e(this).data("analytics-element").trim()};n.setDigitalData(t.INTERNAL_INFO,a),n.setDigitalData(t.EVENT_INFO,{eventType:t.CLICK_EVENT,eventLabel:"internalcamp"})})}),define("lib/analytics/enterpriseBanner",function(){}),require(["jquery","app/constants/analytics","lib/analytics"],function(e,t,n){"use strict";e("body").on("click",".js-analytics-enterprise-access-request-banner",function(){var a={campaign:e(this).data("analytics-campaign").trim(),elementName:e(this).data("analytics-element").trim()};n.setDigitalData(t.INTERNAL_INFO,a),n.setDigitalData(t.EVENT_INFO,{eventType:t.CLICK_EVENT,eventLabel:"internalcamp"})})}),define("lib/analytics/enterpriseAccessRequestBanner",function(){}),define("lib/analytics/search",["jquery","app/constants/analytics","lib/member","lib/localStorage","lib/assetsStore","lib/utils","page_config","lib/analytics","lib/analytics/utils","lib/analytics/fotoliaMigrationBanner","lib/analytics/enterpriseBanner","lib/analytics/enterpriseAccessRequestBanner"],function(e,t,n,a,i,s,r,l,o){"use strict";function c(e){var t,a=e.content_type_id;switch(a){case n.CONTENT_TYPE_ID_PHOTO:if(e.is_illustrative){t="Illustrative";break}case n.CONTENT_TYPE_INSTANT:t="Image";break;case n.CONTENT_TYPE_ILLUSTRATION:t="Illustration";break;case n.CONTENT_TYPE_VECTOR:t="Vector";break;case n.CONTENT_TYPE_ILLUSTRATIVE:t="Illustrative";break;case n.CONTENT_TYPE_VIDEO:t="Video";break;case n.CONTENT_TYPE_3D:t="3D";break;case n.CONTENT_TYPE_TEMPLATE:t="Template";break;default:t="Unknown"}return t}function u(e,n,a){var r="",u=o.getPageInfoForEditorialContent(e)||{};e.is_3D?(e["3D_type_id"]===i.THREE_D_TYPE.MODELS?r=e.primary_file_type:e["3D_type_id"]===i.THREE_D_TYPE.LIGHTS?r=e.light_type[0]:e["3D_type_id"]===i.THREE_D_TYPE.MATERIALS&&(r=e.primary_file_type),u.sub_category=s.threeDPromoTextMap[e["3D_type_id"]].label):e.is_template?r=e.format:(r=e.format,u.sub_category=e.content_type),u.pane=n,u.content_type=c(e),u.content_id=e.content_id,u.author=e.author,u.title=e.title,u.file_type=r,a?u.library=a:delete u.library,l.setDigitalData(t.PAGE_INFO,u,{sendPageTrack:!1})}function d(e){l.setDigitalData(t.EVENT_INFO,{eventType:t.ERROR_EVENT,eventLabel:"search error"},{sendPageTrack:!1}),l.setDigitalData("error",{usermessage:e})}function p(){if(window.digitalData&&window.digitalData.search&&window.digitalData.search.search_type)return window.digitalData.search.search_type}function h(e){var n={filterAction:e};e===t.FILTERS_ACTION_UPDATE&&(n.load_type=t.FILTERS_LOAD_TYPE),l.setDigitalData(t.PAGE_INFO,n,{sendPageTrack:!1}),l.setDigitalData(t.EVENT_INFO,{eventType:t.CLICK_EVENT,eventLabel:"filter"})}function m(e){l.setDigitalData(t.SEARCH,{sort:e},{sendPageTrack:!1}),l.setDigitalData(t.EVENT_INFO,{eventType:t.CLICK_EVENT,eventLabel:"sort"})}function f(e){var n=i.getAssetFromCacheOnly(e),a=o.getPageInfoForEditorialContent(n);a&&l.setDigitalData(t.PAGE_INFO,a,{sendPageTrack:!1})}return{setVisualSearchAnalyticsErrorTextAndCallTrack:d,getDigitalDataSearchTypeValue:p,getContentTypeLabel:function(e){return c(e)},
setPageInfoData:function(e,t,n){return u(e,t,n)},logSearchFilterEvent:h,logSearchSortEvent:m,setPageInfoEditorialDataForCachedContent:f}}),define("lib/analytics/license",["jquery","app/constants/analytics","lib/member","lib/localStorage","lib/assetsStore","lib/utils","page_config","lib/analytics","lib/analytics/search","lib/analytics/utils"],function(e,t,n,a,i,s,r,l,o,c){"use strict";function u(e,n,a){var i=d,s=document.querySelector("#memberLicensesCounter .badge .quota"),r="",u=window.digitalData[t.USER]||{},b=u[t.USER_TYPE_ACTIVE];e.is_fmf?r=f:e.is_team_fmf?r=_:e.product_key===v?r=g:e.is_fotolia_credits&&(r=E),n||(i=e.is_video||e.is_premium?h:p),l.setDigitalData(t.EVENT_INFO,{eventType:m,eventLabel:i},{sendPageTrack:!1}),l.setDigitalData(t.TRANSACTION,{allotment_used:c.getPlanType(e.product_key,e.asset_type),promo:r},{sendPageTrack:!1}),o.setPageInfoData(e,"license"),l.setDigitalData(t.PAGE_INFO,{category:e.category,coreType:b},{sendPageTrack:!1}),l.setDigitalData(t.USER,{remaining_quota:s?s.textContent.trim():"NA"})}var d="quota_licensed",p="overage_licensed",h="nonstdasset_licensed",m="pageview",f="FMF",_="FMFT",g="DPC",E="FTM",v="/Applications/StockSubSmallAnnualDPC";return{setLicenseDetails:u}}),define("hbs!templates/motMotModal/partials/accountSuspended",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-smedium-height-max">\n    <div class="row grey heavy-metal-text">\n        <div class="column on-small-10 on-small-offset-1">\n            <div class="row padding-top-large padding-bottom-large">\n                <i class="mti-icon mti-3x icon-alert red coral-text"></i>\n            </div>\n            <p>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::ACCOUNT::Your Stock subscription has been suspended due to a problem with billing your account.",{name:"_",hash:{},data:a}))+"</p>\n            <p>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::ACCOUNT::To continue using the Stock service, please update your payment details.",{name:"_",hash:{},data:a}))+'</p>\n            <div class="row padding-top-large padding-bottom-xlarge">\n                <div class="v-align-wrapper ">\n                    <div class="c-align">\n                        <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.update_payment_url:i,e))+'" class="button button--action" data-t="update_payment_button">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::ACCOUNT::Update payment details",{name:"_",hash:{},data:a}))+"</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/motMotModal/partials/closeFooter",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="modal__footer">\n    <div class="blue bleu-de-france">\n        <button class="button button--dialog js-motmot-modal-close" data-t="motmot-modal-footer-close-button">\n            <span class="text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Close",{name:"_",hash:{},data:a}))+"</span>\n        </button>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/motMotModal/partials/featureUnavailable",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="white">\n    <div class="padding-medium">\n        <span class="text-sregular grey heavy-metal-text" data-t="motmot-modal-title">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::ERROR::Feature Unavailable",{name:"_",hash:{},data:a}))+'\n        </span>\n    </div>\n</div>\n\n<div class="grey white-smoke">\n    <div class="padding-xlarge">\n        <div class="padding-small">\n            <i class="mti-icon icon-alert"></i>\n            <em class="text-sregular grey gravel-text" data-t="motmot-modal-message-text">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::ERROR::Something went wrong. This feature is unavailable. Please try again later.",{name:"_",hash:{},data:a}))+"\n            </em>\n        </div>\n    </div>\n</div>\n\n"+(null!=(i=this.invokePartial(n.closeFooter,e,{name:"closeFooter",data:a,helpers:t,partials:n}))?i:"")},usePartial:!0,useData:!0})}),define("quickerCheckout/analytics/dunamis/events/dunamisLicenseEvent",["quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lib/analytics/dunamis","lodash","lib/member","quickerCheckout/analytics/dunamis/dunamisUtils","page_config"],function(e,t,n,a,i,s){"use strict";function r(a,r){e.execFunction(function(){var e;if(!n.isObject(a))throw Error("Purchase eventData must be an object");e={"content.id":a.contentId,"stk.license.id":a.licenseId,"stk.license.plan.quota_total":a.subscriptionPlanTotalQuota,"stk.license.plan.quota_used":a.subscriptionPlanUsedQuota,"stk.license.creditpack.quota_total":a.creditPackTotalQuota,"stk.license.creditpack.quota_used":a.creditPackUsedQuota},s.isFreeEnabled&&(e["stk.license.plan.free_daily_quota_total"]=a.freeDailyTotalQuota,e["stk.license.plan.free_daily_quota_used"]=a.freeDailyUsedQuota,e["stk.user.free_licenses_total"]=a.totalFreeLicenses),a.downloadPackType&&(e["stk.license.download_pack_type"]=a.downloadPackType),e[t.constants.STOCK_USER_QUOTA_BALANCE]=a.subscriptionPlanAvailableQuota,e[t.constants.STOCK_USER_CREDIT_BALANCE]=a.creditPackAvailableQuota,e[t.constants.EVENT_WORKFLOW_PROPERTY]=t.constants.STOCK_CHECKOUT,e[t.constants.EVENT_USER_GUID_PROPERTY]=a.userGuid,e[t.constants.EVENT_SUBCATEGORY_PROPERTY]=a.eventSubcategory,i.trackWrapper("license",a.eventSubtype,e,null,r)},"error-license-event","license-event")}function l(e){var t;if(!n.isObject(e))throw Error("state must be an object");return t={userGuid:a.getGuid(),eventSubtype:"license-"+(n.get(e,"asset_details.asset_type")?e.asset_details.asset_type.toLowerCase():void 0),eventSubcategory:e.id,contentId:n.get(e,"asset_details.content_id"),licenseId:e.license_id,subscriptionPlanUsedQuota:e.is_plan_quota_used?1:0,creditPackUsedQuota:n.get(e,"credit_pack_info.asset_credit_cost")},o(t,e.member),t}function o(e,t){e.subscriptionPlanAvailableQuota=n.get(t,"default_entitlement.total_quota_available"),e.subscriptionPlanTotalQuota=n.get(t,"default_entitlement.total_subscription_plan_quota"),e.creditPackAvailableQuota=n.get(t,"default_entitlement.available_credit_pack_quota"),e.creditPackTotalQuota=n.get(t,"default_entitlement.total_credit_packs_quota"),e.freeDailyTotalQuota=n.get(t,"default_entitlement.total_free_daily_quota"),e.freeDailyUsedQuota=n.get(t,"default_entitlement.used_free_daily_quota"),e.totalFreeLicenses=n.get(t,"default_entitlement.total_free_licenses")}function c(e,t){var i,r="license-"+e.asset_type.toLowerCase();if(!n.isObject(t))throw Error("licenseData must be an object");return s.isFreeEnabled&&e.is_free&&(r+="-free"),i={userGuid:a.getGuid(),eventSubtype:r,eventSubcategory:"search",contentId:e.content_id,licenseId:t.license_id,subscriptionPlanUsedQuota:t.is_plan_quota_used?1:0,creditPackUsedQuota:n.get(t,"credit_pack_info.asset_credit_cost"),downloadPackType:e.download_pack_type},o(i,t.member),i}return{send:r,getEventDataFromState:l,getEventDataFromLicenseAPI:c}}),define("app/utils/postPurchaseModal",["jquery","lodash","page_config","lib/member"],function(e,t,n,a){"use strict";function i(){var e=a.getDefaultEntitlement();return t.get(e,"total_free_daily_quota",0)<t.get(n,"constants.total_paying_free_daily_quota",0)}return{shouldDisplayStartFreeTrialBtn:i}}),define("app/constants/download",[],function(){"use strict";return{IFRAME_DOWNLOAD_ID:"downloadTarget"}}),define("lib/assetDownloader",["app/constants/download","app/constants/localStorage","components/vectorDownloadSettings","lib/ajax","lib/modal-window","lib/utils","page_config"],function(e,t,n,a,i,s,r){"use strict";function l(a,l,o){var c;if(!r.disable_purchased_image_download){if(s.isMobile()&&"wav"!==l)return i.show("saveToDevice",{asset_link:a,asset_format:l});if(n.shouldShowVectorDownloadChoiceModal(o))return i.show("vectorDownloadChoice",{}).then(function(t){document.getElementById(e.IFRAME_DOWNLOAD_ID).src=n.getVectorDownloadUrl(t,a)});o&&(c=window.localStorage&&window.localStorage.getItem(t.VECTOR_DOWNLOAD_CHOICE_KEY),a=n.getVectorDownloadUrl(c,a)),document.getElementById(e.IFRAME_DOWNLOAD_ID).src=a}}function o(e,t){return a.post(s.computeDownloadUrl(e,t)).then(function(e){return l(e.download_url,e.format,e.is_vector)})}return{triggerOrPromptDownload:l,getDownloadUrlAndTriggerOrPromptDownload:o}}),define("lib/workflowController",["i18n","jquery","page_config","lib/accessRequest","app/actions/memberActions","app/client","lib/ajax","lib/member","lib/susi","lib/checkout","lib/assetsStore","lib/librariesStore","lib/uiEvents","lib/window","i18n-config","Handlebars","lib/analytics","lib/utils","viewHelpers/numberFormatI18n","lib/modal-window","lib/contentDetails","lib/license","quickerCheckoutRepo/quickerCheckout","lib/licenseType","lib/organization","lib/analytics/license","components/motMotModal","hbs!templates/motMotModal/partials/accountSuspended","hbs!templates/motMotModal/partials/closeFooter","hbs!templates/motMotModal/partials/featureUnavailable","lodash","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/events/dunamisLicenseEvent","app/constants/analytics","app/utils/librariesToast","app/utils/postPurchaseModal","quickerCheckout/adobestock/trackingPixels","lib/assetDownloader","components/search/searchHelper","app/stock-portal","lib/assetSave"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C,S,I,O,k,A,R,x,P,L,D,N,w,M,U,F,j,H){"use strict";function V(e,a){return r.get(n.base_url+"/Order/Next/LicenseId/"+a+"/"+e.content_id).then(function(n){var a=t.Deferred(),n=n||{};return Z(n,0===n.price)?n.error_reason?a.reject({reason:n.error_reason}):a.resolve(e,n):a.reject(S.getOutOufQuotaErrorData(n,e)),a.promise()})}function q(e){var t=x.get(e,"responseJSON.reason",null);return!(t!==S.ERROR_KEY_CONTENT_TYPE_DENIED_BY_ADMIN&&t!==S.ERROR_KEY_ENTERPRISE_UPGRADE_ASSET&&!a.isAccessRequestErrorKey(t)&&"PURCHASE_REQUIRES_STOCK"!==t)}function Y(e,a){return r.get(n.base_url+"/Ajax/Content/IsPurchasable/"+e).then(function(){return t.Deferred().resolve()},function(e){var n={reason:e.responseJSON.reason,err:e};return a&&q(e)?t.Deferred().resolve(n):t.Deferred().reject(n)})}function G(t){return t.title=m.gettext("DOWNLOAD::ERROR::An error occurred with your download."),t.reason="PROBLEM_DOWNLOAD_IMAGE",t.msg=m.gettext("DOWNLOAD::ERROR::There was a problem downloading your image. Please try again."),t.msg+="<br /><br />",t.msg+=e.sprintf(f.Utils.escapeExpression(m.gettext("DOWNLOAD::ERROR::If this problem persists, contact %sCustomer Service%s.")),'<br /><a href="https://helpx.adobe.com'+n.base_url+'/support.html">',"</a>"),t}function B(e){return c.purchase(e),t.Deferred().resolve({state:"overage_success",action:"navigating to anyware for overage"})}function K(e){return r.ajax({url:n.base_url+"/Order/Overage",method:"POST",data:e}).then(function(e){return _.sendOverageEvent(e),void 0!==e.has_on_demand_usage&&(l.getDefaultEntitlement().has_on_demand_usage=e.has_on_demand_usage),e})}function W(e){return"STOCK_DEMAND"===e.fulfillment_method}function z(e){return"STOCK_OVERAGE"===e.fulfillment_method&&(!e.show_modal_overage_confirmation||e.is_team)}function Q(t,n){var a=[e.sprintf(m.ngettext("TEAM::FREE_LICENSES::MODAL::Your team has used the %s free image license for the promotional period.","TEAM::FREE_LICENSES::MODAL::Your team has used all %s free image licenses for the promotional period.",n),E.format(n))," ",m.gettext("TEAM::FREE_LICENSES::MODAL::To continue using Adobe Stock, please ask your team administrator to add a Stock subscription, or purchase the image through a personal account.")];return{subject:m.gettext("TEAM::FREE_LICENSES::MODAL::SUBJECT::Thank you for trying Adobe Stock."),body:a.join(""),button_link:"/Plans?image_id="+t,button_label:m.gettext("TEAM::FREE_LICENSES::MODAL::LINK::OK").toUpperCase()}}function X(e){var t=0===e.price,n=!t&&!e.is_bundle_licensing&&e.is_cce,a=e.has_organization_license_transfer_enabled||e.requires_license_references;return!n&&!a}function Z(e,t){var n=!1;return!(e.is_cce&&!t&&!e.is_bundle_licensing)||(!e.is_organization_out_of_quota&&e.total_quota_available_by_license_type_id[e.license_type_id]>=e.required_quota&&(n=!0),n)}function J(e,n,a){var i,s={contentId:e.content_id};n&&n.date&&n.client_name?(i=t.isArray(e.license_transfers)?e.license_transfers:[],i.push(n),s.transferData=e.license_transfers=i,e.display_as_unlicensed=s.display_as_unlicensed=a||e.display_as_unlicensed):e.display_as_unlicensed=!1,u.addAsset(e.content_id,e),p.trigger(p.ASSET_LICENSED,s)}function $(e,t){var n={templateParams:{usingDefault:!0,width:"medium"},partial:k,title:m.gettext("MODAL::ACCOUNT::Your account needs attention"),partialProperties:{update_payment_url:e}};return O.show("usingPartial",n).then(function(e){if(x.isObject(t)&&x.isFunction(t.reject))return t.reject({reason:"ACCOUNT_SUSPENDED"})})}function ee(e,n,a){return v.showLicensingDetailModal(e,n).fail(function(e){a.reject({reason:"PURCHASE_CREDIT_CANCELLED"})}).then(function(a){return n.license_references=a.license_references||{},n.license_transfer=a.license_transfer||{},t.Deferred().resolve(e,n)})}function te(e,n){return u.getAsset(e,u.ASSET_DETAIL.BASIC).then(function(e){return e.is_video&&e.is_editorial&&l.hasCCEOldModel()?(n.reject({reason:"ENTERPRISE_UPGRADE_ASSET"}),t.Deferred().reject()):t.Deferred().resolve(e)})}function ne(e,a,c,u,h,f){var _=t.Deferred();return u&&d.getLibraryIdForOpenIn(e).then(function(e){c=e}),o.ready.then(function(){if(!l.isLoggedIn()&&!a)return _.resolve({state:"redirecting"}),t.Deferred().reject()}).then(function(){return Y(e,f)}).then(function(){var a=h||T.getLicenseId(e),o=g.computeDownloadUrl(e,a);te(e,_).then(function(n){return T.isAlreadyLicensed(e,n,a)?(r.post(o).then(function(e){return n.state=e.purchased_state,n.downloaded=!0,n.license=e.license_name,n.licensed_file_path=e.download_url,d.updateElementInAllLibraries(n)}).then(function(){return u?d.addLibraryElement(c,n,u):d.addLibraryElement(c,n)}).fail(function(e){e=G(e),_.reject(e)}),_.resolve({state:"success",action:"ALREADY_LICENSED"}),t.Deferred().reject()):n}).then(function(e){return V(e,a)}).fail(function(e){_.reject({reason:e&&e.reason?e.reason:"PAYMENT_NOT_AVAILABLE",errorMsg:e&&e.responseJSON&&e.responseJSON.error?e.responseJSON.error:null})}).then(function(e,n){var a,i;if(n)return a=0===n.price,i=X(n),!a&&n.is_suspended?$(n.update_payment_url,_):i?t.Deferred().resolve(e,n):ee(e,n,_)}).then(function(a,o){if(o){var h,f=0===o.price;if(f||o.is_cce||o.total_quota_available_by_license_type_id[o.license_type_id]>=o.required_quota)return r.ajax({method:"POST",url:n.base_url+"/Ajax/GetDownload/"+e+"/"+o.license_id,data:{license_references:JSON.stringify(o.license_references),license_transfer:o.license_transfer}}).fail(function(){return _.reject({reason:"LICENSE_REFERENCES_MISSING"}),t.Deferred().reject()}).then(function(e){return h=e.license_transfer,a.state=e.purchased_state,a.downloaded=!0,a.license_details[e.license_id].downloaded=!0,a.license=e.license_name,a.license_id=e.license_id,a.licensed_file_path=e.download_url.split("\\").join("").replace(/"/g,""),a.product_key=e.product_key,a.is_fmf=e.is_fmf,a.is_team_fmf=e.is_team_fmf,a.is_fotolia_credits=e.is_fotolia_credits,l.setStockProfile(e.member),s.getInstance().dispatch(i.memberUpdatedEntitlement(l.getResolvedStockProfile())),ce(a,e),d.updateElementInAllLibraries(a)}).then(function(){return d.addLibraryElement(c,a,u)}).then(function(){J(a,h,!0),l.consumeDefaultEntitlementQuotaLicense(o),I.setLicenseDetails(a,!0,f)}).fail(function(e){e.msg&&0==e.msg.localeCompare(m.gettext("LIBRARIES::Could not add to library."))&&(e=G(e)),_.reject(e)}),_.resolve({action:"QUOTA"}),t.Deferred().reject();if(o.unsupported_country)return _.reject({reason:"UNSUPPORTED_COUNTRY",message:o.message}),t.Deferred().reject()}else if(l.isCCE())return _.reject({reason:"ENTERPRISE_NO_ENTITLEMENT"}),t.Deferred().reject();if(o.is_team_free_licenses_licensing_replacing_overage&&o.nb_free_downloads_used&&o.is_team_fmf_v1&&!a.is_video)o.message=Q(e,o.nb_free_downloads_used);else if(!a.is_video&&(void 0===o.product_key||null===o.product_key))return _.resolve({state:"redirecting"}),t.Deferred().reject();if(o.is_unsupported_payment_method)return _.reject({reason:"UNSUPPORTED_PAYMENT_METHOD"}),t.Deferred().reject();var g=null;return g=W(o)?function(){return B({productKey:o.product_key,serviceCommitment:o.service_commitment,fulfillmentMethod:o.fulfillment_method,imageId:e,libraryId:c,licenseId:o.license_id,action:"Save",marketSegment:o.market_segment})}:function(){return K({product_key:o.product_key,image_id:e,fulfillment_method:o.fulfillment_method}).then(function(){return r.post(n.base_url+"/Ajax/GetDownload/"+e+"/"+o.license_id).then(function(e){return a.state=e.purchased_state,a.downloaded=!0,a.license=e.license_name,a.license_id=e.license_id,a.licensed_file_path=e.download_url.split("\\").join("").replace(/"/g,""),a.product_key=e.product_key,a.is_fmf=e.is_fmf,a.is_team_fmf=e.is_team_fmf,a.is_fotolia_credits=e.is_fotolia_credits,d.updateElementInAllLibraries(a)}).then(function(){return u?d.addLibraryElement(c,a,u):d.addLibraryElement(c,a)}).then(function(){return p.trigger(p.ASSET_LICENSED,{contentId:e}),I.setLicenseDetails(a,!1,f),{state:"success",action:"overage purchased and licensed image to library"}}).fail(function(e){return e.msg&&0==e.msg.localeCompare(m.gettext("LIBRARIES::Could not add to library."))&&(e=G(e)),t.Deferred().reject(e)})},function(e){return t.Deferred().reject(e)})},_.resolve({action:"OVERAGE",is_anyware_supported:o.is_anyware_supported,message:o.message,price:o.price,currency_symbol:o.currency_symbol,locale_price:o.locale_price,plan_units:o.plan_units,currency_iso_code:o.iso_code,is_exclusive_vat:o.is_exclusive_vat,asset:a,next:g,isInlineOverageConfirmation:z(o),orderInfo:o}),t.Deferred().reject()})},function(e){_.reject(e)}),_.promise()}function ae(e,a,i,s){u.getAsset(e,u.ASSET_DETAIL.BASIC).then(function(r){var o=r.comp_file_path,c=T.getLicenseId(e),u=(l.getDefaultEntitlement(),!i&&!s),d=b.isVideo(e),p=b.isEditorial(e),h=b.isVector(e);if(n.isWatermarkedVectorPreviewDisabled&&h&&u)return O.show("usingPartial",{additionalPartials:{closeFooter:A},partial:R,templateParams:{width:"secondary"}}),void a.resolve();!function(){i?le(i,r,s,c):(U.triggerOrPromptDownload(!c||d&&p?o:o+"/"+c,r.format),t('[data-t="fb-download-tracking"]').length||M.buildFacebookTrackingPixel(0x64bf3b5cffd55,"Download","fb-download-tracking",{})),a.resolve()}()}).fail(function(e){a.reject(G(e))})}function ie(e,n,a){var i=t.Deferred();return a&&d.getLibraryIdForOpenIn().then(function(e){n=e}),o.ready.then(function(){if(!l.isLoggedIn())return n||a?o.login():o.login(null,{content_id:e}),i.resolve(),t.Deferred().reject()}).then(function(){return Y(e,!0)}).then(function(t){t&&t.reason===S.ERROR_KEY_CONTENT_TYPE_DENIED_BY_ADMIN&&v.displayOrganizationErrorModal(S.ERROR_KEY_WARN_CONTENT_TYPE_DENIED_BY_ADMIN),ae(e,i,n,a)},function(e){i.reject(e)}),i.promise()}function se(e,t,n){return ie(e,t,n)}function re(e){return ie(e)}function le(e,t,n,a){return d.updateElementInAllLibraries(t,null,a).then(function(){return n&&e?d.addLibraryElement(e,t,n,a):e?d.addLibraryElement(e,t,null,a):void 0})}function oe(e,a,c,u){var h=t.Deferred();return o.ready.then(function(){if(!l.isLoggedIn()&&!a)return h.resolve({state:"redirecting"}),t.Deferred().reject()}).then(function(){return Y(e,u)}).then(function(){var a=c||T.getLicenseId(e),o=g.computeDownloadUrl(e,a),u=b.isVector(e)||F.isMoreFromSeriesVector(e);te(e,h).then(function(n){return T.isAlreadyLicensed(e,n,a)?(n.licensed_file_path?U.triggerOrPromptDownload(n.licensed_file_path,n.format,u):r.post(o).then(function(e){U.triggerOrPromptDownload(e.download_url,e.format,u)}).fail(function(e){e=G(e),h.reject(e)}),h.resolve({action:"ALREADY_LICENSED"}),t.Deferred().reject()):V(n,a)}).fail(function(e){h.reject({reason:e&&e.reason?e.reason:"PAYMENT_NOT_AVAILABLE",errorMsg:e&&e.responseJSON&&e.responseJSON.error?e.responseJSON.error:null})}).then(function(e,n){var a,i;if(n)return a=0===n.price,i=X(n),!a&&n.is_suspended?$(n.update_payment_url,h):i?t.Deferred().resolve(e,n):ee(e,n,h)}).then(function(o,c){if(c){var m,f=0===c.price;if(f||c.is_cct_pro||c.is_cce||c.total_quota_available_by_license_type_id[c.license_type_id]>=c.required_quota)return r.ajax({method:"POST",url:n.base_url+"/Ajax/GetDownload/"+e+"/"+c.license_id,data:{license_references:JSON.stringify(c.license_references),license_transfer:c.license_transfer}}).fail(function(i){if(i&&505===i.responseJSON.code){if(n.isPostPurchaseExperienceEnabled)return j.renderPostPurchaseModal({template:"FREE_DOWNLOAD_LIMIT",shouldDisplayStartFreeTrialBtn:w.shouldDisplayStartFreeTrialBtn()}),h.reject({reason:"FREE_DAILY_LIMIT_REACHED"}),t.Deferred().reject();if(n.isCoreCheckoutEnabled)return j.startCheckout({contentId:e,licenseId:c.license_id,extras:{options:{exceeds_free_daily_limit:!0}}}),h.reject({reason:"FREE_DAILY_LIMIT_REACHED"}),t.Deferred().reject({isQuickerCheckout:!1});var s={contentId:e,licenseId:a,extrasOptions:{exceeds_free_daily_limit:!0}},r=y.start(null,s);return h.reject({reason:"FREE_DAILY_LIMIT_REACHED"}),t.Deferred().reject({isQuickerCheckout:!0,checkoutStartPromise:r})}return h.reject({reason:"LICENSE_REFERENCES_MISSING"}),t.Deferred().reject()}).then(function(e){return m=e.license_transfer,o.state=e.purchased_state,o.downloaded=!0,o.license_details[e.license_id].downloaded=!0,o.license=e.license_name,o.licensed_file_path=e.download_url.split("\\").join("").replace(/"/g,""),o.product_key=e.product_key,o.is_fmf=e.is_fmf,o.is_team_fmf=e.is_team_fmf,o.is_fotolia_credits=e.is_fotolia_credits,l.setStockProfile(e.member),s.getInstance().dispatch(i.memberUpdatedEntitlement(l.getResolvedStockProfile())),ce(o,e),d.updateElementInAllLibraries(o).then(function(){return o},function(e){return e=G(e),t.Deferred().reject(e)})},function(e){return e=G(e),t.Deferred().reject(e)}).then(function(e){J(e,m,!0),l.consumeDefaultEntitlementQuotaLicense(c),I.setLicenseDetails(e,!0,f),N.isLicenseAndDownloadDisabled()||U.triggerOrPromptDownload(e.licensed_file_path,e.format,u),n.isCoreCheckoutEnabled&&g.shouldGoToOneClickLicenseSave(e.asset_type)&&H.saveToDefaultLib(e.content_id,"License"),h.resolve()}).fail(function(e){e=G(e),h.reject(e)}),t.Deferred().reject();if(c.unsupported_country)return h.reject({reason:"UNSUPPORTED_COUNTRY",message:c.message}),t.Deferred().reject()}else if(l.isCCE())return h.reject({reason:"ENTERPRISE_NO_ENTITLEMENT"}),t.Deferred().reject();if(c.is_team_free_licenses_licensing_replacing_overage&&c.nb_free_downloads_used&&c.is_team_fmf_v1)c.message=Q(e,c.nb_free_downloads_used);else if(!o.is_video&&(void 0===c.product_key||null===c.product_key))return h.resolve({state:"redirecting"}),t.Deferred().reject();if(c.is_unsupported_payment_method)return h.reject({reason:"UNSUPPORTED_PAYMENT_METHOD"}),t.Deferred().reject();var _=null;return _=W(c)?function(){return B({productKey:c.product_key,serviceCommitment:c.service_commitment,fulfillmentMethod:c.fulfillment_method,imageId:e,licenseId:c.license_id,action:"Save"})}:function(){return K({product_key:c.product_key,image_id:e,fulfillment_method:c.fulfillment_method}).then(function(){return r.post(n.base_url+"/Ajax/GetDownload/"+e+"/"+c.license_id).then(function(e){return o.state=e.purchased_state,o.downloaded=!0,o.license_details[e.license_id].downloaded=!0,o.license=e.license_name,o.license_id=e.license_id,o.licensed_file_path=e.download_url.split("\\").join("").replace(/"/g,""),o.product_key=e.product_key,o.is_fmf=e.is_fmf,o.is_team_fmf=e.is_team_fmf,o.is_fotolia_credits=e.is_fotolia_credits,d.updateElementInAllLibraries(o).then(function(){return o},function(e){return e=G(e),t.Deferred().reject(e)})}).then(function(t){return p.trigger(p.ASSET_LICENSED,{contentId:e}),I.setLicenseDetails(t,!1,f),U.triggerOrPromptDownload(t.licensed_file_path,t.format,u),{state:"success",action:"overage purchased and image downloaded"}}).fail(function(e){return e=G(e),t.Deferred().reject(e)})},function(e){return t.Deferred().reject(e)})},h.resolve({action:"OVERAGE",price:c.price,currency_symbol:c.currency_symbol,locale_price:c.locale_price,plan_units:c.plan_units,currency_iso_code:c.iso_code,is_exclusive_vat:c.is_exclusive_vat,asset:o,next:_,isInlineOverageConfirmation:z(c),is_anyware_supported:c.is_anyware_supported,message:c.message,orderInfo:c}),t.Deferred().reject()})},function(e){h.reject(e)}),h.promise()}function ce(e,t){L.send(L.getEventDataFromLicenseAPI(e,t),{finding_method:_.determineFindingMethod(),selection_method:_.getSelectionMethod()})}function ue(e,a){var i=t.Deferred();return a||(a=T.getLicenseId(e)),r.ajax({method:"POST",url:n.base_url+"/Ajax/Content/getDownloadData/"+e+"/"+a}).done(function(e){e.error?i.reject(e.error):i.resolve(e)}).fail(function(e){i.reject(e)}),i.promise()}function de(e,n){return ue(e,n).then(function(e){return t.Deferred().resolve(e.id32).promise()})}var pe=(P.constants,!1);return{buyAdditionalLicense:function(e,a,i,s){var c=t.Deferred(),d=l.getDefaultEntitlement(),h=T.getLicenseId(e),f=s?s.license_references:{},_=s?s.license_transfer:{};return o.ready.then(function(){if(!l.isLoggedIn())return c.resolve({state:"redirecting"}),t.Deferred().reject()}).then(function(){return Y(e)}).then(function(){u.getAsset(e,u.ASSET_DETAIL.BASIC).then(function(e){return V(e,h)}).then(function(s,o){if(o){var u=0===o.price;if(u||o.is_bundle_licensing||!o.is_organization_out_of_quota&&o.total_quota_available_by_license_type_id[o.license_type_id]>=o.required_quota||l.hasQuota(o.license_type_id,s,o.license_id)&&l.hasCCTPro())return r.ajax({method:"POST",url:n.base_url+"/Ajax/Content/AdditionalLicense/"+a+"/"+h,data:{license_references:JSON.stringify(f),license_transfer:_}}).then(function(e){e.error?c.reject(e.error):(J(s,e.license_transfer),o.is_license_again_workflow=!0,l.consumeDefaultEntitlementQuotaLicense(o),s.product_key=d.product_key,s.license=T.getLicenseAbbrByLicenseId(h),I.setLicenseDetails(s,!0,u),c.resolve(e))}),t.Deferred().reject();if(o.is_cce)return 0!=o.total_quota_available_by_license_type_id[o.license_type_id]||C.isLicenseTypeCredit(o.license_type_id)?c.reject(S.getOutOufQuotaErrorData(o,s)):c.reject({reason:"ENTERPRISE_NO_LICENSES"}),t.Deferred().reject()}else if(l.isCCE())return c.reject({reason:"ENTERPRISE_NO_ENTITLEMENT"}),t.Deferred().reject();if(o.is_team_free_licenses_licensing_replacing_overage&&o.nb_free_downloads_used&&o.is_team_fmf_v1)o.message=o.message=Q(e,o.nb_free_downloads_used);else if(void 0===o.product_key||null===o.product_key)return c.resolve(),t.Deferred().reject();if(o.is_unsupported_payment_method)return c.reject({reason:"UNSUPPORTED_PAYMENT_METHOD"}),t.Deferred().reject();var g=null;return g=W(o)?function(){return B({productKey:o.product_key,serviceCommitment:o.service_commitment,fulfillmentMethod:o.fulfillment_method,imageId:e,licenseId:o.license_id,action:"Save"})}:function(){return K({product_key:o.product_key,image_id:e,fulfillment_method:o.fulfillment_method,allow_relicense:!0}).then(function(s){var o;return s.download_id32&&(a=s.download_id32),s.order_type&&"overage"==s.order_type&&(i=!0),o=i&&s.download_id32?n.base_url+"/Ajax/Content/AdditionalLicense/Licensed/":n.base_url+"/Ajax/Content/AdditionalLicense/",r.post(o+a+"/"+h).then(function(n){return n.error?t.Deferred().reject(n.error).promise():(p.trigger(p.ASSET_LICENSED,{contentId:e}),l.consumeDefaultEntitlementLicense(),n)})},function(e){return t.Deferred().reject({error:m.gettext("MEMBER::ERROR::Failed to purchase an additional license.")})})},s.product_key=o.product_key,s.license=T.getLicenseAbbrByLicenseId(h),I.setLicenseDetails(s,!1,u),c.resolve({action:"OVERAGE",price:o.price,currency_symbol:o.currency_symbol,locale_price:o.locale_price,plan_units:o.plan_units,is_exclusive_vat:o.is_exclusive_vat,asset:s,next:g,isInlineOverageConfirmation:z(o),is_anyware_supported:o.is_anyware_supported,message:o.message,license_id:h}),t.Deferred().reject()})},function(e){c.reject(e)}),c.promise()},performImageActionOnPurchaseReturn:function(){var e=t.Deferred(),a=h.getSearchObject();if(!a.image_id)return e.reject("No image_id"),e.promise();var i=a.image_id,s=a.action,c=a.library_id,p=Number(a.license_id)||null;return o.ready.then(function(){if(!l.isLoggedIn())return e.reject("Member not logged in"),t.Deferred().reject()}).then(function(){var a=u.getAsset(i,u.ASSET_DETAIL.BASIC),l=null,o=null;if(n.download_url)return e.resolve({downloadUrl:n.download_url}),e.promise();o=r.post(g.computeDownloadUrl(i,p)),t.when(a,o).then(function(t,n){l=n.download_url.split("\\").join("").replace(/"/g,""),t.state=n.purchased_state,t.downloaded=!0,t.license=T.getLicenseAbbrByLicenseId(p),t.license_id=p,t.licensed_file_path=l,d.updateElementInAllLibraries(t).then(function(){if(c)return d.addLibraryElement(c,t)}).then(function(){"Download"===s?e.resolve({downloadUrl:l}):e.resolve()},function(t){t.msg&&0==t.msg.localeCompare(m.gettext("LIBRARIES::Could not add to library."))&&(t=G(t)),e.reject(t)})},function(t){e.reject(t)})}),e.promise()},hasRedirect:function(){return pe},dispatchWorkflow:function(e,n,a,i,s){var r,o=T.getLicenseId(n),c=!1,d=e.toLowerCase();return u.getAsset(n,u.ASSET_DETAIL.BASIC).then(function(e){var i;return o===T.LICENSE_ID_4K?e.resolution=T.LICENSE_ABBR_SHORT_4K:e.resolution=T.LICENSE_ABBR_SHORT_HD,(e.is_video||T.getLicenseId(n)===T.LICENSE_ID_EXTENDED)&&(c=!0),l.getMemberId()?r="license"===d?"desktop"===a?oe(n,e.is_video):!s||"OpenInPs"!==s&&"OpenInId"!==s&&"OpenInAi"!==s&&"OpenInPr"!==s&&"OpenInAe"!==s?ne(n,e.is_video,a):ne(n,e.is_video,a,s):"save"===d?"desktop"===a?re(n):!s||"OpenInPs"!==s&&"OpenInId"!==s&&"OpenInAi"!==s&&"OpenInPr"!==s&&"OpenInAe"!==s?se(n,a):se(n,a,s):t.Deferred().reject("Invalid action").promise():(i=y.start(null,{contentId:n,extrasOptions:{finding_method:_.determineFindingMethod(),selection_method:D.SELECTION_DIRECT}}),t.Deferred().reject({isQuickerCheckout:!0,checkoutStartPromise:i}).promise())})},navigateToPlansPage:function(e){var a="/Plans";pe=!0,e&&(a+="?"+t.param(e)),h.setLocation(n.base_url+a)},ensureContentIsPurchasable:Y,licenseImageAndSaveToLibrary:ne,saveWatermarkedImageToLibrary:se,licenseImageAndSaveToDesktop:oe,saveWatermarkedImageToDesktop:re,getContentId32:de,getOrderInfo:V,performSuspendedModal:$,canUserLicenseDirectly:X}}),define("hbs!templates/quickerCheckout/teamAdminBuyChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r;return'\n            <div class="column on-small-12 on-medium-5 on-large-5">\n                <h4>\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Purchase for my team",{name:"_",hash:{},data:a}))+"\n                </h4>\n"+(null!=(r=t.each.call(e,null!=e?e.onDemandOptions:e,{name:"each",hash:{},fn:this.program(2,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"            </div>\n"},2:function(e,t,n,a,i,s){var r;return'                <label class="switch switch--card margin-top-medium" data-active="false">\n                    <div class="row">\n                        <input class="js-buy-choice-plan" type="radio" name="options"'+(null!=(r=t.if.call(e,a&&a.first,{name:"if",hash:{},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a}))?r:"")+' title="'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+'" value="'+this.escapeExpression(this.lambda(null!=e?e.product_key:e,e))+'" data-license-id="'+this.escapeExpression(this.lambda(null!=e?e.license_id:e,e))+'"/>\n                        <span>\n                            <strong>'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+"</strong>\n"+(null!=(r=t.if.call(e,null!=e?e.dimensions:e,{
name:"if",hash:{},fn:this.program(5,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'                        </span>\n                        <div class=" pricemargin-left-large margin-top-small">\n                            <div class="price margin-top-small">\n'+(null!=(r=this.invokePartial(n.orderTotalWithTax,e,{name:"orderTotalWithTax",hash:{taxClass:"text-sregular",totalClass:"text-sregular light",index:a&&a.index,pricing:null!=(r=null!=e?e.pricing:e)?r.template_text:r},data:a,indent:"                                ",helpers:t,partials:n}))?r:"")+'                            </div>\n                        </div>\n                        <div class="margin-left-large padding-top-small">\n                            <img alt="'+this.escapeExpression(this.lambda(null!=s[1]?s[1].imageAlt:s[1],e))+'" src="'+this.escapeExpression(this.lambda(null!=s[1]?s[1].imageUrl:s[1],e))+'" class="responsive-img"/>\n                        </div>\n                    </div>\n                </label>\n'},3:function(e,t,n,a){return' checked="checked"'},5:function(e,t,n,a){return"                                <span>("+this.escapeExpression(this.lambda(null!=e?e.dimensions:e,e))+")</span>\n"},7:function(e,t,n,a){return'            <div class="padding-left-xlarge conti" id="checkout-continue-button-container" data-is-hidden="false">\n                <button type="submit" class="button button--dialog" id="js-checkout-continue-button">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Place Secure Order",{name:"_",hash:{},data:a}))+'\n                </button>\n                <i class="mti-icon mti-large icon-lock white-text"></i>\n            </div>\n'},9:function(e,t,n,a){return'            <div class="padding-left-xlarge" id="checkout-continue-button-container" data-is-hidden="false">\n                <button type="submit" class="button button--dialog" id="js-checkout-continue-button">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+"\n                </button>\n            </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<div class="modal__header">\n    <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::License your asset?",{name:"_",hash:{},data:a}))+'</span>\n</div>\n\n<form action="" id="bh-checkout-team-admin-buy-choice-form">\n    <div class="modal__content js-checkout-team-admin-buy-choice-state">\n        <div class="padding-medium"></div>\n\n        <span>'+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Your team has no licenses for this %s. Choose an option below:",{name:"_",hash:{},data:a}),null!=e?e.assetType:e,{name:"sprintf",hash:{},data:a}))+'</span>\n\n        <div class="padding-medium"></div>\n        <div class="row">\n'+(null!=(r=t.if.call(e,null!=e?e.onDemandOptions:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'\n            <div class="column on-small-12 on-medium-6 on-large-6 on-medium-offset-1">\n                <h4>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Purchase a team plan",{name:"_",hash:{},data:a}))+'</h4>\n                <label class="switch switch--card margin-top-medium bh-view-subscription-plan-options-card" data-active="true" data-is-team="true">\n                    <div class="row">\n                        <div class="column on-medium-12 on-large-12 on-small-12">\n                            <input class="js-buy-choice-plan" type="radio" name="options" value="plans" />\n                            <span>\n                                <strong>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::View subscription plan options",{name:"_",hash:{},data:a}))+'</strong>\n                        </span>\n                        </div>\n                    </div>\n                </label>\n            </div>\n\n        </div>\n        <div class="padding-medium"></div>\n    </div>\n\n    <div class="modal__footer">\n'+(null!=(r=t.if.call(e,null!=e?e.isOverage:e,{name:"if",hash:{},fn:this.program(7,a,0,i,s),inverse:this.program(9,a,0,i,s),data:a}))?r:"")+'        <button class="button button--dialog" id="js-checkout-view-plans-button" data-is-hidden="true">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::View Plans page",{name:"_",hash:{},data:a}))+"\n        </button>\n    </div>\n</form>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("quickerCheckout/states/teamAdminBuyChoice",["quickerCheckoutRepo/lib/utils/utils","lib/workflowController","quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/services/switchEvents","lib/window","page_config","app/constants/dunamis","hbs!templates/quickerCheckout/teamAdminBuyChoice","hbs!templates/quickerCheckout/partials/planCard","quickerCheckoutRepo/checkout/orderTotalWithTax"],function(e,t,n,a,i,s,r,l,o,c){"use strict";function u(e,t,n,a){var i,s,r;f=n,g=a,_=e;try{i=e.asset_details,s={onDemandOptions:e.on_demand_options,monthlyPlans:e.monthly_plans,imageUrl:i.content_thumb_url,imageAlt:i.title,assetType:i.asset_type_formatted,isOverage:e.is_overage}}catch(e){throw new Error("BuyChoice: JSON parse error")}r=l(s,{partials:{planCard:o,orderTotalWithTax:c.getPartialv2()}}),m=t,t.setHtml(r),d(),g(),f(!1)}function d(){var e=document.getElementById("js-checkout-continue-button"),t=document.getElementById("js-checkout-view-plans-button"),n=document.getElementsByClassName("js-buy-choice-plan"),l=0;for(e.addEventListener("click",h),t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),g(r.VIEW_PLANS_PAGE,"plans"),f(!0,"view plan page"),i.setLocation(s.base_url+"/teams")}),a.init(".js-checkout-team-admin-buy-choice-state",function(){p(!!document.querySelector('.js-checkout-team-admin-buy-choice-state .switch--card[data-active="true"]').dataset.isTeam)}),l=0;l<n.length;l++)n[l].addEventListener("change",function(e){g(r.CHANGE_PURCHASE_OPTION,e.currentTarget.value)});c.wireEvents()}function p(t){e.updateAttribute(document.getElementById("checkout-continue-button-container"),"data-is-hidden",t),e.updateAttribute(document.getElementById("js-checkout-view-plans-button"),"data-is-hidden",!t)}function h(e){var t=document.querySelector(".js-buy-choice-plan:checked").value;e.preventDefault(),e.stopPropagation(),m.enableSpinner(!0),g(_.is_overage?r.PLACE_SECURE_ORDER:r.CONTINUE,t),f(!0,_.is_overage?"place secure order":"continue"),c.cleanupEvents(),document.getElementById("js-checkout-continue-button").disabled=!0,n.trigger(n.DISPATCH,{state:_,modifier:{product_key:t}})}var m,f,_,g;return{displayPage:u}}),define("hbs!templates/quickerCheckout/teamDelegateBuyChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.messages:e,{name:"each",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){return"                    <p>"+this.escapeExpression(this.lambda(null!=e?e.body:e,e))+"</p>\n"},4:function(e,t,n,a){return"                "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Your team does not have enough credits for this %s. You can purchase a license below.",{name:"_",hash:{},data:a}),null!=e?e.assetType:e,{name:"sprintf",hash:{},data:a}))+"\n"},6:function(e,t,n,a,i,s){var r;return'\n                <div class="column on-small-12 on-medium-12 on-large-12">\n'+(null!=(r=t.each.call(e,null!=e?e.onDemandOptions:e,{name:"each",hash:{},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                </div>\n"},7:function(e,t,n,a,i,s){var r;return'                        <label class="switch switch--card margin-top-medium"'+(null!=(r=t.if.call(e,null!=e?e.is_default:e,{name:"if",hash:{},fn:this.program(8,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'>\n                            <div class="row">\n                                <div class="column on-medium-8 on-large-8 on-small-8">\n                                    <input class="js-buy-choice-plan" type="radio" name="options"'+(null!=(r=t.if.call(e,null!=e?e.is_default:e,{name:"if",hash:{},fn:this.program(10,a,0,i,s),inverse:this.noop,data:a}))?r:"")+' title="'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+'" value="'+this.escapeExpression(this.lambda(null!=e?e.product_key:e,e))+'" data-license-id="'+this.escapeExpression(this.lambda(null!=e?e.license_id:e,e))+'"/>\n                                    <span>\n                                        <strong>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Purchase for my team",{name:"_",hash:{},data:a}))+"</strong>\n"+(null!=(r=t.if.call(e,null!=e?e.dimensions:e,{name:"if",hash:{},fn:this.program(12,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'                                    </span>\n                                    <div class="price margin-top-small">\n'+(null!=(r=this.invokePartial(n.orderTotalWithTax,e,{name:"orderTotalWithTax",hash:{taxClass:"text-regular",totalClass:"text-medium light",index:a&&a.index,localeTax:null!=(r=null!=(r=null!=e?e.pricing:e)?r.tax:r)?r.formatted:r,localePriceSubtotal:null!=(r=null!=(r=null!=e?e.pricing:e)?r.subtotal:r)?r.formatted:r,localePriceTotal:null!=(r=null!=(r=null!=e?e.pricing:e)?r.real_subtotal:r)?r.formatted:r,isApplicableTax:null!=(r=null!=e?e.pricing:e)?r.is_applicable_tax:r,isVatIncluded:null!=(r=null!=e?e.pricing:e)?r.is_vat_included:r,isVatSupported:null!=(r=null!=e?e.pricing:e)?r.is_vat_supported:r,isExclusiveVAT:null!=(r=null!=e?e.pricing:e)?r.is_exclusive_vat:r,isGstExcluded:null!=(r=null!=e?e.pricing:e)?r.is_gst_excluded:r,isGSTSupported:null!=(r=null!=e?e.pricing:e)?r.is_gst_supported:r,isTaxIncluded:null!=(r=null!=e?e.pricing:e)?r.tax_included:r,pricing:null!=(r=null!=e?e.pricing:e)?r.template_text:r},data:a,indent:"                                        ",helpers:t,partials:n}))?r:"")+'                                    </div>\n                                </div>\n                                <div class="column on-medium-4 on-large-4 on-small-4">\n                                    <div class="margin-left-small">\n                                        <img alt="'+this.escapeExpression(this.lambda(null!=s[1]?s[1].imageAlt:s[1],e))+'" src="'+this.escapeExpression(this.lambda(null!=s[1]?s[1].imageUrl:s[1],e))+'" class="responsive-img"/>\n                                    </div>\n                                </div>\n                            </div>\n                        </label>\n'},8:function(e,t,n,a){return' data-active="true"'},10:function(e,t,n,a){return' checked="checked"'},12:function(e,t,n,a){return"                                            <span>("+this.escapeExpression(this.lambda(null!=e?e.dimensions:e,e))+")</span>\n"},14:function(e,t,n,a){return'            <div class="padding-left-xlarge">\n                <button type="submit" class="button button--dialog" id="js-checkout-continue-button" data-is-hidden="false">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Place Secure Order",{name:"_",hash:{},data:a}))+'\n                </button>\n                <i class="mti-icon mti-large icon-lock white-text"></i>\n            </div>\n'},16:function(e,t,n,a){return'            <button type="submit" class="button button--dialog" id="js-checkout-continue-button" data-is-hidden="false">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+"\n            </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<div class="modal__header">\n    <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::License your asset?",{name:"_",hash:{},data:a}))+'</span>\n</div>\n\n<form action="" id="bh-checkout-team-delegate-buy-choice-form">\n    <div class="modal__content js-checkout-team-delegate-buy-choice-state">\n        <div class="padding-small"></div>\n\n        <span>\n'+(null!=(r=t.if.call(e,null!=e?e.messages:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.program(4,a,0,i,s),data:a}))?r:"")+'        </span>\n\n        <div class="padding-small"></div>\n        <div class="row">\n'+(null!=(r=t.if.call(e,null!=e?e.onDemandOptions:e,{name:"if",hash:{},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'\n        </div>\n        <div class="padding-small"></div>\n        <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::To purchase for individual use, please switch to your personal account from the user dropdown menu at the top of the page.",{name:"_",hash:{},data:a}))+'</span>\n        <div class="padding-small"></div>\n'+(null!=(r=this.invokePartial(n.buyChoiceEditorialRestrictions,e,{name:"buyChoiceEditorialRestrictions",data:a,indent:"        ",helpers:t,partials:n}))?r:"")+'        <div id="checkout-buy-choice-restrictions-padding" class="padding-small"></div>\n    </div>\n\n    <div class="modal__footer">\n'+(null!=(r=t.if.call(e,null!=e?e.isOverage:e,{name:"if",hash:{},fn:this.program(14,a,0,i,s),inverse:this.program(16,a,0,i,s),data:a}))?r:"")+"    </div>\n</form>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("quickerCheckout/states/teamDelegateBuyChoice",["page_config","quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/services/switchEvents","hbs!templates/quickerCheckout/teamDelegateBuyChoice","hbs!templates/quickerCheckout/partials/planCard","hbs!quickerCheckoutRepo/templates/partials/buyChoiceSubheading","hbs!quickerCheckoutRepo/templates/partials/buyChoiceEditorialRestrictions","quickerCheckoutRepo/lib/utils/editorial","quickerCheckoutRepo/checkout/orderTotalWithTax"],function(e,t,n,a,i,s,r,l,o){"use strict";function c(e,t,n,c){var u,p,g;m=n,_=c,f=e;try{u=e.asset_details,l.setEditorialRestrictions(u);var E=l.getEditorialLicenseTermsLink();p={onDemandOptions:e.on_demand_options,imageUrl:u.content_thumb_url,imageAlt:u.title,assetType:u.asset_type_formatted,isVideo:u.is_video,isPremiumImage:u.is_premium,isEditorial:l.isEditorial(u),isOverage:e.is_overage,messages:e.user_messages,editorialLicenseTerms:E}}catch(e){throw new Error("BuyChoice: JSON parse error")}g=a(p,{partials:{planCard:i,buyChoiceSubheading:s,buyChoiceEditorialRestrictions:r,orderTotalWithTax:o.getPartialv2()}}),h=t,t.setHtml(g),d(),m(!1),_()}function u(){var e,t=document.querySelector(".js-buy-choice-plan:checked");t&&(e=t.value),_({isChangePurchaseOption:!0},e)}function d(){var e,t=document.getElementById("js-checkout-continue-button"),a=document.querySelectorAll(".js-buy-choice-plan");for(e=0;e<a.length;e++)a[e].addEventListener("click",u);l.wireRestrictionsToggle(),t&&t.addEventListener("click",p),n.init(".js-checkout-team-delegate-buy-choice-state",null,!0),o.wireEvents()}function p(e){var n,a=document.querySelector(".js-buy-choice-plan:checked");if(!a)throw new Error("No plan selected");n=a.value,e.preventDefault(),e.stopPropagation(),h.enableSpinner(!0),o.cleanupEvents(),m(!0,f.is_overage?"place secure order":"continue"),_({isSubmitForm:!0},n),document.getElementById("js-checkout-continue-button").disabled=!0,t.trigger(t.DISPATCH,{state:f,modifier:{product_key:n}})}var h,m,f,_;return{displayPage:c,changeOptionHandler:u,submitForm:p}}),define("quickerCheckout/analytics/teamBuyChoice",["quickerCheckout/adobestock/analytics"],function(e){"use strict";function t(){var e,t="",a="teamAdminBuyChoice"===n.id;if(n.on_demand_options)for(e=0;e<n.on_demand_options.length;e++)t+=a?n.on_demand_options[e].label:"Purchase for my team",n.on_demand_options[e].dimensions&&(t+=" "+n.on_demand_options[e].dimensions),e+1<n.on_demand_options.length&&(t+="|");return a&&(t+="|Buy a team plan"),t}var n;return{fn:function(a,i){return n=a,i&&(e=i),function(n,i){var s,r;try{s={pageName:"teammodal",events:e.EVENTS.CHECKOUT_STEP_TEAM_BUY_CHOICE},"Image"===a.asset_details.asset_type?s.prop5=":standardasset":s.prop5=":nonstandard",r=t(),s.prop35=r,s.eVar233=r,n&&(s.events=e.EVENTS.CTA_TRACKER,s.eVar91="quicker checkout:teammodal:"+i),e.send(s,a,n)}catch(t){s=e.getErrorValues(a,t,"team buy choice"),e.send(s,a)}}}}}),define("quickerCheckout/analytics/v3/overage",["quickerCheckout/adobestock/analytics","lib/member"],function(e,t){"use strict";function n(){var e,t;if("overageConfirm"===i.id)e="One-time-download";else for(e="",t=0;t<i.purchase_options.length;t++)e+=i.purchase_options[t].label,i.purchase_options[t].dimensions&&(e+=i.purchase_options[t].dimensions),t+1<i.purchase_options.length&&(e+="|");return e}function a(){var e,n,a;return e=t.hasSubscription()?s.SUBSCRIPTION:s.ON_DEMAND,n=i.asset_details&&"Image"===i.asset_details.asset_type?r.STANDARD:r.NON_STANDARD,n===r.STANDARD?a="overageConfirm"===i.id?l.FIRST:l.SECOND_MORE:n===r.NON_STANDARD&&(a=1==i.purchase_options.length?l.ONE:l.COMBINED),e===s.ON_DEMAND&&n===r.STANDARD&&(a=""),e+n+a}var i,s={ON_DEMAND:"ondemand",SUBSCRIPTION:"sub"},r={STANDARD:"standard",NON_STANDARD:"nonstandard"},l={FIRST:"first",SECOND_MORE:"secondmore",ONE:"one",COMBINED:"combined"};return{fn:function(t,s){return i=t,s&&(e=s),function(s,r){var l,o,c;try{l={pageName:"overagestate",events:e.EVENTS.CHECKOUT_STEP_OVERAGE,prop5:a(),prop61:t.login_type,eVar88:e.getPricingString(t),eVar92:t.member_status,eVar137:t.order_id,eVar119:t.login_type},!i.product_key&&i.plan_product_key&&(i.product_key=i.plan_product_key),o="OD-"+t.asset_details.asset_type,l.prop8=o,l.eVar19=o,c=n(),l.prop35=c,l.eVar233=c,s&&(l.events=e.EVENTS.CTA_TRACKER,l.eVar91="quicker checkout:overage:place secure order"),r&&(l.eVar91="quicker checkout:overage:buy more credit"),e.send(l,t,s)}catch(n){l=e.getErrorValues(t,n,"overage v3"),e.send(l,t)}}}}}),define("quickerCheckout/analytics/purchaseConfirm",["quickerCheckout/adobestock/analytics"],function(e){"use strict";return{fn:function(t){return function(n){var a;try{a=n?{eVar91:"quicker checkout:repeatpayment:place secure order",eVar92:"existing_with",eVar234:t.products&&t.products.credit_pack&&t.products.credit_pack.label,eVar88:e.getPricingString(t),events:e.EVENTS.CTA_TRACKER}:{pageName:"repeatpaymentmodal",prop8:"Credit",eVar19:"Credit",eVar234:t.products&&t.products.credit_pack&&t.products.credit_pack.label,events:e.EVENTS.CHECKOUT_STEP_THREE},e.send(a,t,n)}catch(n){a=e.getErrorValues(t,n,"purchase confirm"),e.send(a,t)}}}}}),define("hbs!quickerCheckoutRepo/templates/authenticatePaymentInstrument",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="modal__header">\n    <span data-t="authenticate-payment-instrument-header-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Verify your card",{name:"_",hash:{},data:a}))+'</span>\n</div>\n\n<div class="modal__content js-authenticate-payment-instrument-state">\n    <div class="padding-left-small padding-right-small margin-left-small padding-right-small padding-bottom-small">\n        <div class="padding-left-xlarge padding-right-xlarge margin-left-large margin-right-large" data-t="authenticate-payment-instrument-info-section">\n            <p data-t="authenticate-payment-instrument-extra-verification-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Your bank requires extra verification to confirm your purchase.",{name:"_",hash:{},data:a}))+'</p>\n            <p data-t="authenticate-payment-instrument-trusted-merchant-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,'CHECKOUT::You can add "Adobe Inc." as a trusted merchant to your bank account to avoid this step in the future.',{name:"_",hash:{},data:a}))+'</p>\n        </div>\n        <div class="padding-bottom-xlarge checkout-card-height-large" data-t="authenticate-payment-instrument-iframe-section">\n            <div id="payment-instrument-loading" class="spinner spinner--large margin-top-xlarge" data-t="authenticate-payment-instrument-loading-spinner"></div>\n            <iframe name="payment-instrument-iframe" id="payment-instrument-iframe" class="white container-max container-full-height" data-is-hidden="true" data-t="authenticate-payment-instrument-iframe"></iframe>\n        </div>\n    </div>\n    <form id="payment-instrument-form" method="post" target="payment-instrument-iframe">\n        <input type="hidden" name="JWT"  id="payment-instrument-step-up-jwt"/>\n    </form>\n</div>\n'},useData:!0})}),define("quickerCheckoutRepo/states/authenticatePaymentInstrument",["lib/utils","quickerCheckoutRepo/events/quickerEvents","quickerCheckoutRepo/events/modalEvents","hbs!quickerCheckoutRepo/templates/authenticatePaymentInstrument"],function(e,t,n,a){"use strict";function i(e,t,n,a){d=e,p=t,h=a,s(),r(),u(),h(!1)}function s(){var e;e=a({}),p.setHtml(e),m=document.getElementById("payment-instrument-form"),f=document.getElementById("payment-instrument-step-up-jwt"),_=document.getElementById("payment-instrument-iframe"),g=document.getElementById("payment-instrument-loading")}function r(){_.onload=function(){setTimeout(function(){e.updateAttribute(g,"data-is-hidden","true"),e.updateAttribute(_,"data-is-hidden","false")},E)},window.addEventListener("message",c),p.on(n.DESTROY,l)}function l(){window.removeEventListener("message",c)}function o(e){h(!1,e),t.trigger(t.CHANGE_STATE,{id:"error"})}function c(e){var n,a;try{if(e.origin!==d.expected_event_origin)return;n=JSON.parse(e.data),"SCA_RESPONSE_RECEIVED"===n.MessageType?(t.trigger(t.DISPATCH,{state:d,modifier:{transaction_id:n.transaction_id}}),h(!0)):(a=new Error("Invalid response received from Cardinal: "+n.MessageType),o(a))}catch(e){o(e)}l()}function u(){f.value=d.step_up_token,m.action=d.step_up_url,m.submit()}var d,p,h,m,f,_,g,E=800;return{displayPage:i}}),define("hbs!quickerCheckoutRepo/templates/verifyBilling",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"                                        "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::ending in %s",{name:"_",hash:{},data:a}),null!=e?e.paymentCCNumber:e,{name:"sprintf",hash:{},data:a}))+"\n"},3:function(e,t,n,a){var i;return"                                    "+this.escapeExpression((i=null!=(i=t.paymentPaypalLogin||(null!=e?e.paymentPaypalLogin:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"paymentPaypalLogin",hash:{},data:a}):i))+"\n"},5:function(e,t,n,a){var i;return"                                    "+this.escapeExpression((i=null!=(i=t.paymentCCLongName||(null!=e?e.paymentCCLongName:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"paymentCCLongName",hash:{},data:a}):i))+"\n"},7:function(e,t,n,a){return"                                    &#59; "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::expires: %s",{name:"_",hash:{},data:a}),null!=e?e.paymentCCExpirationDateDisplay:e,{name:"sprintf",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="modal__header">\n    <span data-t="verify-billing-header-text">\n        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Verify billing information",{name:"_",hash:{},data:a}))+'\n    </span>\n</div>\n\n<div class="modal__content" id="verify-billing-modal">\n    <div class="padding-left-xlarge padding-right-xlarge">\n        <div class="padding-left-xlarge padding-right-xlarge">\n            <p class="margin-top-xsmall grey heavy-metal-text" data-t="verify-billing-process-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::We weren't able to process your transaction. Please verify the billing information in your Adobe Account to continue.",{name:"_",hash:{},data:a}))+'</p>\n            <p class="grey heavy-metal-text" data-t="verify-billing-after-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Once you verify this information, you can retry your purchase.",{name:"_",hash:{},data:a}))+'</p>\n            <div class="border-solid border-1 theme nurse-border margin-top-medium margin-bottom-medium">\n                <div class="white container-full padding-medium padding-left-xlarge padding-right-medium">\n                    <span class="container-table-cell padding-right-small left padding-top-small">\n                        <i class="mti-icon icon-credit-cards credit-cards--small left '+this.escapeExpression((s=null!=(s=t.paymentLogo||(null!=e?e.paymentLogo:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"paymentLogo",hash:{},data:a}):s))+'" data-t="verify-billing-payment-icon"></i>\n                    </span>\n                    <span class="container-table">\n                        <span class="container-table-row">\n                            <span class="container-table-cell grey gravel-text text-small left-align">\n                                <strong data-t="verify-billing-instrument-text">\n                                    '+this.escapeExpression((s=null!=(s=t.paymentType||(null!=e?e.paymentType:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"paymentType",hash:{},data:a}):s))+"\n"+(null!=(i=t.unless.call(e,null!=e?e.paymentPaypalLogin:e,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                                </strong>\n                            </span>\n                        </span>\n                        <span class="container-table-row" data-t="verify-billing-name-text">\n                            <span class="container-table-cell text-small grey mountain-mist-text">\n'+(null!=(i=t.if.call(e,null!=e?e.paymentPaypalLogin:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.paymentPaypalLogin:e,{name:"unless",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'                            </span>\n                        </span>\n                    </span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="modal__footer">\n    <button id="js-verify-billing-close" class="button button--dialog" data-t="verify-billing-goto-account-button">\n        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Verify Billing Info",{name:"_",hash:{},data:a}))+"\n    </button>\n</div>\n"},useData:!0})}),define("quickerCheckoutRepo/states/verifyBilling",["hbs!quickerCheckoutRepo/templates/verifyBilling","lib/window"],function(e,t){"use strict";function n(t,n,i,o){var c,u;o&&(r=o);try{u={paymentLogo:t.payment_instrument.logo,paymentType:t.payment_instrument.type,paymentPaypalLogin:t.payment_instrument.paypal_login,paymentCCNumber:t.payment_instrument.cc_number,paymentCCLongName:t.payment_instrument.cc_long_name,paymentCCExpirationDateDisplay:t.payment_instrument.cc_expiration_date_display}}catch(e){throw new Error("Malformed JSON Response")}s=n,l=t.adobe_account_url,c=e(u),s.setHtml(c),a(),r(!1)}function a(){document.getElementById(o).addEventListener("click",i)}function i(){r(!0),t.setLocation(l),s.close()}var s,r,l,o="js-verify-billing-close";return{displayPage:n}}),define("quickerCheckout/analytics/dunamis/events/dunamisPurchaseEvent",["quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lib/analytics/dunamis","lodash","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i,s){e.execFunction(function(){var e;if(!n.isObject(i))throw Error("Purchase eventData must be an object");e={"stk.checkout.is_zombie":i.isZombie,"stk.checkout.order_number":i.orderNumber,"stk.checkout.product_key":i.productKey,"stk.checkout.offer_id":i.offerId,"stk.checkout.order_id":i.orderId,"stk.checkout.quantity":i.quantity,"stk.checkout.price":i.price,"stk.checkout.payment_type":i.paymentType,"stk.checkout.currency":i.currency,"stk.user.orders_total":i.userTotalOrders,"stk.user.download_total":i.userTotalDownloads,"stk.user.country":i.userCountry,"stk.user.buyer_status":i.buyerStatus},e[t.constants.EVENT_WORKFLOW_PROPERTY]=t.constants.STOCK_CHECKOUT,e[t.constants.EVENT_USER_GUID_PROPERTY]=i.userGuid,e[t.constants.EVENT_SUBCATEGORY_PROPERTY]=i.eventSubcategory,e[t.constants.PROPERTIES.CHECKOUT.PROMO_TYPE]=i.promoType,e[t.constants.CONTENT_ID_PROPERTY]=i.contentId,i.enterpriseOrderType&&(e["stk.organization.enterprise_order_type"]=i.enterpriseOrderType),a.trackWrapper("purchase",i.eventSubtype,e,null,s)},"error-purchase-event","purchase-event")}function s(e){if(!n.isObject(e))throw Error("state must be an object");return{userGuid:n.get(e,"ims_profile.userId"),eventSubtype:e.is_overage&&"subscription"===e.purchase_type?"purchase-overage":e.purchase_type,eventSubcategory:e.id,promoType:n.get(e,"initial_promo_type"),isZombie:e.login_type?"interim"===e.login_type:void 0,orderNumber:e.order_number,productKey:e.product_key,offerId:e.offering_id,orderId:e.order_id,quantity:1,price:n.get(e,"pricing.total.number"),paymentType:e.payment_type,currency:n.get(e,"pricing.total.currency"),userTotalOrders:n.get(e,"member.default_entitlement.total_orders"),userTotalDownloads:n.get(e,"member.default_entitlement.total_downloads"),userCountry:n.get(e,"ims_profile.countryCode"),contentId:e.content_id,buyerStatus:!1===e.has_past_download?"new-buyer":n.get(e,"member.default_entitlement.buyer_status"),enterpriseOrderType:n.get(e,"enterprise.order_type")}}return{send:i,getEventDataFromState:s}}),define("quickerCheckout/analytics/dunamis/events/dunamisDoneEvent",["quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lib/analytics/dunamis","lodash","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i,s,r,l,o){e.execFunction(function(){var e;if(!n.isObject(r))throw Error("Purchase eventData must be an object");e={"stk.checkout.library":l,"stk.checkout.is_zombie":r.isZombie,"stk.checkout.order_id":r.orderId,"stk.checkout.order_number":r.orderNumber,"stk.user.buyer_status":r.buyerStatus},e[t.constants.EVENT_WORKFLOW_PROPERTY]=t.constants.STOCK_CHECKOUT,e[t.constants.EVENT_SUBCATEGORY_PROPERTY]="done-state-modal",e[t.constants.STOCK_USER_COUNTRY]=r.userCountry,e[t.constants.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=r.productKey,e[t.constants.EVENT_USER_GUID_PROPERTY]=r.userGuid,e[t.constants.PROPERTIES.CHECKOUT.PROMO_TYPE]=r.promoType,e[t.constants.PROPERTIES.CHECKOUT.OFFER_ID]=r.offerId,e[t.constants.CONTENT_ID_PROPERTY]=r.contentId,a.trackWrapper(i,s,e,null,o)},"error-done-event","done-event")}function s(e){if(!n.isObject(e))throw Error("state must be an object");return{userCountry:n.get(e,"ims_profile.countryCode"),userGuid:n.get(e,"ims_profile.userId"),productKey:e.product_key,promoType:n.get(e,"initial_promo_type"),isZombie:e.login_type?"interim"===e.login_type:void 0,offerId:e.offering_id,orderId:e.order_id,orderNumber:e.order_number,contentId:e.content_id,buyerStatus:n.get(e,"member.default_entitlement.buyer_status")}}return{send:i,getEventDataFromState:s}}),define("quickerCheckout/analytics/dunamis/dunamisDone",["lodash","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/events/dunamisPurchaseEvent","quickerCheckout/analytics/dunamis/events/dunamisLicenseEvent","quickerCheckout/analytics/dunamis/events/dunamisDoneEvent","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a,i,s,r){"use strict";var l;return{fn:function(r){function o(){r.order_number&&n.send(n.getEventDataFromState(r),l)}function c(){r.asset_details&&a.send(a.getEventDataFromState(r),l)}t.constants,e.get(r,"product_key");return function(t,n){s.execFunction(function(){l=e.get(r,"extras.options"),t?i.send("click",t,i.getEventDataFromState(r),n,l):(o(),c(),
i.send("visit","page-view",i.getEventDataFromState(r),null,l))},"error-checkout-done","checkout-done-modal")}}}}),define("quickerCheckout/analytics/dunamis/dunamisBuyChoice",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lodash","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i){return function(r,l,o){t.execFunction(function(){var t=e.constants,c={},u=[];c[t.EVENT_WORKFLOW_PROPERTY]=t.STOCK_CHECKOUT,c[t.EVENT_SUBCATEGORY_PROPERTY]=t.BUY_CHOICE,c[t.CONTENT_ID_PROPERTY]=i.content_id,"continue"===l?c[t.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=o:(u=s(i.column_a_plans).concat(s(i.column_b_plans),s(i.on_demand_options)),c[t.PROPERTIES.CHECKOUT.PURCHASE_OPTIONS]=u),c[t.EVENT_PARAMS.COUNTRY]=i.country_iso2_code,a.trackWrapper(r,l,c,null,n.get(i,"extras.options"))},"error-buy-choice","buy-choice-modal")}}function s(e){var t,a=[];return n.isObject(e)&&Object.keys(e).forEach(function(i){t=n.get(e,[i,"product_key"]),a.push(t)}),a}return{fn:i,getProductKeyList:s}}),define("quickerCheckout/analytics/dunamis/dunamisEnterEmail",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","quickerCheckout/analytics/dunamis/dunamisUtils","lodash"],function(e,t,n,a){"use strict";function i(i){return function(s,r){t.execFunction(function(){var t,l,o=e.constants,c={};c[o.EVENT_WORKFLOW_PROPERTY]=o.STOCK_CHECKOUT,c[o.EVENT_SUBCATEGORY_PROPERTY]=o.ENTER_EMAIL,c[o.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=i.product_key,c[o.PROPERTIES.CHECKOUT.SUBTOTAL]=i.pricing.template_text.subtotal,c[o.PROPERTIES.CHECKOUT.TAX]=i.pricing.template_text.tax,c[o.PROPERTIES.CHECKOUT.TOTAL]=i.pricing.template_text.total,c[o.PROPERTIES.CHECKOUT.OFFER_ID]=i.offering_id,c[o.PROPERTIES.CHECKOUT.CURRENCY]=i.pricing.price.currency,c[o.EVENT_PARAMS.COUNTRY]=i.country_iso2_code,c[o.CONTENT_ID]=i.content_id,c[o.PROPERTIES.CHECKOUT.PROMO_TYPE]=a.get(i,"plan_information.promo_type"),s?(t=o.CLICK,l=n.getDunamisSubtypeFromSocialProvider(r)):(t=o.VISIT,l=o.PAGE_VIEW),n.trackWrapper(t,l,c,null,a.get(i,"extras.options"))},"error-enter-email","enter-email-modal")}}return{fn:i}}),define("quickerCheckout/analytics/dunamis/events/dunamisPaymentEvent",["quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lib/analytics/dunamis","lodash","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i,s,r){e.execFunction(function(){var e,l,o,c=t.constants;if(!n.isObject(i))throw Error("Purchase eventData must be an object");e={},e[c.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=i.productKey,e[c.PROPERTIES.CHECKOUT.ORDER_NUMBER]=i.orderNumber,e[c.PROPERTIES.USER.CURRENT_SUBSCRIPTION]=i.planProductKey,e[c.PROPERTIES.CHECKOUT.SUBTOTAL]=i.pricingSubtotal,e[c.PROPERTIES.CHECKOUT.TAX]=i.pricingTax,e[c.PROPERTIES.CHECKOUT.TOTAL]=i.pricingTotal,e[c.PROPERTIES.CHECKOUT.ORDER_ID]=i.orderId,e[c.PROPERTIES.CHECKOUT.OFFER_ID]=i.offerId,e[c.PROPERTIES.CHECKOUT.CURRENCY]=i.currency,e[c.PROPERTIES.CHECKOUT.PROMO_TYPE]=i.promoType,e[t.constants.EVENT_WORKFLOW_PROPERTY]=t.constants.STOCK_CHECKOUT,e[t.constants.EVENT_SUBCATEGORY_PROPERTY]=i.eventSubcategory,e[t.constants.STOCK_USER_COUNTRY]=i.country,e[t.constants.CONTENT_ID_PROPERTY]=i.contentId,s?(l="click",s.isFromPlaceSecureOrder?o=t.constants.PLACE_SECURE_ORDER:s.isFromUseDifferentPayment&&(o="use-different-payment")):(l="visit",o="page-view"),a.trackWrapper(l,o,e,null,r)},"error-payment-event","payment-event")}function s(e){if(!n.isObject(e))throw Error("state must be an object");return{promoType:n.get(e,"initial_promo_type"),eventSubcategory:e.id,productKey:e.product_key,pricingSubtotal:n.get(e,"pricing.subtotal.number"),pricingTax:n.get(e,"pricing.tax.number"),pricingTotal:n.get(e,"pricing.total.number"),orderId:e.order_id,orderNumber:e.order_number,offerId:e.offering_id,currency:n.get(e,"pricing.total.currency"),country:e.country_iso2_code,contentId:e.content_id}}return{send:i,getEventDataFromState:s}}),define("quickerCheckout/analytics/dunamis/dunamisNewPayment",["quickerCheckout/analytics/dunamis/events/dunamisPaymentEvent","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lodash"],function(e,t,n){"use strict";function a(){return function(a,i,s,r){var l=null;t.execFunction(function(){r&&r.length>0&&(s={errorType:"newpayment_regex_error",errorCode:r.join("|"),errorMessage:"x"+r.length.toString()}),s?t.defaultErrorHandler(s,"error-new-payment","new-payment-modal"):a&&(i&&(l={isFromPlaceSecureOrder:i}),e.send(e.getEventDataFromState(a),l,n.get(a,"extras.options")))},"error-new-payment","new-payment-modal")}}return{fn:a}}),define("quickerCheckout/analytics/dunamis/events/dunamisLoginEvent",["quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lib/analytics/dunamis","lodash","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i,s,r,l){e.execFunction(function(){var e,o=t.constants;if(!n.isObject(i))throw Error("Purchase eventData must be an object");e={},e[o.PROPERTIES.CHECKOUT.SUBTOTAL]=i.pricingSubtotal,e[o.PROPERTIES.CHECKOUT.TAX]=i.pricingTax,e[o.PROPERTIES.CHECKOUT.TOTAL]=i.pricingTotal,e[o.PROPERTIES.CHECKOUT.OFFER_ID]=i.offerId,e[o.PROPERTIES.CHECKOUT.CURRENCY]=i.currency,e[o.EVENT_WORKFLOW_PROPERTY]=o.STOCK_CHECKOUT,e[o.EVENT_SUBCATEGORY_PROPERTY]="existing-adobe-user-modal",e[o.STOCK_USER_COUNTRY]=i.country,e[o.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=i.productKey,e[o.PROPERTIES.CHECKOUT.PROMO_TYPE]=i.promoType,a.trackWrapper(s,r,e,null,l)},"error-license-event","license-event")}function s(e){if(!n.isObject(e))throw Error("state must be an object");return{promoType:n.get(e,"plan_information.promo_type"),productKey:e.product_key,pricingSubtotal:n.get(e,"pricing.subtotal.number"),pricingTax:n.get(e,"pricing.tax.number"),pricingTotal:n.get(e,"pricing.total.number"),offerId:e.offering_id,currency:n.get(e,"pricing.total.currency"),country:e.country_iso2_code}}return{send:i,getEventDataFromState:s}}),define("quickerCheckout/analytics/dunamis/dunamisLogin",["quickerCheckout/analytics/dunamis/dunamisCatchWrapper","quickerCheckout/analytics/dunamis/dunamisUtils","quickerCheckout/analytics/dunamis/events/dunamisLoginEvent","lodash"],function(e,t,n,a){"use strict";function i(t,i,s){e.execFunction(function(){n.send(n.getEventDataFromState(t),i,s,a.get(t,"extras.options"))},"error-login","login-modal")}function s(e){return{send:i,getDunamisSubtypeFromSocialProvider:t.getDunamisSubtypeFromSocialProvider}}return{fn:s}}),define("quickerCheckout/analytics/dunamis/dunamisSelectPayment",["quickerCheckout/analytics/dunamis/events/dunamisPaymentEvent","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lodash"],function(e,t,n){"use strict";function a(){return function(a,i){t.execFunction(function(){e.send(e.getEventDataFromState(a),i,n.get(a,"extras.options"))},"error-select-payment","select-payment-modal")}}return{fn:a}}),define("quickerCheckout/analytics/dunamis/dunamisBannedCountry",["app/utils/dunamis/dunamisBannedCountry"],function(e){"use strict";function t(t){return function(n,a){e.send(n,a,t)}}return{fn:t}}),define("quickerCheckout/analytics/dunamis/dunamisOverageConfirm",["lodash","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i){return function(r){n.execFunction(function(){var n=t.constants,l=s(i),o=r?n.CLICK:n.VISIT,c=r?n.PLACE_SECURE_ORDER:n.PAGE_VIEW,u={};u[n.EVENT_WORKFLOW_PROPERTY]=n.STOCK_CHECKOUT,u[n.EVENT_SUBCATEGORY_PROPERTY]=l.eventSubcategory,u[n.CONTENT_ID_PROPERTY]=l.contentId,u[n.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=l.productKey,u[n.PROPERTIES.USER.CURRENT_SUBSCRIPTION]=l.planProductKey,u[n.PROPERTIES.CHECKOUT.SUBTOTAL]=l.pricingSubtotal,u[n.PROPERTIES.CHECKOUT.TAX]=l.pricingTax,u[n.PROPERTIES.CHECKOUT.TOTAL]=l.pricingTotal,u[n.PROPERTIES.CHECKOUT.ORDER_ID]=l.orderId,u[n.PROPERTIES.CHECKOUT.OFFER_ID]=l.offerId,u[n.PROPERTIES.CHECKOUT.CURRENCY]=l.currency,a.trackWrapper(o,c,u,null,e.get(i,"extras.options"))},"error-overage-confirm","overage-confirm-modal")}}function s(t){if(!e.isObject(t))throw Error("state must be an object");return{eventSubcategory:t.id,contentId:t.content_id,productKey:t.product_key,planProductKey:t.plan_product_key,pricingSubtotal:e.get(t,"pricing.subtotal.number"),pricingTax:e.get(t,"pricing.tax.number"),pricingTotal:e.get(t,"pricing.total.number"),orderId:t.order_id,offerId:t.offering_id,currency:e.get(t,"pricing.total.currency"),country:t.country_iso2_code}}return{fn:i}}),define("quickerCheckout/analytics/dunamis/dunamisOverageChoice",["lodash","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i){return function(s,r,l){n.execFunction(function(){var n=r?"click":"visit",o=null;e.isArray(i.purchase_options)&&(o=i.purchase_options.map(function(e){return e.product_key}));var c={"event.workflow":"stock-checkout","event.subcategory":"overage-choice","content.id":i.content_id,"stk.user.country":i.country_iso2_code};r?c[t.constants.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=l:c["stk.checkout.purchase_options"]=o,a.trackWrapper(n,s,c,null,e.get(i,"extras.options"))},"error-overage-choice","overage-choice-modal")}}return{fn:i}}),define("quickerCheckout/analytics/dunamis/dunamisTeamDelegateBuyChoice",["lodash","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i){return function(s,r){n.execFunction(function(){var n,l,o=t.constants,c=i.is_overage?o.PLACE_SECURE_ORDER:o.CONTINUE,u={};u[o.EVENT_WORKFLOW_PROPERTY]=o.STOCK_CHECKOUT,u[o.EVENT_SUBCATEGORY_PROPERTY]=o.TEAM_DELEGATE_BUY_CHOICE,u[o.PROPERTIES.USER.CURRENT_SUBSCRIPTION]=i.plan_product_key,u[o.CONTENT_ID_PROPERTY]=i.content_id,u[o.PROPERTIES.USER.IS_OVERAGE]=!!i.is_overage,s?(u[o.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=r,n=o.CLICK,l=s.isChangePurchaseOption?o.CHANGE_PURCHASE_OPTION:c):(e.isArray(i.on_demand_options)?u[o.PROPERTIES.CHECKOUT.PURCHASE_OPTIONS]=i.on_demand_options.map(function(e){return e.product_key}):u[o.PROPERTIES.CHECKOUT.PURCHASE_OPTIONS]=[],n=o.VISIT,l=o.PAGE_VIEW),a.trackWrapper(n,l,u,null,e.get(i,"extras.options"))},"error-team-delegate-buy-choice","team-delegate-buy-choice-modal")}}return{fn:i}}),define("quickerCheckout/analytics/dunamis/dunamisTeamAdminBuyChoice",["lodash","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i){return function(r,l){n.execFunction(function(){var n=t.constants,o=s(i),c=r?n.CLICK:n.VISIT,u=r||n.PAGE_VIEW,d={};d[n.EVENT_WORKFLOW_PROPERTY]=n.STOCK_CHECKOUT,d[n.EVENT_SUBCATEGORY_PROPERTY]=o.eventSubcategory,d[n.CONTENT_ID_PROPERTY]=o.contentId,r?d[n.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=l:d[n.PROPERTIES.CHECKOUT.PURCHASE_OPTIONS]=o.purchaseOptions,a.trackWrapper(c,u,d,null,e.get(i,"extras.options"))},"error-team-admin-buy-choice","team-admin-buy-choice-modal")}}function s(e){var t={eventSubcategory:e.id,contentId:e.content_id,purchaseOptions:e.on_demand_options.map(function(e){return e.product_key})};return t.purchaseOptions.push("view-subscription-plan-options"),t}return{fn:i}}),define("quickerCheckout/analytics/dunamis/dunamisHalt",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lodash","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i){function s(){var e;return i.user_messages&&Array.isArray(i.user_messages)&&(e=i.user_messages[0].id),e}return function(r){t.execFunction(function(){var t,l,o={};r?(t=e.constants.CLICK,l=e.constants.CONTINUE):(t=e.constants.VISIT,l=e.constants.PAGE_VIEW),o["stk.checkout.message_id"]=s(),o[e.constants.EVENT_WORKFLOW_PROPERTY]=e.constants.STOCK_CHECKOUT,o[e.constants.EVENT_SUBCATEGORY_PROPERTY]=e.constants.HALT,o[e.constants.PROPERTIES.CHECKOUT.OFFER_ID]=i.offering_id,a.trackWrapper(t,l,o,null,n.get(i,"extras.options"))},"error-halt","halt-modal")}}return{fn:i}}),define("quickerCheckout/analytics/dunamis/dunamisPaypalConfirm",["quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lib/analytics/dunamis","lodash","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i){return function(r){e.execFunction(function(){var e,l,o,c=s(i),u=t.constants;e={},e[u.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=c.productKey,e[u.PROPERTIES.CHECKOUT.ORDER_NUMBER]=c.orderNumber,e[u.PROPERTIES.CHECKOUT.SUBTOTAL]=c.pricingSubtotal,e[u.PROPERTIES.CHECKOUT.TAX]=c.pricingTax,e[u.PROPERTIES.CHECKOUT.TOTAL]=c.pricingTotal,e[u.PROPERTIES.CHECKOUT.ORDER_ID]=c.orderId,e[u.PROPERTIES.CHECKOUT.OFFER_ID]=c.offerId,e[u.PROPERTIES.CHECKOUT.CURRENCY]=c.currency,e[u.PROPERTIES.CHECKOUT.PROMO_TYPE]=c.promoType,e[u.EVENT_WORKFLOW_PROPERTY]=t.constants.STOCK_CHECKOUT,e[u.EVENT_SUBCATEGORY_PROPERTY]=c.eventSubcategory,e[u.STOCK_USER_COUNTRY]=c.country,e[u.CONTENT_ID_PROPERTY]=c.contentId,r?(l=u.CLICK,o=u.PLACE_SECURE_ORDER):(l=u.VISIT,o=u.PAGE_VIEW),a.trackWrapper(l,o,e,null,n.get(i,"extras.options"))},"error-paypal-confirm","paypal-confirm-modal")}}function s(e){if(!n.isObject(e))throw Error("state must be an object");return{promoType:n.get(e,"plan_information.promo_type"),eventSubcategory:"paypal-confirm",productKey:e.product_key,pricingSubtotal:n.get(e,"pricing.subtotal.number"),pricingTax:n.get(e,"pricing.tax.number"),pricingTotal:n.get(e,"pricing.total.number"),orderId:e.order_id,orderNumber:e.order_number,offerId:e.offering_id,currency:n.get(e,"pricing.total.currency"),country:e.country_iso2_code,contentId:e.content_id}}return{fn:i}}),define("quickerCheckout/analytics/dunamis/dunamisPurchaseConfirm",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lodash","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i){return function(s){t.execFunction(function(){var t,r,l=e.constants,o={};o[l.EVENT_WORKFLOW_PROPERTY]=l.STOCK_CHECKOUT,o[l.EVENT_SUBCATEGORY_PROPERTY]=l.PURCHASE_CONFIRM,o[l.PROPERTIES.CHECKOUT.SUBTOTAL]=i.pricing.template_text.subtotal,o[l.PROPERTIES.CHECKOUT.TAX]=i.pricing.template_text.tax,o[l.PROPERTIES.CHECKOUT.TOTAL]=i.pricing.template_text.total,o[l.PROPERTIES.CHECKOUT.OFFER_ID]=i.offering_id,o[l.PROPERTIES.CHECKOUT.CURRENCY]=i.pricing.price.currency,o[l.PROPERTIES.CHECKOUT.ORDER_ID]=i.order_id,o[l.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=i.product_key,o[l.CONTENT_ID_PROPERTY]=i.content_id,s?(t=l.CLICK,r=l.PLACE_SECURE_ORDER):(t=l.VISIT,r=l.PAGE_VIEW),a.trackWrapper(t,r,o,null,n.get(i,"extras.options"))},"error-purchase-confirm","purchase-confirm-modal")}}return{fn:i}}),define("quickerCheckout/analytics/dunamis/dunamisQuotaConfirm",["lodash","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(){return function(i,s,r){t.execFunction(function(){var t,l,o={};r?(t=n.constants.CLICK,l=r):(t=n.constants.VISIT,l=n.constants.PAGE_VIEW),o[n.constants.EVENT_WORKFLOW_PROPERTY]=n.constants.STOCK_CHECKOUT,o[n.constants.EVENT_SUBCATEGORY_PROPERTY]="quota-confirm-modal",o[n.constants.CONTENT_ID]=i.content_id,o[n.constants.PROPERTIES.CHECKOUT.SELECTED_LICENSE_OPTION]=s,a.trackWrapper(t,l,o,null,e.get(i,"extras.options"))},"error-quota-confirm","quota-confirm-modal")}}return{fn:i}}),define("quickerCheckout/analytics/dunamis/dunamisError",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","quickerCheckout/analytics/dunamis/events/dunamisErrorEvent","lodash"],function(e,t,n,a){"use strict";function i(i){return function(s){t.execFunction(function(){var t,r;s?(t=e.constants.CLICK,r=e.constants.CONTINUE):(t=e.constants.VISIT,r=e.constants.PAGE_VIEW),n.send(n.getEventDataFromErrorObject(i),r,"error-modal",t,a.get(i,"extras.options"))},"error-errorstate","error-modal")}}return{fn:i}}),define("quickerCheckout/analytics/dunamis/dunamisVerifyBilling",["lodash","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i){return function(r){n.execFunction(function(){var n,l,o=s(i);r?(n=t.constants.CLICK,l=t.constants.VERIFY_BILLING_INFO):(n=t.constants.VISIT,l=t.constants.PAGE_VIEW),a.trackWrapper(n,l,o,null,e.get(i,"extras.options"))},"error-verify-billing","verify-billing-modal")}}function s(e){var n=a.getEventDataFromState(e),i={};return i[t.constants.EVENT_WORKFLOW_PROPERTY]=t.constants.STOCK_CHECKOUT,i[t.constants.EVENT_SUBCATEGORY_PROPERTY]=n.eventSubcategory,i[t.constants.PROPERTIES.CHECKOUT.CURRENCY]=n.currency,i[t.constants.PROPERTIES.CHECKOUT.OFFER_ID]=n.offerId,i[t.constants.PROPERTIES.CHECKOUT.ORDER_ID]=n.orderId,i[t.constants.PROPERTIES.CHECKOUT.ORDER_NUMBER]=n.orderNumber,i[t.constants.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=n.productKey,i[t.constants.PROPERTIES.CHECKOUT.SUBTOTAL]=n.pricingSubtotal,i[t.constants.PROPERTIES.CHECKOUT.TAX]=n.pricingTax,i[t.constants.PROPERTIES.CHECKOUT.TOTAL]=n.pricingTotal,i}return{fn:i,getPayload:s}}),define("quickerCheckout/analytics/dunamis/dunamisAuthenticatePaymentInstrument",["lodash","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","quickerCheckout/analytics/dunamis/dunamisUtils","quickerCheckout/analytics/dunamis/events/dunamisErrorEvent"],function(e,t,n,a,i){"use strict";function s(s){return function(l,o){var c={errorCode:"cardinal",errorType:"bad-response",errorDesc:o&&o.message};o?i.send(c,"cardinal",s.id,"error",s):n.execFunction(function(){var n,i,o=r(s);l?(n=t.constants.CLICK,i=t.constants.SUBMIT):(n=t.constants.VISIT,i=t.constants.PAGE_VIEW),a.trackWrapper(n,i,o,null,e.get(s,"extras.options"))},"error-authenticate-payment-instrument","authenticate-payment-instrument-modal")}}function r(e){var n=a.getEventDataFromState(e),i={};return i[t.constants.EVENT_WORKFLOW_PROPERTY]=t.constants.STOCK_CHECKOUT,i[t.constants.EVENT_SUBCATEGORY_PROPERTY]=t.constants.AUTHENTICATE_PAYMENT_INSTRUMENT,i[t.constants.PROPERTIES.CHECKOUT.CURRENCY]=n.currency,i[t.constants.PROPERTIES.CHECKOUT.OFFER_ID]=n.offerId,i[t.constants.PROPERTIES.CHECKOUT.ORDER_ID]=n.orderId,i[t.constants.PROPERTIES.CHECKOUT.ORDER_NUMBER]=n.orderNumber,i[t.constants.PROPERTIES.CHECKOUT.PROMO_TYPE]=n.promoType,i[t.constants.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=n.productKey,i[t.constants.PROPERTIES.CHECKOUT.SUBTOTAL]=n.pricingSubtotal,i[t.constants.PROPERTIES.CHECKOUT.TAX]=n.pricingTax,i[t.constants.PROPERTIES.CHECKOUT.TOTAL]=n.pricingTotal,i}return{fn:s,getPayload:r}}),define("migrationAssistant/events",["vendor/backbone-events-standalone"],function(e){"use strict";return e.mixin({UPDATE_STATE:"update_migration_assistant_state",GO_TO_STATE:"go_to_migration_assistant_state"})}),define("quickerCheckout/adobestock/shortCircuit",["migrationAssistant/events"],function(e){"use strict";function t(t){var n=t&&t.migration_target;return n&&("planDone"===t.id?t.id="transferring":"error"===t.id&&(t.id="error"),e.trigger(e.GO_TO_STATE,t)),n}return{fn:t}}),define("quickerCheckout/states",["quickerCheckout/states/buychoice","quickerCheckout/analytics/buychoice","quickerCheckout/states/enterEmail","quickerCheckout/analytics/enterEmail","quickerCheckoutRepo/states/newPayment","quickerCheckout/analytics/newPayment","quickerCheckout/states/error","quickerCheckout/analytics/error","quickerCheckout/states/done","quickerCheckout/analytics/done","quickerCheckout/states/quotaConfirm","quickerCheckout/analytics/quotaConfirm","quickerCheckout/states/logIn","quickerCheckout/analytics/logIn","quickerCheckout/states/overage","quickerCheckoutRepo/states/selectPayment","quickerCheckout/analytics/selectPayment","quickerCheckoutRepo/states/go","quickerCheckoutRepo/states/confirm","quickerCheckout/analytics/confirm","quickerCheckout/states/bannedCountry","quickerCheckout/states/planDone","quickerCheckout/analytics/planDone","quickerCheckout/states/overageConfirm","quickerCheckout/analytics/overageConfirm","quickerCheckoutRepo/states/stock/halt","quickerCheckout/analytics/halt","quickerCheckout/states/teamAdminBuyChoice","quickerCheckout/states/teamDelegateBuyChoice","quickerCheckout/analytics/teamBuyChoice","quickerCheckoutRepo/states/overageConfirm","quickerCheckout/analytics/v3/overage","quickerCheckoutRepo/states/overageChoice","quickerCheckoutRepo/states/purchaseConfirm","quickerCheckout/analytics/purchaseConfirm","quickerCheckoutRepo/states/authenticatePaymentInstrument","quickerCheckoutRepo/states/verifyBilling","page_config","quickerCheckout/analytics/dunamis/dunamisDone","quickerCheckout/analytics/dunamis/dunamisBuyChoice","quickerCheckout/analytics/dunamis/dunamisEnterEmail","quickerCheckout/analytics/dunamis/dunamisNewPayment","quickerCheckout/analytics/dunamis/dunamisLogin","quickerCheckout/analytics/dunamis/dunamisSelectPayment","quickerCheckout/analytics/dunamis/dunamisBannedCountry","quickerCheckout/analytics/dunamis/dunamisOverageConfirm","quickerCheckout/analytics/dunamis/dunamisOverageChoice","quickerCheckout/analytics/dunamis/dunamisTeamDelegateBuyChoice","quickerCheckout/analytics/dunamis/dunamisTeamAdminBuyChoice","quickerCheckout/analytics/dunamis/dunamisHalt","quickerCheckout/analytics/dunamis/dunamisPaypalConfirm","quickerCheckout/analytics/dunamis/dunamisPurchaseConfirm","quickerCheckout/analytics/dunamis/dunamisQuotaConfirm","quickerCheckout/analytics/dunamis/dunamisError","quickerCheckout/analytics/dunamis/dunamisVerifyBilling","quickerCheckout/analytics/dunamis/dunamisAuthenticatePaymentInstrument","quickerCheckout/adobestock/shortCircuit"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C,S,I,O,k,A,R,x,P,L,D,N,w,M,U,F,j,H,V,q,Y,G,B,K,W,z,Q,X,Z,J,$,ee,te,ne){"use strict";function ae(e){return e?se:ie}var ie,se;return ie={error:{page:r,analyticsFn:l.fn,skipDataSave:!0,dunamisAnalyticsFn:$.fn,shortCircuitFn:ne.fn},newPayment:{page:i,analyticsFn:s.fn,hasTestAndTarget:"quickbuy_dynamic_mbox_newpayment",isMediumModal:!0,isSecondaryModal:!0,dunamisAnalyticsFn:V.fn},buyChoice:{page:e,isMediumModal:!0,hasTestAndTarget:"quickbuy_dynamic_mbox_buychoice",analyticsFn:t.fn,isSecondaryModal:!0,dunamisAnalyticsFn:j.fn},enterEmail:{page:n,analyticsFn:a.fn,hasTestAndTarget:"quickbuy_dynamic_mbox_enteremail",isMediumModal:!0,isSecondaryModal:!0,dunamisAnalyticsFn:H.fn},selectPayment:{page:f,analyticsFn:_.fn,hasTestAndTarget:"quickbuy_dynamic_mbox_selectpayment",isMediumModal:!0,dunamisAnalyticsFn:Y.fn},overage:{page:m},logIn:{page:p,analyticsFn:h.fn,dunamisAnalyticsFn:q.fn},go:{page:g,skipDataSave:!0},confirm:{page:E,isMediumModal:!0,analyticsFn:v.fn,dunamisAnalyticsFn:X.fn},done:{page:o,analyticsFn:c.fn,dunamisAnalyticsFn:F.fn,hasTestAndTarget:"quickbuy_dynamic_mbox_done"},bannedCountry:{page:b,dunamisAnalyticsFn:G.fn},planDone:{page:T,analyticsFn:y.fn,dunamisAnalyticsFn:F.fn,shortCircuitFn:ne.fn},overageConfirm:{page:C,analyticsFn:S.fn},halt:{page:I,analyticsFn:O.fn,dunamisAnalyticsFn:Q.fn},teamAdminBuyChoice:{page:k,analyticsFn:R.fn,isMediumModal:!0,dunamisAnalyticsFn:z.fn},teamDelegateBuyChoice:{page:A,analyticsFn:R.fn,isMediumModal:!0,dunamisAnalyticsFn:W.fn},quotaConfirm:{page:u,analyticsFn:d.fn,dunamisAnalyticsFn:J.fn},purchaseConfirm:{page:D,analyticsFn:N.fn,dunamisAnalyticsFn:Z.fn},verifyBilling:{page:M,isMediumModal:!0,dunamisAnalyticsFn:ee.fn},authenticatePaymentInstrument:{page:w,isMediumModal:!0,dunamisAnalyticsFn:te.fn}},ie.overageConfirm={page:x,analyticsFn:P.fn,isMediumModal:!0,dunamisAnalyticsFn:B.fn},ie.overageChoice={page:L,analyticsFn:P.fn,dunamisAnalyticsFn:K.fn,isMediumModal:!0},se={error:ie.error,go:ie.go},{getStates:ae}}),define("quickerCheckout/analytics/dispatcher",["quickerCheckout/adobestock/analytics"],function(e){"use strict";return function(t){e.send(e.getErrorValues(t,null,t.lastStateId),t,!0)}}),define("lib/keepAlive",["page_config","lib/ajax","lib/window"],function(e,t,n){"use strict";function a(){t.post(e.base_url+"/Ajax/KeepAlive").done(i).fail(function(e){403===e.status&&n.reloadLocation()})}function i(){n.setTimeout(a,s)}var s=3e5;return{scheduleProbe:i,probe:a}}),define("lib/analytics/promoBanner",["app/constants/analytics","lib/analytics","lib/analytics/dunamis","jquery"],function(e,t,n,a){"use strict";function i(i,s){var l={},o=n.constants;t.setDigitalData(e.PRODUCT,{core_type:i.map(r).join("|")},{sendPageTrack:!1}),s&&(l[o.EVENT_WORKFLOW_PROPERTY]=o.STOCK_CHECKOUT,l[o.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=s,n.track(o.VISIT,o.BLUE_BANNER,l,a("body")))}function s(i,s,r,l){var o={},c=n.constants,u=t.determineFindingMethod();t.setupProductPurchaseData(e.SELECTION_DIRECT,s),t.setDigitalData(e.INTERNAL_INFO,{campaign:i,elementName:"ctaclick",lpregion:r||"bluebanner"},{sendPageTrack:!1}),t.setDigitalData(e.EVENT_INFO,{eventType:e.CLICK_EVENT,eventLabel:"internalcamp"}),o[c.EVENT_WORKFLOW_PROPERTY]=c.STOCK_CHECKOUT,o[c.PROPERTIES.CHECKOUT.FINDING_METHOD]=u,o[c.PROPERTIES.CHECKOUT.SELECTION_METHOD]=e.SELECTION_DIRECT,o[c.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=s,n.track(c.CLICK,l,o,a("body"))}function r(e){return e.replace("/Applications/","")}function l(e){t=e}return{sendImpressionAnalytics:i,sendBlueBannerAnalytics:s,setAnalyticsLib:l}}),define("lib/promoBannerManager",["page_config","lib/member","lib/utils","app/utils/search","lib/analytics/promoBanner"],function(e,t,n,a,i){"use strict";function s(){var t,s,r,l=!1,c=[];if(e.isNewBlueBannerEngineEnabled)if(o()&&e.isFreeEnabled&&e.isFreeBottomRailEnabled&&a.isFreeAssetType()&&e.isFreeTopRailEnabled)for(s=0;s<p.length;s++)n.updateAttribute(p[s].element,"data-is-hidden","true");else{for(d=h,s=0;s<p.length;s++){if(t=p[s],!t.element){if(!1===t.element)continue;if(t.element=document.getElementById(t.id)||!1,!t.element)continue}l||t.testAndTarget||t.test&&!t.test()?(n.updateAttribute(t.element,"data-is-hidden","true"),t.testAndTarget&&c.push(t.element.dataset.productKey)):(n.updateAttribute(t.element,"data-is-hidden","false"),d=t.offer,l=!0,r=t.element.dataset.productKey,c.push(r))}i.sendImpressionAnalytics(c,r)}}function r(){return d||h}function l(){return a.isNonFmfPage()||a.isVideoAssetType()}function o(){return t.isFMFEligible()&&a.isFreeAssetType()}function c(){return t.isFMFEligible()&&!a.isNonFmfPage()}function u(){return!a.isVideoAssetType()}var d,p=[{id:"free-promo",offer:"subscriptions",test:o},{id:"add-credit-pack",offer:"credit",test:u},{id:"team-promo-banner",offer:"team"},{id:"ft-migration-promo-banner",offer:"fotolia"},{id:"enterprise-promo-banner",offer:"enterprise"},{id:"credit-pack-video-banner",offer:"credit",test:l},{id:"credit-pack-image-banner",offer:"credit",testAndTarget:!0},{id:"fmf-promo",offer:"subscriptions",test:c},{id:"team-plan-phone-banner",offer:"team"},{id:"enterprise-access-request-banner",offer:"enterprise-access-request"}],h="na";return{updateUI:s,getPromoOffer:r}}),define("app/observers/globalObservers",["jquery","app/utils/observer","lib/promoBannerManager","page_config"],function(e,t,n,a){"use strict";function i(){t.observe(function(e){return e.member.hasSubscription},s)}function s(t){t&&(a.isNewBlueBannerEngineEnabled?n.updateUI():e(".fmf-promo").addClass("hidden"))}return{init:i,handleMemberChange:s}}),define("hbs!templates/motMotModal/partials/cantBuyTeams",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"padding-bottom-small"},3:function(e,t,n,a){return"padding-bottom-large"},5:function(e,t,n,a){var i;return'                <p data-t="cant-buy-teams-become-admin-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::To purchase a team plan yourself, you can become the admin of a new team.",{name:"_",hash:{},data:a}))+'</p>\n\n                <div class="row padding-top-large padding-bottom-medium">\n                    <div class="v-align-wrapper ">\n                        <div class="c-align">\n                            <a id="cant-buy-team-plan-link" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.business_center_url:i,e))+'" data-ingest-clicktype="start-a-new-team" class="button button--action" data-t="cant-buy-teams-start-team-link">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::Start a New Team",{name:"_",hash:{},data:a}))+'</a>\n                        </div>\n                    </div>\n                </div>\n                <div class="padding-top-medium"></div>\n\n                <span class="grey silver-sand-text" data-t="cant-buy-teams-personal-use-text">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::You can also purchase a plan for your personal use.",{name:"_",hash:{},data:a}))+'\n                    <a data-ingest-clicktype="plan-options" class="blue picton-text js-cant-buy-teams" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.plans_page_url:i,e))+'" data-t="cant-buy-teams-see-personal-link">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::See plan options >",{name:"_",hash:{},data:a}))+"\n                    </a>\n                </span>\n"},7:function(e,t,n,a){return'                <p data-t="cant-buy-teams-cp-personal-use-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::You can also purchase a plan for your personal use.",{name:"_",hash:{},data:a}))+"</p>\n"},9:function(e,t,n,a){return"padding-bottom-xsmall"},11:function(e,t,n,a){return"padding-top-xlarge"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-smedium-height-max" data-ingest-subcategory="delegate-cannot-complete-purchase" data-ingest-workflow="stock-checkout">\n    <div class="row grey heavy-metal-text">\n        <div class="column on-small-10 on-small-offset-1">\n            <div class="row padding-top-large '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.is_credit_packs:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+'">\n                <i class="mti-icon mti-3x icon-teams grey silver-sand-text"></i>\n            </div>\n\n            <p data-t="cant-buy-teams-only-admins-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::Only admins can add Adobe Stock to a team account. To add Adobe Stock to an existing team, please contact your admin.",{name:"_",hash:{},data:a}))+"</p>\n\n"+(null!=(i=t.unless.call(e,null!=(i=null!=e?e.properties:e)?i.is_credit_packs:i,{name:"unless",hash:{},fn:this.program(5,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+'\n            <div class="'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.is_credit_packs:i,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.program(11,a,0),data:a}))?i:"")+'"></div>\n        </div>\n        <div class="column on-small-1"></div>\n    </div>\n</div>\n'},useData:!0})}),define("hbs!templates/motMotModal/partials/cantBuyTeamsFooter",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<a data-ingest-clicktype="click" data-ingest-subtype="plan-options" data-ingest-subcategory="delegate-cannot-complete-purchase" data-ingest-workflow="stock-checkout" class="button button--dialog js-cant-buy-teams" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.plans_page_url:i,e))+'" data-t="see-personal-offers-footer-link">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::See Personal Offers",{name:"_",hash:{},data:a}))+"\n</a>\n"},useData:!0})}),
define("components/modalCantBuyTeams",["components/motMotModal","hbs!templates/motMotModal/partials/cantBuyTeams","hbs!templates/motMotModal/partials/cantBuyTeamsFooter","lib/analytics","page_config","i18n-config","lib/member","app/utils/routes","app/constants/index","app/constants/analytics","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper"],function(e,t,n,a,i,s,r,l,o,c,u,d){"use strict";function p(p){var m={templateParams:{usingDefault:!0,width:"medium"},partial:t,title:s.gettext("MODAL::TEAM::Cannot complete purchase"),partialProperties:{business_center_url:"https://creative.adobe.com/plans?plan=team&step=2&store_code=us&promoid=7RZ369KZ&mv=other",plans_page_url:i.base_url}},f={},_=u.constants;r.isTeam()?m.partialProperties.plans_page_url+=l.getSwitchPersonalRoute(o.routes.PLANS+"?switched=1"):m.partialProperties.plans_page_url+=o.routes.PLANS,p&&p.isCreditPacks&&(m.partialProperties.is_credit_packs=!0,m.templateParams.footer=!0,m.additionalPartials={modalFooter:n}),p&&p.businessCenterUrl&&(m.partialProperties.business_center_url=p.businessCenterUrl),e.show("usingPartial",m),a.setDigitalData(c.EVENT_INFO,{eventType:c.PAGE_LOAD_EVENT,eventLabel:"cannotcompletepurchase modal"}),h(),f[_.EVENT_WORKFLOW_PROPERTY]=_.STOCK_CHECKOUT,f[_.EVENT_SUBCATEGORY_PROPERTY]=_.DELEGATE_CANNOT_COMPLETE_PURCHASE,d.execFunction(function(){u.track(u.constants.VISIT,u.constants.PAGE_VIEW,f)},"error-team-delegate-cannot-complete-purchase","team-delegate-cannot-complete-purchase-modal")}function h(){function t(e,t){a.setDigitalData(c.EVENT_INFO,{eventType:c.CLICK_EVENT,eventLabel:t}),a.setDigitalData(c.INTERNAL_INFO,{modalname:"nonadminmodal",elementname:e})}e.registerEvent("#cant-buy-team-plan-link",function(){t("start a new team",c.CTA_EVENT)}),e.registerEvent(".js-cant-buy-teams",function(){t("see plan option",c.LINK_EVENT)})}return{show:p}}),define("quickerCheckout/analytics/close",["quickerCheckout/adobestock/analytics","lib/member"],function(e,t){"use strict";return function(n){var a;try{a={eVar91:"quicker checkout:"+n.id+":close modal",eVar92:t.getOmnitureMemberStatus(),events:e.EVENTS.CHECKOUT_MODAL_CLOSE},e.send(a,n)}catch(t){a=e.getErrorValues(n,t,"modal close"),e.send(a,n)}}}),define("quickerCheckout/analytics/dunamis/utils/state",["quickerCheckout/analytics/dunamis/dunamisAuthenticatePaymentInstrument","quickerCheckout/analytics/dunamis/dunamisVerifyBilling"],function(e,t){"use strict";function n(n){var a={authenticatePaymentInstrument:e,verifyBilling:t},i={};return a[n.id]&&a[n.id].getPayload&&(i=a[n.id].getPayload(n)),i}return{getPayload:n}}),define("quickerCheckout/analytics/dunamis/dunamisClose",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lodash","quickerCheckout/analytics/dunamis/dunamisUtils","quickerCheckout/analytics/dunamis/utils/state"],function(e,t,n,a,i){"use strict";function s(s){t.execFunction(function(){var t=e.constants,r=i.getPayload(s);r[t.EVENT_WORKFLOW_PROPERTY]=t.STOCK_CHECKOUT,r[t.EVENT_SUBCATEGORY_PROPERTY]=s.id,r[t.CONTENT_ID_PROPERTY]=s.content_id,a.trackWrapper(t.CLICK,t.CHECKOUT_MODAL_CLOSE,r,null,n.get(s,"extras.options"))},"error-checkout-modal-close","checkout-modal-close")}return{send:s}}),define("fotoliaMigrationAnalytics",["jquery","app/constants/analytics","lib/uiEvents","page_config","lib/analytics","lib/utils"],function(e,t,n,a,i,s){"use strict";function r(){e("body").on("click",".js-fotolia-transfer-overage-ok",function(){c(t.FOTOLIA_TRANSFER_OVERAGE,"view all pricing options",!1),o(t.CLICK_EVENT,t.CTA_EVENT)}),e(".js-analytics-relaunch").off("click").on("click",function(){c("fotolia transfer error","relaunch",!1),o(t.CLICK_EVENT,t.CTA_EVENT)}),e(".js-analytics-complete").off("click").on("click",function(){c("fotolia transfer completed","let's go",!1),o(t.CLICK_EVENT,t.CTA_EVENT)}),e(".js-analytics-link").off("click").on("click",function(){var n=e(this).attr("data-analytics-event-label"),a=e(this).attr("data-analytics-event-type")||t.CLICK_EVENT,i=e(this).attr("data-analytics-campaign"),s=e(this).attr("data-analytics-element")||"";i&&c(i,s,!1),n&&o(a,n)}),n.on(n.FOTOLIA_MIGRATION_IS_OVER,function(){o("completed","fotolia_transfer")})}function l(e,n,s){i.setDigitalData("Error",{message:"",usermessage:e,casecode:s||""},{sendPageTrack:!1}),i.setDigitalData(t.EVENT_INFO,{eventType:t.ERROR_EVENT,eventLabel:n},{sendPageTrack:!1}),a.isFotoliaMigrationV2Enabled||i.sendPageEventTrack("fotoliaMigrationPageError")}function o(e,n){i.setDigitalData(t.EVENT_INFO,{eventType:e,eventLabel:n},{sendPageTrack:!1}),a.isFotoliaMigrationV2Enabled||i.sendPageEventTrack("fotoliaMigrationPageEvent")}function c(e,n,a){var r={};s.isObject(e)?(r=e,a=n):r={campaign:e,elementname:n?n.trim():null},void 0===a&&(a=!0),i.setDigitalData(t.INTERNAL_INFO,r,{sendPageTrack:a})}return{eventsListeners:r,setFotoliaMigrationAnalyticsError:l,setInternalInfoAnalyticsData:c,setEventInfo:o}}),define("quickerCheckout/adobestock/handlers",["jquery","lodash","page_config","lib/member","lib/utils","lib/window","lib/librariesStore","lib/assetsStore","lib/assetSave","lib/uiEvents","lib/susi","lib/libraries","lib/librariesV2","app/actions/checkoutActions","app/actions/detailsActions","app/actions/memberActions","app/client","app/stock-portal","app/constants/download","app/constants/localStorage","quickerCheckout/analytics/close","quickerCheckout/analytics/dunamis/dunamisClose","components/vectorDownloadSettings","fotoliaMigrationAnalytics"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C){"use strict";function S(){return n.isLibrariesV2ApiEnabled?p:d}function I(e){N.dispatch(h.quickerCheckoutOpen(e))}function O(e){b(e),T.send(e),N.dispatch(h.quickerCheckoutClose(e))}function k(e){N.dispatch(h.quickerCheckoutError(e))}function A(e){N.dispatch(h.quickerCheckoutComplete(e))}function R(s){var l,d,p=t.get(s,"member.is_newly_created"),h=s.libraryId,_=s.imsProfile,E=t.get(s,"member.email"),v=t.get(s,"asset.content_id"),b=s.licenseId,T=s.asset,y=s.appOpenInCode,I=!!s.isFotoliaMigration;a.setStockProfile(s.member),d=a.getResolvedStockProfile(),p&&(g.userSignedIn(),N.dispatch(f.memberLoggedIn(d,_)),c.trigger(c.NOTIFICATION_SHOW,E),u.zombieLogin(d,_),S().refreshAccessToken()),T&&(y||h&&"desktop"!==h?(y&&r.getLibraryIdForOpenIn(v).then(function(e){h=e}),h&&L(h,T,y)):i.shouldGoToOneClickLicenseSave(T.asset_type)?o.saveToDefaultLib(v,"License"):(l=t.get(N.getState(),"page.saveToLibId")||e("#memberDefaultLibraryId").val())&&L(l,T,""),(T.is_audio&&n.isAudioSaveEnabled||!T.is_audio)&&r.updateElementInAllLibraries(T),N.dispatch(m.contentLicensed(v,b)),c.trigger(c.ASSET_LICENSED,{contentId:v}),p||r.getLibraryById(h).then(function(e){c.trigger(c.DETAIL_BUTTON.UPDATE_STATE,{action:"License",lib_name:"desktop"===h?i.getSaveToDeviceI18nText():e&&e.name,lib_id:h,contentId:""+v,isDownloaded:!0})})),s.creditPackInfo&&s.creditPackInfo.remain_label&&a.updateCreditPackQuota(s.creditPackInfo.available_credits),d&&d.default_entitlement&&d.default_entitlement.id&&(N.dispatch(f.memberUpdatedEntitlement(d)),c.trigger(c.ENTITLEMENT_UPDATED)),I&&C.eventsListeners()}function x(e){var a=e.asset.download_url,i=t.get(e,"asset.content_id"),s=t.get(e,"asset.is_vector"),r=e.licenseId;s&&(n.isPhoenixEnabled||!e.appOpenInCode&&"desktop"===e.libraryId)&&(a=y.getVectorDownloadUrl(window.localStorage.getItem(v.VECTOR_DOWNLOAD_CHOICE_KEY),a)),l.setAssetDownloadedInCache(i,r),document.getElementById(E.IFRAME_DOWNLOAD_ID).src=a}function P(e){L(e.libraryId,e.asset,"")}function L(e,t,n){r.addLibraryElement(e,t,n),r.updateElementInAllLibraries(t)}function D(e){u.ready.then(function(){var t={puser:e.email};u.checkoutModalLogin(null,null,!0,t,e.license_id)})}var N=_.getInstance();return{onOpen:I,onClose:O,onError:k,onDone:A,onLogin:D,onFinishPurchase:R,onDownloadAsset:x,onAddAssetToLibrary:P}}),define("hbs!templates/components/commentsModule/commentItem",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" comment-item--editable"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="comment-item'+(null!=(i=t.if.call(e,null!=e?e.editable:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' white grey gravel-text padding-small margin-bottom-small left-align border-top-1 border-solid nurse-border">\n    <form>\n        <div class="comment-item__header padding-left-small padding-right-small">\n            <span class="js-comment-author text-sregular font-bold" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-author",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((s=null!=(s=t.authorDisplayName||(null!=e?e.authorDisplayName:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"authorDisplayName",hash:{},data:a}):s))+'</span>\n            <div class="js-comment-header-actions comment-item__actions right">\n                <button class="js-comment-delete-btn" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-delete-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+'>\n                    <i class="mti-icon icon-delete"></i>\n                </button>\n                <button class="js-comment-edit-btn" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-edit-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+'>\n                    <i class="mti-icon icon-edit"></i>\n                </button>\n            </div>\n        </div>\n        <div class="comment-item__body">\n            <div class="js-comment-body comment-item__preview text-sregular padding-small" data-is-hidden="false" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-message",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((s=null!=(s=t.comment||(null!=e?e.comment:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"comment",hash:{},data:a}):s))+'</div>\n            <textarea class="js-textarea comment-item__textarea overflow-hidden container-full margin-top-xsmall" disabled maxlength="250" data-is-hidden="true">'+this.escapeExpression((s=null!=(s=t.comment||(null!=e?e.comment:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"comment",hash:{},data:a}):s))+'</textarea>\n        </div>\n        <div class="comment-item__footer padding-left-small padding-right-small">\n            <div class="row">\n                <div class="column on-small-12">\n                    <span class="js-comment-date comment-item__date grey mountain-mist-text text-small" data-is-hidden="false" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-date",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((s=null!=(s=t.createdAt||(null!=e?e.createdAt:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"createdAt",hash:{},data:a}):s))+'</span>\n                </div>\n                <div class="js-comment-footer-actions comment-item__actions column on-small-12 right-align" data-is-hidden="true">\n                    <button class="js-comment-cancel-btn button text-sregular" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-cancel-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">\n                        <span "+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-cancel-button-label",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Cancel",{name:"_",hash:{},data:a}))+'</span>\n                    </button>\n                    <button class="js-comment-save-btn button button--action text-sregular" disabled '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-save-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+'>\n                        <i class="mti-icon"></i>\n                        <span class="margin-right-xsmall" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-save-button-label",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Save changes",{name:"_",hash:{},data:a}))+"</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n"},useData:!0})}),define("hbs!templates/components/commentsModule/commentsWidget",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                    <label class="switch" data-t="comments-notify-checkbox">\n                        <input class="js-comment-notify" type="checkbox" name="notify"'+(null!=(i=t.if.call(e,null!=e?e.checked:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'value="true" />\n                        <span data-t="comments-notify-checkbox-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Notify",{name:"_",hash:{},data:a}))+"</span>\n                    </label>\n"},2:function(e,t,n,a){return' checked="checked"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="comments-widget">\n    <div class="js-comments-list comments-widget__list padding-left-medium padding-right-medium overflow-auto"></div>\n    <div class="comments-widget__actions padding-top-small padding-left-medium padding-right-medium">\n        <form>\n            <input class="js-new-comment-input input--full" type="text" name="body" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Add comment",{name:"_",hash:{},data:a}))+'" maxlength="250" data-t="comments-input"/>\n            <div class="right-align padding-top-small">\n'+(null!=(i=t.with.call(e,null!=e?e.notifyCheckbox:e,{name:"with",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                <button class="js-comment-post-btn button button--primary margin-left-medium" disabled data-t="comments-post-button">\n                    <i class="mti-icon"></i>\n                    <span class="margin-right-xsmall" data-t="comments-post-button-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Post",{name:"_",hash:{},data:a}))+"</span>\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n"},useData:!0})}),define("lib/commentsModule",["jquery","hbs!templates/components/commentsModule/commentItem","hbs!templates/components/commentsModule/commentsWidget","lib/utils","lib/member"],function(e,t,n,a,i){"use strict";function s(e){setTimeout(function(){e.css({height:"auto"}).css({height:e.prop("scrollHeight")})},0)}function r(){return e.Deferred().resolve({})}function l(t){return!e.isEmptyObject(t)&&t.id&&t.authorDisplayName&&t.comment&&t.createdAt}function o(t){var t=e.isEmptyObject(t)?{}:t;return{post:e.isFunction(t.post)?t.post:r,update:e.isFunction(t.update)?t.update:r,delete:e.isFunction(t.delete)?t.delete:r}}function c(e,t){var e=e||{};return{id:e.id||t.id,authorDisplayName:e.authorDisplayName||i.getUsername(),comment:e.comment||t.comment,createdAt:e.createdAt||a.getCurrentDateFormatted(),editable:e.hasOwnProperty("editable")?e.editable:t.editable}}function u(n,i,r,o){var n=e.isEmptyObject(n)?{}:n,u=e(t(n)),d=u.find(".js-textarea"),p=u.find(".js-comment-body"),h=u.find(".js-comment-date"),m=u.find(".js-comment-header-actions"),f=u.find(".js-comment-footer-actions"),_=u.find(".js-comment-save-btn"),g=u.find(".js-comment-cancel-btn"),E=function(e){e?g.hide():g.show(),a.toggleAttribute(d,"disabled",e),a.toggleAttribute(_,"data-is-loading",e),a.toggleAttribute(_,"disabled",e)},v=function(e){a.toggleClassName(u,"nurse in-edit-mode",e),a.toggleAttribute(p,"data-is-hidden",e),a.toggleAttribute(m,"data-is-hidden",e),a.toggleAttribute(h,"data-is-hidden",e),a.toggleClassName(u,"comment-item--editable",!e),a.toggleAttribute(f,"data-is-hidden",!e),a.toggleAttribute(d,"data-is-hidden",!e),a.toggleAttribute(d,"disabled",!e),a.toggleAttribute(_,"disabled",!0),e?d.focus():d.blur()},b=function(e){n=e,d.val(e.comment),p.text(e.comment),h.text(e.createdAt),E(!1),v(!1),i._commentWasUpdated(e)};return d.on("keyup",function(){var t=e(this).val().trim();a.toggleAttribute(_,"disabled",!t||n.comment==t)}).on("keyup focus blur",function(){s(d)}),u.find("form").on("submit",function(e){e.preventDefault()}),u.find(".js-comment-edit-btn").on("click",function(){n.editable&&(v(!0),i._scrollToBottom())}),u.find(".js-comment-delete-btn").on("click",function(){n.editable&&(u.addClass("disabled"),e.when(r.delete(n)).then(function(){u.remove(),i._commentWasDeleted(n.id)}).always(function(){u.removeClass("disabled")}))}),g.on("click",function(){d.val(n.comment),v(!1)}),_.on("click",function(){var t;n.editable&&(t={id:n.id,comment:d.val().trim(),editable:n.editable},E(!0),e.when(r.update(t)).then(function(e){(o||l(e))&&b(c(e,t))}).always(function(){E(!1)}))}),u}function d(t,i,s){var r,i=e.isEmptyObject(i)?{}:i,s=o(s),d=[],f=e(n(i)),_=f.find(".js-comments-list"),g=f.find(".js-comment-notify"),E=f.find(".js-comment-post-btn"),v=f.find(".js-new-comment-input"),b=function(e){a.toggleAttribute(v,"disabled",e),a.toggleAttribute(g,"disabled",e),a.toggleAttribute(E,"disabled",!0),a.toggleAttribute(E,"data-is-loading",e)},T=function(){return{notify:!(!g||!g.prop("checked")),comments:d}},y=function(){setTimeout(function(){_.animate({scrollTop:_.prop("scrollHeight")},h)},m)},C=function(e){var t=-1;d.forEach(function(n,a){n.id===e&&(t=a)}),t>-1&&d.splice(t,1),a.toggleClassName(_,p,_.children().length),r&&r(T())},S=function(e){d.forEach(function(t,n){t.id===e.id&&(d[n]=e)})},I=function(e){var t,n,a;(i.draftMode||l(e))&&(n=d[d.length-1],a=n&&n.id,t=c(e,{id:(a||0)+1,comment:v.val(),editable:i.draftMode}),_.append(new u(t,{_commentWasUpdated:S,_commentWasDeleted:C,_scrollToBottom:y},s,i.draftMode)),_.addClass(p),d.push(t),r&&r(T()),y())};return i.draftMode=!i.hasOwnProperty("draftMode")||i.draftMode,v.on("keyup",function(){a.toggleAttribute(E,"disabled",!e(this).val().trim())}),f.find("form").on("submit",function(t){var n=v.val().trim();if(t.preventDefault(),!n)return void a.toggleAttribute(E,"disabled",!0);b(!0),e.when(s.post({notify:g&&g.prop("checked"),comment:n})).then(function(e){I(e)}).always(function(){v.val(""),b(!1)})}),e.isArray(i.comments)&&i.comments.forEach(function(e){I(e)}),t.append(f),{getData:T,onDataChanged:function(t){e.isFunction(t)&&(r=t)},scrollToBottom:y}}var p="border-bottom-1 border-bottom-solid bon-jour-border",h=350,m=100;return d}),define("lib/licenseHistoryConstants",[],function(){"use strict";return{TAB_PURCHASES:"tab-purchases",TAB_USERS:"tab-users",TAB_GROUPS:"tab-groups",TAB_LICENSE_RECORDS:"tab-license-records",TAB_QUOTES:"tab-quotes",TAB_LICENSE_REQUESTS_RECEIVED:"tab-license-requests-received",TAB_LICENSE_REQUESTS_SENT:"tab-license-requests-sent",isTablLicenseRequests:function(e){return"tab-license-requests-received"===e||"tab-license-requests-sent"===e},QUOTES:{ACTIONS:{DOWNLOAD:"download-quote"},STATUS:{PENDING:0,ACTIVE:1}},LICENSE_REQUESTS:{ACTIONS:{APPROVE:"approve",EDIT:"edit",DELETE:"delete",REFUSE:"refuse"},STATUS:{PENDING:"pending",DRAFT:"draft",REFUSED:"refused",ACCEPTED:"approved"}},LOAD_TAB_PURCHASES:"load-tab-purchases",BUTTON_LICENSE_ACTION_ID:"cart",ROUTES:{QUOTES:"/Member/EnterpriseReport?current_tab=tab-quotes",LICENSE_RECORDS:"/Member/EnterpriseReport?current_tab=tab-license-records"},getMockedRequestsModalData:function(e){return{are_assets_purchasable:!0,can_license_transfer:!0,quotas_data_by_license_type_id:{43:{quota:363,label_type:"credits"}},currency_data_by_license_type_id:{43:{currency_value:10,currency_type:1}},taxes:{included:!0,rate:5.1},license_references:{mandatory_references:{1:"Project Name"},optional_references:{7:"ISBN"}},approvers:[{guid:"111@AdobeId",displayName:"Lewis Carroll"},{guid:"222@AdobeId",displayName:"Frank Lloyd Wright"},{guid:"333@AdobeId",displayName:"Francis Bacon"}],comments:[{id:"123e4567-e89b-12d3-a456-426655440000",authorDisplayName:"Rick",comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",createdAt:"15/07/2018"}],license_requests:[{id:169434290,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434290_CLuI3BJQcsggPLSf9CLcSQFhgmFEgcIj.jpg"},{id:169434290,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434290_CLuI3BJQcsggPLSf9CLcSQFhgmFEgcIj.jpg"},{id:169434293,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434291_JuNjK29eWbQQsdkL8YIktvR9xm1Xav8j.jpg"},{id:169434292,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434292_UwiIX7XUNqoZCmgh1yw5ZvmETX3oVs2p.jpg"},{id:169434291,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434273_hynWhmPxSAwod8jbtd5WaIZHbbsMV4d3.jpg"}].map(function(e){return{id:e.id+"_guid",approvers:function(){var e;if(e=Math.floor(4*Math.random()))return[111*e+"@AdobeId"]}(),license_references:169434291!=e.id&&{1:"1234".split("").sort(function(){return.5-Math.random()}).join(""),7:"same ISBN value"},comments:[{id:"123e4567-e89b-12d3-a456-426655440000",authorDisplayName:"Rick",comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",createdAt:"15/07/2018"}],content_id:e.id,content_thumb_url:e.url,is_allowed_and_purchasable:!0,possible_licenses:[1,2],license_details:{1:{license_price:"1 Credit",facing_price:"$10.00",license_type_id:43,user_facing_license_type_label:"Standard License",is_included_in_current_plan:!0,quota:1,asset_details:"Standard Image"},2:{license_price:"2 Credits",facing_price:"$20.00",license_type_id:43,user_facing_license_type_label:"Extended License",is_included_in_current_plan:!1,quota:2,asset_details:"Extended Image"}}}})}}}}),define("lib/licenseRequestModal",["jquery","i18n","i18n-config","page_config","lib/ajax","lib/licenseHistoryConstants"],function(e,t,n,a,i,s){"use strict";function r(){var e,t,n={},a=y.mandatory_references||{},i=y.optional_references||{};for(e in a)n[e]=[];for(e in i)n[e]=[];return S.map(function(t){for(e in y.mandatory_references)C[t].requires_references_info=!C[t].license_references[e];return C[t].license_references}).forEach(function(a){for(e in n)t=a[e]||"",n[e].indexOf(t)<0&&n[e].push(t)}),n}function l(){var e,t,n,a={client_name:[],notes:[]},i=!1;return S.forEach(function(s){n=C[s].license_transfer||null,e="",t="",n&&(e=C[s].license_transfer.client_name||"",t=C[s].license_transfer.notes||"",C[s].requires_transfer_info=!e,i=!0),a.client_name.indexOf(e)<0&&a.client_name.push(e),a.notes.indexOf(t)<0&&a.notes.push(t)}),i?a:null}function o(e){var e=e||{},t=S.length?S:Object.keys(e),n=t.map(function(t){return e[t]&&e[t].approvers||[]}),a=n.reduce(function(e,t){return e.filter(function(e){return t.indexOf(e)>=0})},n[0]||[]),i=n.reduce(function(e,t){return e.concat(t)},[]).filter(function(e,t,n){return n.indexOf(e)===t&&a.indexOf(e)<0});return{common:a,indeterminate:i}}function c(e){var t;for(t in C)e.find('.js-modal-asset-request-info-status[data-rel="'+t+'"] i').removeClass("red lust-text green apple-text").addClass(h(t)?"green apple-text":"red lust-text")}function u(e,t){e.find(".js-edit-all-disclaimer").attr("data-is-hidden",1===t)}function d(t,n){var s={data:{draftMode:t,notifyCheckbox:!1,comments:n||[]},actions:null};return t?s:(s.actions={post:function(t){var n=[],s=e.Deferred();return S.forEach(function(e){n.push({id:e,comment:t.comment})}),i.post(a.base_url+"/Ajax/license-requests/comments/create",{comments:n}).then(function(t){e.isArray(t)?s.resolve(t[0]):s.reject()}).fail(function(){s.reject()}),s.promise()}},s)}function p(e,t){var n=o(t),e=e||[];return e.map(function(e){return{id:e.guid,value:e.displayName,selected:n.common.indexOf(e.guid)>=0,indeterminate:n.indeterminate.indexOf(e.guid)>=0}})}function h(e){return!(C[e].requires_approvers_info||C[e].requires_references_info||C[e].requires_transfer_info)}function m(){var e,t=!0;for(e in C)if(!C[e].is_removed&&!h(e)){t=!1;break}return t}function f(t){var n=!1;if(!e.isEmptyObject(t))for(var a in t)if(t[a].length>1){n=!0;break}return n}function _(e,a){var i=b;a>0&&(i=t.sprintf(n.ngettext("LIBRARY::ACTION::%s item selected","LIBRARY::ACTION::%s items selected",a),a)),e.find(".js-modal-bulk-selection-all-checkbox-label").text(i)}var g={default:n.gettext("FORM::INPUT::Type here"),missMatchedValues:n.gettext("FORM::INPUT::Values entered do not match")},E={missMatchedValues:n.gettext("LICENSE::REQUEST::Values entered for selected assets do not match:")},v={missMatchedValues:n.gettext("LICENSE::REQUEST::References entered for selected assets do not match:")},b=n.gettext("LIBRARY::ACTION::Select all assets"),T=null,y={},C=[],S=[];return{init:function(t,n,a,i,s,o){S=[],C=t.license_requests,y=t.license_references||{},T=null,n.find(".js-modal-table-asset-row").addClass("cursor-pointer"),n.on("click",".js-modal-table-asset-row",function(t){var n=e(t.target),i=null;n.is("input")||!(i=n.attr("data-select")||n.parent().attr("data-select")||n.parent().parent().attr("data-select"))||1===S.length&&S[0]===i||a.selectOnlyOneItemById(i)});var d=function(e){var t;if(S=Object.keys(e||{}),!(t=S.length))for(var a in C)C[a].is_removed||S.push(a);_(n,t),s&&s.setTransferData(l(),g,E),i&&i.setReferences(r(),g,v),o&&(S.forEach(function(e){C[e].requires_approvers_info=!C[e].approvers||0==C[e].approvers.length}),o.setListData(p(T,C),!0)),u(n,S.length),c(n)};a&&a.onDataChanged(d),i&&i.onDataChanged(function(e){S.forEach(function(t){var n;C[t].license_references=e;for(n in y.mandatory_references)C[t].requires_references_info=!e[n]}),c(n)}),s&&s.onDataChanged(function(e,t){S.forEach(function(n){t?(C[n].license_transfer=e,C[n].requires_transfer_info=!e.client_name):(C[n].license_transfer=null,C[n].requires_transfer_info=!1)}),c(n)}),o&&(T=t.approvers,o.onDataChanged(function(e){S.forEach(function(t){C[t].approvers=e,C[t].requires_approvers_info=0==e.length}),c(n)})),d()},isFulfilled:function(){var e=!1,t=r(),n=l(),a=o(C);return f(t)||f(n)||T&&!(a.common.length>0)||!m()||(e=!0),e},getFormData:function(e){var t,n=[];return S.forEach(function(a){t=C[a],t.is_allowed_and_purchasable&&!t.is_removed&&(e==s.LICENSE_REQUESTS.ACTIONS.APPROVE?n.push({id:t.id,licenseId:t.default_license_id,references:t.license_references||null,licenseTransfer:t.license_transfer?{clientName:t.license_transfer.client_name,notes:t.license_transfer.notes}:null}):n.push({id:t.id,approvers:t.approvers,references:t.license_references||null,asset:{id:t.content_id,licenseId:t.default_license_id}}))}),n},formatApproversData:p,buildCommentsObjectForModal:d,isItemDataFulFilled:h}}),define("lib/selectAllComponent",["jquery","lib/utils"],function(e,t){"use strict";function n(n,r){function l(n){var a=t.isObject(n);r.find(y).each(function(){var t=e(this),i=e(C,t),s=null;i.length&&!i.attr("disabled")&&(a?(s=void 0!==n[i.val()],g&&(s=!s)):s=n,s?t.addClass(S):t.removeClass(S),i.prop("checked",s))})}function o(){_.forEach(function(e){e(m,g)},this)}function c(){var e=a,t=0;if(g)return i;for(var n in f)t+=1,void 0!==m[n]&&(e+=1);return t&&(e/=t),e!==a&&e!==i&&(e=s),e}function u(){var e=c();r.find(T).prop("checked",e===i||e===s),r.find(T).prop("indeterminate",e===s)}function d(t){var n;v>=E||!I||(n=Object.keys(m).length,g!=t?(O=e(I({select:t,total_escaped:parseInt(E,10),total_selected:n})),O.on("click",function(){g=!g,m={},o(),l(g),r.find(T).prop("indeterminate",!1),r.find(T).prop("checked",g),O=null,e(this).hide()}),k.html(O).show()):k.hide())}function p(e){f[e]&&(m[e]=f[e])}function h(){m={},g=!1,k.hide().html(null),r.find(T).prop("checked",!1),r.find(T).prop("indeterminate",!1)}var r=r instanceof e?r:e("body"),m={},f={},_=[],g=!1,E=0,v=0,n=n||{},b=n.dataModel||{},T=n.toggleAllSelector,y=n.elementSelector,C=n.elementCheckboxSelector,S=n.classNameSelected||"is-selected",I=n.selectAllMessageTemplate,O=null,k=e(n.messageWrapperSelector);this.reset=function(){h(),l(!1),o()},this.getData=function(){return m},this.isGlobalSelected=function(){return g},this.onDataChanged=function(e){t.isFunction(e)&&_.push(e)},this.newCurrentDataSet=function(e){f={},k.hide(),t.isObject(e)&&(f=e),l(m),u()},this.setSelectAllMessageData=function(e){E=e.total,(v=e.perPage)&&r.find(T).prop("disabled",!E)},this.setSelectAllMessageData({total:k.data("total-rows"),perPage:k.data("rows-per-page")}),this.disableItem=function(e){r.find(C+'[value="'+e+'"]').attr("disabled",!0).prop("checked",!1).trigger("change").parent().removeClass(S)},this.enableItem=function(e){r.find(C+'[value="'+e+'"]').removeAttr("disabled")},this.selectOnlyOneItemById=function(e){r.find(C+'[value="'+e+'"]').attr("disabled")||(h(),r.find(T).prop("indeterminate",!0),p(e),l(m),o())},r.find(C).each(function(){f[this.value]={};for(var e in b)f[this.value][e]=this.getAttribute(b[e])}),r.on("change",T,function(e){var t=this.checked,n=t;l(t),g&&(n=!t);for(var a in f)n&&!r.find(C+'[value="'+a+'"]').attr("disabled")?m[a]=g||f[a]:delete m[a];o(),d(t)}),r.on("change",C,function(t){var n=e(this),a=n.val(),i=n.closest(y);this.checked?(g||p(a),i.addClass(S)):(g?p(a):delete m[a],i.removeClass(S)),O&&(O.hide(),O=null),o(),u()})}var a=0,i=1,s=2;return n}),define("hbs!templates/components/bulkSelectionModal/multipleSelectFormComponent",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" disabled"},3:function(e,t,n,a){return'            <i class="select-component-button-icon js-select-component-button-icon mti-icon mti-large icon-arrow-down mti-icon--suffix to-the-right margin-right-xsmall"></i>\n'},5:function(e,t,n,a){var i,s;return'            <li class="select-component-list-item js-select-component-list-item padding-bottom-small">\n                <label class="cursor-pointer truncate" data-t="drop-down-option-label">\n                    <input class="js-select-component-list-checkbox"'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.isSingleMandatoryOption,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+" data-index="+this.escapeExpression((s=null!=(s=t.index||a&&a.index)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+' data-t="drop-down-option-checkbox" type="checkbox"'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.selected:e,(i=a&&a.root)&&i.isSingleMandatoryOption,{name:"if-or",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                    <span class="select-component-list-label padding-left-small text-sregular'+(null!=(i=t.if.call(e,null!=e?e.selected:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="drop-down-option-text">'+this.escapeExpression(this.lambda(null!=e?e.value:e,e))+"</span>\n                </label>\n            </li>\n"},6:function(e,t,n,a){return' checked="checked"'},8:function(e,t,n,a){return" blue bleu-de-france-text"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="multiple-select-component-container js-multiple-select-component-container container-relative margin-right-xsmall">\n    <button type="button" class="select-component-button js-select-component-button border-1 border-radius-4 container-full padding-left-small padding-top-xsmall padding-bottom-xsmall padding-right-large left-align truncate text-sregular"'+(null!=(i=t.if.call(e,null!=e?e.isSingleMandatoryOption:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <span class="js-select-component-button-text">'+this.escapeExpression((s=null!=(s=t.defaultValue||(null!=e?e.defaultValue:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"defaultValue",hash:{},data:a}):s))+"</span>\n"+(null!=(i=t.unless.call(e,null!=e?e.isSingleMandatoryOption:e,{name:"unless",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a
}))?i:"")+'    </button>\n    <ul class="select-component-list js-select-component-list padding-top-small padding-left-small padding-right-small padding-bottom-xsmall border-1 border-solid bon-jour-border border-radius-4 card--shadow white container-full container-absolute container-below no-wrap overflow-hidden overflow-y-scroll in-front" data-is-hidden="true">\n'+(null!=(i=t.each.call(e,null!=e?e.valuesList:e,{name:"each",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"    </ul>\n</div>\n"},useData:!0})}),define("components/multipleSelectFormComponent",["jquery","hbs!templates/components/bulkSelectionModal/multipleSelectFormComponent"],function(e,t){"use strict";function n(e,t,n){var i=e,s=t.filter(function(e){return e.selected});return n?i=t[0].value:s.length&&(i=a(s)),i}function a(e){var t,n=[];return e.forEach(function(e){t?n.push(e.value):t=e.value}),t+=n.length?" ("+n.join(", ")+")":""}return function(a,i,s,r){var l,o,c,u,d,p,h,m,f,_,g,E=e("body"),v=this,b=i,T=function(e){e&&e.preventDefault(),l=!l,h.toggle(),p.toggleClass("icon-arrow-down icon-arrow-up")},y=function(t){l&&!e(t.target).closest(".js-multiple-select-component-container").length&&T()},C=function(){var e=!_||v.data().length;return e?u.removeClass("error"):u.addClass("error"),!!e},S=function(){return g.reduce(function(e,t){return t.selected&&e.push(t.id),e},[])},I=function(i,s){g=e.extend(!0,[],i),l=!1,_=s,o=1===g.length&&_,c=e(t({isSingleMandatoryOption:o,defaultValue:n(b,g,o),valuesList:g})),u=c.find(".js-select-component-button"),d=u.find(".js-select-component-button-text"),p=u.find(".js-select-component-button-icon"),h=c.find(".js-select-component-list"),m=c.find(".js-select-component-list-checkbox"),o?g[0].selected=!0:(E.on("click",y),c.on("click",".js-select-component-button",T),m.on("change",function(t){var a=e(this),i=a.attr("data-index"),s=a.prop("checked"),r=a.next(".select-component-list-label");s?r.addClass("blue bleu-de-france-text"):r.removeClass("blue bleu-de-france-text"),g[i].selected=s,d.text(n(b,g,o)),f&&f(S()),C()}),m.each(function(e,t){t.indeterminate=!g[e].selected&&g[e].indeterminate})),a.append(c)};this.data=S,this.onDataChanged=function(t){e.isFunction(t)&&(f=t)},this.setListData=function(e,t){this.destroy(),I(e,t),C()},this.valid=function(){return C()},this.destroy=function(){c&&c.remove(),E.off("click",y)},I(s,r)}}),define("hbs!templates/modalWindow/quoteDetailsFieldSet",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="js-quote-details-wrapper">\n        <div class="column on-small-12 on-medium-12 margin-bottom-medium margin-top-medium">\n            <div class="margin-bottom-xsmall margin-top-small left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{required:!0,placeholder:(t._||e&&e._||t.helperMissing).call(e,"FORM::INPUT::Type here",{name:"_",hash:{},data:a}),dataT:"quote-title",name:"title",label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Quote title",{name:"_",hash:{},data:a})},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div class="margin-bottom-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{dataT:"quote-notes",placeholder:(t._||e&&e._||t.helperMissing).call(e,"FORM::INPUT::Type here",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Additional Notes",{name:"_",hash:{},data:a}),type:"textarea",name:"notes"},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n        </div>\n        <div class="column on-small-12 on-medium-12 white border-2 border-solid border-radius-4 bleu-de-france-border padding-medium">\n            <div class="text-sregular grey dove-text margin-bottom-medium">\n                <strong data-t="quote-details-information-title-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Important",{name:"_",hash:{},data:a}))+'</strong>\n                <i class="mti-icon icon-infofull right blue bleu-de-france-text"></i>\n            </div>\n            <div class="text-sregular grey dove-text" data-t="quote-details-information-body-text">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::This quote will be valid for 30 days from the date you generate the quote only and does not grant you any license to use the asset(s).",{name:"_",hash:{},data:a}))+"\n                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Additionally, this quote does not guarantee that the asset(s) listed in the quote will still be available at the time you wish to license the asset(s).",{name:"_",hash:{},data:a}))+"\n            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("components/quoteDetailsFieldSet",["jquery","i18n","i18n-config","components/fieldInputValidator","hbs!templates/modalWindow/quoteDetailsFieldSet"],function(e,t,n,a,i){"use strict";function s(e){var a,i;switch(e){case"title":i=30,a=t.sprintf(n.ngettext("MODAL::QUOTES::ERROR::Quote title cannot exceed %s character.","MODAL::QUOTES::ERROR::Quote title cannot exceed %s characters.",i),i);break;default:i=300,a=t.sprintf(n.ngettext("MODAL::QUOTES::ERROR::Additional notes cannot exceed %s character.","MODAL::QUOTES::ERROR::Additional notes cannot exceed %s characters.",i),i)}return{maxlength:i,message:a}}function r(t){var n={},i=t.find(".js-quote-details-wrapper"),r={};i.find(".js-field-group-input").each(function(){var t=e(this),n=t.attr("name"),i=new a(t,s(n));r[n]={input:t,validator:i,required:t.prop("required")},t.on("input",function(){i.checkValue(t.val())}).on("blur",function(){i.hideToolTip()})}),this.data=function(){var e,t;for(e in r)t=r[e].input,n[e]=t.val().trim();return n},this.valid=function(){var e,t,n,a=!0;for(t in r)if(e=r[t],n=e.input.val().trim(),e.validator.checkValue(n),e.required&&!n){a=!1;break}return a}}return{template:i,init:r}}),define("hbs!templates/modalWindow/bulkSelectionModal",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return' data-ingest-subcategory="'+this.escapeExpression((i=null!=(i=t.ingest_subcategory||(null!=e?e.ingest_subcategory:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"ingest_subcategory",hash:{},data:a}):i))+'"'},3:function(e,t,n,a){return" border-right-solid"},5:function(e,t,n,a){return'                                <div class="js-modal-taxes-details container-inline-block left-align v-align-top text-sregular padding-left-large"></div>\n'},7:function(e,t,n,a){return"                                    <br/>\n                                    <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::Please note that you can still purchase these assets on-demand from their detail page.",{name:"_",hash:{},data:a}))+"</span>\n"},9:function(e,t,n,a){return'                            <label class="container-inline-block cursor-pointer grey gravel-text padding-left-xsmall margin-bottom-small margin-left-small">\n                                <input type="checkbox" value="all" class="js-modal-bulk-selection-all-checkbox margin-right-small" data-t="selected-assets-select-all-checkbox">\n                                <span class="js-modal-bulk-selection-all-checkbox-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARY::ACTION::Select all assets",{name:"_",hash:{},data:a}))+"</span>\n                            </label>\n"},11:function(e,t,n,a){return" on-medium-6"},13:function(e,t,n,a){return" on-medium-12"},15:function(e,t,n,a){var i;return'                                    <div class="js-modal-bulk-selection-tabs column on-small-12 on-medium-6">\n                                        <div class="padding-medium">\n'+(null!=(i=t.if.call(e,null!=e?e.display_edit_all_disclaimer:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+'\n                                            <div class="modal-bulk-selection--tabs container-relative">\n                                                <ul>\n'+(null!=(i=t.if.call(e,null!=e?e.display_quote_details:e,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.display_art_buyers:e,{name:"if",hash:{},fn:this.program(20,a,0),inverse:this.program(22,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer:e,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.display_license_comments:e,{name:"if",hash:{},fn:this.program(27,a,0),inverse:this.noop,data:a}))?i:"")+"                                                </ul>\n                                            </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.display_quote_details:e,{name:"if",hash:{},fn:this.program(29,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.display_art_buyers:e,null!=e?e.display_license_references:e,{name:"if-or",hash:{},fn:this.program(34,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer:e,{name:"if",hash:{},fn:this.program(39,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_comments:e,{name:"if",hash:{},fn:this.program(41,a,0),inverse:this.noop,data:a}))?i:"")+"                                        </div>\n                                    </div>\n"},16:function(e,t,n,a){return'                                                <div class="js-edit-all-disclaimer theme blue bleu-de-france white-text text-sregular border-radius-4 padding-small center-align margin-bottom-small">\n                                                    <span data-t="note-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::Please note that all your edits will apply to all selected assets",{name:"_",hash:{},data:a}))+"</span>\n                                                </div>\n"},18:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_details_tab_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Quote Details",{name:"_",hash:{},data:a}),dataT:"quote-details-tab-text",tab:"quote_details"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},20:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_details_tab_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::Request details",{name:"_",hash:{},data:a}),dataT:"request-details-tab-text",tab:"license_references"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},22:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.display_license_references:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:""},23:function(e,t,n,a){var i;return(null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_details_tab_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::References",{name:"_",hash:{},data:a}),dataT:"references-tab-text",tab:"license_references"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:"")+"                                                    "},25:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_license_transfer_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::License Transfer",{name:"_",hash:{},data:a}),dataT:"license-tranfer-tab-text",tab:"license_transfer"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},27:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{counterLabel:null!=e?e.display_nb_comments:e,counterIdentifier:"js-comments-count-label",active:null!=e?e.display_license_comments_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::Comments",{name:"_",hash:{},data:a}),dataT:"license-comments-tab-text",tab:"license_comments"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},29:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="quote_details" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_details_tab_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/quoteDetailsFieldSet"],e,{name:"modalWindow/quoteDetailsFieldSet",data:a,indent:"                                                    ",helpers:t,partials:n}))?i:"")+"                                                </div>\n"},30:function(e,t,n,a){return"false"},32:function(e,t,n,a){return"true"},34:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="license_references" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_details_tab_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n'+(null!=(i=t.if.call(e,null!=e?e.display_art_buyers:e,{name:"if",hash:{},fn:this.program(35,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.display_license_references:e,{name:"if",hash:{},fn:this.program(37,a,0),inverse:this.noop,data:a}))?i:"")+"                                                </div>\n"},35:function(e,t,n,a){return'                                                        <div class="art-buyers-select-form padding-bottom-large padding-top-large border-bottom-1 border-bottom-solid nurse-border">\n                                                            <div class="row">\n                                                                <div class="column on-small-12 on-medium-6">\n                                                                    <div class="margin-bottom-small">\n                                                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ART BUYER(S)",{name:"_",hash:{},data:a}))+'\n                                                                    </div>\n                                                                    <div class="js-artbuyer-select-form-container">\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n'},37:function(e,t,n,a){var i;return'                                                        <div class="row">\n                                                            <div class="left-align">\n                                                                <p>\n                                                                    <span class="text-up" data-t="references-title-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::HISTORY::References",{name:"_",hash:{},data:a}))+'</span>\n                                                                    <span class="right grey dove-text text-sregular" data-t="references-mandatory-note-text"><sup>*</sup>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Mandatory References",{name:"_",hash:{},data:a}))+"</span>\n                                                                </p>\n                                                            </div>\n                                                        </div>\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesFieldSet"],e,{name:"modalWindow/licenseReferencesFieldSet",data:a,indent:"                                                        ",helpers:t,partials:n}))?i:"")},39:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="license_transfer" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseTransferFieldSet"],e,{name:"modalWindow/licenseTransferFieldSet",data:a,indent:"                                                    ",helpers:t,partials:n}))?i:"")+"                                                </div>\n"},41:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="license_comments" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_license_comments_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n                                                    <div class="js-license-comments-wrapper padding-top-medium container-relative"></div>\n                                                </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div class="mti-modal modal-bulk-selection js-modal-bulk-selection modal--large modal--secondary modal--with-header animated fade-in" data-state="shown"'+(null!=(i=t.if.call(e,null!=e?e.ingest_subcategory:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="modal__body overflow-visible">\n            <i class="modal__close mti-icon icon-close js-modal-hide-modal" data-t="close-icon"></i>\n            <form class="js-modal-licensing-bulk-form" method="post" novalidate>\n                <div class="modal__header center-align">\n                    <span data-t="modal-bulk-title">'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"title",hash:{},data:a}):s))+'</span>\n                </div>\n                <div class="modal__content grey gravel-text">\n                    <div class="js-modal-bulk-content-wrapper container-relative padding-large">\n                        <div class="border-1 border-solid border-radius-4 white nurse-border padding-medium margin-bottom-xlarge">\n                            <div class="container-inline-block padding-right-large '+(null!=(i=t.if.call(e,null!=e?e.display_totals_with_taxes:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'">\n                                <table class="left-align v-align-top text-sregular">\n                                    <tbody>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge" data-t="number-of-assets-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Number of assets",{name:"_",hash:{},data:a}))+'</td>\n                                            <td class="js-modal-nb-assets" data-t="number-of-assets-text-value"></td>\n                                        </tr>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge">\n                                                <strong data-t="price-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Price",{name:"_",hash:{},data:a}))+'</strong>\n                                            </td>\n                                            <td class="js-modal-total-prices-column"></td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n'+(null!=(i=t.if.call(e,null!=e?e.display_totals_with_taxes:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'                            <div class="js-error-header left-align v-align-top text-small red lust-text" data-is-hidden="true">\n                                <i class="mti-icon icon-alert"></i>\n                                <span class="js-error-header-message"></span>\n'+(null!=(i=t.if.call(e,null!=e?e.credit_card_purchase_enabled:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'                            </div>\n                            <div class="js-error-additional-licensing-disabled left-align v-align-top text-small red lust-text" data-is-hidden="true">\n                                <i class="mti-icon icon-alert"></i>\n                                <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::Sorry, Your selection contains assets that cannot be licensed multiple times.",{name:"_",hash:{},data:a}))+"</span>\n                            </div>\n                        </div>\n"+(null!=(i=t.if.call(e,null!=e?e.assets_selectable:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'                        <div class="border-1 border-solid border-radius-4 nurse-border">\n                            <div class="row">\n                                <div class="column on-small-12'+(null!=(i=t.if.call(e,null!=e?e.has_modal_tabs:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+'">\n                                    <div class="modal-bulk-selection-assets-wrapper overflow-scroll border-right-solid grey alabaster">\n'+(null!=(i=this.invokePartial(n["components/bulkSelectionModal/assetsTable"],e,{name:"components/bulkSelectionModal/assetsTable",hash:{tableIsSelectable:null!=e?e.assets_selectable:e,assets:null!=e?e.assets:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"                                    </div>\n                                </div>\n"+(null!=(i=t.if.call(e,null!=e?e.has_modal_tabs:e,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")+'                            </div>\n                        </div>\n                        <div class="js-modal-bulk-selection-tooltip tooltip tooltip--fixed-width in-front" data-is-hidden="true"></div>\n                    </div>\n                </div>\n                <div class="modal__footer right-align">\n'+(null!=(i=this.invokePartial(n.footerButtonsTemplate,e,{name:"footerButtonsTemplate",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/components/bulkSelectionModal/assetsTable",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" table--condensed"},3:function(e,t,n,a,i,s){var r,l;return'            <tr class="js-modal-table-asset-row js-modal-tr-'+this.escapeExpression((l=null!=(l=t.key||a&&a.key)?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"key",hash:{},data:a}):l))+(null!=(r=t.unless.call(e,null!=e?e.is_selectable:e,{name:"unless",hash:{},fn:this.program(4,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" data-select="'+this.escapeExpression((l=null!=(l=t.key||a&&a.key)?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"key",hash:{},data:a}):l))+'" data-t="selected-asset-'+this.escapeExpression(this.lambda(null!=e?e.content_id:e,e))+'">\n'+(null!=(r=t.if.call(e,null!=s[1]?s[1].tableIsSelectable:s[1],{name:"if",hash:{},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'                <td class="table__td">\n                    <div class="license-image container-relative">\n                        <img class="c-align pointer-events-none" src="'+this.escapeExpression(this.lambda(null!=e?e.content_thumb_url:e,e))+'" data-t="selected-asset-thumbnail"/>\n                    </div>\n                </td>\n'+(null!=(r=t.with.call(e,t.lookup.call(e,null!=e?e.license_details:e,null!=e?e.default_license_id:e,{name:"lookup",hash:{},data:a}),{name:"with",hash:{},fn:this.program(9,a,0,i,s),inverse:this.noop,data:a}))?r:"")+(null!=(r=t.if.call(e,null!=s[1]?s[1].tableIsSelectable:s[1],{name:"if",hash:{},fn:this.program(12,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'                <td class="table__td center-align">\n                    <div class="margin-right-medium table-assets-select__actions">\n'+(null!=(r=t.if.call(e,null!=e?e.is_selectable:e,{name:"if",hash:{},fn:this.program(15,a,0,i,s),inverse:this.program(17,a,0,i,s),data:a}))?r:"")+"                    </div>\n                </td>\n            </tr>\n"},4:function(e,t,n,a){return" disabled"},6:function(e,t,n,a){var i,s;return'                    <td class="table__td table__checkbox">\n                        <input type="checkbox" class="js-modal-table-asset-checkbox" value="'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'" data-t="selected-asset-checkbox" '+(null!=(i=t.unless.call(e,null!=e?e.is_selectable:e,{name:"unless",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+"/>\n                    </td>\n"},7:function(e,t,n,a){return' disabled="disabled"'},9:function(e,t,n,a,i,s){var r,l;return'                    <td class="table__td">\n                        <div class="js-modal-license-dropdown license-dropdown'+(null!=(r=t.unless.call(e,null!=s[1]?s[1].has_multiple_licenses:s[1],{name:"unless",hash:{},fn:this.program(10,a,0,i,s),inverse:this.noop,data:a}))?r:"")+' container-relative padding-right-large" data-rel="'+this.escapeExpression((l=null!=(l=t.key||a&&a.key)?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"key",hash:{},data:a}):l))+'">\n'+(null!=(r=this.invokePartial(n["components/bulkSelectionModal/columnLicenseDetails"],e,{name:"components/bulkSelectionModal/columnLicenseDetails",hash:{asset_details:null!=e?e.asset_details:e,is_additional_licensing_disabled:null!=e?e.is_additional_licensing_disabled:e,license_type_label:null!=e?e.license_type_label:e},data:a,indent:"                            ",helpers:t,partials:n}))?r:"")+'                        </div>\n                    </td>\n                    <td class="js-modal-license-price table__td" data-rel="'+this.escapeExpression((l=null!=(l=t.key||a&&a.key)?l:t.helperMissing,"function"==typeof l?l.call(e,{name:"key",hash:{},data:a}):l))+'">\n'+(null!=(r=this.invokePartial(n["components/bulkSelectionModal/columnLicensePrice"],e,{name:"components/bulkSelectionModal/columnLicensePrice",hash:{facing_price:null!=e?e.facing_price:e,license_price:null!=e?e.license_price:e,display_license_price:null!=e?e.display_license_price:e,is_additional_licensing_disabled:null!=e?e.is_additional_licensing_disabled:e},data:a,indent:"                        ",helpers:t,partials:n}))?r:"")+"                    </td>\n"},10:function(e,t,n,a){return" disabled pointer-events-none"},12:function(e,t,n,a){var i;return'                    <td class="table__td center-align">\n'+(null!=(i=t.if.call(e,null!=e?e.is_selectable:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+"                    </td>\n"},13:function(e,t,n,a){var i;return'                            <span class="js-modal-asset-request-info-status request-info-status cursor-pointer" data-rel="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'" data-select="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'" data-t="request-info-status">\n                                <i class="mti-icon icon-radio-active text-sregular no-padding"></i>\n                            </span>\n'},15:function(e,t,n,a){var i;return'                            <span class="js-modal-asset-toggle-remove table-assets-select__action cursor-pointer" data-rel="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'" data-t="remove-from-selection-button">\n                                <i class="mti-icon mti-icon--framed icon-close half-heavy-metal-overlay white-text text-regular no-padding"></i>\n                            </span>\n'},17:function(e,t,n,a){var i;return'                            <i class="js-modal-icon-alert mti-icon icon-alert red lust-text" data-rel="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'" data-t="selected-asset-disabled-info"></i>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<table class="table-assets-select table table--default'+(null!=(r=t.if.call(e,null!=e?e.tableIsSelectable:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'">\n    <tbody>\n'+(null!=(r=t.each.call(e,null!=e?e.assets:e,{name:"each",hash:{},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"    </tbody>\n</table>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("hbs!templates/components/bulkSelectionModal/columnLicenseDetails",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return' class="red bright-text"'},3:function(e,t,n,a){var i;return'            <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.type_label||(null!=e?e.type_label:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"type_label",hash:{},data:a}):i))+'</span>\n            <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.sub_type_label||(null!=e?e.sub_type_label:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"sub_type_label",hash:{},data:a}):i))+'</span>\n            <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.resolution||(null!=e?e.resolution:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"resolution",hash:{},data:a}):i))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return"<div"+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,(t.not||e&&e.not||t.helperMissing).call(e,null!=e?e.is_included_in_current_plan:e,{name:"not",hash:{},data:a}),null!=e?e.is_additional_licensing_disabled:e,{name:"if-or",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' >\n    <span class="container-block" data-t="selected-asset-license-label">'+this.escapeExpression((s=null!=(s=t.user_facing_license_type_label||(null!=e?e.user_facing_license_type_label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"user_facing_license_type_label",hash:{},data:a}):s))+'</span>\n    <div class="font-thin text-small" data-t="selected-asset-license-details">\n'+(null!=(i=t.with.call(e,null!=e?e.asset_details:e,{name:"with",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'    </div>\n    <i class="container-absolute mti-icon mti-icon--framed icon-down to-the-right no-padding text-regular"></i>\n</div>\n'},useData:!0})});define("hbs!templates/components/bulkSelectionModal/columnLicensePrice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s
;return'    <span class="container-block'+(null!=(i=t.if.call(e,null!=e?e.is_additional_licensing_disabled:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="selected-asset-license-price">\n'+(null!=(i=t.if.call(e,null!=e?e.quota_price:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+'    </span>\n    <span class="container-block font-thin text-small'+(null!=(i=t.if.call(e,null!=e?e.is_additional_licensing_disabled:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="selected-asset-license-facing-price">'+this.escapeExpression((s=null!=(s=t.facing_price||(null!=e?e.facing_price:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"facing_price",hash:{},data:a}):s))+"</span>\n"},2:function(e,t,n,a){return" red bright-text"},4:function(e,t,n,a){var i;return"            "+this.escapeExpression((i=null!=(i=t.quota_price||(null!=e?e.quota_price:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"quota_price",hash:{},data:a}):i))+"\n"},6:function(e,t,n,a){var i;return"            "+this.escapeExpression((i=null!=(i=t.license_price||(null!=e?e.license_price:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"license_price",hash:{},data:a}):i))+"\n"},8:function(e,t,n,a){return'    <span class="container-block">-</span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.display_license_price:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(8,a,0),data:a}))?i:""},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/columnTotalPrices",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'    <p class="no-margin text-sregular">\n        <span class="quota" data-t="price-text-value-free">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Free",{name:"_",hash:{},data:a}))+"\n\n        </span>\n    </p>\n"},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.total_prices_are_included_in_your_plan:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:""},4:function(e,t,n,a){return'    <p class="no-margin text-sregular">\n        <span class="quota" data-t="price-text-value-bundle">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Included in your plan",{name:"_",hash:{},data:a}))+"\n        </span>\n    </p>\n"},6:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.total_prices:e,{name:"each",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:""},7:function(e,t,n,a){var i,s;return'        <p class="no-margin text-sregular'+(null!=(i=t.if.call(e,null!=e?e.is_above_available_quota:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'">\n            <span class="quota" data-t="price-text-value-'+this.escapeExpression((s=null!=(s=t.index||a&&a.index)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'">\n                '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=e?e.quota:e,{name:"number",hash:{},data:a}))+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"credits",logic:"eq",value:null!=e?e.quota_type:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"images",logic:"eq",value:null!=e?e.quota_type:e},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"premium_credits",logic:"eq",value:null!=e?e.quota_type:e},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:"")+"            </span>\n            "+(null!=(i=t.if.call(e,null!=e?e.facing_price:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+"\n        </p>\n"},8:function(e,t,n,a){return" red lust-text"},10:function(e,t,n,a){return"                    "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"\n"},12:function(e,t,n,a){return"                    "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"\n"},14:function(e,t,n,a){return"                    "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Premium Credit","HEADER::MEMBER::Premium Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"\n"},16:function(e,t,n,a){var i;return'<strong data-t="price-text-currency-value-'+this.escapeExpression((i=null!=(i=t.index||a&&a.index)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"index",hash:{},data:a}):i))+'">('+this.escapeExpression((i=null!=(i=t.facing_price||(null!=e?e.facing_price:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"facing_price",hash:{},data:a}):i))+")</strong>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.total_prices_are_free:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsApproverLicense",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button class="js-modal-button-approve-request button button--dialog button--action" data-t="modal-license-bulk-btn-cta">\n    <i class="mti-icon icon-shopping-cart margin-right-xsmall"></i>\n    <span data-t="modal-license-bulk-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::Confirm Licensing",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsBulkLicense",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button class="js-modal-button-license button button--dialog button--action" data-t="modal-license-bulk-btn-cta">\n    <i class="mti-icon icon-shopping-cart margin-right-xsmall"></i>\n    <span data-t="modal-license-bulk-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::License",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterCreate",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button type="button" class="js-modal-button-save-request button button--dialog button--action" data-t="modal-license-save-request-btn-cta">\n    <i class="mti-icon icon-pending margin-right-xsmall"></i>\n    <span data-t="modal-license-save-request-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Save",{name:"_",hash:{},data:a}))+'</span>\n</button>\n<button class="js-modal-button-send-request button button--dialog button--action" data-t="modal-license-send-request-btn-cta">\n    <i class="mti-icon icon-share margin-right-xsmall"></i>\n    <span data-t="modal-license-send-request-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Send request",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterEdit",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<label class="switch margin-right-medium margin-left-medium" data-t="modal-license-request-notify-checkbox">\n    <input class="js-modal-license-request-notify-checkbox" type="checkbox" name="notify" />\n    <span class="white-text" data-t="modal-license-request-notify-checkbox-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Notify",{name:"_",hash:{},data:a}))+'</span>\n</label>\n<button class="js-modal-button-update-request button button--dialog button--action" data-t="modal-license-update-request-btn-cta">\n    <i class="mti-icon icon-update margin-right-xsmall"></i>\n    <span data-t="modal-license-update-request-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Update request",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsGenerateQuote",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button class="js-modal-button-generate-quote button button--dialog button--action" data-t="modal-generate-quote-btn-cta">\n    <i class="mti-icon margin-right-xsmall"></i>\n    <span class="padding-left-xsmall padding-right-xsmall" data-t="modal-generate-quote-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Generate Quote",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/taxesDetailsTemplate",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'            <tr class="padding-bottom-xsmall">\n                <td class="padding-right-xlarge" data-t="tax-rate-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Tax Rate",{name:"_",hash:{},data:a}))+'</td>\n                <td data-t="tax-rate-value">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=e?e.taxes_data:e)?i.rate:i,{name:"number",hash:{},data:a}))+'%</td>\n            </tr>\n            <tr class="padding-bottom-xsmall">\n                <td class="padding-right-large"><strong data-t="price-incl-taxes-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Total price (Tax incl.)",{name:"_",hash:{},data:a}))+'</strong></td>\n                <td class="js-modal-total-prices-taxes" data-t="price-incl-taxes-value">'+this.escapeExpression((s=null!=(s=t.prices_including_taxes||(null!=e?e.prices_including_taxes:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"prices_including_taxes",hash:{},data:a}):s))+"</td>\n            </tr>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<table>\n    <tbody>\n        <tr class="padding-bottom-xsmall">\n            <td class="padding-right-xlarge"><strong data-t="price-excl-taxes-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Total price (Tax excl.)",{name:"_",hash:{},data:a}))+'</strong></td>\n            <td class="js-modal-total-prices" data-t="price-excl-taxes-value">'+this.escapeExpression((s=null!=(s=t.prices_excluding_taxes||(null!=e?e.prices_excluding_taxes:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"prices_excluding_taxes",hash:{},data:a}):s))+"</td>\n        </tr>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.taxes_data:e)?i.included:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"    </tbody>\n</table>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintRequestIncomplete",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="selected-asset-status-incomplete-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Incomplete",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintRequestReady",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="selected-asset-status-ready-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Ready",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipErrorPermissions",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"        <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::We are sorry but this content is not available for selling.",{name:"_",hash:{},data:a}))+"</span>\n"},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.quota_unavailable:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:""},4:function(e,t,n,a){return"        <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::You cannot license this asset type with your current plan. Therefore this asset has been removed from your selection.",{name:"_",hash:{},data:a}))+"</span>\n"},6:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.asset_disabled:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:""},7:function(e,t,n,a){return"        <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::You cannot license this asset type due to Administrator restrictions. Therefore this asset has been removed from your selection.",{name:"_",hash:{},data:a}))+"</span>\n    "},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-inline-block white-text text-small" data-t="asset-disabled-text">\n'+(null!=(i=t.if.call(e,null!=e?e.asset_is_not_purchasable:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+"</div>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipErrorQuota",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="above-available-quota-error-text">\n    '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::Your selection exceeds your %s available quota. Please update your selection to continue or ask your administrator to increase your quota.",{name:"_",hash:{},data:a}),null!=e?e.total_quota:e,{name:"sprintf",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipErrorQuotesQuota",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="above-available-quota-error-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::ERROR::Your selection includes Stock assets you may not be able to license",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipLicenseSelect",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'        <label class="text-sregular cursor-pointer" data-t="license-dropdown-radio">\n            <div class="container-relative padding-left-large padding-bottom-small'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.is_included_in_current_plan:e,(t.not||e&&e.not||t.helperMissing).call(e,null!=e?e.is_additional_licensing_disabled:e,{name:"not",hash:{},data:a}),{name:"if-or",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'">\n                <input type="radio" name="license-select-radio" class="js-modal-asset-license-radio container-absolute to-the-left to-the-top margin-top-xsmall"\n                    value="'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'"\n                    data-rel="'+this.escapeExpression(this.lambda((i=a&&a.root)&&i.id,e))+'"\n                    data-t="license-dropdown-radio-input"\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(i=a&&a.root)&&i.default_license_id,logic:"eq",value:a&&a.key},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'                />\n                <span class="container-block no-stretch" data-t="license-dropdown-radio-label">'+this.escapeExpression(this.lambda(null!=e?e.user_facing_license_type_label:e,e))+'</span>\n                <div class="font-thin text-small" data-t="license-dropdown-radio-details">\n'+(null!=(i=t.with.call(e,null!=e?e.asset_details:e,{name:"with",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+"                </div>\n            </div>\n        </label>\n"},2:function(e,t,n,a){return" grey gravel-text"},4:function(e,t,n,a){return" red bright-text"},6:function(e,t,n,a){return'                    checked="true"\n'},8:function(e,t,n,a){var i;return'                        <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.type_label||(null!=e?e.type_label:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"type_label",hash:{},data:a}):i))+'</span>\n                        <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.sub_type_label||(null!=e?e.sub_type_label:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"sub_type_label",hash:{},data:a}):i))+'</span>\n                        <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.resolution||(null!=e?e.resolution:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"resolution",hash:{},data:a}):i))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-top-xsmall padding-left-small padding-right-medium" data-t="selected-asset-license-dropdown-'+this.escapeExpression(this.lambda((i=a&&a.root)&&i.id,e))+'">\n'+(null!=(i=t.each.call(e,null!=e?e.licenses:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"</div>\n"},useData:!0})}),define("lib/bulkSelectionModal",["jquery","i18n","i18n-config","viewHelpers/numberFormatI18n","page_config","lib/ajax","lib/commentsModule","lib/licenseType","lib/licenseHistoryConstants","lib/licenseRequestModal","lib/member","lib/selectAllComponent","lib/utils","components/licenseTransferFieldSet","components/licenseReferencesFieldSet","components/multipleSelectFormComponent","components/quoteDetailsFieldSet","hbs!templates/modalWindow/bulkSelectionModal","hbs!templates/modalWindow/fieldInputValidator","hbs!templates/components/bulkSelectionModal/assetsTable","hbs!templates/components/bulkSelectionModal/columnLicenseDetails","hbs!templates/components/bulkSelectionModal/columnLicensePrice","hbs!templates/components/bulkSelectionModal/columnTotalPrices","hbs!templates/components/bulkSelectionModal/footer/buttonsApproverLicense","hbs!templates/components/bulkSelectionModal/footer/buttonsBulkLicense","hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterCreate","hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterEdit","hbs!templates/components/bulkSelectionModal/footer/buttonsGenerateQuote","hbs!templates/components/bulkSelectionModal/tabsHeaderItem","hbs!templates/components/bulkSelectionModal/taxesDetailsTemplate","hbs!templates/components/bulkSelectionModal/toolTipHintAdd","hbs!templates/components/bulkSelectionModal/toolTipHintRemove","hbs!templates/components/bulkSelectionModal/toolTipHintRequestIncomplete","hbs!templates/components/bulkSelectionModal/toolTipHintRequestReady","hbs!templates/components/bulkSelectionModal/toolTipErrorPermissions","hbs!templates/components/bulkSelectionModal/toolTipErrorQuota","hbs!templates/components/bulkSelectionModal/toolTipErrorQuotesQuota","hbs!templates/components/bulkSelectionModal/toolTipLicenseSelect"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C,S,I,O,k,A,R,x,P,L,D,N,w,M,U){"use strict";function F(t,n){var a=n+" .modal-bulk-selection--tabs__item",i=t.find(a),s=t.find(n+" .tab-content"),r=function(t){i.each(function(){var n=e(this);t!=n.attr("data-tab")?n.removeClass("active"):n.addClass("active")}),s.each(function(){var n=e(this);n.attr("data-is-hidden",t!=n.attr("data-tab"))})};return t.on("click",a,function(){r(e(this).attr("data-tab"))}),{select:r}}function j(e,t,n,a,i){var s=t.positionRelativeTo(".js-modal-bulk-content-wrapper");e.removeClass("tooltip--top tooltip--secondary tooltip--bottom tooltip--error tooltip--primary"),e.addClass(n),e.css({top:s.top+a,left:s.left+i}).attr("data-is-hidden",!1)}function H(e,t){var n=0;for(var a in e){var i=e[a];(!i.is_removed&&t?i.is_quotable:i.is_allowed_and_purchasable)&&(n+=1)}return n}function V(e,t,n,i){var s,r,o,c,u,d,p,h,m,f,_={},g={};for(s in e)u=e[s],re(u)&&!u.is_bundle_licensable&&(f=u.default_license_id,o=$(u,f),r=o.license_type_id,o.display_license_price&&t.hasOwnProperty(r)&&(g.hasOwnProperty(r)?g[r]+=o.quota:g[r]=o.quota));for(r in g)h=g[r],n&&n[r]&&(d=n[r],p=d.currency_type,m=h*d.currency_value,c=a.formatCurrency(m,d.currency_type)),_[r]={quota:h,quota_type:t[r].label_type,facing_price:c,currency_type:p,quota_value:m,license_type_id:r,is_above_available_quota:!i&&h>t[r].quota};return Object.keys(_).length>1&&_[l.LICENSE_TYPE_ID_CCE_BUNDLE]&&delete _[l.LICENSE_TYPE_ID_CCE_BUNDLE],_}function q(t,n){var i,s,r,l={},o=[],c=[],u=n.rate;for(s in t)i=t[s],i.currency_type&&(l.hasOwnProperty(i.currency_type)||(l[i.currency_type]=0),l[i.currency_type]+=i.quota_value);return r=Object.keys(l),e.map(r,function(e){var t=l[e],i=t;o.push(a.formatCurrency(t,e)),n.included&&(i+=i*u/100,c.push(a.formatCurrency(i,e)))}),{taxes_data:n,prices_excluding_taxes:o.join(", "),prices_including_taxes:c.join(", ")}}function Y(e){var t=!1;for(var n in e)if(e[n].is_above_available_quota){t=!0;break}return t}function G(e,t){return Object.keys(e).every(function(n){var a=e[n],i=$(a,a.default_license_id);return t[i.license_type_id]})}function B(e){return Object.keys(e).some(function(t){return!e[t].is_allowed_and_purchasable})}function K(e){var t,n,a,i,s=e.license_requests||e.contents_data,r=e.is_quotes_modal;for(n in s)t=s[n].possible_licenses,a=s[n].default_license_id,i=s[n].license_details,t.includes(a)||(a=t[0]),s[n].default_license_id=a,s[n].has_multiple_licenses=t.length>1,s[n].license_details[a].display_license_price=r||!i[a].is_additional_licensing_disabled,s[n].is_removed||(s[n].is_selectable=e.is_quotes_modal?s[n].is_quotable:s[n].is_allowed_and_purchasable);return s}function W(e,t){var n={};for(var i in e)n[i]=a.format(e[i].quota)+" "+e[i].label_type,t&&t[i]&&(n[i]+=" ("+a.formatCurrency(e[i].quota*t[i].currency_value,t[i].currency_type)+")");return n}function z(e,t,n){var a,i,s=!1;for(i in e)if(a=e[i],!a.is_removed&&(n||a.is_allowed_and_purchasable)&&(s=!0,!a[t])){s=!1;break}return s}function Q(e,i,s,r,l,o){var c,u,d=l.find(".js-modal-nb-assets"),p=l.find(".js-modal-total-prices-column"),h=l.find(".js-modal-taxes-details"),m=V(e,i,s,o),f=Y(m),_=H(e,o),g=X(e),E=Z(e),v=B(e),b=G(e,i),T=!1;if(p.html(y({total_prices:m,total_prices_are_free:z(e,"is_free",o),total_prices_are_included_in_your_plan:z(e,"is_bundle_licensable",o)})),ae(i,s,r)&&h.html(R(q(m,r))),d.removeClass("red lust-text"),d.text(t.sprintf(n.ngettext("LICENSE::HISTORY::CONTENT_COUNT::%s Asset","LICENSE::HISTORY::CONTENT_COUNT::%s Assets",_),a.format(_))),T=!_||!g,o||(T=T||f||!E),l.find(".js-modal-button-license",T).attr("disabled",T),l.find(".js-modal-button-send-request",T).attr("disabled",T),l.find(".js-modal-button-save-request",T).attr("disabled",T),l.find(".js-modal-button-update-request",T).attr("disabled",T),l.find(".js-modal-button-approve-request",T).attr("disabled",T),l.find(".js-modal-button-generate-quote",T).attr("disabled",T),_?l.find(".js-modal-bulk-selection-all-checkbox").removeAttr("disabled"):(l.find(".js-modal-bulk-selection-all-checkbox").attr("disabled",!0),d.addClass("red lust-text")),l.find(".js-error-licenses-not-included").attr("data-is-hidden",g),l.find(".js-error-additional-licensing-disabled").attr("data-is-hidden",E),u=f||v||!b,l.find(".js-error-header").attr("data-is-hidden",!u),u){if(f){var C=W(i,s),S=[];for(var I in C)m[I]&&m[I].is_above_available_quota&&S.push(C[I]);c=t.sprintf(n.gettext("MODAL::SELECTION::ERROR::Your selection exceeds your available quota of %s. Please update your selection to continue or ask your administrator to increase your quota."),S.join(", "))}else b?v&&(c=n.gettext("MODAL::SELECTION::ERROR::Your selection contains asset types or licenses not authorized by your administrator; these won't be licensed.")):c=n.gettext("MODAL::SELECTION::ERROR::Your selection contains asset types or licenses not included in your plan; these won't be licensed.");l.find(".js-error-header-message").text(c)}return T}function X(e){var t,n,a,i,s=!0;for(t in e)if(i=e[t],re(i)&&(n=i.default_license_id,a=$(i,n),!a.is_included_in_current_plan)){s=!1;break}return s}function Z(e){var t,n,a,i,s=!0;for(t in e)if(i=e[t],i.is_allowed_and_purchasable&&!i.is_removed&&(n=i.default_license_id,a=$(i,n),a.is_additional_licensing_disabled)){s=!1;break}return s}function J(e){var t,n,a,i=[];for(t in e)n=e[t],re(n)&&(a=$(n,n.default_license_id),i.push({content_id:n.content_id,license_id:n.default_license_id,relicense:!!a.downloaded}));return i}function $(e,t){return e.license_details[t]||{}}function ee(e){return e.possible_licenses.reduce(function(t,n){return t[n]=e.license_details[n],t},{})}function te(t,n,a,i,s,r){var l=!0;return e.isFunction(t.resetFields)&&t.resetFields(),r&&!t.valid()&&(l=!1,a.select(s)),n[i]=t.data(),l}function ne(){de&&(de.destroy(),de=null),ce.remove(),pe.removeClass("overflow-hidden")}function ae(e,t,n){var a=Object.keys(e);return!(!a.length||!n.included)&&a.every(function(e){return t.hasOwnProperty(e)})}function ie(t,n){var a={display_license_references:!1,mandatory_license_references:null,optional_license_references:null,condensed_license_references_display:!0};e.isEmptyObject(n)||(e.isEmptyObject(n.mandatory_references)||(a.display_license_references=!0,a.mandatory_license_references=n.mandatory_references),e.isEmptyObject(n.optional_references)||(a.display_license_references=!0,a.optional_license_references=n.optional_references)),e.extend(t,a)}function se(e){e.has_modal_tabs=!0,e.display_art_buyers||e.display_license_references||e.display_quote_details?(e.display_details_tab=!0,e.display_details_tab_active=!0):e.display_license_transfer?e.display_license_transfer_active=!0:e.display_license_comments?e.display_license_comments_active=!0:e.has_modal_tabs=!1}function re(e){return!e.is_removed&&(e.is_allowed_and_purchasable||e.is_quotable)}function le(){ce.find(".mti-modal").on("scroll",oe),e(window).on("resize",oe),setTimeout(oe,250)}function oe(){var t=ce.find(".modal__body"),n=ce.find(".modal__footer"),a=t[0].getBoundingClientRect(),i=Math.ceil(e(window).height()-a.height-a.top);n.css({transform:"translateY("+(i<0?i:0)+"px)",transition:"all .15s ease"})}var ce,ue,de,pe=e("body");e.fn.positionRelativeTo=function(t){var n,a=e(this),i=a.offsetParent(),s=a.position();return t?"BODY"==i.get(0).tagName?s:e(t,i).length?s:i[0]==e(t)[0]?s:(n=i.positionRelativeTo(t),s.top+=n.top,s.left+=n.left,s):s};var he=function(t,a,i){var s,l,o,C,S,I,O,k,H=K(t),V=e.Deferred(),q=!1,Y=t.quotas_data_by_license_type_id,G=t.currency_data_by_license_type_id,B=W(Y,G),z=t.taxes,X=Object.keys(H).length>1,Z=e.extend({"components/bulkSelectionModal/columnLicenseDetails":b,"components/bulkSelectionModal/columnLicensePrice":T,"components/bulkSelectionModal/columnTotalPrices":y,"components/bulkSelectionModal/assetsTable":v,"components/bulkSelectionModal/tabsHeaderItem":A,"components/bulkSelectionModal/taxesDetailsTemplate":R,"modalWindow/fieldInputValidator":E,"modalWindow/licenseTransferFieldSet":h.template,"modalWindow/licenseReferencesFieldSet":m.template,"modalWindow/quoteDetailsFieldSet":_.template},a||{}),re={title:t.title||n.gettext("FILE::Confirm Licensing"),assets:H,credit_card_purchase_enabled:u.hasEnterpriseCreditCardPurchaseEnabled(),display_totals_with_taxes:ae(Y,G,z),assets_selectable:t.assets_selectable&&X,display_art_buyers:t.display_art_buyers,display_edit_all_disclaimer:X&&!t.display_quote_details,display_license_comments:!e.isEmptyObject(i),display_nb_comments:i&&i.data.comments.length,display_license_transfer:t.can_license_transfer,display_license_transfer_as_one_column:!0,display_quote_details:t.display_quote_details,ingest_subcategory:t.data_ingest_subcategory||null};return ie(re,t.license_references),se(re),ce=e('<div style="display: none;"></div>'),ce.html(g(re,{partials:Z})),Q(H,Y,G,z,ce,t.is_quotes_modal),O=ce.find(".js-modal-bulk-selection-tooltip"),pe.addClass("overflow-hidden"),ce.on("click",".js-modal-license-dropdown",function(){var t,n,a=e(this);a.hasClass("disabled")||(n=a.attr("data-rel"),t=H[n],O.html(U({id:n,default_license_id:t.default_license_id,licenses:ee(t)})),q=!0,j(O,a,"tooltip--secondary tooltip--bottom",10+a.height(),a.width()/2))}).on("click",".js-modal-asset-license-radio",function(){var n=e(this),a=n.attr("data-rel"),i=n.val(),s=$(H[a],i),r=s;r.display_license_price=t.is_quotes_modal||!s.is_additional_licensing_disabled,q=!1,H[a].default_license_id=i,O.attr("data-is-hidden",!0),e('.js-modal-license-dropdown[data-rel="'+a+'"').html(b(s)),e('.js-modal-license-price[data-rel="'+a+'"').html(T(r)),Q(H,Y,G,z,ce,t.is_quotes_modal)}).on("click",function(t){e(t.target).closest(".js-modal-license-dropdown").length||e(t.target).closest(".js-modal-bulk-selection-tooltip").length||(q=!1,O.attr("data-is-hidden",!0))}).on("mouseover",".js-modal-icon-alert",function(){var n,a,i,s=e(this),r=s.attr("data-rel"),l=s.attr("data-is-total-quota-error"),o=t.is_quotes_modal?M:w;l?O.html(o({total_quota:B[r]})):(n=H[r],i=$(n,n.default_license_id),a=!!Y[i.license_type_id],O.html(N({asset_is_not_purchasable:!n.is_purchasable,asset_disabled:a&&n.is_purchasable&&!n.is_allowed_and_purchasable,quota_unavailable:!a}))),q=!0,j(O,s,"tooltip--error tooltip--bottom",26,8)}).on("click",".js-modal-asset-toggle-remove",function(){var n=e(this),a=n.attr("data-rel");H[a].is_removed=!H[a].is_removed,H[a].is_removed?(ce.find(".js-modal-tr-"+a).addClass("is-removed"),n.attr("data-t","add-back-to-selection-button"),S&&S.disableItem(a)):(ce.find(".js-modal-tr-"+a).removeClass("is-removed"),n.attr("data-t","remove-from-selection-button"),S&&S.enableItem(a)),Q(H,Y,G,z,ce,t.is_quotes_modal)}).on("mouseover",".js-modal-asset-toggle-remove",function(){var t=e(this),n=t.attr("data-rel");O.html(H[n].is_removed?x:P),q=!0,j(O,e(this),"tooltip--primary tooltip--top",-10,8)}).on("mouseover",".js-modal-asset-request-info-status",function(){var t=e(this),n=t.attr("data-rel");O.html(c.isItemDataFulFilled(n)?D:L),q=!0,j(O,e(this),"tooltip--primary tooltip--top",-10,8)}).on("mouseout",".js-modal-icon-alert, .js-modal-asset-toggle-remove, .js-modal-asset-request-info-status",function(){q=!1,O.attr("data-is-hidden",!0)}),ce.find(".modal-bulk-selection-assets-wrapper").on("scroll",function(e){q&&(O.attr("data-is-hidden",!0),q=!1)}),ce.find(".js-modal-hide-modal").click(function(){ne(),V.reject()}),re.display_license_references&&(o=new m.init(ce)),re.display_license_transfer&&(l=new h.init(ce)),re.display_quote_details&&(C=new _.init(ce)),re.display_art_buyers&&(de=new f(ce.find(".js-artbuyer-select-form-container"),n.gettext("LICENSE::REQUEST::Select art buyer(s)"),c.formatApproversData(t.approvers,t.license_requests),!0)),e.isEmptyObject(i)||(I=new r(ce.find(".js-license-comments-wrapper"),i.data,i.actions),I.onDataChanged(function(e){p.updateCountDisplay(ce.find(".js-comments-count-label"),e.comments.length)})),t.license_requests&&(S=new d({classNameSelected:"table__tr--selected",elementSelector:".js-modal-table-asset-row",toggleAllSelector:".js-modal-bulk-selection-all-checkbox",elementCheckboxSelector:".js-modal-table-asset-checkbox"},ce),
c.init(t,ce,S,o,l,de)),s=F(ce,".js-modal-bulk-selection-tabs"),k=ce.find(".js-modal-licensing-bulk-form"),ue=function(e){var n={},a=Q(H,Y,G,z,ce,t.is_quotes_modal);return re.display_license_references&&(te(o,n,s,"license_references","license_references",e)||(a=!0)),re.display_license_transfer&&(te(l,n,s,"license_transfer","license_transfer",e)||(a=!0)),re.display_art_buyers&&(te(de,n,s,"approvers","license_references",e)||(a=!0)),re.display_quote_details&&(te(C,n,s,"quote","quote_details",e)||(a=!0)),I&&i.data.draftMode&&(n.comments=I.getData().comments.reduce(function(e,t){return e.push(t.comment),e},[])),t.license_requests?(S.reset(),c.isFulfilled()?n={license_requests:c.getFormData(t.license_requst_action)}:a=!0):n.assets=J(H),{fulfilled:!a,data:n}},k.submit(function(e){var t={};e.preventDefault(),e.stopPropagation(),t=ue(!0),t.fulfilled&&V.resolve(t.data)}),pe.append(ce),ce.show(),le(),V.promise()};return{showBulkLicense:function(t,n){var a,r=e.Deferred();return he(t,{footerButtonsTemplate:S}).then(function(t){a.attr("disabled",!0),a.attr("data-is-loading",!0),n&&e.isFunction(n)&&n(t),s.post(i.base_url+"/Download/Ajax/CreateAndDownloadBulk",t).done(function(e){e&&e.member&&e.assets?r.resolve(e.assets,e.member):r.reject(!0)}).fail(function(){r.reject(!0)})}).fail(function(){r.reject()}),a=ce.find(".js-modal-button-license"),r.promise()},showRequestLicense:function(t,a){var r,l,o=i.base_url+"/Ajax/license-requests/",u=!t.hasOwnProperty("commentsInDraftMode")||t.commentsInDraftMode,d=e.Deferred(),a=a||{},p=function(e){r.attr("disabled",!0),l.attr("disabled",!0),s.post(a.endPoint?a.endPoint:o,e).done(function(e){d.resolve(e)}).fail(function(){d.reject(!0)})};return e.extend(t,{display_art_buyers:!0,can_license_transfer:!1,title:n.gettext("FILE::License Request"),assets_selectable:a.assetsAreSelectable}),he(t,{footerButtonsTemplate:I},c.buildCommentsObjectForModal(u,t.comments)).then(function(e){l.attr("data-is-loading",!0),p(e)}).fail(function(){d.reject()}),l=ce.find(".js-modal-button-send-request"),r=ce.find(".js-modal-button-save-request"),r.on("click",function(e){var t=ue();e.preventDefault(),t.data.save_draft=!0,r.attr("data-is-loading",!0),p(t.data)}),d.promise()},showEditRequestLicense:function(t){var a,r=e.Deferred();return e.extend(t,{can_license_transfer:!1,display_art_buyers:!0,title:n.gettext("FILE::Edit request(s)"),assets_selectable:!0}),he(t,{footerButtonsTemplate:O},c.buildCommentsObjectForModal(!1,t.comments)).then(function(e){e.notify=ce.find(".js-modal-license-request-notify-checkbox").prop("checked"),a.attr("disabled",!0),a.attr("data-is-loading",!0),s.post(i.base_url+"/Ajax/license-requests/edit",e).done(function(e){r.resolve(e)}).fail(function(){r.reject(!0)})}).fail(function(){r.reject()}),a=ce.find(".js-modal-button-update-request"),r.promise()},showApproveRequestLicense:function(t){var n,a=e.Deferred();return e.extend(t,{assets_selectable:!0,role_approver:!0,license_requst_action:o.LICENSE_REQUESTS.ACTIONS.APPROVE}),he(t,{footerButtonsTemplate:C},c.buildCommentsObjectForModal(!1,t.comments)).then(function(e){n.attr("disabled",!0),n.attr("data-is-loading",!0),s.post(i.base_url+"/Ajax/license-requests/approve",e).done(function(e){a.resolve(e)}).fail(function(){a.reject(!0)})}).fail(function(){a.reject()}),n=ce.find(".js-modal-button-approve-request"),a.promise()},showGenerateQuote:function(t){var a,r=e.Deferred();return e.extend(t,{is_quotes_modal:!0,can_license_transfer:!1,display_art_buyers:!1,display_quote_details:!0,license_references:!1,title:n.gettext("MODAL::QUOTES::Download a Quote"),assets_selectable:!1}),he(t,{footerButtonsTemplate:k}).then(function(e){a.attr("disabled",!0),a.attr("data-is-loading",!0),s.post(i.base_url+"/Ajax/Quote/Create",e).done(function(e){r.resolve(e)}).fail(function(){r.reject(!0)})}).fail(function(){r.reject()}),a=ce.find(".js-modal-button-generate-quote"),r.promise()},hide:ne}}),define("lib/organization/licensing",["i18n","i18n-config","jquery","app/actions/detailsActions","app/client","app/utils/librariesToast","app/stock-portal","lib/ajax","lib/analytics","lib/assetDownloader","lib/assetSave","lib/assetsStore","lib/bulkSelectionModal","lib/error","lib/license","lib/librariesStore","lib/member","lib/modal-window","lib/organization","lib/uiEvents","lib/utils","page_config","quickerCheckout/analytics/dunamis/events/dunamisLicenseEvent","app/constants/dunamis","app/constants/analytics"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C,S){"use strict";function I(e){return e&&h.displayShortErrorModal(e)}function O(e,t){y.send(y.getEventDataFromLicenseAPI(e,{license_id:e.license_id,member:t}),{finding_method:o.determineFindingMethod(),selection_method:o.getSelectionMethod()})}function k(e,t){var a,i=!n.isEmptyObject(t.license_transfer),s=!e.downloaded||e.display_as_unlicensed,r=e.license_details[t.license_id];return n.isArray(e.license_transfers)||(e.license_transfers=[]),a=n.extend(e,t||{}),a.downloaded=a.licensed=!0,a.display_as_unlicensed=s&&i,i?(r.hasOwnProperty("has_all_licenses_transferred")||(e.license_details[t.license_id].has_all_licenses_transferred=!0),a.license_transfers.push(e.license_transfer)):e.license_details[t.license_id].has_all_licenses_transferred=!1,a}function A(a,i,s){var r,l,o=n.Deferred(),c=[];return n.each(i,function(e,t){if(r=t.content_id,!t.bulk_purchase_ok)return void c.push(r);l=k(a.contents_data[r],t),a.contents_data[r]=l,R(l,t.license_id),x(l,s)}),P(s),c.length?o.reject(e.sprintf(t.gettext("GENERIC::Sorry, we have been unable to license the following assets: %s"),c.join(", "))):o.resolve(a,s),o}function R(e,t){d.addAsset(e.content_id,e),d.setAssetDownloadedInCache(e.content_id,t)}function x(e,t){z?r.enterpriseLicensingDone({asset:e,licenseId:e.license_id}):(v.trigger(v.ASSET_LICENSED,{contentId:e.content_id,downloaded:e.downloaded,display_as_unlicensed:e.display_as_unlicensed,transferData:e.license_transfers}),Q.dispatch(a.contentLicensed(e.content_id,e.license_id))),O(e,t)}function P(e){n.isEmptyObject(e.default_entitlement)||_.updateDefaultEntitlement(e.default_entitlement)}function L(){return n.Deferred().reject()}function D(e,t,a){var i,s,r,l=n.Deferred();return t&&t.content_ids&&1===t.content_ids.length?(s=t.content_ids[0],i=e&&e.contents_data&&e.contents_data[s],r=t.selected_license_ids&&t.selected_license_ids[s],Y(e,s,r,a)?l.resolve(e):N(i,r,e).then(function(){l.resolve(e)}).fail(function(e){_.hasEnterpriseCreditCardPurchaseEnabled()&&E.isOrganizationErrorKey(e)?l.reject(e):(e&&g.displayOrganizationErrorModal(e),l.reject())})):l.resolve(e),l}function N(e,t,a){var i,s,r,l=a.quotas_data_by_license_type_id,o=n.Deferred();if(e.is_not_allowed_by_org_admin)return o.reject(E.ERROR_KEY_CONTENT_TYPE_DENIED_BY_ADMIN);if(!e.is_allowed_and_purchasable)return o.reject(E.ERROR_KEY_ENTERPRISE_UPGRADE_ASSET);if(e.is_additional_licensing_disabled&&m.isAlreadyLicensed(e.content_id,e,t))return g.showAdditionalLicensingDisabledModal().then(function(){return c.getDownloadUrlAndTriggerOrPromptDownload(e.content_id,t).then(function(){return o.reject()})});if(!e.is_free&&!e.is_bundle_licensable){if(t=n.inArray(t,e.possible_licenses||[])>=0?t:e.default_license_id,i=e.license_details&&e.license_details[t]||{},s=i.license_type_id,!(r=l&&l[s]))return o.reject(E.ERROR_KEY_ENTERPRISE_QUOTA_UNAVAILABLE);if(r.is_organization_out_of_quota)return o.reject(a.is_cce_trial?E.ERROR_KEY_ENTERPRISE_TRIAL_NO_LICENSES:E.ERROR_KEY_ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES);if(i.quota>r.quota)return o.reject(E.getNotEnoughQuotaErrorKeyByQuotaType(r.label_type))}return o.resolve()}function w(e,t,a){var i=n.Deferred(),s=T.base_url+"/Ajax/Content/bulklicensingdata",r={content_ids:e,selected_license_ids:n.isEmptyObject(t)?null:t};return l.post(s,r).done(function(e){D(e,r,a).then(i.resolve).fail(i.reject)}).fail(function(){i.reject(X)}),i}function M(e){return l.post(T.base_url+"/Download/Ajax/CreateAndDownloadBulk",{assets:e})}function U(e){return p.showBulkLicense(e).then(function(t,n){return A(e,t,n)}).always(p.hide)}function F(e,t,a,i,s){return w(e,t,s).then(function(e){return n.isFunction(a)?a(e):n.Deferred().resolve(e)}).then(function(e){return e.by_pass_modal_usage?e:U(e)}).then(function(e,t){return n.isFunction(i)?i(e,t):n.Deferred().resolve(e,t)}).fail(function(e){E.isOrganizationErrorKey(e)&&_.hasEnterpriseCreditCardPurchaseEnabled()||I(e)})}function j(e,t,a,i,s){var r={};return n.isNumeric(t)&&(r[e]=t),a=a||function(n){return G(n,e,t,s)},F([e],r,a,i,s)}function H(e,t,n){var a=e&&e.contents_data||{},i=a[t];return m.isAlreadyLicensed(t,i,n)}function V(e,t,n,a){var a=a||{};return H(e,t,n)&&a.libId===f.LIBRARY_DESKTOP_ID&&a.action!==m.ACTION_RE_LICENSE}function q(e,t,n,a){var a=a||{};return H(e,t,n)&&b.isValidOpenInAction(a.openInAction)}function Y(e,t,n,a){return q(e,t,n,a)||V(e,t,n,a)}function G(e,t,a,i){var s=e.contents_data[t],a=a||s.default_license_id;return q(e,t,a,i)?(f.openAssetInSelectedApp(s,i.openInAction),L()):V(e,t,a,i)?c.getDownloadUrlAndTriggerOrPromptDownload(t,a).then(function(){return L()}):s.is_directly_licensable?(e.by_pass_modal_usage=!0,M([{content_id:t,license_id:a,relicense:H(e,t,a)}]).then(function(n){var i=n.assets[0],s=k(e.contents_data[t],{download_url:i.download_url,license_id:i.license_id||a,download_pack_type:i.download_pack_type||null});return R(s,a),x(s,n.member),P(n.member),e.contents_data[t]=s,e})):n.Deferred().resolve(e)}function B(e,t){var n=t.contentId,a=t.action||m.ACTION_LICENSE,i=t.libId||null,r=t.libName||null,l=t.openInAction||null,o=b.isValidOpenInAction(l),d=T.isPhoenixEnabled?s.isAutoDownloadEnabled():i===f.LIBRARY_DESKTOP_ID;v.trigger(v.DETAIL_BUTTON.UPDATE_STATE,{action:a,lib_name:r,lib_id:i,app_action:l,contentId:n,isDownloaded:d}),b.updateDefaultLibrary(f,i,l,null,r),i&&u.saveToDefaultLib(e.content_id,a),o&&f.openAssetInSelectedApp(e,l),d&&c.triggerOrPromptDownload(e.download_url,e.format,e.is_vector)}function K(e){var t=e.contentId,n=e.licenseId||m.getLicenseId(t);return j(t,n,function(a){return G(a,t,n,e)},function(n){return B(n.contents_data[t],e)},e)}function W(e){z=!0;var t=e.licenseId;j(e.contentId,t,null,function(n){var a=t||n.contents_data[e.contentId].default_license_id;c.getDownloadUrlAndTriggerOrPromptDownload(e.contentId,a)},e).fail(function(n){if(E.isOrganizationErrorKey(n)&&_.hasEnterpriseCreditCardPurchaseEnabled()){var a={contentId:e.contentId,licenseId:t,dunamisTrackingData:{}};return a.dunamisTrackingData[C.PROPERTIES.CHECKOUT.SELECTION_METHOD]=S.SELECTION_DETAIL,r.startCheckout(a)}}).always(function(){r.enterpriseLicensingDone(),z=!1})}var z=!1,Q=i.getInstance(),X=t.gettext("GENERIC::We weren't able to complete your request. Please try again");return{isEnabled:function(){var e=_.getDefaultEntitlement();return T.isEnterpriseBulkLicensingModalEnabled&&e&&e.is_cce},license:M,processLicensing:j,processBulkLicensing:F,processLicensingForMosaicUi:K,processStockPortalLicensing:W}}),define("app/init",["jquery","page_config","lib/analytics/dunamis","quickerCheckout/adobestock/handlers","lib/assetDownloader","app/stock-portal","lib/organization/licensing"],function(e,t,n,a,i,s,r){"use strict";function l(){e(window).on("stock-portal-track",function(t,a,i,s){n.track(a,i,s,e("body"))})}function o(){window.addEventListener("portal:finishPurchase",function(e){a.onFinishPurchase(e.detail)})}function c(){window.addEventListener("portal:downloadAsset",function(e){a.onDownloadAsset(e.detail)}),window.addEventListener("portal:redownloadForFree",function(e){i.getDownloadUrlAndTriggerOrPromptDownload(e.detail.contentId,e.detail.licenseId).then(s.redownloadForFreeComplete).fail(s.redownloadForFreeError)})}function u(){window.addEventListener("portal:enterpriseLicensing",function(e){r.processStockPortalLicensing(e.detail)})}function d(){window.addEventListener("portal:addAssetToLibrary",function(e){a.onAddAssetToLibrary(e.detail)})}function p(){e(window).on("portal:initialized",s.onPortalInitialized)}function h(){p(),l(),(t.isCoreCheckoutEnabled||t.isAudioWebSearchEnabled)&&(o(),c(),d(),u())}return{initializeStockWebPortalListeners:h}}),define("app/actions/searchParamsActions",["jquery","page_config","app/actions/actionTypes","app/constants/assetTypeFilters","app/actions/searchActions","app/ajax/search","app/constants/searchFilters","app/utils/searchData"],function(e,t,n){"use strict";function a(e,t){return{option:e,isSelected:t,type:n.UPDATE_IMAGE_SUBCATEGORY_FILTER}}function i(e){return{keyword:e,type:n.UPDATE_KEYWORD}}function s(e){return{filter:e,type:n.TOGGLE_FILTER_IS_MINIMIZED}}function r(e){return{assetTypeState:e,type:n.UPDATE_ASSET_TYPE_STATE}}return{toggleFilterIsMinimized:s,updateAssetTypeState:r,updateImageSubcategoryFilter:a,updateKeyword:i}}),function(e){"function"==typeof define&&define.amd?define("vendor/jquery/jquery.minicolors.min",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(t,n){var a,i,s,r,l,c=e('<div class="minicolors" />'),u=e.minicolors.defaults;if(!t.data("minicolors-initialized")){if(n=e.extend(!0,{},u,n),c.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity),void 0!==n.position&&e.each(n.position.split(" "),function(){c.addClass("minicolors-position-"+this)}),a="rgb"===n.format?n.opacity?"25":"20":n.keywords?"11":"7",t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",a).wrap(c).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),n.inline||(t.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),t.next(".minicolors-input-swatch").on("click",function(e){e.preventDefault(),t.focus()})),r=t.parent().find(".minicolors-panel"),r.on("selectstart",function(){return!1}).end(),n.swatches&&0!==n.swatches.length)for(r.addClass("minicolors-with-swatches"),i=e('<ul class="minicolors-swatches"></ul>').appendTo(r),l=0;l<n.swatches.length;++l)s=n.swatches[l],s=g(s)?m(s,!0):I(h(s,!0)),e('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(i).data("swatch-color",n.swatches[l]).find(".minicolors-swatch-color").css({backgroundColor:T(s),opacity:s.a}),n.swatches[l]=s;n.inline&&t.parent().addClass("minicolors-inline"),o(t,!1),t.data("minicolors-initialized",!0)}}function n(e){var t=e.parent();e.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),t.before(e).remove()}function a(e){var t=e.parent(),n=t.find(".minicolors-panel"),a=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(i(),t.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(a.showSpeed,function(){a.show&&a.show.call(e.get(0))}))}function i(){e(".minicolors-focus").each(function(){var t=e(this),n=t.find(".minicolors-input"),a=t.find(".minicolors-panel"),i=n.data("minicolors-settings");a.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(n.get(0)),t.removeClass("minicolors-focus")})})}function s(e,t,n){var a,i,s,l,o=e.parents(".minicolors").find(".minicolors-input"),c=o.data("minicolors-settings"),u=e.find("[class$=-picker]"),d=e.offset().left,p=e.offset().top,h=Math.round(t.pageX-d),m=Math.round(t.pageY-p),f=n?c.animationSpeed:0;t.originalEvent.changedTouches&&(h=t.originalEvent.changedTouches[0].pageX-d,m=t.originalEvent.changedTouches[0].pageY-p),h<0&&(h=0),m<0&&(m=0),h>e.width()&&(h=e.width()),m>e.height()&&(m=e.height()),e.parent().is(".minicolors-slider-wheel")&&u.parent().is(".minicolors-grid")&&(a=75-h,i=75-m,s=Math.sqrt(a*a+i*i),l=Math.atan2(i,a),l<0&&(l+=2*Math.PI),s>75&&(s=75,h=75-75*Math.cos(l),m=75-75*Math.sin(l)),h=Math.round(h),m=Math.round(m)),e.is(".minicolors-grid")?u.stop(!0).animate({top:m+"px",left:h+"px"},f,c.animationEasing,function(){r(o,e)}):u.stop(!0).animate({top:m+"px"},f,c.animationEasing,function(){r(o,e)})}function r(e,t){function n(e,t){var n,a;return e.length&&t?(n=e.offset().left,a=e.offset().top,{x:n-t.offset().left+e.outerWidth()/2,y:a-t.offset().top+e.outerHeight()/2}):null}var a,i,s,r,o,u,d,p=e.val(),h=e.attr("data-opacity"),m=e.parent(),f=e.data("minicolors-settings"),g=m.find(".minicolors-input-swatch"),E=m.find(".minicolors-grid"),v=m.find(".minicolors-slider"),b=m.find(".minicolors-opacity-slider"),T=E.find("[class$=-picker]"),C=v.find("[class$=-picker]"),S=b.find("[class$=-picker]"),I=n(T,E),O=n(C,v),k=n(S,b);if(t.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(f.control){case"wheel":r=E.width()/2-I.x,o=E.height()/2-I.y,u=Math.sqrt(r*r+o*o),d=Math.atan2(o,r),d<0&&(d+=2*Math.PI),u>75&&(u=75,I.x=69-75*Math.cos(d),I.y=69-75*Math.sin(d)),i=_(u/.75,0,100),a=_(180*d/Math.PI,0,360),s=_(100-Math.floor(O.y*(100/v.height())),0,100),p=y({h:a,s:i,b:s}),v.css("backgroundColor",y({h:a,s:i,b:100}));break;case"saturation":a=_(parseInt(I.x*(360/E.width()),10),0,360),i=_(100-Math.floor(O.y*(100/v.height())),0,100),s=_(100-Math.floor(I.y*(100/E.height())),0,100),p=y({h:a,s:i,b:s}),v.css("backgroundColor",y({h:a,s:100,b:s})),m.find(".minicolors-grid-inner").css("opacity",i/100);break;case"brightness":a=_(parseInt(I.x*(360/E.width()),10),0,360),i=_(100-Math.floor(I.y*(100/E.height())),0,100),s=_(100-Math.floor(O.y*(100/v.height())),0,100),p=y({h:a,s:i,b:s}),v.css("backgroundColor",y({h:a,s:i,b:100})),m.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:a=_(360-parseInt(O.y*(360/v.height()),10),0,360),i=_(Math.floor(I.x*(100/E.width())),0,100),s=_(100-Math.floor(I.y*(100/E.height())),0,100),p=y({h:a,s:i,b:s}),E.css("backgroundColor",y({h:a,s:100,b:100}))}h=f.opacity?parseFloat(1-k.y/b.height()).toFixed(2):1,l(e,p,h)}else g.find("span").css({backgroundColor:p,opacity:h}),c(e,p,h)}function l(e,t,n){var a,i=e.parent(),s=e.data("minicolors-settings"),r=i.find(".minicolors-input-swatch");s.opacity&&e.attr("data-opacity",n),"rgb"===s.format?(a=g(t)?m(t,!0):I(h(t,!0)),n=""===e.attr("data-opacity")?1:_(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),!isNaN(n)&&s.opacity||(n=1),t=e.minicolors("rgbObject").a<=1&&a&&s.opacity?"rgba("+a.r+", "+a.g+", "+a.b+", "+parseFloat(n)+")":"rgb("+a.r+", "+a.g+", "+a.b+")"):(g(t)&&(t=b(t)),t=p(t,s.letterCase)),e.val(t),r.find("span").css({backgroundColor:t,opacity:n}),c(e,t,n)}function o(t,n){var a,i,s,r,l,o,u,d,v,T,S=t.parent(),I=t.data("minicolors-settings"),O=S.find(".minicolors-input-swatch"),k=S.find(".minicolors-grid"),A=S.find(".minicolors-slider"),R=S.find(".minicolors-opacity-slider"),x=k.find("[class$=-picker]"),P=A.find("[class$=-picker]"),L=R.find("[class$=-picker]");switch(g(t.val())?(a=b(t.val()),(l=_(parseFloat(E(t.val())).toFixed(2),0,1))&&t.attr("data-opacity",l)):a=p(h(t.val(),!0),I.letterCase),a||(a=p(f(I.defaultValue,!0),I.letterCase)),i=C(a),r=I.keywords?e.map(I.keywords.split(","),function(t){return e.trim(t.toLowerCase())}):[],o=""!==t.val()&&e.inArray(t.val().toLowerCase(),r)>-1?p(t.val()):g(t.val())?m(t.val()):a,n||t.val(o),I.opacity&&(s=""===t.attr("data-opacity")?1:_(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(s)&&(s=1),t.attr("data-opacity",s),O.find("span").css("opacity",s),d=_(R.height()-R.height()*s,0,R.height()),L.css("top",d+"px")),"transparent"===t.val().toLowerCase()&&O.find("span").css("opacity",0),O.find("span").css("backgroundColor",a),I.control){case"wheel":v=_(Math.ceil(.75*i.s),0,k.height()/2),T=i.h*Math.PI/180,u=_(75-Math.cos(T)*v,0,k.width()),d=_(75-Math.sin(T)*v,0,k.height()),x.css({top:d+"px",left:u+"px"}),d=150-i.b/(100/k.height()),""===a&&(d=0),P.css("top",d+"px"),A.css("backgroundColor",y({h:i.h,s:i.s,b:100}));break;case"saturation":u=_(5*i.h/12,0,150),d=_(k.height()-Math.ceil(i.b/(100/k.height())),0,k.height()),x.css({top:d+"px",left:u+"px"}),d=_(A.height()-i.s*(A.height()/100),0,A.height()),P.css("top",d+"px"),A.css("backgroundColor",y({h:i.h,s:100,b:i.b})),S.find(".minicolors-grid-inner").css("opacity",i.s/100);break;case"brightness":u=_(5*i.h/12,0,150),d=_(k.height()-Math.ceil(i.s/(100/k.height())),0,k.height()),x.css({top:d+"px",left:u+"px"}),d=_(A.height()-i.b*(A.height()/100),0,A.height()),P.css("top",d+"px"),A.css("backgroundColor",y({h:i.h,s:i.s,b:100})),S.find(".minicolors-grid-inner").css("opacity",1-i.b/100);break;default:u=_(Math.ceil(i.s/(100/k.width())),0,k.width()),d=_(k.height()-Math.ceil(i.b/(100/k.height())),0,k.height()),x.css({top:d+"px",left:u+"px"}),d=_(A.height()-i.h/(360/A.height()),0,A.height()),P.css("top",d+"px"),k.css("backgroundColor",y({h:i.h,s:100,b:100}))}t.data("minicolors-initialized")&&c(t,o,s)}function c(e,t,n){var a,i,s,r=e.data("minicolors-settings"),l=e.data("minicolors-lastChange");if(!l||l.value!==t||l.opacity!==n){if(e.data("minicolors-lastChange",{value:t,opacity:n}),r.swatches&&0!==r.swatches.length){for(a=g(t)?m(t,!0):I(t),i=-1,s=0;s<r.swatches.length;++s)if(a.r===r.swatches[s].r&&a.g===r.swatches[s].g&&a.b===r.swatches[s].b&&a.a===r.swatches[s].a){i=s;break}e.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==i&&e.parent().find(".minicolors-swatches .minicolors-swatch").eq(s).addClass("selected")}r.change&&(r.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(e.get(0),t,n)},r.changeDelay))):r.change.call(e.get(0),t,n)),e.trigger("change").trigger("input")}}function u(t){var n,a=e(t).attr("data-opacity");if(g(e(t).val()))n=m(e(t).val(),!0);else{n=I(h(e(t).val(),!0))}return n?(void 0!==a&&e.extend(n,{a:parseFloat(a)}),n):null}function d(t,n){var a,i=e(t).attr("data-opacity");if(g(e(t).val()))a=m(e(t).val(),!0);else{a=I(h(e(t).val(),!0))}return a?(void 0===i&&(i=1),n?"rgba("+a.r+", "+a.g+", "+a.b+", "+parseFloat(i)+")":"rgb("+a.r+", "+a.g+", "+a.b+")"):null}function p(e,t){return"uppercase"===t?e.toUpperCase():e.toLowerCase()}function h(e,t){return e=e.replace(/^#/g,""),e.match(/^[A-F0-9]{3,6}/gi)?3!==e.length&&6!==e.length?"":(3===e.length&&t&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e):""}function m(e,t){var n=e.replace(/[^\d,.]/g,""),a=n.split(",");return a[0]=_(parseInt(a[0],10),0,255),a[1]=_(parseInt(a[1],10),0,255),a[2]=_(parseInt(a[2],10),0,255),a[3]&&(a[3]=_(parseFloat(a[3],10),0,1)),t?a[3]?{r:a[0],g:a[1],b:a[2],a:a[3]}:{r:a[0],g:a[1],b:a[2]}:void 0!==a[3]&&a[3]<=1?"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")":"rgb("+a[0]+", "+a[1]+", "+a[2]+")"}function f(e,t){return g(e)?m(e):h(e,t)}function _(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function g(e){var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!t||4!==t.length)}function E(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i),e&&6===e.length?e[4]:"1"}function v(e){var t={},n=Math.round(e.h),a=Math.round(255*e.s/100),i=Math.round(255*e.b/100);if(0===a)t.r=t.g=t.b=i;else{var s=i,r=(255-a)*i/255,l=n%60*(s-r)/60;360===n&&(n=0),n<60?(t.r=s,t.b=r,t.g=r+l):n<120?(t.g=s,t.b=r,t.r=s-l):n<180?(t.g=s,t.r=r,t.b=r+l):n<240?(t.b=s,t.r=r,t.g=s-l):n<300?(t.b=s,t.g=r,t.r=r+l):n<360?(t.r=s,t.g=r,t.b=s-l):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function b(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}function T(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(n,function(e,t){1===t.length&&(n[e]="0"+t)}),"#"+n.join("")}function y(e){return T(v(e))}function C(e){var t=S(I(e));return 0===t.s&&(t.h=360),t}function S(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),a=Math.max(e.r,e.g,e.b),i=a-n;return t.b=a,t.s=0!==a?255*i/a:0,0!==t.s?e.r===a?t.h=(e.g-e.b)/i:e.g===a?t.h=2+(e.b-e.r)/i:t.h=4+(e.r-e.g)/i:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function I(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e}}e.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},e.extend(e.fn,{minicolors:function(s,r){switch(s){case"destroy":return e(this).each(function(){n(e(this))}),e(this);case"hide":return i(),e(this);case"opacity":return void 0===r?e(this).attr("data-opacity"):(e(this).each(function(){o(e(this).attr("data-opacity",r))}),e(this));case"rgbObject":return u(e(this));case"rgbString":case"rgbaString":return d(e(this),"rgbaString"===s);case"settings":return void 0===r?e(this).data("minicolors-settings"):(e(this).each(function(){var t=e(this).data("minicolors-settings")||{};n(e(this)),e(this).minicolors(e.extend(!0,t,r))}),e(this));case"show":return a(e(this).eq(0)),e(this);case"value":return void 0===r?e(this).val():(e(this).each(function(){"object"==typeof r&&null!==r?(r.opacity&&e(this).attr("data-opacity",_(r.opacity,0,1)),r.color&&e(this).val(r.color)):e(this).val(r),o(e(this))}),e(this));default:return"create"!==s&&(r=s),e(this).each(function(){t(e(this),r)}),e(this)}}}),e([document]).on("mousedown.minicolors touchstart.minicolors",function(t){e(t.target).parents().add(t.target).hasClass("minicolors")||i()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var n=e(this);t.preventDefault(),e(t.delegateTarget).data("minicolors-target",n),s(n,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var n=e(t.delegateTarget).data("minicolors-target");n&&s(n,t)}).on("mouseup.minicolors touchend.minicolors",function(){e(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(t){t.preventDefault();var n=e(this),a=n.parents(".minicolors").find(".minicolors-input"),i=n.data("swatch-color");l(a,i,E(i)),o(a)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(t){var n=e(this).parent().find(".minicolors-input");t.preventDefault(),a(n)}).on("focus.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&a(t)}).on("blur.minicolors",".minicolors-input",function(){var t,n,a,i,s,r=e(this),l=r.data("minicolors-settings");r.data("minicolors-initialized")&&(t=l.keywords?e.map(l.keywords.split(","),function(t){return e.trim(t.toLowerCase())}):[],""!==r.val()&&e.inArray(r.val().toLowerCase(),t)>-1?s=r.val():(g(r.val())?a=m(r.val(),!0):(n=h(r.val(),!0),a=n?I(n):null),s=null===a?l.defaultValue:"rgb"===l.format?m(l.opacity?"rgba("+a.r+","+a.g+","+a.b+","+r.attr("data-opacity")+")":"rgb("+a.r+","+a.g+","+a.b+")"):T(a)),i=l.opacity?r.attr("data-opacity"):1,"transparent"===s.toLowerCase()&&(i=0),r.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",i),r.val(s),""===r.val()&&r.val(f(l.defaultValue,!0)),r.val(p(r.val(),l.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var n=e(this);if(n.data("minicolors-initialized"))switch(t.keyCode){case 9:i();break;case 13:case 27:i(),n.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&o(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&setTimeout(function(){o(t,!0)},1)})}),define("lib/hbsBasicHelpers",["page_config","Handlebars","app/utils/routes","lib/hbsBasicHelpersFunctions","i18n-config"],function(e,t,n,a){"use strict";var i=function(e,t){return e?!t.fn||t.fn(this):!!t.inverse&&t.inverse(this)};return t.registerHelper("staticCdn",function(t){return e.static_base_uri+t}),t.registerHelper("ccIconFilePathBuilder",function(e,t){return e.replace("{{this}}",t.toLowerCase())}),t.registerHelper("concat",function(){var e=arguments[arguments.length-1],t=e.hash&&void 0!=e.hash.separator?e.hash.separator:"";return Array.prototype.slice.call(arguments,0,-1).join(t)}),t.registerHelper("linkOpenTag",a.linkOpenTag),t.registerHelper("linkCloseTag",a.linkCloseTag),t.registerHelper("linkBuilder",a.linkBuilder),t.registerHelper("urlConcatQuery",function(){var e=arguments[0];e||(e="");var t="?";e.indexOf(t)>=0&&(t="&");for(var n=1;n<arguments.length-1;n++)e+=t+arguments[n],t="&";return e}),t.registerHelper("adobeUrl",function(t){var n="";switch(e.base_url){case"/de":case"/at":case"/ch_de":case"/lu_de":n="/de/";break;case"/fr":case"/be_fr":case"/lu_fr":case"/ca_fr":case"/ch_fr":n="/fr/";break;case"/es":case"/mx":n="/es/";break;case"/it":case"/ch_it":n="/it/";break;case"/nl":case"/be_nl":n="/nl/";break;case"/pt":n="/pt/";break;case"/br":n="/br/";break;case"/tw":n="/zh-tw/";break;case"/ja":case"/pl":case"/ru":case"/tr":case"/fi":case"/cz":case"/kr":case"/dk":case"/no":case"/se":n=e.base_url+"/";break;default:n="/"}return"https://www.adobe.com"+n+t}),t.registerHelper("minutes",function(e){var t=parseInt(e/1e3%60),n=parseInt(e/6e4%60);return t<10&&(t="0"+t),n<10&&(n="0"+n),n+":"+t}),t.registerHelper("if-plus",function(e){var t;switch(e.hash.logic){case"more":t=e.hash.value>e.hash.tovalue;break;case"less":t=e.hash.value<e.hash.tovalue;break;case"eq":t=e.hash.value==e.hash.tovalue;break;case"notEq":t=e.hash.value!=e.hash.tovalue}return e.fn||e.inverse?t?e.fn(this):e.inverse(this):t}),t.registerHelper("price_level",function(t){var n,a={1:"",2:"",3:""},i="";if(""===e.currency_character)i=a[t];else for(n=0;n<t;n++)i+=e.currency_character;return i}),t.registerHelper("in-array",function(e){var t=e.hash.array||[],n=t.indexOf(e.hash.value)>=0;return i.call(this,n,e)}),t.registerHelper("not-in-array",function(e){var t=e.hash.array||[],n=-1===t.indexOf(e.hash.value);return i.call(this,n,e)}),t.registerHelper("all-in-array",function(){for(var e=arguments.length-2,t=arguments[e]||[],n=arguments[arguments.length-1],a=0;a<e;a++){var i=arguments[a];if(Array.isArray(i)){for(var s=0;s<i.length;s++)if(-1===t.indexOf(i[s]))return n.inverse(this)}else if(-1===t.indexOf(i))return n.inverse(this)}return n.fn(this)}),t.registerHelper("not-all-in-array",function(){for(var e=arguments.length-2,t=arguments[e]||[],n=arguments[arguments.length-1],a=0;a<e;a++){var i=arguments[a];if(Array.isArray(i)){for(var s=0;s<i.length;s++)if(-1===t.indexOf(i[s]))return n.fn(this)}else if(-1===t.indexOf(i))return n.fn(this)}return n.inverse(this)}),t.registerHelper("none-in-array",function(){for(var e=arguments.length-2,t=arguments[e]||[],n=arguments[arguments.length-1],a=0;a<e;a++){var i=arguments[a];if(Array.isArray(i)){for(var s=0;s<i.length;s++)if(t.indexOf(i[s])>=0)return n.inverse(this)}else if(t.indexOf(i)>=0)return n.inverse(this)}return n.fn(this)}),t.registerHelper("filesize",function(e){return e?t.helpers.number((e/Math.pow(1024,2)).toFixed(2)):"0"}),t.registerHelper("bitrate",function(e){return e?t.helpers.number(e/1e3):0}),t.registerHelper("baseUrl",function(t){return e.base_url+"/"+t}),t.registerHelper("url",function(e){if(!e.hash.route)return"";var t=e.hash.route,a=null;e.hash.query&&(a=JSON.parse(e.hash.query));var i={};return Object.keys(e.hash).forEach(function(t){["route","query"].includes(t)||(i[t]=e.hash[t])}),n.getRoute(i,t,a)}),t.registerHelper("if-or",function(){for(var e=!1,t=arguments.length-1,n=arguments[t],a=0;a<t;a++)if(e||arguments[a]){e=!0;break}return n.fn||n.inverse?e?n.fn(this):n.inverse(this):e}),t.registerHelper("if-sub-expression",function(e){
return e.hash?(e.hash.operator&&"NOT"==e.hash.operator&&(e.hash.toCompare=!e.hash.toCompare),e.hash.toCompare&&(e.hash[e.hash.keyToChange]=e.hash.valueToChange),e.hash):""}),t.registerHelper("unless-all",function(){for(var e=!0,t=arguments.length-1,n=arguments[t],a=0;a<t;a++)if(arguments[a]){e=!1;break}return n.fn||n.inverse?e?n.fn(this):n.inverse(this):e}),t.registerHelper("if-all-true",function(){for(var e=!0,t=arguments.length-1,n=arguments[t],a=0;a<t;a++)if(!arguments[a]){e=!1;break}return n.fn||n.inverse?e?n.fn(this):n.inverse(this):e}),t.registerHelper("feature-flag",a.featureFlag),t.registerHelper("not",function(e){return!e}),t.registerHelper("debug",function(e){}),t.registerHelper("times",function(e,t){var n,a="";for(n=0;n<e;++n)a+=t.fn(n);return a}),t.registerHelper("inc",function(e){return parseInt(e)+1}),t.registerHelper("json",function(e){return JSON.stringify(e,null,0)}),t.registerHelper("escape",function(e){return t.escapeExpression(e)}),t.registerHelper("truncate",a.truncate),t}),define("components/search/filtersHelper",["jquery","lodash","page_config","i18n-config","app/client","app/constants/searchFilters","app/actions/searchParamsActions","app/actions/filterActions","app/constants/ui","app/stock-portal","vendor/jquery/jquery.minicolors.min","lib/hbsBasicHelpers"],function(e,t,n,a,i,s,r,l,o,c){"use strict";function u(){_===c.FILTERS?c.renderFiltersPanel():_===c.CAMERA&&c.renderFindSimilarControlsPanel()}function d(){e(f).addClass(o.FILTER_PANEL_OPEN),h()}function p(){e(f).removeClass(o.FILTER_PANEL_OPEN),h()}function h(){window.dispatchEvent(new CustomEvent("reload.adobestock_mosaic",{detail:{assetType:m.getState().page.filter_asset_type}}))}var m=i.getInstance(),f=".js-slide-in",_=c.FILTERS,g=function(e){var t={};t[s.KEYWORD]=e,m.dispatch(l.updateSearchFilters(t))},E=function(){var a=o.FILTER_PANEL_CLOSE;return e(f).toggleClass(o.FILTER_PANEL_OPEN),h(),v()?(a=o.FILTER_PANEL_OPEN,n.isStockPanelEnabled?u():m.dispatch(l.openFiltersPanel())):(n.isStockPanelEnabled&&(_=t.get(c.getState(),"panel.searchPanel.active",c.FILTERS),c.hidePanel()),m.dispatch(l.closeFiltersPanel())),a},v=function(){return e(f).hasClass(o.FILTER_PANEL_OPEN)};return{updateKeyword:g,isFiltersPanelOpen:v,toggleShowFilterPanel:E,showPanel:d,closePanel:p,openLastSelectedPanel:u,renderMosaic:h}}),define("lib/autocomplete",["jquery","lodash","page_config","components/search/searchHelper","components/search/filtersHelper","lib/ajax","app/constants/ui","app/client","lib/analytics/dunamis"],function(e,t,n,a,i,s,r,l,o){"use strict";function c(){var e=Date.now();return P=e}function u(e){if(!n.isGloballySafeCollectionEnabled){var t=e.val(),a=e.closest(T);v=t;var i={language_id:n.autocomplete_language_id,query:t,ff_1127001950:n.isUnorderedAutocomplete?1:0};return s.ajax(n.autocomplete_api_url,{data:i,dataType:"jsonp",cache:!0,success:d.bind(null,a,P)})}}function d(e,t,n){var a=Math.min(n.hits.length,S),i="";if(t===P){for(var s=0;s<a;++s){var r=p(n.hits[s]._highlightResult.term.value,n.hits[s].term,s);i+='<li class="term-item nav__item" data-term="'+n.hits[s].term+'" data-term-index="'+s+'">',i+='<a href="#" class="nav__link js-search-item bold" data-term="'+n.hits[s].term+'" data-term-index="'+s+'">'+r+"</a>",i+="</li>"}y=a-1,y>0?(e.find(".js-search-autocomplete-panel").html(i),L(e,!0)):L(e,!1)}}function p(e,t,n){var a="";if(-1!==e.indexOf("<em>")){e.split("<em>").forEach(function(e){0===e.length?a+='<em class="js-search-item normal-font-style font-normal" data-term="'+t+'" data-term-index="'+n+'">':a+=e})}else a+=t;return a}function h(t){var n=e(t.target);if(""!==n.val())u(n),k=n.val();else{var a=n.closest(T);L(a,!1,"clear")}C=null}function m(t){var a,i=null,s=e(t.target);if((n.isUsingAjax&&t.keyCode===r.ENTER_KEY||t.keyCode===A)&&t.preventDefault(),t.keyCode){var l=[A,R,x];-1!==e.inArray(t.keyCode,l)&&(i=t.keyCode)}if(null!==i&&""!==s.val()){if(a=s.closest(T),i===x)L(a,!1,"clear");else if(null===C)null===y?u(s):i===R?C=0:i===A&&(C=y);else if(null!==C)if(i===R){if(C<y?C++:C=0,C<0)return}else i===A&&C--;f(a,s,C,v)}}function f(e,t,a,s){if(null!==a){var r,l=e.find(".js-search-autocomplete-panel");l.children(".term-item").removeClass("active").attr("data-active","false"),l.children("[data-term-index="+a+"]").addClass("active").attr("data-active","true"),-1===a?(t.val(s),E(e,null),n.isUsingAjax&&i.updateKeyword(s),_()):(r=l.children("[data-term-index="+a+"]").attr("data-term"),n.isUsingAjax&&i.updateKeyword(r),E(e,a),t.val(r))}}function _(){C=null}function g(t){var s,r=e(t.target),c=r.attr("data-term"),u=r.attr("data-term-index"),d=r.closest(T),p=d.find(".js-search-autocomplete-panel"),h={search_page:1},m=o.constants,f=l.getInstance(),_=(f.getState(),{}),g=m.AUTO_SUGGEST;(r.is(p.children(".term-item"))||""!==c&&""!==u&&r.hasClass("js-search-item"))&&(t.preventDefault(),E(d,u),s=d.find(b).val(),d.find(b).val(c),_[m.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=c,o.track(m.SEARCH_BEGIN,g,_,r),h[m.SEARCH_TYPE]=g,n.isUsingAjax?(u&&(h.acp=u,h.aco=s),L(d,!1),i.updateKeyword(c),a.performSearch(!1,h)):(e(".js-search-type").val(g),d.submit()),L(d,!1))}function E(t,n){null===n?null!==I&&I.remove():(null===I&&(I=e(document.createElement("input")).attr("type","hidden").attr("name","acp"),t.append(I),O=e(document.createElement("input")).attr("type","hidden").attr("name","aco"),t.append(O)),I.val(n),O.val(t.find(b).val()))}var v,b=e(".js-search-text-input"),T=e(".js-search-form"),y=null,C=null,S=8,I=null,O=null,k=null,A=38,R=40,x=27,P=Date.now();e("body").on("mousedown",function(e){g(e)}),b.attr("autocomplete","off"),b.on("input",function(e){h(e)}).on("keydown",function(e){m(e)}).on("blur",function(){var t=e(this).closest(T);L(t,!1,"clear")});var L=function(t,n,a){var i=t.find(".js-search-autocomplete-container"),s=i.find(".js-search-autocomplete-panel");return n?""!==s.html()&&i.attr("data-state",""):(i.attr("data-state","hidden"),"clear"===a&&(s.html(""),y=null,C=null),c()),s.find("li").on("mouseenter",function(){e(this).attr("data-active",!0)}),s.find("li").on("mouseleave",function(){e(this).removeAttr("data-active")}),{originalText:v,selectedIndex:C}};return{setAutocompletePanel:L,updateSelection:f,onBodyClick:g,advanceSession:c,autocomplete_callback:d,onInputKeydown:m,queryAutocompleteApi:u}}),require(["jquery","lib/modal-window","lib/accessRequest"],function(e,t,n){"use strict";e("body").on("click",".js-enterprise-access-request-banner",function(){var e=this.getAttribute("modal-id");t.displayAccessRequestModal(e,n.ACCESS_REQUEST_ORIGIN_BANNER_VALUE)})}),define("lib/enterpriseAccessRequestBanner",function(){}),define("lib/footer",["jquery","lib/cookie","page_config"],function(e,t,n){"use strict";var a=e(".js-region-modal-canvas");e(".region-selector-toggler").on("click",function(e){e.preventDefault(),a.show()}),e("body").on("click",".modal-toggler",function(){a.hide()}),e("body").on("click",".region-link",function(){var a=e(this).attr("href").replace(/[\/]/g,""),i=new Date,s=i.getTime();i.setTime(s+31536e6),t(n.SUSI.COOKIE_VHOST,a,{path:"/",expires:i})})}),define("hbs!templates/search/fscTile",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'        <div class="js-fsc-tile margin-right-large container-inline-block padding-top-small" data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'">\n            <div class="border-radius-4 white border-1 border-solid bon-jour-border">\n                <div class="container-table fsc-tile">\n                    <div class="container-table-cell fsc-tile__image-container center-align grey bon-jour border-1 border-top-left-radius-4 border-bottom-left-radius-4">\n                        \x3c!--if content has a url, put img inside a tag to open to that url in new tab--\x3e\n'+(null!=(i=t.if.call(e,null!=e?e.content_url:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.thumbnail_240:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+"                        \x3c!--close a tag if exists--\x3e\n"+(null!=(i=t.if.call(e,null!=e?e.content_url:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'                    </div>\n                    <div class="container-table-cell v-align-top no-wrap">\n                        <div class="margin-top-small padding-left-large">\n                            <label>\n                                <h5 class="grey dove-text font-normal half-tracking">\n                                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::FIND SIMILAR BY",{name:"_",hash:{},data:a}))+':\n                                </h5>\n                            </label>\n                            <div class="margin-top-large grey dove-text">\n                                <div class="fsc-tile__radio">\n                                    <label class="switch text-sregular" data-t="fsc-options-all-radio-label-text">\n                                        <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"all",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'                                            id="fsc-options-all"\n                                            name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            type="radio"\n                                            value="all"\n                                            data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            data-t="fsc-options-all"\n                                        />\n                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::All attributes",{name:"_",hash:{},data:a}))+'\n                                    </label>\n                                </div>\n                                <div class="fsc-tile__radio">\n                                    <label class="switch text-sregular" data-t="fsc-options-content-radio-label-text">\n                                        <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"content",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'                                            id="fsc-options-content"\n                                            name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            type="radio"\n                                            value="content"\n                                            data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            data-t="fsc-options-content"\n                                        />\n                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Content",{name:"_",hash:{},data:a}))+'\n                                    </label>\n                                </div>\n                                <div class="fsc-tile__radio">\n                                    <label class="switch text-sregular" data-t="fsc-options-color-radio-label-text">\n                                        <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"color",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'                                            id="fsc-options-color"\n                                            name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            type="radio"\n                                            value="color"\n                                            data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            data-t="fsc-options-color"\n                                        />\n                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Color",{name:"_",hash:{},data:a}))+"\n                                    </label>\n                                </div>\n"+(null!=(i=(t["unless-all"]||e&&e["unless-all"]||t.helperMissing).call(e,null!=e?e.isVideo:e,null!=e?e.hideComposition:e,{name:"unless-all",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+'                            </div>\n                        </div>\n                    </div>\n                    <div class="container-table-cell no-stretch v-align-top">\n                        <div class="right-align margin-right-small margin-top-xsmall">\n                            <button class="js-fsc-tile-close-btn" data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'">\n                                <i class="mti-icon icon-close grey dove-text"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n'},2:function(e,t,n,a){return'                            <a\n                                href="'+this.escapeExpression(this.lambda(null!=e?e.content_url:e,e))+'"\n                                target="_blank"\n                            >\n'},4:function(e,t,n,a){return'                            <img class="responsive-img responsive-image-height" src="'+this.escapeExpression(this.lambda(null!=e?e.thumbnail_240:e,e))+'"/>\n'},6:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["search/fscTileUnavailableImage"],e,{name:"search/fscTileUnavailableImage",data:a,indent:"                            ",helpers:t,partials:n}))?i:""},8:function(e,t,n,a){return"                            </a>\n"},10:function(e,t,n,a){return'                                                checked="checked"\n'},12:function(e,t,n,a){var i;return'                                    <div>\n                                        <label class="switch text-sregular" data-t="fsc-options-composition-radio-label-text">\n                                            <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"composition",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+'                                                id="fsc-options-composition"\n                                                name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                                type="radio"\n                                                value="composition"\n                                                data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                                data-t="fsc-options-composition"\n                                            />\n                                            <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Composition",{name:"_",hash:{},data:a}))+'</span>\n                                            <strong class="margin-left-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::BETA",{name:"_",hash:{},data:a}))+"</strong>\n                                        </label>\n                                    </div>\n"},13:function(e,t,n,a){return'                                                    checked="checked"\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-left-large padding-right-large container-table">\n'+(null!=(i=t.each.call(e,null!=e?e.similarContentData:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/search/fscTileUnavailableImage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div>\n    <i class="mti-icon mti-5x icon-cancel grey mountain-mist-text"></i>\n</div>\n<div>\n    <span class="text-sregular grey mountain-mist-text js-fsc-unavailable-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Find Similar Image Not Available",{name:"_",hash:{},data:a}))+"</span>\n</div>\n"},useData:!0})}),define("components/search/findSimilarControls",["jquery","lodash","page_config","app/client","app/stock-portal","app/actions/searchActions","app/actions/multiImageActions","app/constants/searchFilters","app/constants/analytics","hbs!templates/search/fscTile","hbs!templates/search/fscTileUnavailableImage","lib/utils","lib/analytics","lib/contentDetails","app/utils/search","app/utils/searchData","components/search/searchHelper","lib/analytics/dunamis","lib/hbsBasicHelpers"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g){"use strict";function E(){e(D).on("change",v)}function v(e,t){var a,i,s,l=g.constants,o={};n.isStockPanelEnabled?(a=t.findSimilarBy,s=t.similarContentId,i=o.search_type=l.VISUAL_SEARCH.PANEL_FSC_TILE_FIND_SIMILAR):(a=e.target.value,s=e.target.getAttribute("data-id"),i=o.search_type=l.VISUAL_SEARCH.FSC_TILE_FIND_SIMILAR),N.logFindSimilarOptionSelectedAnalytics(s),m.handleClickSimilarAnalyticsDunamis(i,a),m.logSimilarAnalyticsDunamis(i,a),L.dispatch(r.updateFindSimilarBy(s,a)),_.performSearch(!1,o)}function b(t){var n=e.extend({},o.FSC_OPTIONS),a=h.getContentData(t);a.is_video&&delete n.FSC_OPTION_COMPOSITION;var i={load_type:o.FIND_SIMILAR_LOAD_TYPE,category:a.category,finding_method:o.FINDING_METHOD.SEARCH,selection_method:o.SELECTION_TILE,fs_option:n};p.setupProductPurchaseData(o.SELECTION_TILE),p.setDigitalData(o.PAGE_INFO,i,{sendPageTrack:!1})}function T(n,a){var s,r,p,h,m="",f=[],g=L.getState(),E=g.view.multiImage,v=g.filters[l.NATIVE_VISUAL_SEARCH],b=[],T={},y=e(D),C=!1;if(n){for(f=n.toString().split(l.SIMILAR_CONTENT_ID_SEPARATOR),r=f.length-1;r>=0;r--)s=Number(f[r]),(m=d.getValueFromArrayById(E.metadata,"contentId",s))&&(p=_.shouldHideFscComposition(m),h=t.get(g.filters,l.FIND_SIMILAR_BY,m.findSimilarBy),C=p&&h===o.FSC_OPTIONS.FSC_OPTION_COMPOSITION,C&&(h=o.FSC_OPTIONS.FSC_OPTION_ALL),b.push({contentId:s,content_url:m.content_url,thumbnail_240:m.thumbnail_240,findSimilarBy:h,isVideo:m.isVideo,hideComposition:p}),a&&(T={similarContentId:s.toString(),imgUrl:m.content_url,imgThumbnailUrl:m.thumbnail_240,findSimilarBy:h,hideComposition:p},i.renderFindSimilarControlsPanel(T)),C&&_.showIncompatibleFSCCompositionAlert());y.html(c({similarContentData:b},{partials:{"search/fscTileUnavailableImage":u}}))}else v||(y.empty(),i.onlyClearFindSimilarControls())}function y(a){var s,r,d=L.getState(),p=d.filters[l.SIMILAR_CONTENT_ID],h=k(),m=[],f={},g=e(D),E=!1;a?(s=_.shouldHideFscComposition(),r=t.get(d.filters,l.FIND_SIMILAR_BY,o.FSC_OPTIONS.FSC_OPTION_ALL),E=s&&r===o.FSC_OPTIONS.FSC_OPTION_COMPOSITION,E&&(r=o.FSC_OPTIONS.FSC_OPTION_ALL),h&&a===h.native_visual_search?m.push({contentId:h.native_visual_search,thumbnail_240:h.dataUri,findSimilarBy:r,hideComposition:s}):m.push({contentId:a,findSimilarBy:r,hideComposition:s}),n.isStockPanelEnabled&&(f={similarContentId:"",imageToken:a,imgThumbnailUrl:t.get(h,"dataUri",""),findSimilarBy:r,hideComposition:s},n.isObjectArrangementUploadEnabled&&(f.isObjectArrangementUploadEnabled=!0),i.renderFindSimilarControlsPanel(f)),E&&_.showIncompatibleFSCCompositionAlert(),g.html(c({similarContentData:m},{partials:{"search/fscTileUnavailableImage":u}}))):p||(g.empty(),i.onlyClearFindSimilarControls())}function C(e){var a=L.getState(),s=t.get(a.filters,l.NATIVE_VISUAL_SEARCH,null),r=t.get(a.filters,l.SIMILAR_CONTENT_ID,null);s?y(s):r?T(r,e):n.isStockPanelEnabled&&i.onlyClearFindSimilarControls()}function S(e){d.addItemToLocalStorage(l.FSC_IMAGE,e)}function I(){k()&&d.removeItemFromLocalStorage(l.FSC_IMAGE)}function O(){n.isStockPanelEnabled?i.onlyClearFindSimilarControls():e(D).empty()}function k(){var e=localStorage.getItem(l.FSC_IMAGE);return e?d.doubleParseObject(e):null}function A(){var e=localStorage.getItem(l.FSC_IMAGE_GROUP);return e?d.doubleParseObject(e):[]}function R(e){var t=N.getFscGroupFromLocalStorage();return t[e]?t[e]:{}}function x(e){var t=N.getFscGroupFromLocalStorage(),n=!1;t.map(function(a,i){a[l.NATIVE_VISUAL_SEARCH]===e[l.NATIVE_VISUAL_SEARCH]&&(t[i]=e,n=!0)}),n||t.push(e),t.length>l.MAX_FIND_SIMILAR_IMAGES&&t.shift(),d.addItemToLocalStorage(l.FSC_IMAGE_GROUP,t)}function P(e){var t=N.getFscGroupFromLocalStorage(),n=-1;t.map(function(t,a){t.native_visual_search===e&&(n=a)}),-1!=n&&delete t[n],d.addItemToLocalStorage(l.FSC_IMAGE_GROUP,t)}var L=a.getInstance(),D=".js-fsc-tile-container",N={setUpFindSimilarByListener:E,toggleVisualSearchTile:C,toggleFSCTile:T,toggleNativeSearchFSCTile:y,fscContainerSelector:D,fscCloseSelector:".js-fsc-tile-close-btn",removeVisualSearchTile:O,getImageFromFscGroupInLocalStorage:R,addImageToFscGroupInLocalStorage:x,removeImageFromFscGroupInLocalStorage:P,handleFindSimilarByChange:v,logFindSimilarOptionSelectedAnalytics:b,getFSCImageFromLocalStorage:k,addFSCImageToLocalStorage:S,removeFSCImageFromLocalStorage:I,getFscGroupFromLocalStorage:A};return N}),define("lib/filters",["jquery","lib/cookie"],function(e,t){"use strict";function n(e){var n=e,a=n.attr("name"),i=new Date;a&&(i.setTime(i.getTime()+31536e6),t(a.replace(/\[|]/gi,""),n.is(":checked")?"checked":"unchecked",{path:"/",expires:i}))}function a(){e.each(c,function(t,a){n(e(a))})}function i(){o.length&&(a(),s(),o.find("input").on("change",function(){n(e(this)),s()}))}function s(){var e=t("filterscontent_type:photo"),n=t("filterscontent_type:illustration"),a=t("filterscontent_type:video"),i=t("filterscontent_type:zip_vector"),s={};return"unchecked"===e&&"unchecked"===n&&"unchecked"===i&&"checked"===a?(s.videoOnly=!0,!0):(s.videoOnly=!1,!1)}function r(){c.prop({checked:!1}),e(document.getElementById("filters-content_type:video")).prop({checked:!0}),a()}function l(){c.prop({checkbox:!1}),e(document.getElementById("filters-content_type:zip_vector")).prop({checked:!0}),e(document.getElementById("filters-content_type:illustration")).prop({checked:!0}),a()}var o=e("#filter-options-menu"),c=o.find("input");return{init:function(){i()},isVideoOnlyChecked:s,selectVideoCheckboxOnly:r,selectVectorsOnly:l}}),define("app/actions/pageActions",["app/actions/actionTypes"],function(e){"use strict";function t(t,n){return{name:t||"",checked:n,type:e.CHECK_FILTER_TOGGLE}}function n(t){return{data:t||{},type:e.UPDATE_PAGE_DATA}}return{checkFilterToggle:t,updatePageData:n}}),define("components/search/assetTypeDropdown",["lodash","page_config","jquery","app/actions/pageActions","app/actions/searchActions","app/actions/searchParamsActions","app/client","app/constants/assetTypeFilters","app/constants/analytics","app/constants/cookies","app/constants/searchFilters","app/utils/routes","app/utils/observer","app/utils/search","app/utils/searchData","components/search/filtersHelper","components/search/searchHelper","components/search/findSimilarControls","lib/analytics","lib/cookie","lib/window"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b){"use strict";function T(){M&&v(c.LAST_SELECTED_ASSET_TYPE,M.val(),U),y()}function y(){M.on("change",function(e){var a,i=N.getState(),s=n(this).val(),r=v(c.LAST_SELECTED_ASSET_TYPE),l=h.isVisualSearchActive(),p="videos"===r||"videos"===s||m.isOnlyVideoContentTypeFilterEnabled(i);if(S(e),E.setDigitalData(o.PAGE_INFO,{load_type:o.MEDIA_TYPE_LOAD_TYPE},{sendPageTrack:!1}),E.logHeaderNavClick(o.MEDIA_TYPE_LOAD_TYPE,e.target.value),t.isUsingAjax){if("audio"===s){h.handleDunamisAssetDropdownChange();var f=i.filters[u.KEYWORD],_=f?"?k="+encodeURI(f):"";return void b.setLocation(d.getSearchRouteWithBaseURL(s)+_)}a=C(s),N.dispatch(a)}l&&p&&g.toggleVisualSearchTile(!0)})}function C(e){switch(e){case"premium":return i.setAssetTypeToPremium();default:return a.updatePageData({filter_asset_type:e})}}function S(e){var t=e.target.value;_.closeAlertHandler(),I(t),O(t)}function I(e){v(c.LAST_SELECTED_ASSET_TYPE,e,U)}function O(e){w.attr("action",t.base_url+d.getSearchRoute(e))}function k(e){return M.val(e)}function A(){return M.val()}function R(e){k(e),I(e),N.dispatch(C(e))}function x(e){k(e),I(e)}function P(e){switch(e){case l.FREE:return!(!t.isFreeEnabled||t.is_mobile);case l.EDITORIAL:return!t.is_mobile;default:return!1}}function L(t,n,a){var i=e.get(t,"page.filter_asset_type"),s=e.get(n,"page.filter_asset_type");i!==s&&(F.isFilterPanelOpenByDefaultForAssetType(s)&&!f.isFiltersPanelOpen()&&f.toggleShowFilterPanel(),a(s))}function D(e){p.listen(function(t,n){L(t,n,e)})}var N=r.getInstance(),w=n(".js-search-form"),M=n(".js-filter-view-type"),U={path:"/",expires:31},F={initializeObserver:D,forceUpdateDropdown:R,forceUpdateDropdownWithoutSearch:x,handleAssetTypeChange:S,init:T,setValue:k,updateAssetTypeCookie:I,updateSearchFormAction:O,getValue:A,isFilterPanelOpenByDefaultForAssetType:P,updateFiltersPanelForAssetType:L};return F}),function(){!function(e,t,n){var a,i,s;s="slidesjs",i={width:940,height:528,start:1,navigation:{active:!0,effect:"slide"},pagination:{active:!0,effect:"slide"},play:{active:!1,effect:"slide",interval:5e3,auto:!1,swap:!0,pauseOnHover:!1,restartDelay:2500},effect:{slide:{speed:500},fade:{speed:300,crossfade:!0}},callback:{loaded:function(){},start:function(){},complete:function(){}}},a=function(){function t(t,n){this.element=t,this.options=e.extend(!0,{},i,n),this._defaults=i,this._name=s,this.init()}return t}(),a.prototype.init=function(){var n,a,i,s,r=this;n=e(this.element),this.data=e.data(this),json_fader=e(this.options.fader_data).html(),this.options.data_slide_urls=JSON.parse(json_fader);var l=this.options,o=this.data;return e.data(this,"animating",!1),e.data(this,"total",n.children().not(".slidesjs-navigation",n).length),e.data(this,"current",this.options.start-1),e.data(this,"vendorPrefix",this._getVendorPrefix()),"undefined"!=typeof TouchEvent&&(e.data(this,"touch",!0),this.options.effect.slide.speed=this.options.effect.slide.speed/2),n.css({overflow:"hidden"}),n.slidesContainer=n.children().not(".slidesjs-navigation",n).wrapAll("<div class='slidesjs-container'>",n).parent().css({overflow:"hidden",position:"relative"}),e(".slidesjs-container",n).wrapInner("<div class='slidesjs-control'>",n).children(),e(".slidesjs-control",n).css({position:"relative",left:0}),e(".slidesjs-control",n).children().addClass("slidesjs-slide").css({position:"absolute",top:0,left:0,width:"100%",zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"}),e.each(e(".slidesjs-control",n).children(),function(t){var n;return n=e(this),n.attr("slidesjs-index",t)}),this.data.touch&&(e(".slidesjs-control",n).on("touchstart",function(e){return r._touchstart(e)}),e(".slidesjs-control",n).on("touchmove",function(e){return r._touchmove(e)}),e(".slidesjs-control",n).on("touchend",function(e){return r._touchend(e)})),n.fadeIn(0),this.update(),this.data.touch&&this._setuptouch(),e(".slidesjs-control",n).children(":eq("+this.data.current+")").eq(0).fadeIn(0,function(){return e(this).css({zIndex:10})}),this.options.navigation.active&&(e("<a>",{class:"slidesjs-previous slidesjs-navigation",href:"#",title:"Previous",text:"Previous"}).appendTo(n),e("<a>",{class:"slidesjs-next slidesjs-navigation",href:"#",title:"Next",text:"Next"}).appendTo(n)),e(".slidesjs-next",n).click(function(e){return e.preventDefault(),r.stop(!0),r.next(r.options.navigation.effect)}),e(".slidesjs-previous",n).click(function(e){return e.preventDefault(),r.stop(!0),r.previous(r.options.navigation.effect)}),this.options.play.active&&(i=e("<a>",{class:"slidesjs-play slidesjs-navigation",href:"#",title:"Play",text:"Play"}).appendTo(n),s=e("<a>",{class:"slidesjs-stop slidesjs-navigation",href:"#",title:"Stop",text:"Stop"}).appendTo(n),i.click(function(e){return e.preventDefault(),r.play(!0)}),s.click(function(e){return e.preventDefault(),r.stop(!0)}),this.options.play.swap&&s.css({display:"none"})),this.options.pagination.active&&(a=e("<ul>",{class:"slidesjs-pagination"}).appendTo(n),e.each(new Array(this.data.total),function(t){var n,i;return n=e("<li>",{class:"slidesjs-pagination-item"}).appendTo(a),i=e("<a>",{href:"#","data-slidesjs-item":t,html:t+1}).appendTo(n),i.click(function(t){return t.preventDefault(),r.stop(!0),r.gotoNext(1*e(t.currentTarget).attr("data-slidesjs-item")+1)})})),e(".fader").on("click",function(n){return!!e(n.target).hasClass("btn-box-home")||!(e(n.target).hasClass("box-fader")||e(n.target).parent().hasClass("box-fader")||e(n.target).parent().parent().hasClass("box-fader"))&&void t.open(l.data_slide_urls[o.current][1])}),e(this.element).on("click",function(){t.open(l.data_slide_urls[o.current][1])}),e(t).bind("resize",function(){return r.update()}),this._setActive(),this.options.play.auto&&this.play(),this.options.callback.loaded(this.options.start)},a.prototype._setActive=function(t){var n,a;return n=e(this.element),this.data=e.data(this),a=t>-1?t:this.data.current,e(".active",n).removeClass("active"),e(".slidesjs-pagination li:eq("+a+") a",n).addClass("active")},a.prototype.update=function(){var t,n,a;return t=e(this.element),this.data=e.data(this),e(".slidesjs-control",t).children(":not(:eq("+this.data.current+"))").css({display:"none",left:0,zIndex:0}),a=t.width(),n=this.options.height/this.options.width*a,this.options.width=a,this.options.height=n,e(".slidesjs-control, .slidesjs-container",t).css({width:a,height:n})},a.prototype.next=function(t){return e(this.element),this.data=e.data(this),e.data(this,"direction","next"),void 0===t&&(t=this.options.navigation.effect),"fade"===t?this._fade():this._slide()},a.prototype.previous=function(t){return e(this.element),this.data=e.data(this),e.data(this,"direction","previous"),void 0===t&&(t=this.options.navigation.effect),"fade"===t?this._fade():this._slide()},a.prototype.gotoNext=function(t){var n;if(e(this.element),this.data=e.data(this),void 0===n&&(n=this.options.pagination.effect),t>this.data.total?t=this.data.total:t<1&&(t=1),"number"==typeof t)return"fade"===n?this._fade(t):this._slide(t);if("string"==typeof t){if("first"===t)return"fade"===n?this._fade(0):this._slide(0);if("last"===t)return"fade"===n?this._fade(this.data.total):this._slide(this.data.total)}},a.prototype._setuptouch=function(){var t,n,a,i;return t=e(this.element),this.data=e.data(this),i=e(".slidesjs-control",t),n=this.data.current+1,a=this.data.current-1,a<0&&(a=this.data.total-1),n>this.data.total-1&&(n=0),i.children(":eq("+n+")").css({display:"block",left:this.options.width}),i.children(":eq("+a+")").css({display:"block",left:0})},a.prototype._touchstart=function(t){var n;return e(this.element),this.data=e.data(this),n=t.originalEvent.touches[0],this._setuptouch(),e.data(this,"touchtimer",Number(new Date)),e.data(this,"touchstartx",n.pageX),e.data(this,"touchstarty",n.pageY),t.stopPropagation()},a.prototype._touchend=function(t){var n,a,i,s,r,l,o=this;return n=e(this.element),this.data=e.data(this),t.originalEvent.touches[0],s=e(".slidesjs-control",n),s.position().left>.5*this.options.width||s.position().left>.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?(e.data(this,"direction","previous"),this._slide()):s.position().left<-.5*this.options.width||s.position().left<-.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?(e.data(this,"direction","next"),this._slide()):(i=this.data.vendorPrefix,l=i+"Transform",a=i+"TransitionDuration",r=i+"TransitionTimingFunction",s[0].style[l]="translateX(0px)",s[0].style[a]=.85*this.options.effect.slide.speed+"ms"),s.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return i=o.data.vendorPrefix,l=i+"Transform",
a=i+"TransitionDuration",r=i+"TransitionTimingFunction",s[0].style[l]="",s[0].style[a]="",s[0].style[r]=""}),t.stopPropagation()},a.prototype._touchmove=function(t){var n,a,i,s,r;return n=e(this.element),this.data=e.data(this),s=t.originalEvent.touches[0],a=this.data.vendorPrefix,i=e(".slidesjs-control",n),r=a+"Transform",e.data(this,"scrolling",Math.abs(s.pageX-this.data.touchstartx)<Math.abs(s.pageY-this.data.touchstarty)),this.data.animating||this.data.scrolling||(t.preventDefault(),this._setuptouch(),i[0].style[r]="translateX("+(s.pageX-this.data.touchstartx)+"px)"),t.stopPropagation()},a.prototype.play=function(t){var n,a,i,s=this;if(n=e(this.element),this.data=e.data(this),!this.data.playInterval&&(t&&(a=this.data.current,this.data.direction="next","fade"===this.options.play.effect?this._fade():this._slide()),e.data(this,"playInterval",setInterval(function(){return a=s.data.current,s.data.direction="next","fade"===s.options.play.effect?s._fade():s._slide()},this.options.play.interval)),i=e(".slidesjs-container",n),this.options.play.pauseOnHover&&(i.unbind(),i.bind("mouseenter",function(){return s.stop()}),i.bind("mouseleave",function(){return s.options.play.restartDelay?e.data(s,"restartDelay",setTimeout(function(){return s.play(!0)},s.options.play.restartDelay)):s.play()})),e.data(this,"playing",!0),e(".slidesjs-play",n).addClass("slidesjs-playing"),this.options.play.swap))return e(".slidesjs-play",n).hide(),e(".slidesjs-stop",n).show()},a.prototype.stop=function(t){var n;if(n=e(this.element),this.data=e.data(this),clearInterval(this.data.playInterval),this.options.play.pauseOnHover&&t&&e(".slidesjs-container",n).unbind(),e.data(this,"playInterval",null),e.data(this,"playing",!1),e(".slidesjs-play",n).removeClass("slidesjs-playing"),this.options.play.swap)return e(".slidesjs-stop",n).hide(),e(".slidesjs-play",n).show()},a.prototype._slide=function(t){var n,a,i,s,r,l,o,c,u,d=this;if(n=e(this.element),this.data=e.data(this),!this.data.animating&&t!==this.data.current+1)return e.data(this,"animating",!0),a=this.data.current,t>-1?(t-=1,u=t>a?1:-1,i=t>a?-this.options.width:this.options.width,r=t):(u="next"===this.data.direction?1:-1,i="next"===this.data.direction?-this.options.width:this.options.width,r=a+u),-1===r&&(r=this.data.total-1),r===this.data.total&&(r=0),this._setActive(r),o=e(".slidesjs-control",n),t>-1&&o.children(":not(:eq("+a+"))").css({display:"none",left:0,zIndex:0}),o.children(":eq("+r+")").css({display:"block",left:u*this.options.width,zIndex:10}),this.options.callback.start(a+1),this.data.vendorPrefix?(l=this.data.vendorPrefix,c=l+"Transform",s=l+"TransitionDuration",l+"TransitionTimingFunction",o[0].style[c]="translateX("+i+"px)",o[0].style[s]=this.options.effect.slide.speed+"ms",o.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return o[0].style[c]="",o[0].style[s]="",o.children(":eq("+r+")").css({left:0}),o.children(":eq("+a+")").css({display:"none",left:0,zIndex:0}),e.data(d,"current",r),e.data(d,"animating",!1),o.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd"),o.children(":not(:eq("+r+"))").css({display:"none",left:0,zIndex:0}),d.data.touch&&d._setuptouch(),d.options.callback.complete(r+1)})):o.stop().animate({left:i},this.options.effect.slide.speed,function(){return o.css({left:0}),o.children(":eq("+r+")").css({left:0}),o.children(":eq("+a+")").css({display:"none",left:0,zIndex:0},e.data(d,"current",r),e.data(d,"animating",!1),d.options.callback.complete(r+1))})},a.prototype._fade=function(t){var n,a,i,s,r,l=this;if(n=e(this.element),this.data=e.data(this),this.data.current<this.options.data_slide_urls.length&&this.data.total!=this.options.data_slide_urls.length&&(e(".slidesjs-control").append('<img src="'+this.options.data_slide_urls[this.data.current+1][0]+'" class="slidesjs-slide" slidesjs-index="'+(this.data.current+1)+'" style="position: absolute; top: 0px; width: 100%;">'),this.data.total++),!this.data.animating&&t!==this.data.current+1)return e.data(this,"animating",!0),a=this.data.current,t?(t-=1,r=t>a?1:-1,i=t):(r="next"===this.data.direction?1:-1,i=a+r),-1===i&&(i=this.data.total-1),i===this.data.total&&(i=0),this._setActive(i),s=e(".slidesjs-control",n),s.children(":eq("+i+")").css({display:"none",left:0,zIndex:10}),this.options.callback.start(a+1),this.options.effect.fade.crossfade?(s.children(":eq("+this.data.current+")").stop().fadeOut(this.options.effect.fade.speed),s.children(":eq("+i+")").stop().fadeIn(this.options.effect.fade.speed,function(){return s.children(":eq("+i+")").css({zIndex:0}),e.data(l,"animating",!1),e.data(l,"current",i),l.options.callback.complete(i+1)})):s.children(":eq("+a+")").stop().fadeOut(this.options.effect.fade.speed,function(){return s.children(":eq("+i+")").stop().fadeIn(l.options.effect.fade.speed,function(){return s.children(":eq("+i+")").css({zIndex:10})}),e.data(l,"animating",!1),e.data(l,"current",i),l.options.callback.complete(i+1)})},a.prototype._getVendorPrefix=function(){var e,t,a,i,s;for(e=n.body||n.documentElement,a=e.style,i="transition",s=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1),t=0;t<s.length;){if("string"==typeof a[s[t]+i])return s[t];t++}return!1},e.fn[s]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+s))return e.data(this,"plugin_"+s,new a(this,t))})}}(jQuery,window,document)}.call(this),define("vendor/jquery/jquery.slides-3",function(){}),function(e){"function"==typeof define&&define.amd?define("vendor/jquery/jqueryui.slide",["jquery"],e):e(jQuery)}(function(e){var t=e;e.effects={effect:{}},function(e,t){function n(e,t,n){var a=u[t.type]||{};return null==e?n||!t.def?null:t.def:(e=a.floor?~~e:parseFloat(e),isNaN(e)?t.def:a.mod?(e+a.mod)%a.mod:0>e?0:a.max<e?a.max:e)}function a(t){var n=o(),a=n._rgba=[];return t=t.toLowerCase(),h(l,function(e,i){var s,r=i.re.exec(t),l=r&&i.parse(r),o=i.space||"rgba";if(l)return s=n[o](l),n[c[o].cache]=s[c[o].cache],a=n._rgba=s._rgba,!1}),a.length?("0,0,0,0"===a.join()&&e.extend(a,s.transparent),n):s[t]}function i(e,t,n){return n=(n+1)%1,6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var s,r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=e.Color=function(t,n,a,i){return new e.Color.fn.parse(t,n,a,i)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=o.support={},p=e("<p>")[0],h=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,h(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),o.fn=e.extend(o.prototype,{parse:function(t,i,r,l){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(i),i=void 0);var u=this,d=e.type(t),p=this._rgba=[];return void 0!==i&&(t=[t,i,r,l],d="array"),"string"===d?this.parse(a(t)||s._default):"array"===d?(h(c.rgba.props,function(e,a){p[a.idx]=n(t[a.idx],a)}),this):"object"===d?(t instanceof o?h(c,function(e,n){t[n.cache]&&(u[n.cache]=t[n.cache].slice())}):h(c,function(a,i){var s=i.cache;h(i.props,function(e,a){if(!u[s]&&i.to){if("alpha"===e||null==t[e])return;u[s]=i.to(u._rgba)}u[s][a.idx]=n(t[e],a,!0)}),u[s]&&e.inArray(null,u[s].slice(0,3))<0&&(u[s][3]=1,i.from&&(u._rgba=i.from(u[s])))}),this):void 0},is:function(e){var t=o(e),n=!0,a=this;return h(c,function(e,i){var s,r=t[i.cache];return r&&(s=a[i.cache]||i.to&&i.to(a._rgba)||[],h(i.props,function(e,t){if(null!=r[t.idx])return n=r[t.idx]===s[t.idx]})),n}),n},_space:function(){var e=[],t=this;return h(c,function(n,a){t[a.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var a=o(e),i=a._space(),s=c[i],r=0===this.alpha()?o("transparent"):this,l=r[s.cache]||s.to(r._rgba),d=l.slice();return a=a[s.cache],h(s.props,function(e,i){var s=i.idx,r=l[s],o=a[s],c=u[i.type]||{};null!==o&&(null===r?d[s]=o:(c.mod&&(o-r>c.mod/2?r+=c.mod:r-o>c.mod/2&&(r-=c.mod)),d[s]=n((o-r)*t+r,i)))}),this[i](d)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),a=n.pop(),i=o(t)._rgba;return o(e.map(n,function(e,t){return(1-a)*i[t]+a*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),a=n.pop();return t&&n.push(~~(255*a)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,a=e[0]/255,i=e[1]/255,s=e[2]/255,r=e[3],l=Math.max(a,i,s),o=Math.min(a,i,s),c=l-o,u=l+o,d=.5*u;return t=o===l?0:a===l?60*(i-s)/c+360:i===l?60*(s-a)/c+120:60*(a-i)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==r?1:r]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],a=e[2],s=e[3],r=a<=.5?a*(1+n):a+n-a*n,l=2*a-r;return[Math.round(255*i(l,r,t+1/3)),Math.round(255*i(l,r,t)),Math.round(255*i(l,r,t-1/3)),s]},h(c,function(t,a){var i=a.props,s=a.cache,l=a.to,c=a.from;o.fn[t]=function(t){if(l&&!this[s]&&(this[s]=l(this._rgba)),void 0===t)return this[s].slice();var a,r=e.type(t),u="array"===r||"object"===r?t:arguments,d=this[s].slice();return h(i,function(e,t){var a=u["object"===r?e:t.idx];null==a&&(a=d[t.idx]),d[t.idx]=n(a,t)}),c?(a=o(c(d)),a[s]=d,a):o(d)},h(i,function(n,a){o.fn[n]||(o.fn[n]=function(i){var s,l=e.type(i),o="alpha"===n?this._hsla?"hsla":"rgba":t,c=this[o](),u=c[a.idx];return"undefined"===l?u:("function"===l&&(i=i.call(this,u),l=e.type(i)),null==i&&a.empty?this:("string"===l&&(s=r.exec(i))&&(i=u+parseFloat(s[2])*("+"===s[1]?1:-1)),c[a.idx]=i,this[o](c)))})})}),o.hook=function(t){var n=t.split(" ");h(n,function(t,n){e.cssHooks[n]={set:function(t,i){var s,r,l="";if("transparent"!==i&&("string"!==e.type(i)||(s=a(i)))){if(i=o(s||i),!d.rgba&&1!==i._rgba[3]){for(r="backgroundColor"===n?t.parentNode:t;(""===l||"transparent"===l)&&r&&r.style;)try{l=e.css(r,"backgroundColor"),r=r.parentNode}catch(e){}i=i.blend(l&&"transparent"!==l?l:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=o(t.elem,n),t.end=o(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(n,a){t["border"+a+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(t),function(){function n(t){var n,a,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(i&&i.length&&i[0]&&i[i[0]])for(a=i.length;a--;)n=i[a],"string"==typeof i[n]&&(s[e.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(s[n]=i[n]);return s}function a(t,n){var a,i,r={};for(a in n)i=n[a],t[a]!==i&&(s[a]||!e.fx.step[a]&&isNaN(parseFloat(i))||(r[a]=i));return r}var i=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(n,a){e.fx.step[a]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(t.style(e.elem,a,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,s,r,l){var o=e.speed(s,r,l);return this.queue(function(){var s,r=e(this),l=r.attr("class")||"",c=o.children?r.find("*").addBack():r;c=c.map(function(){return{el:e(this),start:n(this)}}),s=function(){e.each(i,function(e,n){t[n]&&r[n+"Class"](t[n])})},s(),c=c.map(function(){return this.end=n(this.el[0]),this.diff=a(this.start,this.end),this}),r.attr("class",l),c=c.map(function(){var t=this,n=e.Deferred(),a=e.extend({},o,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,a),n.promise()}),e.when.apply(e,c.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),o.complete.call(r[0])})})},e.fn.extend({addClass:function(t){return function(n,a,i,s){return a?e.effects.animateClass.call(this,{add:n},a,i,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,a,i,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},a,i,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,a,i,s,r){return"boolean"==typeof a||void 0===a?i?e.effects.animateClass.call(this,a?{add:n}:{remove:n},i,s,r):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},a,i,s)}}(e.fn.toggleClass),switchClass:function(t,n,a,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},a,i,s)}})}(),function(){function t(t,n,a,i){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(i=n,a=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(i=a,a=n,n={}),e.isFunction(a)&&(i=a,a=null),n&&e.extend(t,n),a=a||n.duration,t.duration=e.fx.off?0:"number"==typeof a?a:a in e.fx.speeds?e.fx.speeds[a]:e.fx.speeds._default,t.complete=i||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ui-effects-"+t[n],e[0].style[t[n]])},restore:function(e,t){var n,a;for(a=0;a<t.length;a++)null!==t[a]&&(n=e.data("ui-effects-"+t[a]),void 0===n&&(n=""),e.css(t[a],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,a;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=e[1]/t.width}return{x:a,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},a=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(e){s=document.body}return t.wrap(a),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),a=t.parent(),"static"===t.css("position")?(a.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,a){n[a]=t.css(a),isNaN(parseInt(n[a],10))&&(n[a]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),a.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,a,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*a+s[1])}),i}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(s)&&s.call(i[0]),e.isFunction(t)&&t()}var i=e(this),s=a.complete,l=a.mode;(i.is(":hidden")?"hide"===l:"show"===l)?(i[l](),n()):r.call(i[0],a,n)}var a=t.apply(this,arguments),i=a.mode,s=a.queue,r=e.effects.effect[a.effect];return e.fx.off||!r?i?this[i](a.duration,a.complete):this.each(function(){a.complete&&a.complete.call(this)}):!1===s?this.each(n):this.queue(s||"fx",n)},show:function(e){return function(a){if(n(a))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(a){if(n(a))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(a){if(n(a)||"boolean"==typeof a)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),a=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(a=[parseFloat(n),t])}),a}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}})}();e.effects,e.effects.effect.slide=function(t,n){var a,i=e(this),s=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(i,t.mode||"show"),l="show"===r,o=t.direction||"left",c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={};e.effects.save(i,s),i.show(),a=t.distance||i["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(i).css({overflow:"hidden"}),l&&i.css(c,u?isNaN(a)?"-"+a:-a:a),d[c]=(l?u?"+=":"-=":u?"-=":"+=")+a,i.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}})}}),define("components/modalMenu",["jquery"],function(e){"use strict";e("body").on("click",".js-modal-toggler",function(){var t=e(this),n=t.siblings(".js-modal-menu");n.toggle(),n.css({top:15,left:10})})}),define("lib/searchheader",["jquery","lodash","components/search/searchHelper","components/search/filtersHelper","components/search/findSimilarControls","page_config","i18n-config","Handlebars","app/constants/cookies","lib/cookie","lib/assetsStore","lib/window","lib/uiEvents","lib/filters","lib/utils","lib/member","lib/analytics","lib/analytics/search","lib/autocomplete","app/actions/filterActions","app/actions/multiImageActions","app/actions/searchActions","app/actions/historyActions","app/client","app/constants/analytics","app/constants/searchFilters","app/constants/ui","app/utils/search","app/utils/observer","components/search/assetTypeDropdown","hbs!templates/search/recentSearches","lib/analytics/dunamis","app/utils/searchData","vendor/jquery/jquery.slides-3","vendor/jquery/jqueryui.slide","components/modalMenu","vendor/jquery/jquery.minicolors.min","lib/hbsBasicHelpers"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C,S,I,O,k,A,R,x,P,L){"use strict";function D(t,a){var i,r,l=a||pe.USERTYPED,o={},c={},u=e(te),d=u.val();if(!n.validateKeyword(d))return void t.preventDefault();isNaN(d)||9!==d.length||(l=pe.CONTENT_ID),i={search_page:1,search_type:l},c[pe.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=d,P.track(pe.SEARCH_BEGIN,l,c,u),s.isUsingAjax?(_.setDigitalData(S.PAGE_INFO,{load_type:S.SEARCH_LOAD_TYPE},{sendPageTrack:!1}),r=E.setAutocompletePanel(J,!1),-1!==r.selectedIndex&&(i.acp=r.selectedIndex,i.aco=r.originalText),n.renderFindSimilarControlsOnKeywordChange(d),n.togglePreviewThumbs(n.getSimilarContentId(),!0),n.performActionAndSearch(v.updateSearchFilters(o),!1,i,!0)):(J.find("input[name=load_type]").val("search"),J.find("input[name=search_type]").val(l),J.submit())}function N(){var t,a={filters:{}},i=e(te).val();n.validateKeyword(i)&&(a[I.KEYWORD]=i,t=e.extend({},a),ue.dispatch(v.updateSearchFilters(t)))}function w(e){var t=e.currentTarget.getAttribute("data-ingest-clicktype"),a=ue.getState(),s=L.isOnlyVideoContentTypeFilterEnabled(a),r=k.isVisualSearchActive(),l={search_type:t};r&&s&&i.toggleVisualSearchTile(),n.clearFilters(l),g.logSearchFilterEvent("clear"),P.track(pe.SEARCH_BEGIN,t,null,W)}function M(){var e;(e=ue.getState().view.recentSearches)&&ue.dispatch(T.hideRecentSearches())}function U(t){var n=ue.getState().view.recentSearches,a=k.getRecentSearches(),i=e(te).val().length;t.stopPropagation(),0===i&&N(),a.length>0&&!n&&0===i&&ue.dispatch(T.showRecentSearches())}function F(e){e.stopPropagation(),k.clearRecentSearches()}function j(e){return parseInt(e.attr("data-keyword-index"),10)}function H(e){var t=e.attr("data-action");return t||""}function V(t){var n=e(ae),i="",r=ie,l=k.getRecentSearches().length;switch(n.length&&(r=j(n)),t.keyCode){case re:r+=1;break;case le:r-=1}(r<=ie||r>l)&&(r=0),B(!0,r),n=e(ae),n.length&&(i=n[0].textContent.trim()),H(n)===se&&(i=""),s.isUsingAjax?a.updateKeyword(i):t.target.value=i}function q(){ue.getState().view.recentSearches&&ue.dispatch(T.hideRecentSearches())}function Y(t){var n=e(ae),a=ue.getState().view.recentSearches,i=e(t.target),r=null;if(a)switch(t.keyCode){case re:case le:V(t);break;case oe:H(n)===se?(F(t),t.preventDefault()):(r=pe.RECENT_SEARCHES,q(t));break;case ce:q(t),E.queryAutocompleteApi(i);break;default:q(t)}if(t.keyCode===O.ENTER_KEY&&s.isUsingAjax)return e(".js-search-autocomplete-panel").find(".active").length>0&&(r=pe.AUTO_SUGGEST),D(t,r),!1;fe.debouncedKeyPress()}function G(t){return function(i){var r=pe.RECENT_SEARCHES,l=i.target.innerText,o={is_recent_search:ee,search_type:r},c={},u=e(te);c[pe.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=l,i.preventDefault(),ue.dispatch(T.hideRecentSearches()),e(te).val(l),P.track(pe.SEARCH_BEGIN,r,c,u),s.isUsingAjax?(a.updateKeyword(l),n.performSearch(!1,o)):(e(".js-is-recent-search").val(ee),e(".js-search-type").val(r),t.submit())}}function B(t,n){var a=k.getRecentSearches();E.setAutocompletePanel(J,!1),e(ne).html(x({keywords:a,selected:n,show:t}))}var K,W=e("body"),z=e(document.getElementById("filters-toggle")),Q=e(".js-search-profile-badge"),X=e(".js-search-collection-badge"),Z=e("#search-results"),J=e(".js-search-form"),$=e(".js-sell-nav"),ee=1,te=".js-search-text-input",ne=".js-search-recent-container",ae=".js-search-recent-item-selected",ie=-1,se="clearAll",re=40,le=38,oe=13,ce=32,ue=C.getInstance(),de=t.debounce(N,450),pe=P.constants;!J[0]||s.isUsingAjax&&void 0!==s.isUsingAjax||J[0].addEventListener("submit",function(n){var a=pe.USERTYPED,i=ue.getState(),s=t.get(i,"view.recentSearches"),r=e(".js-search-autocomplete-panel").find(".active").length>0;s?a=pe.RECENT_SEARCHES:r&&(a=pe.AUTO_SUGGEST),D(n,a)}),e(".js-search-icon").click(function(t){return a.updateKeyword(e(te).val()),D(t),!1}),e(".js-search-input").focus(function(e){_.ignoreFirstSearchInputFocus?_.ignoreFirstSearchInputFocus=!1:_.setDigitalData(S.EVENT_INFO,{eventType:S.CLICK_EVENT,eventLabel:S.SEARCH_START_EVENT})}),Z.on("click",".non-js-link",function(e){m.isPhone()?window.location.hash=e.currentTarget.name:s.isSTDetailsViewInNewTabEnabled||e.preventDefault()}),W.on("keypress",".js-pagination-jump-field",function(t){if(t.keyCode===O.ENTER_KEY){var n=e(this),a=e("#pagination-total-page-count");parseInt(n.val())>parseInt(a.val())&&n.val(a.val())}}),z.on("click",function(){var e=a.toggleShowFilterPanel(),t=e===O.FILTER_PANEL_OPEN?pe.FILTER_VIEW:pe.FILTER_HIDE;s.isStockPanelEnabled&&(t=e===O.FILTER_PANEL_OPEN?pe.FILTER_VIEW_PANEL:pe.FILTER_HIDE_PANEL),g.logSearchFilterEvent(e),P.track(pe.CLICK,t,null,W)}),W.on("click",".js-search-profile-close",function(e){s.isUsingAjax?d.setLocation(s.base_url+"/Search"):(J.attr("action",s.base_url+"/Search"),Q.hide(),J.find(".js-search-text-input").removeClass("profile-search-input"))}),W.on("click",".js-search-collection-close",function(e){var t=c(o.LAST_SELECTED_ASSET_TYPE),a=n.getSearchUrlForAssetType(t);s.isUsingAjax?d.setLocation(a):(J.attr("action",a),X.hide())}),p.on(p.ASSET_LICENSED,function(e){var t=e.transferData||[];e&&e.contentId&&m.badgeLicensedOrTransferred(e.contentId,{license_transfers:t,display_as_unlicensed:e.display_as_unlicensed})}),p.on(p.ASSET_LICENSE_REQUEST_PENDING,function(e){e&&e.contentId&&e.license_request_data&&m.badgeLicenseRequestPending(e.contentId,e.license_request_data)}),p.on(p.SEARCH_RESULTS_UPDATED,function(){s.thor_adobe_redirect&&e(".js-thor-adobe-redirect").empty(),s.suggest&&e(".js-suggest").empty()}),e(".js-hide-filters").on("click",function(){g.logSearchFilterEvent("hide"),a.toggleShowFilterPanel(),z.find("input").removeAttr("checked")}),s.isStockPanelEnabled&&e(window).on("portal:clearFilters",function(){var e={search_type:pe.CLEAR_ALL_FILTERS};P.track(pe.CLICK,pe.CLEAR_ALL_FILTERS,null,W),P.track(pe.SEARCH_BEGIN,pe.CLEAR_ALL_FILTERS,null,W),n.clearFilters(e)}),W.on("click",".js-clear-filters",w),e(".js-thumbs-container").on("click",".js-thumb-badge-close",n.handleFindSimilarCloseClick),e(".js-thumbs-container").on("click",".js-inactive-thumb-badge-close",function(){ue.getState().view.multiImage.inactive&&(ue.dispatch(b.multiImageRemoveInactive()),n.togglePreviewThumbs(n.getSimilarContentId()))}).on("mouseenter",".js-show-tooltip-on-hover",function(){e(".js-inactive-tooltip").attr("data-is-visible",!0)}).on("mouseleave",".js-show-tooltip-on-hover",function(){e(".js-inactive-tooltip").attr("data-is-visible",!1)}),e(te).on("keyup",Y),K=e(".js-search-form"),p.on(p.BODY_CLICKED,M),W.on("mousedown",function(){p.trigger(p.BODY_CLICKED)}),e(te).on("click",U),K.on("click",".js-search-recent-clear",F).on("click",".js-search-recent-item",G(K)),e(ne).on("mousedown",function(e){e.stopPropagation()}),A.observe(function(e){return e.view.recentSearches},function(e){B(e,ie)}),R.init();var he=function(t){var n=e(te);n.val()!==t&&n.val(t)},me=function(e,n){var a=t.get(e,"filters.k"),i=t.get(n,"filters.k");t.isEqual(a,i)||fe.updateSearchKeyword(i)};A.listen(me),$.on("click",function(){P.track(pe.CLICK,pe.SELL,null,$,!0)});var fe={performKeywordSearch:D,hideRecentSearchesOnBodyClick:M,searchBarClick:U,recentClear:F,hideRecentSearchesOnTyping:q,recentClick:G,getIndexOfRecentSearchItem:j,getClearAllAction:H,selectNextRecentSearchEntry:V,searchInputOnKeyUp:Y,updateFiltersKeyword:N,updateSearchKeyword:he,updateSearchKeywordObserverHandler:me,debouncedKeyPress:de};return fe}),define("lib/header",["jquery","app/constants/analytics","lib/analytics","lib/cookie","lib/searchheader","lib/window"],function(e,t,n){"use strict";e(".js-stock-logo").on("click",function(){n.logHeaderNavClick(t.STOCK_LOGO_EVENT)}),e(".js-premium-nav").on("click",function(){n.logHeaderNavClick(t.PREMIUM_EVENT)}),e(".js-adobe-logo").on("click",function(){n.logHeaderNavClick(t.ADOBE_LOGO_EVENT)}),e(".js-sell-nav").on("click",function(){n.logHeaderNavClick(t.SELL_EVENT)}),e(".js-pricing-nav").on("click",function(){n.logHeaderNavClick(t.PRICING_EVENT)}),e(".js-signin-nav").on("click",function(){n.logHeaderNavClick(t.SIGNIN_EVENT)}),e(".js-switch-team").on("click",function(){n.logHeaderNavClick(t.NAVNAME_PROFILE,t.SWITCH_TEAM_EVENT)}),e(".js-license-history-nav").on("click",function(){n.logHeaderNavClick(t.NAVNAME_PROFILE,t.LICENSE_HISTORY_EVENT)}),e(".js-my-adobe-id-section").on("click",function(){n.logHeaderNavClick(t.NAVNAME_PROFILE,t.MANAGE_ADOBE_ID_EVENT)}),e(".js-susi-logout").on("click",function(){n.logHeaderNavClick(t.NAVNAME_PROFILE,t.SIGNOUT_EVENT)})}),require(["jquery","page_config","quickerCheckoutRepo/quickerCheckout","app/constants/analytics","lib/member","lib/window","lib/modal-window","lib/analytics/promoBanner","lib/analytics","app/stock-portal","lib/localStorage","app/constants/localStorage"],function(e,t,n,a,i,s,r,l,o,c){"use strict";e("body").on("click",".js-start-fmf",function(e){e.stopPropagation(),e.preventDefault();var u,d=this.dataset.contentId?this.dataset.contentId:null,p=this.dataset.libraryId?this.dataset.libraryId:null,h=this.dataset.productKey?this.dataset.productKey:"/Applications/StockSubSmallAnnual",m=this.dataset.startContext?this.dataset.startContext:null,f=this.dataset.assetType?this.dataset.assetType:null,_=this.dataset.lpregion?this.dataset.lpregion:null,g=!!this.dataset.qcStartSearch&&this.dataset.qcStartSearch,E=this.dataset.analyticsLabel?this.dataset.analyticsLabel:a.BLUE_BANNER_START_NOW,v=o.determineFindingMethod(),b=a.SELECTION_DIRECT;i&&i.getDefaultEntitlement()&&i.getDefaultEntitlement().is_team?r.showSwitchToPersonalMessage().then(function(){s.setLocation(t.base_url+"/Member/SwitchPersonal")}):"fmfPromoPage"!==m&&t.goToFmfPageOnBlueBannerClick?s.setLocation(t.base_url+"/Promo/FirstMonthFree"):t.isCoreCheckoutEnabled?c.startCheckout({productKey:h,contentId:d,extras:{options:{start_search:g},credit_pack_asset_type:f}}):(u={contentId:d,libId:p,startContext:m,creditPackAssetType:f,extrasOptions:{start_search:g,finding_method:v,selection_method:b}},n.start(h,u)),l.sendBlueBannerAnalytics("firstmonthfreebanner",h,_,E)})}),define("lib/firstMonthFree",function(){}),define("migrationAssistant/constants",[],function(){"use strict";return{MAIN_CONTAINER:"type2e-migration-main-container",CONTENT_CONTAINER:"type2e-migration-assistant-container",CURTAIN:"type2e-migration-curtain",OVERVIEW:{TARGET_DROPDOWN:"type2e-migration-overview-target",CONFIRMATION_CHECKBOX:"type2e-migration-confirm-checkbox",CONFIRMATION_ALERT_MESSAGE:"type2e-migration-confirm-alert",DO_NOT_TRANSFER_BUTTON:"type2e-migration-overview-decline",NEXT_BUTTON:"type2e-migration-overview-next"},EXPLORE_STOCK_BUTTON:"type2e-migration-explore-stock",UNRETRYABLE_FAILURE:"unretryable_failure",DAYS_UNTIL_MIGRATION_COOKIE_EXPIRES:180}}),define("lib/notification",["jquery","lib/uiEvents","page_config","lib/cookie","lib/modal-window","lib/susi","lib/utils","lib/window","migrationAssistant/constants"],function(e,t,n,a,i,s,r,l,o){"use strict";function c(){m&&r.updateAttribute(m,"data-state","hidden"),a(n.MIGRATION_BANNER_DISMISSED,!0,{expires:o.DAYS_UNTIL_MIGRATION_COOKIE_EXPIRES})}function u(e,t){t||(t=d),e&&t(e.email)}function d(t){if(!t)throw new Error("Email must be set");window.document.getElementById(h).innerText=t,window.document.getElementById(p).dataset.state="shown",e(".js-manage-my-adobe-id").hide()}var p="js-header-notification",h="js-header-notification-email";if(n.shouldDisplayType2EMigrationBanner){var m=document.getElementById("migration-notification");r.updateAttribute(m,"data-state","shown")}return e(".js-migration-notification-dismiss-link").click(function(){c(),i.show("t2eMigrationLinkReminder",{})}),e(".js-migration-notification-get-started-btn").click(function(){c(),l.setLocation(n.base_url+"/migration")}),"interim"===a(n.SUSI.COOKIE_STOCK_ONLY_LOGGED_IN)&&s.ready.then(u),t.on(t.NOTIFICATION_SHOW,d),{filterEmail:u,showNotification:d,dismissMigrationBanner:c}}),
define("lib/visualSearchDragDrop",["i18n","jquery","lodash","app/client","lib/ajax","page_config","i18n-config","lib/analytics","lib/analytics/search","lib/analytics/dunamis","lib/contentDetails","Handlebars","app/actions/filterActions","app/actions/multiImageActions","app/constants/analytics","app/constants/searchFilters","app/constants/assetTypeFilters","components/search/searchHelper","components/search/assetTypeDropdown","app/utils/search","app/utils/searchData","lib/utils","components/search/findSimilarControls","app/stock-portal"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C){"use strict";function S(){var e=g.getVisualSearchModalData(),t={items:e.items,filters:e.filters,details:e.details,page:e.page};C.renderVisualSearchModal(t)}function I(e,a,i,r){if(e){var o,c=t(".js-search-form"),u={},d={},p=X.getState(),T=p.filters,y=b.isAestheticFilterSet(T),S=n.get(p.view,"multiImage.upload",{}),I=S&&S.id,O=a?g.getSelectedContentData(a):S,k=g.getCollectionId(),A=a?Z.VISUAL_SEARCH.DRAG:Z.VISUAL_SEARCH.BROWSE,R={},x=a?m.VISUAL_SEARCH_DRAG:m.VISUAL_SEARCH_BROWSE;if(s.isUsingAjax){if(l.setDigitalData(m.PAGE_INFO,{load_type:m.VISUAL_LOAD_TYPE},{sendPageTrack:!1}),d=g.getMultiImageMetadata(O),u=v.resetFindSimilarFilters(u),u[f.KEYWORD]="",u[f.SERIE_ID]="",u[f.MODEL_ID]="",o=n.get(O,"content_url")||n.get(d,"thumbnail",""),k&&(u[f.COLLECTION]=""),s.isStockPanelEnabled){if(R={imgUrl:o,imgThumbnailUrl:d?d.thumbnail_240:void 0,hideComposition:g.shouldHideFscComposition(d),cropPositionData:{},objLocations:[]},a)R.similarContentId=a;else if(R.imageToken=I,s.isObjectArrangementUploadEnabled){var P=r&&r.obj_locations?r.obj_locations:[];R.objLocations=P,R.isObjectArrangementUploadEnabled=!0}C.renderFindSimilarControlsPanel(R)}}else c.find("input[name=load_type]").val("visual"),t(".js-clear-before-visual-search").val("");e.forEach(function(e){var n=e.name,a=e.value,i=t("input[name="+n+"]");i.length||(i=t("<input />",{type:"hidden",name:V(n)}),c.append(i)),i.val(a),s.isUsingAjax&&(u[V(e.name)]=e.value)}),s.isUsingAjax?(i||g.shouldRemoveFSCTile()?(h.multiImageAdd(a,d,u)(X.dispatch,X.getState),g.isFSCIncompatible3DSet()?g.showIncompatible3DAssetAlert(f.ALERT_ACTION_SEARCH_IMAGES):g.isFSCIncompatibleTemplateSet()&&g.showIncompatibleTemplatesAssetAlert(f.ALERT_ACTION_SEARCH_IMAGES)):g.performActionAndSearch(h.multiImageAdd(a,d,u),!1,{search_page:1,search_type:A}),oe?C.hideVisualSearchModal():w(0,0),g.getSimilarContentId()||Y.attr("data-state","shown"),v.logSimilarAnalyticsDunamis(A)):(v.logSimilarAnalyticsDunamis(A),t(".js-search-type").val(A),s.isAudioWebSearchEnabled&&E.getValue()===_.AUDIO&&E.updateSearchFormAction(_.IMAGES),c.trigger("submit")),l.setDigitalData(m.PAGE_INFO,{vs_upload_method:x},{sendPageTrack:!1}),!s.is_mobile&&y&&g.showIncompatibleFiltersAlert()}}function O(e){var n,a=e.files,i=e.getData&&e.getData("text"),l=s.is_mobile;if(i){if(!(i.length>le&&i.substring(0,le)===re))return void G.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::Could not process the dropped image. To use visual search please drop one of the search results or an image from your computer."));n=i.substring(le),(n.toLowerCase().indexOf("http")>=0||n.length>15)&&(n="")}if(n&&g.idExistsInSimilarContent(n))return void G.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::You're already searching with that image."));if(K.attr("data-state","shown"),z.attr("data-state","hidden"),n){if(G._isUnsupportedFileType(n))return void G.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::Unsupported File Type - please upload a .jpeg or .png."));var o=t(".js-search-text-input").val(),c=[{name:"similar_content_id",value:n},{name:"prevk",value:o},{name:"k",value:o}];l||c.push({name:"find_similar_by",value:"all"}),G.submitVisualSearch(c,n)}else a.length>0?G.downsampleAndFixOrientationImage(a[0],!0):G.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::We are unable to process the dropped image."))}function k(e){var t=new FormData;t.append("image",e),i.ajax({url:s.base_url+"/visualsearchsupport",timeout:12e4,type:"POST",data:t,dataType:"json",cache:!1,contentType:!1,processData:!1}).then(R).fail(function(e){M(r.gettext("SEARCH::VISUALSEARCH::There was a problem with your upload. Please try again."))})}function A(e){if(!e)return null;var n=t(".js-search-text-input").val(),a=[{name:"native_visual_search",value:e},{name:"k",value:n}];return s.isUsingAjax||(a.push(H(f.IMAGE,"1")),a.push(H(f.PHOTO,"1"))),a}function R(e){var t=e.native_visual_search,n=y.getFSCImageFromLocalStorage();n&&(n.native_visual_search=t,y.addFSCImageToLocalStorage(n),s.isMultiImageFSCEnabled&&y.addImageToFscGroupInLocalStorage(n));var a=A(t);G.submitVisualSearch(a,null,null,e)}function x(e){var t,n=e.split(",");t=n[0].indexOf("base64")>=0?atob(n[1]):decodeURI(n[1]);for(var a=n[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return new Blob([i],{type:a})}function P(e){var t,n,a,i=new DataView(e),s=0,r=i.byteLength,l=2;if(i.getUint16(0,!1)!==ee)return-2;for(;l<r;)if(s=i.getUint16(l,!1),l+=2,s===te){if(i.getUint32(l+=2,!1)!==ne)return-1;for(t=i.getUint16(l+=6,!1)===ae,l+=i.getUint32(l+4,t),n=i.getUint16(l,t),l+=2,a=0;a<n;a++)if(i.getUint16(l+12*a,t)===ie)return i.getUint16(l+12*a+8,t)}else{if((s&se)!==se)break;l+=i.getUint16(l,!1)}}function L(e){var t,n,a,i,s=e.split(",");for(t=s[0].indexOf("base64")>=0?atob(s[1]):decodeURI(s[1]),n=t.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=t.charCodeAt(i);return a.buffer}function D(a,i){var s=document.createElement("img"),l=new FileReader,o=-1;l.onload=function(l){s.onerror=function(e){M(r.gettext("SEARCH::VISUALSEARCH::Unsupported File Type - please upload a .jpeg or .png."))},s.onload=function(l){s.style.display="none",t(document.body).append(s);var c,u,p,m,f,_,g,E=s.naturalWidth,v=s.naturalHeight,b=0,T=0,C=0,S=0,I=0,O=[2,4,5,7],A=X.getState();if(Math.max(E,v)>J)throw M(e.sprintf(r.gettext("SEARCH::VISUALSEARCH::Please use an image which is less than %spx on its longest side."),d.helpers.number(J))),new Error("Image dropped is too large for visual search.");if(c=E/v,E>v?E>$&&(b=$,T=$/c):v>$&&(b=$*c,T=$),0===b&&0===T&&(b=E,T=v),b>0&&T>0){switch(u=document.createElement("canvas"),p=u.getContext("2d"),o){case 5:case 6:I=90,S=-1*T;break;case 3:case 4:I=180,C=-1*b,S=-1*T;break;case 7:case 8:I=270,C=-1*b}0===I||180===I?(u.width=b,u.height=T):(u.width=T,u.height=b),O.indexOf(o)>-1&&(p.translate(T,0),p.scale(-1,1)),I>0&&p.rotate(I*Math.PI/180),p.drawImage(s,C,S,b,T),m=u.toDataURL("image/jpeg"),_=n.get(A,"page.filter_asset_type",null),g=n.get(A,"filters.filters",{}),X.dispatch(h.multiImageUpload(m,g,_)),a=x(m)}i&&(f={native_visual_search:null,dataUri:m},y.addFSCImageToLocalStorage(f),k(a))},o=P(L(l.target.result)),s.src=l.target.result},l.readAsDataURL(a)}function N(){"hidden"===B.attr("data-state")&&(K.attr("data-state","hidden"),z.attr("data-state","show"),W.text(""),B.attr("data-state","shown"),window.scrollTo(0,0))}function w(e,t){"shown"===B.attr("data-state")&&(K.attr("data-state","hidden"),z.attr("data-state","hidden"),W.text(""),B.attr("data-state","hidden"),"number"==typeof e&&"number"==typeof t&&window.scrollTo(e,t))}function M(e){W.text(e),K.attr("data-state","hidden"),z.attr("data-state","show"),o.setVisualSearchAnalyticsErrorTextAndCallTrack(e)}function U(){oe?S():N()}function F(e){var t=g.getSelectedContentData(e);return!(t&&t.is_similarity_search_allowed&&!t.is_3D&&!t.is_template)}function j(e){var t,a,i,s,r,l=y.getFSCImageFromLocalStorage(),o=n.get(e,"filters.native_visual_search","");l&&o&&(i=l.dataUri)&&l.native_visual_search&&o===l.native_visual_search&&(s=n.get(e,"page.filter_asset_type",null),r=n.get(e,"filters.filters",{}),X.dispatch(h.multiImageUpload(i,r,s)),a=G.dataURItoBlob(i),G.downsampleAndFixOrientationImage(a,!1),t=G.initializeVisualUploadData(o),G.submitVisualSearch(t,!1,!0))}function H(e,t){return{name:"filters\\[content_type\\:"+e+"\\]",value:t}}function V(e){return e?e.replace(/[\\]/g,""):e}function q(){G={handleVisualSearchSupport:R,processDroppedFiles:O,submitVisualSearch:I,setVisualSearchErrorText:M,CONTENT_ID_MARKER:re,dataURItoBlob:x,sendFileToRedPill:k,uploadSavedFSCImage:j,downsampleAndFixOrientationImage:D,initializeVisualUploadData:A,_isUnsupportedFileType:F,showVisualSearchModal:S}}var Y,G,B,K,W,z,Q=function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window}(),X=a.getInstance(),Z=c.constants,J=23e3,$=1e3,ee=65496,te=65505,ne=1165519206,ae=18761,ie=274,se=65280,re="content_id:",le=re.length,oe=n.get(s,"isVisualSearchEnabled");return t(document).ready(function(){q();var e=!1,n=0,a=0,i=!1,r=!1;Y=t(".js-search-visual-badge"),B=t("#js-visual-search-popover"),K=t("#js-visual-search-in-progress"),W=t("#js-vs-error"),z=t("#js-visual-search-drop-zone"),Q&&(j(X.getState()),B.on("drop",function(t){e=!0,O(t.originalEvent.dataTransfer)}),t("#js-visual-search-popover-menu").on("click",function(e){e.stopPropagation(),e.preventDefault()}),t(window).on("portal:processDroppedFiles",function(e,t){O(t)}),t(window).on("portal:submitVisualSearch",function(e,t,n,a){I(t,n,a)}),t(document).on("dragstart","#search-results, .js-tab-enterprise-report, .js-library-detail-image",function(e){var i;i=e.target.attributes["data-content-id"]?e.target:e.target.parentElement,r=!0,n=window.scrollX||window.pageXOffset,a=window.scrollY||window.pageYOffset,t(i).attr("data-content-id")&&e.originalEvent.dataTransfer.setData("text",re+t(i).attr("data-content-id"))}).on("dragend",function(t){e&&!i||oe||w(n,a),i=!1,r=!1}),t(document).on("dragenter",function(e){U()}).on("dragover drop",function(e){e.stopPropagation(),e.preventDefault()}).on("click",function(e){s.isStockPanelEnabled&&!t(e.target).closest("#panel")&&(oe||B.attr("data-state","hidden"))}).on("mouseleave",function(e){r&&(i=!0)}),t(window).on("portal:findSimilarNullStateBoxClicked",function(){U()}),t(".js-camera-icon").on("click",function(e){e.stopPropagation(),e.preventDefault(),U(),l.setUserEventAndCallTrack("click","vsdrop_open_camera")}),t(".js-search-text-input").on("drop",function(e){e.stopPropagation(),e.preventDefault(),O(e.originalEvent.dataTransfer)})),t(".js-visualsearch-alert-close").on("click",function(e){e.stopPropagation(),e.preventDefault(),B.attr("data-state","hidden")}),t(".js-search-visual-close").on("click",function(){var e={};t(".js-clear-after-visual-search").val(""),Y.attr("data-state","hidden"),s.isUsingAjax&&(e=v.resetFindSimilarFilters(e),g.performActionAndSearch(p.updateSearchFilters(e)),s.isStockPanelEnabled&&C.onlyClearFindSimilarControls())}),t("#js-vsupload-link").on("click",function(e){e.stopPropagation(),e.preventDefault(),l.setUserEventAndCallTrack("click","vsdrop_browse"),t("#js-vsupload:hidden").trigger("click")}),t("#js-vsupload").on("change",function(e){e.stopPropagation(),e.preventDefault(),O(e.currentTarget)}).on("click",function(e){e.stopPropagation(),this.value=""})}),G}),define("lib/promoBanner",["page_config","quickerCheckoutRepo/quickerCheckout","lib/member","lib/window","lib/modal-window","lib/promoBannerManager","lib/analytics/promoBanner","app/constants/analytics","lib/analytics","app/stock-portal"],function(e,t,n,a,i,s,r,l,o,c){"use strict";function u(e){var t=e.currentTarget.dataset,n=t.assetType,a=t.productKey,i=t.handler;if(f=t.qcStartSearch||!1,_={start_search:f,finding_method:o.determineFindingMethod(),selection_method:l.SELECTION_DIRECT},i)switch(e.stopPropagation(),e.preventDefault(),i){case"credit-pack":d(n,a);break;case"free-banner":p(a),r.sendBlueBannerAnalytics("freebanner",a,null,"blue-banner-buy-now")}}function d(s,u){n&&n.isTeam()?i.showSwitchToPersonalMessage().then(function(){a.setLocation(e.base_url+"/Member/SwitchPersonal")}):e.isCoreCheckoutEnabled?c.startCheckout({productKey:u,extras:{options:{start_search:f},credit_pack_asset_type:s}}):t.start(u,{creditPackAssetType:s,extrasOptions:{start_search:f,finding_method:o.determineFindingMethod(),selection_method:l.SELECTION_DIRECT}}),r.sendBlueBannerAnalytics("creditbanner",u,null,"blue-banner-buy-now")}function p(n){e.isCoreCheckoutEnabled?c.startCheckout({productKey:n,extras:{options:{start_search:f}}}):t.start(n,{extrasOptions:{start_search:f,finding_method:o.determineFindingMethod(),selection_method:l.SELECTION_DIRECT}})}var h,m,f,_;if(h=document.querySelectorAll(".js-promo-banner-cta"))for(m=0;m<h.length;m++)h[m].addEventListener("click",u);s.updateUI()}),define("components/plansPage/analyticsPlansService",["app/constants/analytics","lib/analytics","lib/analytics/dunamis"],function(e,t,n){"use strict";return{setToggleAnalytics:function(n,a){var i=n?a.monthly.innerHTML:a.annual.innerHTML,s={campaign:"toggle",elementName:i.trim()};t.setDigitalData(e.INTERNAL_INFO,s),t.setDigitalData(e.EVENT_INFO,{eventType:e.CLICK_EVENT,eventLabel:"commitment toggle"})},setAnalyticsForBuyButton:function(a,i,s){var r={},l=n.constants,o={campaign:s?"buy credits":"buy plan",elementName:i},c={core_type:a,finding_method:e.FINDING_METHOD.PLANS,selection_method:e.SELECTION_DIRECT},u=l.STOCK_PLANS_PAGE_BUY_BUTTON,d=l.STOCK_PLANS_PAGE;document.body.dataset.ingestSubcategory===l.STOCK_TEAMS_PAGE&&(u=l.STOCK_TEAMS_PAGE_BUY_BUTTON,d=document.body.dataset.ingestSubcategory),t.setDigitalData(e.INTERNAL_INFO,o),t.setDigitalData(e.PRODUCT,c),t.setDigitalData(e.EVENT_INFO,{eventType:e.CLICK_EVENT,eventLabel:e.CTA_EVENT}),r[l.EVENT_WORKFLOW_PROPERTY]=l.STOCK_CHECKOUT,r[l.EVENT_SUBCATEGORY_PROPERTY]=d,r[l.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=a,n.track(l.CLICK,u,r)}}}),require(["page_config","quickerCheckoutRepo/quickerCheckout","lib/member","lib/window","lib/modal-window","lib/utils","quickerCheckoutRepo/lib/utils/utils","components/plansPage/analyticsPlansService","app/constants/analytics","lib/analytics","app/stock-portal"],function(e,t,n,a,i,s,r,l,o,c,u){"use strict";function d(e,n){return t.start(e,{productArrangementCode:n,extrasOptions:{start_search:!0,finding_method:c.determineFindingMethod(),selection_method:o.SELECTION_DIRECT}})}function p(e){e.stopPropagation(),e.preventDefault(),r.removeClass(document.querySelector(b),T),s.updateAttribute(document.querySelector(b),y,!1),s.updateAttribute(e.currentTarget,y,!0),r.addClass(e.currentTarget,T)}function h(e){var t=document.querySelector(b),n=e.currentTarget,a=document.getElementById(I);g(function(){return f(e,t)},n,a)}function m(e){var t=document.getElementById(C+e.currentTarget.dataset.productKey);g(function(){return f(e,e.currentTarget)},e.currentTarget,t)}function f(t,s){var r,o,c,p,h,m,f=null;return t.stopPropagation(),t.preventDefault(),s&&(c=s.dataset.productArrangementCode,p="true"===s.dataset.isFmf,h="true"===s.dataset.isTrial,m=parseInt(s.dataset.trialDays),n.isCheckoutEligible(c)?(r=t.target.innerHTML.trim(),o=s.dataset.productKey?s.dataset.productKey:c,e.isCoreCheckoutEnabled?u.startCheckout({productKey:o,paCode:c,isFmf:p,isTrial:h,trialDays:m,extras:{options:{start_search:!0}}}):f=d(o,c,r),l.setAnalyticsForBuyButton(o,r,!1)):i.showSwitchToPersonalMessage().then(function(){a.setLocation(e.base_url+"/Member/SwitchPersonal")})),f}function _(e,t,n){e&&t&&(s.updateAttribute(e,"data-is-hidden",n),s.updateAttribute(t,"data-is-hidden",!n))}function g(e,t,n){var a;_(t,n,!0),a=e(),a?a.then(function(){_(t,n,!1)}):_(t,n,!1)}var E=".js-plans-page-credit-packs .js-list-item",v=".js-plans-page-credit-packs .js-select-list-item-btn",b=E+'[data-active="true"]',T="active",y="data-active",C="plans-checkout-loading-",S=".js-plans-page-cta",I="cp-checkout-loading";!function(){s.bindElementsToListener(document.querySelectorAll(E),"click",p),s.addEventListener(document.querySelector(v),"click",h),s.bindElementsToListener(document.querySelectorAll(S),"click",m)}()}),define("lib/plansPageV3",function(){}),require(["jquery","page_config","lib/susi","lib/globalnav","lib/member","lib/checkout","lib/modal-window","lib/hamburgerMenu","components/motMotModal","components/librariesDropdown","components/videoLandingPage","hbs!templates/motMotModal/partials/dpcUsersRetentionMessage","hbs!templates/motMotModal/partials/modalWithHeaderFooterAndButton","lib/analytics","lib/analytics/performance","app/utils/dunamis/dunamisBannedCountry","quickerCheckoutRepo/quickerCheckout","quickerCheckout/states","quickerCheckout/analytics/dispatcher","lib/utils","lib/keepAlive","app/observers/globalObservers","components/modalCantBuyTeams","quickerCheckout/adobestock/trackingPixels","quickerCheckout/adobestock/handlers","app/init","lib/featureFlag","lib/autocomplete","lib/enterpriseAccessRequestBanner","lib/footer","lib/header","lib/polyfill","lib/firstMonthFree","lib/notification","lib/visualSearchDragDrop","lib/promoBanner","lib/plansPageV3"],function(e,t,n,a,i,s,r,l,o,c,u,d,p,h,m,f,_,g,E,v,b,T,y,C,S,I){"use strict";function O(){_.init({endpoint:t.base_url+"/Ajax/Checkout",isDebugMode:!t.isProduction,urlStartParam:t.startCheckoutModalOnParam,activeStates:g.getStates(!1),dispatcherAnalyticsFn:E,ANYWARE:t.ANYWARE,isTestAndTargetDisabled:!t.isProduction,callbacks:{onLogin:S.onLogin,onClose:S.onClose,onOpen:S.onOpen,onDone:S.onDone,onError:S.onError,onFinishPurchase:S.onFinishPurchase},base_url:t.base_url,locale:t.locale_code,apiVersion:4,display_cce_terms:t.display_cce_terms,isAudioLPEnabled:t.isAudioLPEnabled,isProductionServer:t.isProductionServer,isSherlockEnabled:t.isSherlockEnabled,sherlockUrl:t.sherlockUrl,isCheckoutModalOnTop:t.isCheckoutModalOnTop}),k(),P()}function k(){s.setup(_)}function A(e){var n=t.x_request_id;return e.url&&-1!==e.url.toLowerCase().indexOf("/ajax/search")&&(n=n+"-"+Date.now()),n}function R(){N.removeEventListener("click",R),f.send("ok",!0)}function x(e){e&&"banned_country"===e.message_type&&(N=document.getElementById("modal-ok-button"),N.addEventListener("click",R),f.send("page-view",!1))}function P(){var e=v.getQueryParam(w);e&&L(e)}function L(e){i.isAdmin()?_.start("",{productArrangementCode:e,extrasOptions:{start_search:!0,finding_method:h.determineFindingMethod()}}):i.isLoggedIn()?y.show({}):n.login(null,null,!0,{})}var D,N,w="start_checkout";e.ajaxPrefilter(function(e,n,a){a.setRequestHeader("X-Request-Id",A(e)),v.shouldAddCsrfToken(e)&&a.setRequestHeader(t.csrf_token.id,t.csrf_token.value)}),i.setStockProfile(t.member),n.configure(t.SUSI),m.init(window),a.initGlobalNav(),n.initPage(),b.scheduleProbe(),T.init(),t.isIMSAuthCodeWorkflowEnabled||n.loadPageIMS(),v.getQueryParam(t.SUSI.QS_IMS_SIGNIN_ATTEMPT)?e.when(n.ready,n.onReady).then(O).fail(k):O(),t.flash_messages&&e.each(t.flash_messages,function(t,n){e.each(n,function(e,n){r.show(t,n),x(n)})}),t.DPC_USER_RETENTION_DATA&&(D={templateParams:{usingDefault:!1,width:"medium"},partial:d,additionalPartials:{modalWithHeaderFooterAndButton:p},partialProperties:t.DPC_USER_RETENTION_DATA},o.show("usingPartial",D)),t.hide_search_bar||t.static_navbar||function(){function t(){(void 0===window.scrollY?window.pageYOffset:window.scrollY)>s?(n.setAttribute("data-sticky","true"),a.setAttribute("data-is-hidden","false"),i.addClass("fixed")):(n.setAttribute("data-sticky","false"),a.setAttribute("data-is-hidden","true"),i.removeClass("fixed"))}var n=document.getElementById("search-toolbar"),a=document.getElementById("search-toolbar-placeholder"),i=e(".js-slide-in"),s=48;window.addEventListener("scroll",t,!1)}(),c.setup(),l.init(),t.is_video_lp&&u.init(),C.fireTrackingPixelsForPageLoad(),e(document).ready(function(){I.initializeStockWebPortalListeners()}),e("body").on("click",".close-too-many-requests-alert",function(){e("#too-many-requests-alert").remove()})}),define("adobestock",function(){});